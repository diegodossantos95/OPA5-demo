/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.require("sap.apf.modeler.ui.utils.nullObjectChecker");(function(){"use strict";var p,c;var n=new sap.apf.modeler.ui.utils.NullObjectChecker();function _(C){var t=c.getText;C.byId("idNewAppDialog").setTitle(t("newApplication"));C.byId("idDescriptionLabel").setText(t("description"));C.byId("idSemanticObjectLabel").setText(t("semanticObject"));C.byId("idSaveButton").setText(t("save"));C.byId("idCancelButton").setText(t("cancel"));}sap.ui.controller("sap.apf.modeler.ui.controller.newApplication",{onInit:function(){var C=this;p=C.getView().getViewData().oParentControl;c=C.getView().getViewData().oCoreApi;C.byId("idDescriptionInput").setValue("");C.byId("idSemanticObjectInput").setValue("FioriApplication");_(C);C.byId("idNewAppDialog").open();},handleAppDescriptionLiveChange:function(e){var C=this;var i=e.getParameters().value.trim().length!==0?true:false;C.byId("idSaveButton").setEnabled(i);},handleSavePress:function(){var C=this;var a={};a.ApplicationName=n.checkIsNotNullOrUndefinedOrBlank(C.byId("idDescriptionInput").getValue().trim())?C.byId("idDescriptionInput").getValue().trim():undefined;a.SemanticObject=n.checkIsNotNullOrUndefinedOrBlank(C.byId("idSemanticObjectInput").getValue().trim())?C.byId("idSemanticObjectInput").getValue().trim():undefined;c.getApplicationHandler(function(A,m){if(A&&!n.checkIsNotUndefined(m)){A.setAndSave(a,function(r,o,b){if(!n.checkIsNotUndefined(b)&&(typeof r==="string")){p.fireEvent("addNewAppEvent",{"appId":r});}else{var M=c.createMessageObject({code:"11500"});M.setPrevious(b);c.putMessage(M);}});}else{var M=c.createMessageObject({code:"11509"});M.setPrevious(m);c.putMessage(M);}});C.getView().destroy();},handleCancelPress:function(){var C=this;C.getView().destroy();}});}());
