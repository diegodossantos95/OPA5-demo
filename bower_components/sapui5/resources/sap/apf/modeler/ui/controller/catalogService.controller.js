/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(C,F,a){"use strict";function _(c){var s=c.getView().getViewData().getCalatogServiceUri();return new sap.ui.model.odata.ODataModel(s,true);}function b(c){var t=c.getView().getViewData().oTextReader;var s=c.byId("idGatewayCatalogListDialog");s.setTitle(t("selectService"));s.setNoDataText(t("noDataText"));}return C.extend("sap.apf.modeler.ui.controller.catalogService",{handleSearch:function(e){var c=this;var s=e.getParameter("value").trim();var u=s.toUpperCase();var l=s.toLowerCase();var f=[new F("TechnicalServiceName",a.Contains,u),new F("TechnicalServiceName",a.Contains,l)];var o=new F(f,false);var S=c.byId("idGatewayCatalogListDialog");S.getBinding("items").filter(o);},onInit:function(){var c=this;var d=_(c);var s=c.byId("idGatewayCatalogListDialog");b(c);s.setModel(d);s.open();},handleConfirm:function(e){var c=this,s=e.getParameter('selectedItem').getProperty('title');var S=c.byId("idGatewayCatalogListDialog");var p=c.getView().getViewData().parentControl;S.getBinding("items").filter([]);p.fireEvent("selectService",{"sSelectedService":s});c.byId("idGatewayCatalogListDialog").destroy();c.getView().destroy();},handleCancel:function(){var c=this;c.byId("idGatewayCatalogListDialog").destroy();c.getView().destroy();},handleFormatting:function(s){var p=sap.apf.utils.extractPathnameFromUrl(s);return p;}});});
