/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare('sap.apf.modeler.ui.utils.representationBasicDataHandler');jQuery.sap.require("sap.apf.core.constants");(function(){'use strict';var p=sap.apf.modeler.ui.utils.CONSTANTS.propertyTypes;sap.apf.modeler.ui.utils.RepresentationBasicDataHandler=function(r,s,R){this.oRepresentationView=r;this.oRepresentation=R.oRepresentation;this.oStepPropertyMetadataHandler=s;this.oRepresentationTypeHandler=R.oRepresentationTypeHandler;this.oRepresentationHandler=R;this.nCounter=0;};sap.apf.modeler.ui.utils.RepresentationBasicDataHandler.prototype.constructor=sap.apf.modeler.ui.utils.RepresentationBasicDataHandler;function _(r,P,f){var v,V={},o={};if(f.length===0){return;}o.oConfigurationEditor=r.oRepresentationView.getViewData().oConfigurationEditor;o.oParentObject=r.oRepresentation;o.oCoreApi=r.oRepresentationView.getViewData().oCoreApi;o.oConfigurationHandler=r.oRepresentationView.getViewData().oConfigurationHandler;o.oRepresentationTypeHandler=r.oRepresentationTypeHandler;o.oRepresentationHandler=r.oRepresentationHandler;o.oStepPropertyMetadataHandler=r.oStepPropertyMetadataHandler;o.sPropertyType=P;o.oBasicDataLayout=r.oRepresentationView.getController().byId("idBasicDataLayout");o.oTextPool=r.oRepresentationView.getViewData().oConfigurationHandler.getTextPool();V.oViewDataForPropertyType=o;V.aPropertiesToBeCreated=f;v=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:sap.ui.core.mvc.ViewType.XML,id:r.oRepresentationView.getController().createId("id"+P),viewData:V});r.oRepresentationView.getController().byId("idBasicDataLayout").insertItem(v,r.nCounter);r.nCounter++;r.oRepresentationView.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.REMOVEALLPROPERTIESFROMPARENTOBJECT,v.getController().handleRemoveOfProperty.bind(v.getController()));}function a(r){_(r,p.DIMENSION,r.oRepresentationHandler.getActualDimensions());}function b(r){_(r,p.LEGEND,r.oRepresentationHandler.getActualLegends());}function c(r){_(r,p.MEASURE,r.oRepresentationHandler.getActualMeasures());}function d(r){_(r,p.PROPERTY,r.oRepresentationHandler.getActualProperties());}function e(r){_(r,p.HIERARCHIALCOLUMN,r.oRepresentationHandler.getHierarchicalProperty());}sap.apf.modeler.ui.utils.RepresentationBasicDataHandler.prototype.instantiateBasicData=function(){this.destroyBasicData();if(this.oRepresentation.getRepresentationType()==="TableRepresentation"||this.oRepresentation.getRepresentationType()==="TreeTableRepresentation"){if(this.oRepresentation.getRepresentationType()==="TreeTableRepresentation"){e(this);}d(this);return;}a(this);b(this);c(this);};sap.apf.modeler.ui.utils.RepresentationBasicDataHandler.prototype.destroyBasicData=function(){this.nCounter=0;this.oRepresentationView.getController().byId("idBasicDataLayout").destroyItems();};})();
