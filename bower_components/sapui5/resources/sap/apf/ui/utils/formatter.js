jQuery.sap.declare("sap.apf.ui.utils.formatter");jQuery.sap.require("sap.apf.ui.utils.stringToDateFormatter");jQuery.sap.require("sap.apf.ui.utils.dateTimeFormatter");jQuery.sap.require("sap.apf.ui.utils.timeFormatter");jQuery.sap.require("sap.apf.ui.utils.decimalFormatter");(function(){"use strict";sap.apf.ui.utils.formatter=function(F,m,g){this.metadata=m;this.dataResponse=g;this.oFormatterArgs=F;this.oDataTypeFormatterMap=_();};sap.apf.ui.utils.formatter.prototype.constructor=sap.apf.ui.utils.formatter;function _(){var g=new Map();g.set("Edm.String",a);g.set("Edm.DateTime",b);g.set("Edm.Time",c);g.set("Edm.Decimal",d);return g;}function a(m,o){var s=new sap.apf.ui.utils.StringToDateFormatter();return s.getFormattedValue(m,o,this.oFormatterArgs);}function b(m,o){var g=new sap.apf.ui.utils.DateTimeFormatter();return g.getFormattedValue(m,o);}function c(m,o){var t=new sap.apf.ui.utils.TimeFormatter();return t.getFormattedValue(m,o);}function d(m,o){var t=new sap.apf.ui.utils.DecimalFormatter();var M=m.unit!==undefined?e(this,m.unit):m;var p=0;if(m!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){p=isNaN(m.scale)?this.dataResponse[0][m.scale]:m.scale;}return t.getFormattedValue(M,o,p);}function e(g,h){if(g.metadata&&g.metadata.getPropertyMetadata){return g.metadata.getPropertyMetadata(h);}return g.metadata;}sap.apf.ui.utils.formatter.prototype.getFormattedValue=function(g,o){if(o===null){return"null";}var h;var m=e(this,g);var D=m.dataType!==undefined?m.dataType.type:undefined;if(D===undefined){D=m.type;}if(this.oDataTypeFormatterMap.has(D)){h=this.oDataTypeFormatterMap.get(D).call(this,m,o);}else{h=o;}var i=jQuery.extend({},m);h=f(i,g,o,h,this.oFormatterArgs);return h;};sap.apf.ui.utils.formatter.prototype.getFormatStringTooltip=function(m){return this.getFormatString(m);};sap.apf.ui.utils.formatter.prototype.getFormatString=function(m){var s=this;var g=sap.viz.ui5.format.ChartFormatter.getInstance();sap.viz.ui5.api.env.Format.numericFormatter(g);var h=m.fieldName;g.registerCustomFormatter("measureFormatter",function(v){var i="-";if(v!==null){i=s.getFormattedValue(h,v);}return i;});var F="measureFormatter";return F;};sap.apf.ui.utils.formatter.prototype.getFormattedValueForTextProperty=function(g,t){var F;if(t.key){F=t.text+" ("+t.key+")";}else{F=t.text;}var m=jQuery.extend({},e(this,g));F=f(m,g,t.text,F,this.oFormatterArgs);return F;};function f(m,g,o,h,F){var i;var j=F.getExits!==undefined?F.getExits.customFormat:undefined;if(j===undefined){return h;}i=F.getExits.customFormat.apply(F,[m,g,o,h]);h=i!==undefined?i:h;return h;}}());
