/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler");sap.ui.base.Object.extend("sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler",{constructor:function(b,t){this._oLogger=jQuery.sap.log.getLogger("sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler");this._oBOModel=b;this._oTimelineTermsUtility=t;},readTimelineEntries:function(e,b,o,s,t){var a=this;var p=jQuery.Deferred();var E=this._buildTimelineEntriesEndpoint(e,b,o,s,t);var P={context:null,urlParameters:null,async:true,filters:[],sorters:[],success:function(d,r){p.resolve(d);},error:function(c){if(c.response&&c.response.statusCode){a._oLogger.error(c.body);p.reject(c);}}};return{request:this._oBOModel.read(E,P),promise:p.promise()};},_buildTimelineEntriesEndpoint:function(e,b,o,s,t){var a="/"+e+"("+jQuery.sap.encodeURL(b)+")"+"/"+this._oTimelineTermsUtility.getTimelineEntryNavigationPath(e)+"?$expand="+this._oTimelineTermsUtility.getTimelineEntryFields(e).TimelineDetailNavigationPath;if(s!=undefined){a+="&$skip="+s;}if(t!=undefined){a+="&$top="+t;}if(o!=undefined){a+="&$filter="+o;}this._oLogger.info("Timeline Entries Endpoint: "+a);return a;}});
