/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["jquery.sap.global","../library","sap/ui/core/Control","sap/suite/ui/commons/util/HtmlElement","sap/suite/ui/commons/statusindicator/util/ThemingUtil"],function(q,l,C,H,T){"use strict";var F=l.statusindicator.FillingType;var a=l.statusindicator.FillingDirectionType;var S=C.extend("sap.suite.ui.commons.statusindicator.Shape",{metadata:{"abstract":true,library:"sap.suite.ui.commons",properties:{fullAnimationDuration:{type:"int",defaultValue:0},fillColor:{type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},animationOnStartup:{type:"boolean",defaultValue:false},animationOnStartupDelay:{type:"int",defaultValue:0},fillingDirection:{type:"sap.suite.ui.commons.statusindicator.FillingDirectionType",defaultValue:a.Up},fillingType:{type:"sap.suite.ui.commons.statusindicator.FillingType",defaultValue:F.Linear}}}});S.prototype.getDisplayedValue=function(){q.sap.log.fatal("Must be overridden!");};S.prototype._setInitialValue=function(i){q.sap.log.fatal("Must be overridden!");};S.prototype.init=function(){if(C.prototype.init){C.prototype.init.apply(this,arguments);}this._oAnimationPropertiesResolver=null;};S.prototype._getHtmlElements=function(){q.sap.log.fatal("Must be overridden!");};S.prototype._getCssFillColor=function(){if(!this._cssFillColor){this._cssFillColor=T.resolveColor(this.getFillColor());}return this._cssFillColor;};S.prototype._getCssStrokeColor=function(){if(!this._cssStrokeColor){this._cssStrokeColor=T.resolveColor(this.getStrokeColor());}return this._cssStrokeColor;};S.prototype._injectAnimationPropertiesResolver=function(A){this._oAnimationPropertiesResolver=A;};S.prototype.getDisplayedFillColor=function(d){return this._oAnimationPropertiesResolver.getColor(this,d);};S.prototype.getGradientElement=function(d){var g=new H(this.getFillingType()===F.Linear?"linearGradient":"radialGradient");g.setId(this._buildIdString(this.getId(),"gradient"));if(this.getFillingType()===F.Linear){g.setAttribute("x1",this.getFillingDirection()===a.Left?1:0);g.setAttribute("y1",this.getFillingDirection()===a.Up?1:0);g.setAttribute("x2",this.getFillingDirection()===a.Right?1:0);g.setAttribute("y2",this.getFillingDirection()===a.Down?1:0);}var o=this._getDisplayedGradientOffset(d);var s=new H("stop");s.setAttribute("offset",o);s.setAttribute("stop-color","white");g.addChild(s);var b=new H("stop");b.setAttribute("offset",o);b.setAttribute("stop-color","transparent");g.addChild(b);return g;};S.prototype._updateDom=function(d,p){var r=d;if(!p){r=this._oAnimationPropertiesResolver.getValue(this,d);}if(!this.$stopNodes){this.$stopNodes=this.$("gradient").find("stop");}this.$stopNodes.attr("offset",this._getDisplayedGradientOffset(r));};S.prototype.isFillable=function(){return this.getFillingType()!==F.None;};S.prototype._getDisplayedGradientOffset=function(d){if(this.isFillable()){var r=d/100;return r;}else{return 1;}};S.prototype._getMaskShapeElement=function(m,b){var M=this._getSimpleShapeElement(m);M.setAttribute('stroke','white');M.setAttribute("fill",b.fill);return M;};S.prototype._getMaskElement=function(m,M){var o=new H("mask");o.setId(m);o.addChild(M);return o;};S.prototype._buildSvgUrlString=function(){return"url(#"+this._buildIdString.apply(this,arguments)+")";};S.prototype._buildIdString=function(){var c=q.makeArray(arguments).join("-");return c;};return S;},true);
