/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/ui/commons/library','sap/ui/commons/Button','sap/ui/commons/MenuButton','sap/ui/commons/MenuItem','sap/ui/core/Control'],function(C,B,M,a,b){"use strict";var S=b.extend("sap.suite.ui.commons.SplitButton",{metadata:{deprecated:true,library:"sap.suite.ui.commons",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true},enabled:{type:"boolean",group:"Behavior",defaultValue:true},lite:{type:"boolean",group:"Appearance",defaultValue:false},style:{type:"sap.ui.commons.ButtonStyle",group:"Appearance",defaultValue:"Default"},styled:{type:"boolean",group:"Appearance",defaultValue:true},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},text:{type:"string",group:"Appearance",defaultValue:''},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''}},aggregations:{menu:{type:"sap.ui.commons.Menu",multiple:false}}}});function e(o,h){if(!h||!o||o.getItems().length===0){return false;}if(o.indexOfItem(h)>=0){return true;}var I=o.getItems();var s=null;for(var i=0;i<I.length;i++){s=I[i].getSubmenu();if(e(s,h)){return true;}}return false;}function m(s){return function(){a.prototype.setVisible.apply(s._oMenuItem,arguments);if(!s._oMenuItem.getVisible()){s.setMenu(s._oMenuButton.getMenu());}return s._oMenuItem;};}function c(s){return function(){a.prototype.setIcon.apply(s._oMenuItem,arguments);if(!s.getIcon()){s._oDefaultActionButton.setIcon(s._oMenuItem.getIcon());}return s._oMenuItem;};}function d(s){return function(){a.prototype.setTooltip.apply(s._oMenuItem,arguments);s._oDefaultActionButton.setTooltip(s._oMenuItem.getTooltip());return s._oMenuItem;};}var f=function(s){return function(){a.prototype.setText.apply(s._oMenuItem,arguments);if(!s.getText()){s._oDefaultActionButton.setText(s._oMenuItem.getText());}return s._oMenuItem;};};var g=function(s){return function(){a.prototype.setEnabled.apply(s._oMenuItem,arguments);if(s.getEnabled()){s._oDefaultActionButton.setEnabled(s._oMenuItem.getEnabled());}return s._oMenuItem;};};S.prototype.init=function(){this._oDefaultActionButton=new B(this.getId()+"-defaultActionButton");this._oDefaultActionButton.attachPress(function(){if(this._oMenuItem){this._oMenuItem.fireSelect();}},this);this._oMenuButton=new M(this.getId()+"-menuButton");this._oMenuButton.addStyleClass("sapSuiteUiCommonsSplitButton-menuButton");if(this.getMenu()){this._oMenuButton.setMenu(this.getMenu());}};S.prototype.exit=function(){this.destroyAggregation("menu",true);this._oDefaultActionButton.destroy();this._oDefaultActionButton=null;this._oMenuButton.destroy();this._oMenuButton=null;};S.prototype.setMenu=function(o,h){this._oMenuButton.setMenu(o);if(e(o,h)&&h.getVisible()){this._oMenuItem=h;}else if(o&&o.getItems()){var i=o.getItems()[0];if(i&&i.getVisible()){this._oMenuItem=i;}else{this._oMenuItem=null;}}if(this._oMenuItem){if(!this.getText()){this._oDefaultActionButton.setText(this._oMenuItem.getText()||null);}if(!this.getIcon()){this._oDefaultActionButton.setIcon(this._oMenuItem.getIcon()||null);}if(this.getEnabled()){this._oDefaultActionButton.setEnabled(this._oMenuItem.getEnabled());}this._oDefaultActionButton.setTooltip(this._oMenuItem.getTooltip()||null);this._oMenuItem.setTooltip=d(this);this._oMenuItem.setText=f(this);this._oMenuItem.setIcon=c(this);this._oMenuItem.setEnabled=g(this);this._oMenuItem.setVisible=m(this);}return this;};S.prototype.getMenu=function(){return this._oMenuButton.getMenu();};S.prototype.destroyMenu=function(){this._oMenuButton.destroyMenu();return this;};S.prototype.setEnabled=function(E){this._oDefaultActionButton.setEnabled(E);this._oMenuButton.setEnabled(E);this.setProperty("enabled",E);};S.prototype.setLite=function(l){this._oDefaultActionButton.setLite(l);this._oMenuButton.setLite(l);this.setProperty("lite",l);};S.prototype.setStyle=function(s){this._oDefaultActionButton.setStyle(s);this._oMenuButton.setStyle(s);this.setProperty("style",s);};S.prototype.setStyled=function(s){this._oDefaultActionButton.setStyled(s);this._oMenuButton.setStyled(s);this.setProperty("styled",s);};S.prototype.setIconFirst=function(i){this._oDefaultActionButton.setIconFirst(i);this.setProperty("iconFirst",i);};S.prototype.setIcon=function(i){this._oDefaultActionButton.setIcon(i);this.setProperty("icon",i);};S.prototype.setText=function(t){this._oDefaultActionButton.setText(t);this.setProperty("text",t);};return S;});
