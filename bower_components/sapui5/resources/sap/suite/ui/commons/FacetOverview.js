/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/Device','sap/m/Label','sap/ui/core/ResizeHandler'],function(q,l,C,I,D,L,R){"use strict";var F=C.extend("sap.suite.ui.commons.FacetOverview",{metadata:{deprecated:true,library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},quantity:{type:"int",group:"Misc",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'auto'},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'10rem',deprecated:true},rowSpan:{type:"int",group:"Misc",defaultValue:1,deprecated:true},heightType:{type:"sap.suite.ui.commons.FacetOverviewHeight",group:"Misc",defaultValue:"None"}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},events:{press:{parameters:{id:{type:"string"}}},heightChange:{}}}});F.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");if(q.device.is.desktop){this._oHoverIcon=I.createControlByURI({id:this.getId()+"-hover-icon-img",src:"sap-icon://slim-arrow-right"});}else{D.orientation.attachHandler(function(e){this._updateTitleMaxWidth(e);},this);}this._oNoDataLabel=new L(this.getId()+"-no-content",{text:this._rb.getText("FACETOVERVIEW_NO_ITEMS_TEXT")});};F.prototype.exit=function(){if(this._oHoverIcon){this._oHoverIcon.destroy();}R.deregister(this._sTitleResizeHandlerId);D.orientation.detachHandler(function(){this._updateTitleMaxWidth();},this);this._oNoDataLabel.destroy();};F.prototype._updateTitleMaxWidth=function(e){this._handleTitleResize();};F.prototype._handleTitleResize=function(){var t=q.sap.byId(this.getId()+"-title").width();if(this._iTitleWidth!=t){var T=t-q.sap.byId(this.getId()+"-qty").outerWidth()-15;q.sap.byId(this.getId()+"-title-text").css("max-width",T);this._iTitleWidth=t;}};F.prototype.onAfterRendering=function(){if(q.device.is.desktop){if(this._sTitleResizeHandlerId){R.deregister(this._sTitleResizeHandlerId);}var t=q.sap.domById(this.getId()+"-title");this._sTitleResizeHandlerId=R.register(t,q.proxy(this._handleTitleResize,this));}this._handleTitleResize();if(q.device.is.desktop){this.$()[0].addEventListener("focusin",function(e){this.$().find("[data-tabindex]").attr("tabindex",function(){return this.getAttribute("data-tabindex");});}.bind(this),true);this.onsapfocusleave();}};F.prototype.onclick=function(e){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.firePress({id:this.getId()});}};F.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.ENTER){this.onclick(e);}};F.prototype.onsapfocusleave=function(e){if(q.device.is.desktop){this.$().find("[data-tabindex]").removeAttr("data-tabindex");this.$().find("[tabindex]").attr("data-tabindex",function(){return this.getAttribute("tabindex");}).attr("tabindex","-1");}};F.prototype.onsaptouchstart=function(e){if(this.hasListeners("press")){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.addStyleClass("sapSuiteFovSelected");}}};F.prototype.onsaptouchend=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected");}};F.prototype.ontouchmove=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected");}};F.prototype.ontouchstart=function(e){if(this.hasListeners("press")){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.addStyleClass("sapSuiteFovSelected");}}};F.prototype.ontouchend=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected");}};F.prototype.ontouchmove=function(e){if(this.hasStyleClass("sapSuiteFovSelected")){this.removeStyleClass("sapSuiteFovSelected");}};F.prototype.getHeight=function(){switch(this.getHeightType()){case l.FacetOverviewHeight.XS:return"4rem";case l.FacetOverviewHeight.S:return"6rem";case l.FacetOverviewHeight.M:return"10rem";case l.FacetOverviewHeight.L:return"14rem";case l.FacetOverviewHeight.XL:return"21rem";case l.FacetOverviewHeight.XXL:return"32rem";case l.FacetOverviewHeight.Auto:return"auto";case l.FacetOverviewHeight.None:default:return this.getProperty("height");}};F.prototype.setHeight=function(h){this.setProperty("height",h);this.fireHeightChange();return this;};F.prototype.setHeightType=function(e){this.setProperty("heightType",e);this.fireHeightChange();return this;};return F;});
