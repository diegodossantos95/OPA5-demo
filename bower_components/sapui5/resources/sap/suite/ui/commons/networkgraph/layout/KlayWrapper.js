sap.ui.define(["jquery.sap.global","sap/ui/base/ObjectPool"],function(q,O){function P(){var p=q.sap.getModulePath("sap.ui.thirdparty","/klay.js");this._worker=new Worker(p);}P.prototype.getWorker=function(){return this._worker;};P.prototype.init=function(){};P.prototype.reset=function(){this._worker.onmessage=null;this._worker.onerror=null;};var K={};K._pool=new O(P);K.layout=function(p){if(Worker){var o=K._pool.borrowObject(),w=o.getWorker();w.postMessage({graph:p.graph,options:p.options});w.onmessage=function(d){if(d.data.stacktrace){p.error(d.data);}else{p.success(d.data);}K._pool.returnObject(o);};w.onerror=function(e){p.error(e);K._pool.returnObject(o);};}else{q.sap.require("sap/suite/ui/commons/networkgraph/layout/klay");$klay.layout(p);}};return K;},true);
