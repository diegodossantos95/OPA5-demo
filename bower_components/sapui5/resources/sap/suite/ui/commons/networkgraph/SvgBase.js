sap.ui.define(["sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/Device"],function(l,C,I,D){var E=l.networkgraph.ElementStatus;var S='http://www.w3.org/2000/svg';var a=C.extend("sap.suite.ui.commons.networkgraph.SvgBase",{renderer:{}});a.prototype.HIGHLIGHT_CLASS="sapSuiteUiCommonsNetworkElementHighlight";a.prototype.SELECT_CLASS="sapSuiteUiCommonsNetworkElementSelected";a.prototype.VISIBLE_ACTIONS_BUTTONS_CLASS="sapSuiteUiCommonsNetworkNodeActionButtonsVisible";a.prototype.FOCUS_CLASS="sapSuiteUiCommonsNetworkElementFocus";a.prototype._createElement=function(t,A){var e=document.createElementNS(S,t);return this._setAttributes(e,A);};a.prototype._setAttributes=function(e,A){A=A||{};Object.keys(A).forEach(function(s){e.setAttribute(s,A[s]);});return e;};a.prototype._getStatusClass=function(s){var c=s||this.getStatus();switch(c){case E.Warning:return" sapSuiteUiCommonsNetworkElementWarning ";case E.Error:return" sapSuiteUiCommonsNetworkElementError ";case E.Success:return" sapSuiteUiCommonsNetworkElementSuccess ";default:return"";}};a.prototype._getAccessibilityLabel=function(){throw new Error("To be implemented by an extending class.");};a.prototype._renderRoundRect=function(A){return this._renderControl("path",{d:this._renderRoundRectPath(A),"class":A.class,id:A.id});};a.prototype._renderRoundRectPath=function(A){A.topRight=A.topRight||0;A.topLeft=A.topLeft||0;A.bottomRight=A.bottomRight||0;A.bottomLeft=A.bottomLeft||0;var r=A.x+A.width,b=A.y+A.height,p="",f=function(R,x,y){p+=" A"+R+","+R+" 0 0,1 "+x+","+y;},c=function(x,y){p+=" L"+x+","+y;};p="M"+(A.x+A.topLeft)+","+A.y;c(r-A.topRight,A.y);if(A.topRight){f(A.topRight,r,A.y+A.topRight);}c(r,b-A.bottomRight);if(A.bottomRight){f(A.bottomRight,r-A.bottomRight,b);}c(A.x+A.bottomLeft,b);if(A.bottomLeft){f(A.bottomLeft,A.x,b-A.bottomLeft);}c(A.x,A.y+A.topLeft);if(A.topLeft){f(A.topLeft,A.x+A.topLeft,A.y);}return p;};a.prototype._appendTextAnchor=function(A){var i=sap.ui.getCore().getConfiguration().getRTL();if(i&&this._isMSBrowser()){A["text-anchor"]="end";}};a.prototype._renderText=function(A){var h;if(A.height&&this._isMSBrowser()){A.attributes.dy=A.height/2;}this._appendTextAnchor(A.attributes);h=this._renderControl("text",A.attributes,false);h+=A.text?A.text:"";if(A.close!==false){h+="</text>";}return h;};a.prototype._renderSpanText=function(A,t,h){var H;if(h&&this._isMSBrowser()){A.dy=h/2;}H=this._renderControl("text",A,false);H+=this._renderControl("tspan",{},false);H+=t;H+="</tspan></text>";return H;};a.prototype._cannotAppendInnerHtml=function(){return this._isMSBrowser()||D.browser.safari;};a.prototype._isMSBrowser=function(){return D.browser.edge||D.browser.msie;};a.prototype._renderIcon=function(A){var i=I.getIconInfo(A.icon);if(i){return this._renderText({attributes:A.attributes,text:i.content,height:A.height});}return"";};a.prototype._renderControl=function(n,A,c){var h="<"+n+" ";A=A||{};Object.keys(A).forEach(function(s){if(A[s]){h+=s;h+="=";h+="\""+A[s]+"\"";}});h+=">";c=(c!==false);if(c){h+="</"+n+">";}return h;};a.prototype._createText=function(t,A){var s=t.firstChild,c=A.text.length,T=A.text,i=true,n=false,w=parseInt(t.getAttribute("maxwidth"),10)||A.width,L=parseFloat(t.getAttribute("x")),b=A.suffix?A.suffix:"",d=A.centerWidth?A.centerWidth:w,e=".."+b,N,f;A.trim=(A.trim!==false);s.textContent=A.text+b;if(A.trim){f=t.getBBox().width;if(f>w){n=true;while(true){c/=2;N=T.length+(i?-1:1)*Math.ceil(c);T=A.text.substring(0,N);s.textContent=T+e;f=t.getBBox().width;i=(f>w);if(c<0.5&&!i){if(f>w){T=A.text.substring(0,T.length-Math.ceil(c*2));s.textContent=T+e;}break;}}}}if(A.hCenter&&!n){t.setAttribute("text-anchor","middle");t.setAttribute("x",L+d/2);}return n;};a.prototype._createIcon=function(A,i,h){var o=I.getIconInfo(i),b;if(o){if(h&&this._isMSBrowser()){A.dy=h/2;}b=this._createElement("text",A);b.textContent=o.content;return b;}return null;};a.prototype._getDomId=function(s){var i=this.getId();if(s){i+="-"+s;}return i;};a.prototype._convertToSvg=function(r){var R;var c=function(n){var p={},A;if(n.attributes){for(var i=0;i<n.attributes.length;i++){A=n.attributes[i];p[A.name]=A.value;}}return p;};var f=function(n,s){var o,b,N="";if(n.childNodes.length===1&&!n.childNodes[0].localName){s.textContent=n.childNodes[0].textContent;return;}for(var i=0;i<n.childNodes.length;i++){o=n.childNodes[i];N=o.localName;if(N==="clippath"){N="clipPath";}b=this._createElement(N,c(o));s.appendChild(b);if(o.childNodes){f(o,b);}}}.bind(this);R=this._createElement(r[0].localName,c(r[0]));f(r[0],R);return R;};return a;});
