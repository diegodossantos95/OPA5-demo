sap.ui.define(["jquery.sap.global","sap/suite/ui/commons/library","./ElementBase","sap/ui/core/IconPool"],function(q,l,E,I){var S=l.networkgraph.NodeShape,a=l.networkgraph.ElementStatus;var H=32;var b={Circle:{WIDTH:96,HEIGHT:64},Box:{WIDTH:128,HEIGHT:32},Attributes:{LINE:16,OFFSET:8},ActionButtons:{RADIUS:13,MARGIN:6,OFFSET:2},Title:{LINESIZE:15,OFFSET:8,ICON_SIZE:16,INFO_BOX_SIZE:20,ICON_X_OFFSET:5}};var c={EXPANDED:"Expanded",COLLAPSED:"Collapsed",PARTIAL:"Partial"};var A={EXPAND:"sys-add",COLLAPSE:"sys-minus",PARTIAL:"overlay"};var s=I.getIconInfo(A.EXPAND),d=I.getIconInfo(A.COLLAPSE),e=I.getIconInfo(A.PARTIAL);s=s&&s.content;d=d&&d.content;e=e&&e.content;var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var N=E.extend("sap.suite.ui.commons.networkgraph.Node",{metadata:{library:"sap.suite.ui.commons",properties:{collapsed:{type:"boolean",group:"Misc",defaultValue:false},selected:{type:"boolean",group:"Misc",defaultValue:false},group:{type:"string",group:"Misc",defaultValue:null},key:{type:"string",group:"Misc",defaultValue:null},shape:{type:"sap.suite.ui.commons.networkgraph.NodeShape",groups:"Behavior",defaultValue:S.Circle},status:{type:"sap.suite.ui.commons.networkgraph.ElementStatus",group:"Appearance",defaultValue:a.Standard},icon:{type:"string",group:"Appearance",defaultValue:null},width:{type:"int",group:"Misc",defaultValue:undefined},height:{type:"int",group:"Misc",defaultValue:undefined},maxWidth:{type:"int",group:"Misc",defaultValue:undefined},x:{type:"float",group:"Misc",defaultValue:undefined},y:{type:"float",group:"Misc",defaultValue:undefined},showExpandButton:{type:"boolean",defaultValue:true},showActionLinksButton:{type:"boolean",defaultValue:true},showDetailButton:{type:"boolean",defaultValue:true},titleLineSize:{type:"int",defaultValue:1},iconSize:{type:"int",group:"Appearance",defaultValue:undefined}},aggregations:{actionLinks:{type:"sap.ui.core.Control",multiple:true,singularName:"actionLink"},actionButtons:{type:"sap.suite.ui.commons.networkgraph.ActionButton",multiple:true,singularName:"actionButton"}},events:{press:{},collapseExpand:{}}},renderer:function(R,C){R.write(C._render());},onAfterRendering:function(){this._afterRenderingBase();}});N.prototype.aProcessRequiredProperties=["key","group"];N.prototype.init=function(o){this._oExpandState=c.EXPANDED;this._oGroup=null;this._iWidth=0;this._iHeight=0;this._iLabelAttrWidth=0;this._iValueAttrWidth=0;this._aTitleLines=[[]];this._bIsHidden=false;this._bActionButtonsRendered=false;this._iCircleSize=0;this._aActionButtons=[];this._aActionButtonsClicks=[];this._clearChildren();};N.prototype._clearChildren=function(){this.aChildren=[];this.aParents=[];this.aLines=[];this.aParentLines=[];};N.prototype._afterRendering=function(){if(this._oGroup&&this._oGroup.getCollapsed()){return;}this._correctTitle("sapSuiteUiCommonsNetworkNodeTitle");this._setupEvents();if(this._bIsHidden){this.$().hide();}if(this._oExpandState===c.COLLAPSED){this.$().addClass("sapSuiteUiCommonsNetworkNodeCollapsed");}if(this._oExpandState===c.PARTIAL){this.$().addClass("sapSuiteUiCommonsNetworkNodePartialCollapsed");}this._bActionButtonsRendered=false;};N.prototype._render=function(o){var n="",i;if(this._isIgnored()){return"";}o=o||{};i=o.mapRender?this.getId()+"_map":this.getId();n+=this._renderControl("g",{id:i,nodeid:this.getKey(),"class":this._getNodeClass()},false);n+=this._renderControl("g",{id:i+"-wrapper"},false);n+=this._isBox()?this._renderBox():this._renderCircle();if(this._displayAttributes()){n+=o.sizeDetermination?this._renderAttributesForSize():this._renderAttributes({y:this.getY()+this._getTitleHeight()+b.Title.OFFSET+(!this._hasMultiLineTitle()?b.Attributes.OFFSET:0)});}n+="</g>";n+="</g>";return n;};N.prototype._renderCircle=function(){var h="",x=this.getX(),y=this.getY(),f=4,i,g,C=this._iCircleSize;h+=this._renderControl("circle",{id:this.getId()+"-innerBox",cx:x+this._iWidth/2,cy:y+C/2,r:C/2,"class":"sapSuiteUiCommonsNetworkInnerCircle"});h+=this._renderControl("circle",{id:this.getId()+"-focusCircle",cx:x+this._iWidth/2,cy:y+C/2,r:C/2-f,"class":"sapSuiteUiCommonsNetworkCircleFocus"});if(this.getIcon()){h+=this._renderIcon({attributes:{"class":"sapSuiteUiCommonsNetworkGraphIcon sapSuiteUiCommonsNetworkCircleNodeIcon","style":this.getIconSize()?("font-size:"+this.getIconSize()+"px"):"",x:x+this._iWidth/2,y:y+C/2},icon:this.getIcon(),height:this.getIconSize()?this.getIconSize()-2:22});}if(this.getTitle()){if(!this._aTitleLines||this._aTitleLines.length===1){h+=this._renderClipPath({id:this.getId()+"-title-clip",x:x,y:y+C+b.Title.OFFSET-10,height:b.Title.LINESIZE*2});h+=this._renderTitle({"class":"sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeText",x:x+this._iWidth/2,y:y+C+b.Title.OFFSET,title:this.getTitle(),maxWidth:this._iWidth-5});}else{h+=this._renderMultilineTitle({x:x+this._iWidth/2,y:y+C+b.Title.OFFSET*2});}}i=C/8;g=C/5.3;h+=this._renderInfoIcon(this.getParent()._bIsRtl?this._getCirclePosition().x+C-i:this._getCirclePosition().x+i,y+g);return h;};N.prototype._renderBox=function(){var T=H/2,F=4,y=this.getY(),x=this.getX(),t=b.Title.ICON_X_OFFSET,i=this.getParent()._bIsRtl;var h=this._renderControl("rect",{id:this.getId()+"-innerBox",x:x,y:y,"class":"sapSuiteUiCommonsNetworkInnerRect",rx:5,ry:5,width:this._iWidth,height:this._iHeight,"pointer-events":"fill"});h+=this._renderControl("rect",{x:x+F,y:y+F,"class":"sapSuiteUiCommonsNetworkBoxFocus",rx:5,ry:5,width:this._iWidth-F*2,height:this._iHeight-F*2});if(this.getIcon()){h+=this._renderIcon({attributes:{"class":"sapSuiteUiCommonsNetworkGraphIcon sapSuiteUiCommonsNetworkNodeTitleIcon",x:i?x+this._iWidth-b.Title.ICON_X_OFFSET:x+b.Title.ICON_X_OFFSET,y:y+T},icon:this.getIcon(),height:b.Title.LINESIZE});t+=b.Title.ICON_SIZE+b.Title.ICON_X_OFFSET;}if(this.getTitle()){if(!this._aTitleLines||this._aTitleLines.length===1){h+=this._renderClipPath({id:this.getId()+"-title-clip",x:x,y:y,height:H});h+=this._renderTitle({"class":"sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeText",x:i?x+this._iWidth-t:x+t,y:y+T,maxWidth:this._iWidth-t-5,title:this.getTitle()});}else{h+=this._renderMultilineTitle({x:i?x+this._iWidth-t:x+t,y:y+b.Title.OFFSET*2});}}h+=this._renderInfoIcon(this.getParent()._bIsRtl?this.getX():this.getX()+this._iWidth-b.Title.INFO_BOX_SIZE,y);return h;};N.prototype._renderInfoIcon=function(x,y){var h="<g class=\"sapSuiteUiCommonsNetworkNodeInfoWrapper\">",i=this.getParent()._bIsRtl;if(this._isBox()){h+=this._renderRoundRect({"class":"sapSuiteUiCommonsNetworkNodeInfoBox",x:x,y:y,width:b.Title.INFO_BOX_SIZE,height:b.Title.INFO_BOX_SIZE,topRight:i?0:5,topLeft:i?5:0,bottomLeft:i?0:8,bottomRight:i?8:0});}else{h+=this._renderControl("circle",{"class":"sapSuiteUiCommonsNetworkNodeInfoBox",cx:x,cy:y,r:(b.Title.INFO_BOX_SIZE-1)/2});}h+=this._renderIcon({attributes:{"class":"sapSuiteUiCommonsNetworkNodeInfoIcon sapSuiteUiCommonsNetworkGraphIcon",x:x+b.Title.INFO_BOX_SIZE/2-(!this._isBox()?10:0),y:y+(this._isBox()?(b.Title.INFO_BOX_SIZE/2)-1:-0.5)},icon:"sap-icon://notification",height:b.Title.INFO_BOX_SIZE/2+2.5});h+="</g>";return h;};N.prototype._getNodeClass=function(){var f=this.getSelected()?this.SELECT_CLASS:"";return"sapSuiteUiCommonsNetworkNode "+f+(this._isBox()?" sapSuiteUiCommonsNetworkBox ":" sapSuiteUiCommonsNetworkNodeCircle ")+this._getStatusClass();};N.prototype._renderAttributesForSize=function(){var L="",v="";this.getVisibleAttributes().forEach(function(i){L+=this._renderText({attributes:{"class":"sapSuiteUiCommonsNetworkGraphAttribute",x:this.getX(),y:this.getY()},text:i.getLabel()});v+=this._renderText({attributes:{"class":"sapSuiteUiCommonsNetworkGraphAttribute",x:this.getX(),y:this.getY()},text:i.getValue()});},this);L="<g id=\""+this.getId()+"-attrLabel\">"+L+"</g>";v="<g id=\""+this.getId()+"-attrValue\">"+v+"</g>";return L+v;};N.prototype._renderAttributes=function(p){p=p||{};var P=2,B=4,D=B*3;var f=this.getParent()._bIsRtl,L=f?this.getX()+this._iWidth-B:this.getX()+B,g=this._iLabelAttrWidth?this._iLabelAttrWidth:this._iWidth/2-D,v=f?L-g-D:L+g+D,V=f?v-this.getX()-B:(this.getX()+this._iWidth)-v-B;var h=this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-clip-attr-value)",id:this.getId()+"-attrValue"},false),j=this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-clip-attr-label)",id:this.getId()+"-attrLabel"},false),k=p.y,C=this._renderClipPath({id:this.getId()+"-clip-attr-label",x:f?L-g-B+P:L-P,y:k,width:P*2+(f?g+B:g)});C+=this._renderClipPath({id:this.getId()+"-clip-attr-value",x:f?this.getX()+B+P:v-P,y:k,width:P*2+(f?V+B:V)});this.getVisibleAttributes().forEach(function(o,i){var y=k+b.Attributes.LINE*(i+1);j+=this._renderText({attributes:{"class":"sapSuiteUiCommonsNetworkGraphAttribute",x:L,y:y},text:o.getLabel()});h+=this._renderText({attributes:{"class":"sapSuiteUiCommonsNetworkGraphAttribute",x:v,y:y},text:o.getValue()});},this);h+="</g>";j+="</g>";return C+j+h;};N.prototype._detailClick=function(o){o=o||this;this.getParent()._tooltip.openDetail({item:this,opener:o});};N.prototype._linksClick=function(o){o=o||this;this.getParent()._tooltip.openLink({item:this,opener:o});};N.prototype._expandClick=function(){var f=this.fireEvent("collapseExpand",{},true);if(f){this.setCollapsed(this._oExpandState!==c.COLLAPSED);}};N.prototype._applyMaxWidth=function(){var O=30,T=10;var n,$,f,v=0,L=0,i=0,g,m=this.getMaxWidth();if(this._oGroup&&this._oGroup.getCollapsed()){return;}if(!this.getWidth()&&this.getMaxWidth()){$=this.$("attrLabel");f=this.$("attrValue");if($[0]){L=$[0].getBBox().width;}if(f[0]){v=f[0].getBBox().width;}i=v+L+O;n=Math.max(this.$()[0].getBBox().width+T,i);this._iWidth=Math.min(n,m);if((v&&L)){g=Math.max(L,v);if(g*2+O/2<this._iWidth){return;}if(i>this._iWidth){if(v<m/2){this._iLabelAttrWidth=this._iWidth-v-O/2;}if(L<this._iWidth/2){this._iLabelAttrWidth=L+O/2;}}else{this._iLabelAttrWidth=this._iWidth-v-O;}}}};N.prototype._setupWidthAndHeight=function(){var t=this._isBox()?"Box":"Circle",T=this._getTitleHeight(),h,w=b[t].WIDTH;if(!this._isBox()){h=this.getHeight()?this.getHeight():b.Circle.HEIGHT;this._iCircleSize=h;}else{h=this._hasMultiLineTitle()?T+b.Title.OFFSET:b.Box.HEIGHT;}if(this._displayAttributes()){h+=this.getVisibleAttributes().length*b.Attributes.LINE+b.Attributes.OFFSET;}if(!this._isBox()){h+=this._getTitleHeight();}this._iHeight=h;if(this.getWidth()){this._iWidth=this.getWidth();}else if(this._iWidth){if(this._iWidth<w){this._iWidth=w;}}else{this._iWidth=w;}if(!this._isBox()&&this._iWidth<this._iCircleSize){this._iWidth=this._iCircleSize;}};N.prototype._isIgnored=function(){return(this._oGroup&&this._oGroup.getCollapsed()&&this.getParent()._getLayoutAlgorithm().isLayered())||!this.getVisible();};N.prototype._getTitleHeight=function(){if(this._hasMultiLineTitle()){return(((this.getTitleLineSize()>0)?Math.min(this._aTitleLines.length,this.getTitleLineSize()):this._aTitleLines.length))*b.Title.LINESIZE;}return b.Title.LINESIZE;};N.prototype._setupEvents=function(){var $=this.$("wrapper");$.mousedown(function(o){this._mouseDown(o.ctrlKey);}.bind(this));$.mouseover(function(o){this._mouseOver();}.bind(this));$.mouseout(function(o){this._mouseOut();}.bind(this));};N.prototype._mouseOut=function(){this.$().removeClass(this.HIGHLIGHT_CLASS);};N.prototype._mouseOver=function(){if(!this.getSelected()){this.$().addClass(this.HIGHLIGHT_CLASS);}};N.prototype._mouseDown=function(i){var f=this.fireEvent("press",{},true);this.getParent()._selectNode({element:this,renderActionButtons:f&&!this.getSelected(),preventDeselect:i});if(!this.getSelected()){this.$().addClass(this.HIGHLIGHT_CLASS);}};N.prototype._getExpandIcon=function(R){switch(this._oExpandState){case c.PARTIAL:return R?A.PARTIAL:e;case c.EXPANDED:return R?A.COLLAPSE:d;case c.COLLAPSED:return R?A.EXPAND:s;default:return R?A.EXPAND:s;}};N.prototype._createMultilineTitle=function(){var t,o,w,L,W,n,i=0,f=(this.getIcon()&&this._isBox())?this._iWidth-b.Title.LINESIZE-b.Title.ICON_X_OFFSET*2:this._iWidth,$=this.$();if(this.getTitleLineSize()!==1&&$[0]){w=this.getTitle().split(/\s+/).reverse();if(w.length<2){return;}t=this._createElement("text");t.setAttribute("class","sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeMultipleLineTitle");o=this._createElement("tspan");$[0].appendChild(t);t.appendChild(o);this._aTitleLines=[[]];while(w.length>0){W=w.pop();L=this._aTitleLines[i];L.push(W);o.textContent=this._aTitleLines[i].join(" ");if(o.getComputedTextLength()>f){n=true;if(L.length!==1){L.pop();n=false;}o.textContent=this._aTitleLines[i].join(" ");o=this._createElement("tspan");t.appendChild(o);i++;this._aTitleLines[i]=n?[]:[W];}}}};N.prototype.getFocusDomRef=function(){return this.getDomRef("wrapper");};N.prototype._renderMultilineTitle=function(m){m.class=" sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeMultipleLineTitle";var h="",t=this._aTitleLines.length>this.getTitleLineSize()&&this.getTitleLineSize()!==0;for(var i=0;i<this._aTitleLines.length;i++){h+=this._renderText({attributes:{"class":m.class,x:m.x,y:m.y+(i*b.Title.LINESIZE)},close:false});h+=this._aTitleLines[i].join(" ");if(t&&i+1===this.getTitleLineSize()){if(!this.getParent()._bIsRtl){h+="...";}h+="</text>";break;}h+="</text>";}return h;};N.prototype._processHideShowParents=function(C,R){var i=this._oGroup&&this._oGroup.getCollapsed();var f=function(n){if(n._bIsHidden){return;}var h=false,g;if(n.getKey()!==R){if(n.aChildren.length>0){g=n.aChildren[0]._bIsHidden;n.aChildren.forEach(function(o){if(g!==o._bIsHidden){h=true;}});n._oExpandState=h?c.PARTIAL:g?c.COLLAPSED:c.EXPANDED;if(n._oExpandState===c.COLLAPSED){n.$().addClass("sapSuiteUiCommonsNetworkNodeCollapsed");}else{n.$().removeClass("sapSuiteUiCommonsNetworkNodeCollapsed");}if(n._oExpandState===c.PARTIAL){n.$().addClass("sapSuiteUiCommonsNetworkNodePartialCollapsed");}else{n.$().removeClass("sapSuiteUiCommonsNetworkNodePartialCollapsed");}}}};this.aParents.forEach(function(n){f(n);});if(i){if(this._oGroup._bNeedParentProcessing){this._oGroup.aNodes.forEach(function(g){g.aParents.forEach(function(p){f(p);});});this._oGroup._bNeedParentProcessing=false;}}};N.prototype._getAllChildren=function(C,R,o){var f=function(k){if(!o[k]){o[k]=this;return true;}return false;}.bind(this);if(R===this.getKey()){return;}if(this._bIsHidden===C){return;}if(!f(this.getKey())){return;}if(this._oGroup&&this._oGroup.getCollapsed()){this._oGroup.aNodes.forEach(function(n){n._getAllChildren(C,R,o);});}if(this._oExpandState!==c.COLLAPSED){this.aChildren.forEach(function(n){n._getAllChildren(C,R,o);});}};N.prototype._hideShow=function(C,R){var h=function(G){return G.aNodes.some(function(n){return!n._bIsHidden;});};var f=C?"hide":"show",g;this._bIsHidden=C;this.aLines.forEach(function(L){L._hideShow(C);});this.aParentLines.forEach(function(L){L._hideShow(C,R);});if(this.$()){this.$()[f]();}if(this._oGroup){if(this._oGroup.getCollapsed()){this._oGroup._hideShow(C,R);}else{g=h(this._oGroup);if((g&&!C)||(!g&&C)){this._oGroup.$()[f]();this._oGroup._bIsHidden=C;}}}};N.prototype._setActionButtonFocus=function(i,f){this.$().removeClass(this.FOCUS_CLASS);this.$().find(".sapSuiteUiCommonsNetworkNodeActionButton").parent().removeClass(this.FOCUS_CLASS);var F=f?"addClass":"removeClass";q(i)[F](this.FOCUS_CLASS);};N.prototype._getActionButtonTitle=function(i){return r.getText("NETWORK_GRAPH_ACCESSIBILITY_ACTION_BUTTON")+" "+q(i).find("title").html();};N.prototype._getAccessibilityLabel=function(){var L=r.getText("NETWORK_GRAPH_NODE")+" "+this.getTitle();if(this._isBox()){this.getVisibleAttributes().forEach(function(o){L+=" "+o.getLabel()+" "+o.getValue();});}return L;};N.prototype.hasVisibleActionButtons=function(){return this.$().hasClass(this.VISIBLE_ACTIONS_BUTTONS_CLASS);};N.prototype.getEnabledActionButtons=function(){return this.$().find(".sapSuiteUiCommonsNetworkNodeActionButton").parent().toArray();};N.prototype.showActionButtons=function(f){var R,g,t=this,B=0,M=4,w,o,h,j,m,L;var C=function(){var h=this.getParent()._bIsRtl?-b.ActionButtons.RADIUS-b.ActionButtons.MARGIN:b.ActionButtons.RADIUS+b.ActionButtons.MARGIN,j=b.ActionButtons.RADIUS,p=[[h,j]];for(var i=1;i<R;i++){p.push([h,j+b.ActionButtons.RADIUS*2*i+b.ActionButtons.OFFSET*i]);}return p;}.bind(this);var G=function(){var n=this.getActionButtons().length;if(this.getShowExpandButton()){n++;}if(this.getShowDetailButton()){n++;}if(this.getShowActionLinksButton()){n++;}return n;}.bind(this);var k=function(n){var p=13,u=2;var v={cx:n.x,cy:n.y,id:n.id+"-circle","class":"sapSuiteUiCommonsNetworkNodeActionButton",r:b.ActionButtons.RADIUS},x={"class":"sapSuiteUiCommonsNetworkGraphIcon sapSuiteUiCommonsNetworkNodeActionIcon "+(n.class?n.class:""),x:n.x,y:n.y},y,T,z,D,J,$;if(!n.enable){v.class="sapSuiteUiCommonsNetworkNodeActionButtonDisabledBackground";w.appendChild(this._createElement("circle",v));v.class="sapSuiteUiCommonsNetworkNodeActionButtonDisabled";x.class+=" sapSuiteUiCommonsNetworkNodeActionButtonDisabled";}J=this._createElement("g",{id:n.id});y=this._createElement("circle",{cx:n.x,cy:n.y,r:b.ActionButtons.RADIUS-u,"class":"sapSuiteUiCommonsNetworkActionButtonFocusCircle"});z=this._createElement("circle",v);D=this._createIcon(x,n.icon,p);if(n.title){T=this._createElement("title");T.textContent=n.title;z.appendChild(T);}J.appendChild(z);J.appendChild(D);J.appendChild(y);w.appendChild(J);$=q(z);if(n.enable){$.mousedown(function(){$.addClass("sapSuiteUiCommonsNetworkNodeActionButtonClicked");this._setActionButtonFocus(J,true);this._setFocus(false);if(this.getParent()){this.getParent().setFocus({item:this,button:J});}}.bind(this));$.mouseup(function(){$.removeClass("sapSuiteUiCommonsNetworkNodeActionButtonClicked");});q(z).click(n.click);this._aActionButtonsClicks.push(n.click);}this._aActionButtons.push(J);B++;return{icon:D,wrapper:z};}.bind(this);var F=f?"addClass":"removeClass";this.$()[F](this.VISIBLE_ACTIONS_BUTTONS_CLASS);R=G();g=C();if(R===0){return;}if(f&&!this._bActionButtonsRendered){this._aActionButtons=[];this._aActionButtonsClicks=[];h=this.getX();j=this.getY();if(!this.getParent()._bIsRtl){h+=(this._isBox()?this._iWidth:this._iWidth/2+this._iCircleSize/2);}else if(!this._isBox()){h+=this._iWidth/2-this._iCircleSize/2;}w=this._createElement("g",{"class":"sapSuiteUiCommonsNetworkNodeActionButtonWrapper",id:this._getDomId("actionButtons")});this.$()[0].appendChild(w);if(this.getShowExpandButton()){o=k({x:h+g[B][0],y:j+g[B][1],icon:this._getExpandIcon(true),"class":"sapSuiteUiCommonsNetworkNodeActionCollapseIcon",enable:this._hasChildren(),title:r.getText("NETWORK_GRAPH_EXPAND_COLLAPSE"),id:this._getDomId("actionCollapse"),click:this._expandClick.bind(this)});this._expandIcon=o.icon;}if(this.getShowDetailButton()){m=k({x:h+g[B][0],y:j+g[B][1],icon:"sap-icon://menu",enable:this._hasDetailData()||this.getTitle(),id:this._getDomId("actionDetail"),title:r.getText("NETWORK_GRAPH_NODE_DETAILS"),click:function(){this._detailClick(m.wrapper);}.bind(this)});}if(this.getShowActionLinksButton()){L=k({x:h+g[B][0],y:j+g[B][1],icon:"sap-icon://chain-link",enable:this._hasActionLinks(),title:r.getText("NETWORK_GRAPH_NODE_LINKS"),id:this._getDomId("actionLinks"),click:function(){this._linksClick(L.wrapper);}.bind(this)});}for(var i=0;B<M&&i<this.getActionButtons().length;i++){(function(n){var p=k({x:h+g[B][0],y:j+g[B][1],icon:n.getIcon(),title:n.getTitle(),id:n.getId(),click:function(u){n.firePress({buttonElement:p.wrapper});},enable:true});})(this.getActionButtons()[i]);}this._bActionButtonsRendered=true;}else if(this._expandIcon){this._expandIcon.textContent=t._getExpandIcon();this.$().find("."+this.FOCUS_CLASS).removeClass(this.FOCUS_CLASS);}};N.prototype.getChildNodes=function(){this._checkForProcessData();return this.aChildren;};N.prototype.getChildLines=function(){this._checkForProcessData();return this.aLines;};N.prototype.getParentNodes=function(){this._checkForProcessData();return this.aParents;};N.prototype.getParentLines=function(){this._checkForProcessData();return this.aParentLines;};N.prototype.isHidden=function(){return this._bIsHidden;};N.prototype.getCenterPosition=function(){var C,o;if(this._isBox()){return{x:this.getX()+this._iWidth/2,y:this.getY()+this._iHeight/2};}C=this._getCirclePosition();o=this._getCircleSize()/2;return{x:C.x+o,y:C.y+o};};N.prototype.setX=function(x){this.setProperty("x",x,true);return this;};N.prototype.setY=function(y){this.setProperty("y",y,true);return this;};N.prototype.setSelected=function(f){var p=this.getParent(),F=f?"addClass":"removeClass",k=this.getKey();this.setProperty("selected",f,true);this.$()[F](this.SELECT_CLASS);if(p){if(f){p._mSelectedNodes[k]=this;}else{delete p._mSelectedNodes[k];}}return this;};N.prototype.setCollapsed=function(C){var o={},f,F=C?"addClass":"removeClass",$=this.$().find(".sapSuiteUiCommonsNetworkNodeActionCollapseIcon");this.setProperty("collapsed",C,true);this._oExpandState=C?c.COLLAPSED:c.EXPANDED;this.aChildren.forEach(function(n){n._getAllChildren(C,this.getKey(),o);},this);f=Object.keys(o);f.forEach(function(k){o[k]._hideShow(C,this.getKey());},this);f.forEach(function(k){o[k]._processHideShowParents(C,this.getKey());},this);this.aLines.forEach(function(L){L._hideShow(C);});if($[0]){$[0].textContent=this._getExpandIcon();}this.$().removeClass("sapSuiteUiCommonsNetworkNodePartialCollapsed");this.$()[F]("sapSuiteUiCommonsNetworkNodeCollapsed");if(this.getParent()){this.getParent()._setupKeyboardNavigation();}return this;};N.prototype.setGroup=function(g){var p=this.getParent();this.setProperty("group",g,true);if(p){p.invalidate();}return this;};N.prototype.setShape=function(f){var p=this.getParent();this.setProperty("shape",f,true);if(p){p.invalidate();}return this;};N.prototype.setWidth=function(w){var p=this.getParent();this.setProperty("width",w,true);if(p){p.invalidate();}return this;};N.prototype.setMaxWidth=function(m){var p=this.getParent();this.setProperty("maxWidth",m,true);if(p){p.invalidate();}return this;};N.prototype.setTitleLineSize=function(t){var p=this.getParent();this.setProperty("titleLineSize",t,true);if(p){p.invalidate();}return this;};N.prototype._isInCollapsedGroup=function(){return this._oGroup&&this._oGroup.getCollapsed();};N.prototype._displayAttributes=function(){return this.getVisibleAttributes().length!==0&&this._isBox();};N.prototype._hasTitle=function(){return this.getTitle()||this.getIcon();};N.prototype._isBox=function(){return this.getShape()===S.Box&&this.getParent()._getLayoutAlgorithm().isLayered();};N.prototype._hasChildren=function(){return this.aChildren.length>0;};N.prototype._hasDetailData=function(){return this.getDescription()||this.getAttributes().length>0;};N.prototype._hasActionLinks=function(){return this.getActionLinks().some(function(L){return L.getVisible();});};N.prototype._useAutomaticSize=function(){return!this.getWidth()&&this.getMaxWidth()>0;};N.prototype._getCircleSize=function(){return this._isBox()?undefined:this._iCircleSize;};N.prototype._hasMultiLineTitle=function(){return this._aTitleLines&&this._aTitleLines.length>1;};N.prototype._getCirclePosition=function(){return this._isBox()?undefined:{x:this.getX()+(this._iWidth-this._getCircleSize())/2,y:this.getY()};};N.prototype.getFocusDomRef=function(){return this.getDomRef("wrapper");};return N;});
