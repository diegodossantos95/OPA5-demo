/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define("sap/suite/ui/commons/TimelineRenderManager",["jquery.sap.global","./library","sap/m/Text","sap/ui/core/Icon","sap/m/ViewSettingsDialog","sap/ui/core/ResizeHandler","sap/ui/core/Item","sap/m/ButtonType","sap/m/ToolbarSpacer","sap/m/SearchField","sap/m/OverflowToolbar","sap/m/Select","sap/m/RangeSlider","sap/m/Label","sap/m/Panel","sap/m/FlexBox","sap/m/OverflowToolbarButton","sap/m/MessageStrip","sap/ui/core/CSSSize","sap/m/ViewSettingsFilterItem","sap/m/ViewSettingsCustomItem","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbarPriority","sap/m/MessageToast","sap/ui/core/InvisibleText"],function(q,l,T,I,V,R,a,B,b,S,O,c,d,L,P,F,e,M,C,f,g,h,k,m,n){"use strict";var o=l.TimelineGroupType;var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var p=680;var D=Object.freeze({UP:"UP",DOWN:"DOWN",NONE:"NONE"});function s($,i,j){$.removeClass(i).addClass(j);}function _($,A){return parseInt($.css(A).replace("px",""),10);}var t={extendTimeline:function(u){u.prototype._initControls=function(){this._setupMessageStrip();this._setupFilterDialog();this._setupHeaderToolbar();this._setupAccessibilityItems();};u.prototype._registerResizeListener=function(){var i=this.$().parent().get(0);if(i){this.oResizeListener=R.register(i,q.proxy(this._performResizeChanges,this));}};u.prototype._deregisterResizeListener=function(){if(this.oResizeListener){R.deregister(this.oResizeListener);}};u.prototype._performUiChanges=function(i){this._deregisterResizeListener();if(!this.getDomRef()){return;}if(this._isVertical()){this._performUiChangesV(i);}else{this._performUiChangesH();}this._setupScrollers();this._startItemNavigation();this._registerResizeListener();};u.prototype._performDoubleSidedChangesLi=function($,i){var j=$.children().first(),v=this._isLeftAlignment()?"sapSuiteUiCommonsTimelineItemWrapperVLeft":"sapSuiteUiCommonsTimelineItemWrapperVRight";if(this._renderDblSided){if($.hasClass('sapSuiteUiCommonsTimelineItem')){$.removeClass('sapSuiteUiCommonsTimelineItem').addClass(i?"sapSuiteUiCommonsTimelineItemOdd":"sapSuiteUiCommonsTimelineItemEven");if(!i){s(j,"sapSuiteUiCommonsTimelineItemWrapperVLeft","sapSuiteUiCommonsTimelineItemWrapperVRight");}else{s(j,"sapSuiteUiCommonsTimelineItemWrapperVRight","sapSuiteUiCommonsTimelineItemWrapperVLeft");}}}else{$.removeClass("sapSuiteUiCommonsTimelineItemOdd").removeClass("sapSuiteUiCommonsTimelineItemEven").addClass("sapSuiteUiCommonsTimelineItem");j.removeClass("sapSuiteUiCommonsTimelineItemWrapperVLeft").removeClass("sapSuiteUiCommonsTimelineItemWrapperVRight").addClass(v);}};u.prototype._performDoubleSidedChanges=function(){var $=this.$(),v=$.find('.sapSuiteUiCommonsTimelineItemUlWrapper').not(".sapSuiteUiCommonsTimelineShowMoreWrapper"),w=$.find(".sapSuiteUiCommonsTimelineScrollV .sapSuiteUiCommonsTimelineGroupHeader"),x;if(this._renderDblSided){this._$content.addClass("sapSuiteUiCommonsTimelineDblSided");w.addClass("sapSuiteUiCommonsTimelineGroupHeaderDblSided");w.addClass("sapSuiteUiCommonsTimelineItemWrapperVLeft").removeClass("sapSuiteUiCommonsTimelineItemWrapperVRight");}else{this._$content.removeClass("sapSuiteUiCommonsTimelineDblSided");w.removeClass("sapSuiteUiCommonsTimelineGroupHeaderDblSided sapSuiteUiCommonsTimelineItemWrapperVLeft");w.addClass(this._isLeftAlignment()?"sapSuiteUiCommonsTimelineItemWrapperVLeft":"sapSuiteUiCommonsTimelineItemWrapperVRight");}for(var j=0;j<v.length;j++){var y=q(v[j]),z=y.find('> li').not(".sapSuiteUiCommonsTimelineGroupHeader");z.eq(1).css("margin-top",this._renderDblSided?"40px":"auto");for(var i=0;i<z.length;i++){x=q(z[i]);this._performDoubleSidedChangesLi(x,(i%2)===0);}}$.find(".sapSuiteUiCommonsTimelineItemBarV").css("height","");$.find(".sapSuiteUiCommonsTimelineItem").css("margin-bottom","");};u.prototype._performUiChangesH=function(){var $=this.$(),i,j;var v=function(w){return($.width()-(w.position().left+w.outerWidth()));};if(this.getEnableDoubleSided()&&this._isGrouped()){j=$.find(".sapSuiteUiCommonsTimelineHorizontalBottomLine ul");$.find("[firstgroupevenitem = true]:visible").each(function(w,x){var y=function(N){return N+"-"+(this._bRtlMode?"right":"left");}.bind(this),z=q("#"+x.id+"-line"),A=this._bRtlMode?v(z):z.position().left,E=30,G=q(x),H=_(j,y("padding")),J,K;if(w===0){J=A-E-H;}else{i=G.prevAll(".sapSuiteUiCommonsTimelineItemLiWrapperV:visible:first");K=this._bRtlMode?v(i):(i.position().left+_(i,y("margin")));J=(A-E)-(K+i.outerWidth());}G.css(y("margin"),J+"px");}.bind(this));}if(!this.getEnableScroll()){$.find(".sapSuiteUiCommonsTimelineContentsH").css("overflow-x","hidden");}this._calculateTextHeight();};u.prototype._performUiChangesV=function(i){var $=this.$(),j=$.outerWidth()+50;if(this.getEnableDoubleSided()){this._renderDblSided=j>=p;if(this._renderDblSided!==this._lastStateDblSided||i){this._performDoubleSidedChanges();}this._lastStateDblSided=this._renderDblSided;}this._calculateTextHeight();this._calculateHeightV();};u.prototype._calculateHeightV=function(){var $=this.$(),j=this.$("headerBar").outerHeight()||0,v=this.$("filterMessage").outerHeight()||0,w=this.$("messageStrip").outerHeight()||0,x=w+v+j,y=function(H,G){var J,K,N,Q,W,X,Y,Z=H.length,a1=this.getShowIcons()?".sapSuiteUiCommonsTimelineItemBarIconWrapperV:visible":".sapSuiteUiCommonsTimelineItemNoIcon:visible",b1=G.length>0?G.find(a1+", .sapSuiteUiCommonsTimelineItemBarIconWrapperV:visible").eq(0):q(),c1=8;for(var i=0;i<Z;i++){J=q(H[i+1]);K=q(H[i]);N=i<Z-1?J.find(a1):b1;W=K.find(a1);if(N.length>0&&W.length>0){X=N.offset().top;Y=W.offset().top+W.height();Q=K.find(".sapSuiteUiCommonsTimelineItemBarV");c1=8;Q.height(X-Y-c1);}}},z=function(H){var J,K,N,Q,W,X=40,Y=100,Z=function(){var a1=_(N,"margin-top")+N.position().top+N.height()-J.position().top;K.css("margin-bottom",a1+X+"px");};for(var i=2;i<H.length;i++){J=q(H[i]);K=q(H[i-1]);N=q(H[i-2]);Q=this._bRtlMode?!J.hasClass("sapSuiteUiCommonsTimelineItemOdd"):J.hasClass("sapSuiteUiCommonsTimelineItemOdd");W=J.position().left;if(!Q&&W<Y||Q&&W>Y){Z();}else{var a1=J.position().top-K.position().top,b1=_(N,"margin-bottom");if(a1<X){N.css("margin-bottom",b1+X-a1);}}}},A=function(){var J=5,K=$.position().top,N=$.parent().height(),Q=_(this._$content,"padding-bottom"),W=_(this._$content,"padding-top"),X=N-K-x-W-Q-J;this._$content.height(X);}.bind(this),U,E,G,H;if(this.getEnableScroll()){A();}if(this._renderDblSided){U=$.find(".sapSuiteUiCommonsTimelineItemUlWrapper");for(var i=0;i<U.length;i++){E=q(U[i]);G=q(U[i+1]);H=E.find(" > li:not(.sapSuiteUiCommonsTimelineGroupHeader):visible");H.css("margin-bottom","");z.call(this,H,E);y.call(this,H,G);}}};u.prototype._performResizeChanges=function(){this._performUiChanges();};u.prototype._calculateTextHeight=function(){var $=this.$(),j=this.getTextHeight(),v,w,x=function(H,E){$.find(".sapSuiteUiCommonsTimelineItemTextWrapper:visible").each(function(G,W){var J=q(W),K=J.children().first(),N=K.get(0).getClientRects(),Q=0,U=0,X,Y=-100000,Z=0,a1=J.attr("expanded");if(!a1){if(N&&N.length>0){X=N[0].top;Z=0;for(var i=0;i<N.length-1;i++){if(Y!==N[i].bottom){Y=N[i].bottom;Z++;}if(H>0&&(N[i+1].bottom-X>H)){U=Z;Q=N[i].bottom-X;break;}if(E>0&&Z===E){Q=N[i].bottom-N[0].top;U=E;break;}}}if(Q>0){J.height(Q);J.css("-webkit-line-clamp",U.toString());J.next().show();}else if(!J.attr("expandable")){J.next().hide();}}});},y=function(i){x(0,parseInt(i,10));},z=function(H){x(H,0);},A=function(){var i=$.find(".sapSuiteUiCommonsTimelineItemTextWrapper");i.css("height","");i.css("-webkit-line-clamp","");$.css("height","100%");var E=this._$content.height(),G=_(this._$content,"padding-bottom"),H=this._$content.get(0).scrollHeight,J=H-E-G,K={height:0},N,Q=20;$.find(".sapSuiteUiCommonsTimelineItemTextWrapper").each(function(U,W){var X=q(W).height();if(X>K.height){K.height=X;K.item=q(this);}});if(K.item){N=K.item.parent().find(".sapSuiteUiCommonsTimelineItemShowMore:hidden").height();return K.height-J-N-Q;}return 1;};if(j){if(this._useAutomaticHeight()){z(A.call(this));}else if(q.isNumeric(j)){y(j);}else{v=/([0-9]*\.?[0-9]+)(px)+/i;w=v.exec(j);if(w&&w.length>1){z(w[1]);}else if(C.isValid(j)){$.find(".sapSuiteUiCommonsTimelineItemTextWrapper").height(j);}}}};u.prototype._fixScrollerPositionH=function(){var $=this.$(),i=$.find(".sapSuiteUiCommonsTimelineHorizontalMiddleLine"),j=$.find(".sapSuiteUiCommonsTimelineHorizontalScroller"),v,w=this._$content.position().top;if(i.get(0)){v=i.position().top;$.find(".sapSuiteUiCommonsTimelineScrollerIconWrapper").css("top",v-5);j.css("top",w+"px");j.height(this._$content.outerHeight()-15);}};u.prototype._setupScrollers=function(){var $=this.$(),i=450,N='rgba(0, 0, 0, 0)',j,v,w,x,G,y,z,A,E,H,J,K,Q,U=function(W){var X=N;W.parents().each(function(Y,Z){var v=q(Z).css("background-color"),a1=q(Z).css("background-image");if(a1!=="none"){X=N;return;}if(v!==N&&v!=="transparent"){X=v;}});return X;};if(this._scrollingFadeout()){j=this._isVertical()?$.height():$.width();if(j<i){$.find(".sapSuiteUiCommonsTimelineVerticalScroller",".sapSuiteUiCommonsTimelineHorizontalScroller").hide();this._scrollersSet=false;return;}if(!this._scrollersSet){v=U(this.$());if(v&&v!==N){w=v.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(w&&w.length>=4){x=parseInt(w[1],10);G=parseInt(w[2],10);y=parseInt(w[3],10);z="rgba("+x+","+G+","+y+", 0)";E="rgba("+x+","+G+","+y+", 0.7)";A="rgba("+x+","+G+","+y+", 1)";H=$.find(".sapSuiteUiCommonsTimelineHorizontalLeftScroller, .sapSuiteUiCommonsTimelineTopScroller ");J=$.find(".sapSuiteUiCommonsTimelineHorizontalRightScroller, .sapSuiteUiCommonsTimelineBottomScroller");K=this._isVertical()?"top":"left";Q=this._isVertical()?"bottom":"right";H.css("background-image","linear-gradient(to "+K+", "+z+", "+A+")");J.css("background-image","linear-gradient(to "+Q+", "+z+", "+A+")");H.css("background-image","-webkit-linear-gradient("+Q+", "+z+", "+E+" 30%,"+A+")");J.css("background-image","-webkit-linear-gradient("+K+", "+z+", "+E+" 30%,"+A+")");this._scrollersSet=true;if(this.getContent().length>0){if((!this._isVertical()&&this._$content.get(0).scrollWidth>this._$content.outerWidth())||(this._isVertical()&&this._$content.get(0).scrollHeight>this._$content.outerHeight())){J.show();}}}}else{$.find(".sapSuiteUiCommonsTimelineHorizontalScroller").hide();}}if(!this._isVertical()){this._fixScrollerPositionH();}}};u.prototype._setupScrollEvent=function(){var $=this.$(),i=$.find(".sapSuiteUiCommonsTimelineHorizontalLeftScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper, .sapSuiteUiCommonsTimelineTopScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper"),j=$.find(".sapSuiteUiCommonsTimelineHorizontalRightScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper, .sapSuiteUiCommonsTimelineBottomScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper"),v=$.find(".sapSuiteUiCommonsTimelineHorizontalLeftScroller, .sapSuiteUiCommonsTimelineTopScroller"),w=$.find(".sapSuiteUiCommonsTimelineHorizontalRightScroller, .sapSuiteUiCommonsTimelineBottomScroller"),x=this._$content,y=this;if(y._lazyLoading()||y._scrollingFadeout()){x.on("scroll",function(z){var A=q(z.currentTarget),E=A.get(0).scrollLeft,G=A.get(0).scrollTop,H=false,J=200,K=5,N=false,Q,U,W,X,x;if(y._isVertical()){Q=A.outerHeight();U=A.get(0).scrollHeight;N=G+Q>U-J;H=G+Q>=U-K;}else{W=A.width();X=A.get(0).scrollWidth;N=E+W>X-J;H=E+W>=X-K-185;}if(y._lazyLoading()&&y._scrollMoreEvent){if(N&&!y._isMaxed()){y._scrollMoreEvent=false;y._loadMore();}}if(y._scrollersSet){if(E>50||G>50){v.show();}else{v.hide();y._manualScrolling=false;}if(H){w.hide();}else{w.show();}var Y;if(y._isVertical()){Y=A.get(0).scrollTop;x=Y>y._lastScrollPosition.y?j:i;y._lastScrollPosition.y=Y;}else{Y=A.get(0).scrollLeft;x=Y>y._lastScrollPosition.x?j:i;y._lastScrollPosition.x=Y;}x.addClass("sapSuiteUiCommonsTimelineScrolling");clearTimeout(q.data(this,'scrollTimer'));q.data(this,'scrollTimer',setTimeout(function(){i.removeClass("sapSuiteUiCommonsTimelineScrolling");j.removeClass("sapSuiteUiCommonsTimelineScrolling");},350));}});this.$().find(".sapSuiteUiCommonsTimelineScrollerIconWrapper").mousedown(function(z){var A=90,E=(q(this).hasClass("sapSuiteUiCommonsTimelineScrollerIconWrapperLeft")||q(this).hasClass("sapSuiteUiCommonsTimelineScrollerIconWrapperTop"))?-A:A;y._manualScrolling=true;y._performScroll(E);});this.$().find(".sapSuiteUiCommonsTimelineScrollerIconWrapper").mouseup(function(){y._manualScrolling=false;}).mouseout(function(){y._manualScrolling=false;});}if(this.getEnableScroll()){this._$content.on("wheel",function(z){var A=z.originalEvent.deltaY,E=30;if(A<E&&A>E*-1){A=A>0?E:E*-1;}this.scrollLeft+=A*2;});$.find(".sapSuiteUiCommonsTimelineHorizontalScroller, .sapSuiteUiCommonsTimelineVerticalScroller").on("wheel",function(z){var A=z.originalEvent.deltaY;if(y._isVertical()){y._$content.get(0).scrollTop+=A*2;}else{y._$content.get(0).scrollLeft+=A*2;}});}};u.prototype._setupMessageStrip=function(){var i=this;this._objects.register("messageStrip",function(){return new M(i.getId()+"-messageStrip",{close:function(){i.setCustomMessage("");i.fireCustomMessageClosed();},showCloseButton:true});});this._objects.register("filterMessageText",function(){return new T(i.getId()+"-filterMessageText",{});});this._objects.register("filterMessage",function(){var j=i._objects.getFilterMessageText(),v,w;w=new I(i.getId()+"filterMessageIcon",{src:"sap-icon://decline",press:[i._clearFilter,i]});v=new O(i.getId()+"-filterMessage",{design:"Info",content:[j,new b(),w]});v.addStyleClass("sapSuiteUiCommonsTimelineFilterInfoBar");v.setHeight("auto");return v;});};u.prototype._setMessageBars=function(i){var j=this._getFilterMessage();if(j){i.addChild(this._objects.getFilterMessage());this._objects.getFilterMessageText().setText(j);}};u.prototype._setupRangeFilterPage=function(){var i=this;this._rangeFilterType=null;this._objects.register("timeFilterSelect",function(){var j=new c(i.getId()+"-timeFilterSelect",{change:function(v){i._rangeFilterType=v.getParameter("selectedItem").getProperty("key");i._setRangeFilter();},items:[new a({text:r.getText("TIMELINE_YEAR"),key:o.Year}),new a({text:r.getText("TIMELINE_QUARTER"),key:o.Quarter}),new a({text:r.getText("TIMELINE_MONTH"),key:o.Month}),new a({text:r.getText("TIMELINE_DAY"),key:o.Day})]});j.addStyleClass("sapSuiteUiCommonsTimelineRangeSelect");return j;});this._objects.register("timeRangeSlider",function(){var j=new d(i.getId()+"-timeRangeSlider",{enableTickmarks:true,visible:false,step:1,change:function(E){var v=j.getMin(),w=j.getMax(),x=j.getRange();i._filterDialogRangePage.setFilterCount(+(x[0]!==v||x[1]!==w));}});j._updateTooltipContent=function(v,N){var w=i._fnAddDate(N);if(w>i._maxDate){w=i._maxDate;}if(w<i._minDate){w=i._minDate;}v.text(i._formatGroupBy(w,i._rangeFilterType).title);};j.addStyleClass("sapSuiteUiCommonsTimelineRangeFilter");j.onAfterRendering=function(){d.prototype.onAfterRendering.apply(this);var v=this.$().find(".sapMSliderLabel");v.eq(0).html(i._formatGroupBy(i._minDate,i._rangeFilterType).title);v.eq(1).html(i._formatGroupBy(i._maxDate,i._rangeFilterType).title);};return j;});this._objects.register("rangeTypeLbl",function(){return new L(i.getId()+"-rangeTypeLbl",{text:r.getText("TIMELINE_GROUP_BY_PERIOD")+":"});});this._objects.register("rangeTypePanel",function(){var j=new P(i.getId()+"-rangeTypePanel",{content:[i._objects.getRangeTypeLbl(),i._objects.getTimeFilterSelect()]});j.addStyleClass("sapSuiteUiCommonsTimelineRangeFilterPanel");return j;});this._objects.register("rangePanel",function(){return new F(i.getId()+"rangePanel",{direction:"Column",items:[i._objects.getRangeTypePanel(),i._objects.getTimeRangeSlider()]});});};u.prototype._setupFilterFirstPage=function(i){if(i){i.removeAllAggregation("filterItems");if(this.getShowItemFilter()){i.addAggregation("filterItems",new f({key:"items",text:this._getFilterTitle()}));}if(this.getShowTimeFilter()){this._filterDialogRangePage=new g({key:"range",text:r.getText("TIMELINE_RANGE_SELECTION"),customControl:[this._objects.getRangePanel()]});i.addAggregation("filterItems",this._filterDialogRangePage);}}};u.prototype._setupFilterDialog=function(){var i=this;this._setupRangeFilterPage();this._objects.register("filterContent",function(){var j,v,w=function(A){if(!i._filterState.data){i._setFilterList();A.removeAllItems();i._aFilterList.forEach(function(E){var G=q.grep(i._currentFilterKeys,function(H){return E.key===H.key;}).length>0;A.addItem(new f({key:E.key,text:E.text,selected:G}));});}i._filterState.data=true;},x=function(){m.show(r.getText("TIMELINE_NO_LIMIT_DATA"));},y=function(){if(!i._filterState.range){z.setBusy(true);i._getTimeFilterData().then(function(){z.setBusy(false);if((!i._minDate||!i._maxDate)||(!(i._minDate instanceof Date)||!(i._maxDate instanceof Date))){x();return;}if(!i._rangeFilterType){i._rangeFilterType=i._calculateRangeTypeFilter();}if(i._startDate===null&&i._endDate===null){i._setRangeFilter();}else{j=i._fnDateDiff(i._rangeFilterType,i._minDate,i._startDate);v=i._fnDateDiff(i._rangeFilterType,i._minDate,i._endDate);i._objects.getTimeRangeSlider().setRange([j,v]);}i._objects.getTimeFilterSelect().setSelectedKey(i._rangeFilterType);i._objects.getTimeRangeSlider().setVisible(true);i._objects.getTimeRangeSlider().invalidate();}).catch(function(){z.setBusy(false);x();});i._filterState.range=true;}},z=new V(i.getId()+"-filterContent",{confirm:function(E){var A=E.getParameter("filterItems"),G,H,J,K,N;i._currentFilterKeys=A.map(function(Q){return{key:Q.getProperty("key"),text:Q.getProperty("text")};});G=i._objects.getTimeRangeSlider();K=G.getRange();H=G.getMin();J=G.getMax();i._startDate=null;i._endDate=null;if(K[0]!==H||K[1]!==J){i._startDate=i._fnAddDate(Math.min.apply(null,K),D.DOWN);i._endDate=i._fnAddDate(Math.max.apply(null,K),D.UP);N=true;}i._filterData(N);},resetFilters:function(E){var A=i._objects.getTimeRangeSlider();A.setValue(A.getMin());A.setValue2(A.getMax());i._filterDialogRangePage.setFilterCount(0);},filterDetailPageOpened:function(A){var K=A.getParameter("parentFilterItem").getProperty("key");if(K==="items"){w(A.getParameter("parentFilterItem"));}if(K==="range"){y();}}});i._setupFilterFirstPage(z);return z;});};u.prototype._setupHeaderToolbar=function(){var i=this,j=function(w){i._objects.register(w.name,function(){var x=new e(i.getId()+"-"+w.name,{type:B.Transparent,icon:w.icon,tooltip:w.tooltip,press:w.fnPress});x.setLayoutData(new h({priority:w.priority}));return x;});};j({name:"filterIcon",icon:"sap-icon://add-filter",tooltip:r.getText("TIMELINE_FILTER_BY"),fnPress:[i._openFilterDialog,i],priority:k.NeverOverflow,visible:i.getShowItemFilter()||i.getShowTimeFilter()});j({name:"sortIcon",icon:"sap-icon://arrow-bottom",tooltip:r.getText("TIMELINE_SORT"),fnPress:[i._sortClick,i],priority:k.High,visible:i.getSort()&&i.getShowSort()});var v=new b();this._objects.register("searchFieldLabel",function(){return new n(i.getId()+"-searchFieldLabel",{text:r.getText("TIMELINE_ACCESSIBILITY_SEARCH")});});this._objects.register("searchField",function(){var w=new S(i.getId()+"-searchField",{width:"14rem",ariaLabelledBy:i._objects.getSearchFieldLabel().getId(),search:function(E){i._search(E.getSource().getValue());},visible:i.getShowSearch()});w.setLayoutData(new h({priority:k.Low}));return w;});this._objects.register("headerBar",function(){var w=[];if(i._isVertical()){w=[v,i._objects.getSearchFieldLabel(),i._objects.getSearchField(),i._objects.getSortIcon(),i._objects.getFilterIcon()];}else{w=[i._objects.getSortIcon(),i._objects.getFilterIcon(),i._objects.getSearchFieldLabel(),i._objects.getSearchField()];}var H=new O(i.getId()+"-headerBar",{content:w,visible:i.getShowHeaderBar()});H.addStyleClass("sapSuiteUiCommonsTimelineHeaderBar");H.setParent(i);return H;});};u.prototype._setupAccessibilityItems=function(){var i=this;this._objects.register("accessibilityTitle",function(){return new n(i.getId()+"-accessibilityTitle",{text:r.getText("TIMELINE_ACCESSIBILITY_TITLE")});});};}};return t;},true);
