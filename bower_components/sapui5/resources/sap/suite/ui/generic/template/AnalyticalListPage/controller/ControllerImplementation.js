sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/model/json/JSONModel","sap/m/ObjectIdentifier","sap/m/Table","sap/m/Text","sap/ui/comp/smartfield/SmartField","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/base/EventProvider","sap/suite/ui/generic/template/AnalyticalListPage/extensionAPI/ExtensionAPI","sap/ui/core/ResizeHandler","sap/suite/ui/generic/template/AnalyticalListPage/controller/FilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/ToolbarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterDialogController","sap/suite/ui/generic/template/lib/MessageUtils","sap/m/MessageBox","sap/ui/table/Table","sap/ui/table/AnalyticalTable","sap/ui/model/odata/AnnotationHelper","sap/ui/model/analytics/odata4analytics","sap/suite/ui/generic/template/AnalyticalListPage/util/ModelUtil","sap/suite/ui/generic/template/AnalyticalListPage/controller/ContentAreaController","sap/suite/ui/generic/template/AnalyticalListPage/util/FilterUtil"],function(q,B,J,O,T,a,S,b,E,c,R,F,d,V,f,M,g,U,A,h,j,k,C,l){"use strict";var m="sap.suite.ui.generic.template.customData",n="sap.suite.ui.generic.template.genericData",o="chart",p="visual",r="compact",s="Filter";function N(e){if(e){for(var P in e){e[P]=null;}}}return{getMethods:function(v,t,u){var w={};var I=false;var x=null;var y=null;var z={appStateKey:"",urlParams:{}};var D=false;var G=false;var H=false;function K(){var e={};e[m]={};var i=w.oController.getOwnerComponent().getModel("_templPriv");e[n]={chartVariantId:w.oSmartChart&&w.oSmartChart.getCurrentVariantId(),filterMode:i.getProperty('/alp/filterMode'),contentView:i.getProperty('/alp/contentView'),autoHide:i.getProperty('/alp/autoHide')};var m1=u.byId("editStateFilter");if(m1){e[n].editStateFilter=m1.getSelectedKey();}u.getCustomAppStateDataExtension(e[m]);return e;}function L(){var e=new b(w.oSmartFilterbar.getDataSuiteFormat());var m1=u.getVisibleSelectionsWithDefaults();for(var i=0;i<m1.length;i++){if(!e.getValue(m1[i])){e.addSelectOption(m1[i],"I","EQ","");}}if(w.oController.byId('template::PageVariant').currentVariantGetModified()&&e.getID()){e.setID("");}return{selectionVariant:e.toJSONString(),tableVariantId:w.oSmartTable&&w.oSmartTable.getCurrentVariantId(),customData:K()};}function P(){var e=L();try{x=t.oCommonUtils.getNavigationHandler().storeInnerAppStateWithImmediateReturn(e);}catch(i){q.sap.log.error("AnalyticalListPage.fnStoreCurrentAppStateAndAdjustURL: "+i);}if(x instanceof sap.ui.generic.app.navigation.service.NavError){x=null;return;}if(y!==x.appStateKey){z.appStateKey=x.appStateKey;}}function Q(){var e=u.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isLeaf",e.getIsLeaf());}function W(){var e=q.sap.getObject("sap.ushell.Container.getUser");var i=u.getOwnerComponent().getAppComponent().getMetadata().getManifestEntry("sap.ui");var m1=(i&&i.icons&&i.icons.icon)||"";var n1={bookmarkIcon:m1,bookmarkCustomUrl:function(){P();return hasher.getHash()?("#"+hasher.getHash()):window.location.href;},bookmarkServiceUrl:function(){var p1=w.oSmartTable.getTable();var q1;if(p1){q1=p1.getBinding("rows")||p1.getBinding("items");}else{q1="";}return q1?q1.getDownloadUrl()+"&$top=0&$inlinecount=allpages":"";},isShareInJamActive:!!e&&e().isJamActive()};var o1=u.getOwnerComponent().getModel("_templPriv");o1.setProperty("/listReport/share",n1);}function X(e){if(e&&e.editStateFilter!==undefined){var i=u.byId("editStateFilter");if(i){i.setSelectedKey((e.editStateFilter===null)?0:e.editStateFilter);}}var m1=w.oController.getOwnerComponent().getModel("_templPriv");if(e.chartVariantId&&w.oSmartChart){w.oSmartChart.setCurrentVariantId(e.chartVariantId);}if(e.filterMode){m1.setProperty('/alp/filterMode',e.filterMode);w.filterBarController.handleFilterSwitch(e.filterMode);}else{b1();}if(e.contentView){m1.setProperty('/alp/contentView',e.contentView);}if(e.autoHide){m1.setProperty('/alp/autoHide',e.autoHide);}}function Y(e){u.restoreCustomAppStateDataExtension(e||{});}function Z(e){e=e||{};if(e.hasOwnProperty(m)&&e.hasOwnProperty(n)){X(e[n]);Y(e[m]);}else{if(e._editStateFilter!==undefined){X({editStateFilter:e._editStateFilter});delete e._editStateFilter;}b1();Y(e);}}var $;function _(e,i){var m1=e&&e.property;return m1.filter(function(n1){return typeof n1[i]!=="undefined";});}function a1(i){var m1=i.getModel(),n1=m1&&m1.getMetaModel(),o1=n1&&n1.getODataEntityType(i.getEntityType()),p1=n1&&n1.getODataEntityType(i.getEntityType(),true),q1=o1&&_(o1,"com.sap.vocabularies.Common.v1.FilterDefaultValue"),r1,s1,t1,u1,v1,w1,x1=[];try{s1=new j.Model(new j.Model.ReferenceByModel(m1));w1=s1&&s1.findQueryResultByName(i.getEntitySet());t1=w1&&w1.getParameterization();u1=t1&&n1.getODataEntitySet(t1.getEntitySet().getQName());v1=u1&&n1.getODataEntityType(u1.entityType);x1=v1?_(v1,"defaultValue"):[];}catch(e){q.sap.log.Error(e);}if(q1.length>0||x1.length>0){r1={"SelectOptions":[],"Parameters":[]};q1.forEach(function(y1){var z1=n1.createBindingContext(p1+"/property/[${path:'name'}===\'"+y1.name+"']/com.sap.vocabularies.Common.v1.FilterDefaultValue"),A1={"PropertyName":y1.name,"Ranges":[{"Sign":"I","Option":"EQ","Low":h.format(z1),"High":null}]};r1.SelectOptions.push(A1);});x1.forEach(function(y1){var z1={"PropertyName":"$Parameter."+y1.name,"PropertyValue":y1.defaultValue};r1.Parameters.push(z1);});}return r1;}function b1(){var e=w.oController.getOwnerComponent().getModel("_templPriv"),i=w.oSmartFilterbar.isCurrentVariantStandard()?w.oController.getOwnerComponent().getDefaultFilterMode():e.getProperty('/alp/filterMode');if(i===p&&w.hideVisualFilter){q.sap.log.error("Visual filter is hidden defaulting to compact");i=r;}w.filterBarController.setDefaultFilter(i);}function c1(){var e=w.oController.getOwnerComponent().getModel("_templPriv");if(e.getProperty('/alp/filterMode')===p){if(!e.getProperty("/alp/searchable")){w.oSmartFilterbar.showFilterDialog();}}}function d1(e){var i=e.getSource(),m1=a1(i);if(m1){i.setDataSuiteFormat(JSON.stringify(m1),true);}$=t.oCommonUtils.getNavigationHandler().parseNavigation();u.onInitSmartFilterBarExtension(e);}function e1(){if(w.oSmartFilterbar.isInitialised()){w.oSmartFilterbar.checkSearchAllowed(w);}}function f1(){e1();c1();var e=w.oController.getOwnerComponent().getModel("_filter");e.setData(q.extend(true,{},w.oSmartFilterbar.getFilterData(true)));w.filterBarController._updateFilterLink();if(w.alr_visualFilterBar&&w.alr_visualFilterBar.updateVisualFilterBindings){w.alr_visualFilterBar.updateVisualFilterBindings(true);}}function g1(e,i){var m1=w.oSmartFilterbar.determineMandatoryFilterItems();var n1;for(var o1=0;o1<m1.length;o1++){if(m1[o1].getName().indexOf("$Parameter.P_DisplayCurrency")!==-1){var p1=i.oSelectionVariant.getSelectOption("DisplayCurrency");if(p1&&p1[0]&&p1[0].Low){n1=p1[0].Low;}else if(l.readProperty(i,"oDefaultedSelectionVariant._mSelectOptions.DisplayCurrency.0.Low")){n1=i.oDefaultedSelectionVariant._mSelectOptions.DisplayCurrency[0].Low;}if(n1){e.addParameter("$Parameter.P_DisplayCurrency",n1);}if(w.alr_visualFilterBar&&n1){w.alr_visualFilterBar.setDisplayCurrency(n1);}break;}}}function h1(e){var m1=e.getParameterNames().concat(e.getSelectOptionsPropertyNames());for(var i=0;i<m1.length;i++){w.oSmartFilterbar.addFieldToAdvancedArea(m1[i]);}if(w.alr_visualFilterBar){w.alr_visualFilterBar.addVisualFiltersToBasicArea(m1);}}function i1(e){w.oSmartFilterbar.clearVariantSelection();w.oSmartFilterbar.clear();w.oSmartFilterbar.setDataSuiteFormat(e.toJSONString(),true);}function j1(){var e=q.extend(true,{},w.oSmartFilterbar.getFilterData(true)),i=w.oController.getOwnerComponent().getModel("_filter");i.setData(e);w.filterBarController._updateFilterLink();}function k1(e,i,m1){w.oSmartFilterbar.setSuppressSelection(false);var n1=e.appStateKey||"";if(I){return;}y=n1;I=true;var o1=(!n1&&i)||{};if(m1!==sap.ui.generic.app.navigation.service.NavType.initial){var p1=e&&e.bNavSelVarHasDefaultsOnly;var q1=new b(e.selectionVariant);g1(q1,e);h1(q1);if(!p1||w.oSmartFilterbar.isCurrentVariantStandard()){i1(q1);}if(e.tableVariantId&&w.oSmartTable){w.oSmartTable.setCurrentVariantId(e.tableVariantId);}var r1=w.oController.getOwnerComponent().getModel("_templPriv");if(m1===sap.ui.generic.app.navigation.service.NavType.xAppState&&r1.getProperty('/alp/filterMode')===p){j1();}if(e.customData){Z(e.customData);}else{b1();}if(!p1){w.oSmartFilterbar.search();}z={appStateKey:n1,urlParams:o1};}else{b1();}f1();x=null;I=false;}function l1(){try{$.done(k1);$.fail(function(i){if(i instanceof Error){i.showMessageBox();}b1();f1();});}catch(e){b1();f1();}}return{onInit:function(){var e=u.getOwnerComponent();var m1=e.getModel("_templPriv");m1.setProperty("/alp",{filterMode:e.getHideVisualFilter()?r:e.getDefaultFilterMode(),contentView:e.getDefaultContentView(),autoHide:e.getAutoHide()});w.hideVisualFilter=e.getHideVisualFilter();w.hideVisualFilter=(w.hideVisualFilter===undefined||w.hideVisualFilter!==true)?false:true;w.oSmartFilterbar=u.byId("template::SmartFilterBar");w.oSmartTable=u.byId("table");w.oPage=u.byId("template::Page");w.oSmartChart=u.byId("chart");w.alr_compactFilterContainer=u.byId("template::CompactFilterContainer");w.alr_visualFilterContainer=u.byId("template::VisualFilterContainer");w.alr_filterContainer=u.byId("template::FilterContainer");w.alr_visualFilterBar=u.byId("template::VisualFilterBar");if(w.alr_visualFilterBar){w.alr_visualFilterBar.setSmartFilterId(w.oSmartFilterbar.getId());}w.oKpiTagContainer=u.byId("template::KpiTagContainer");if(w.oKpiTagContainer){q.sap.require("sap.suite.ui.generic.template.AnalyticalListPage.controller.KpiTagController");sap.suite.ui.generic.template.AnalyticalListPage.controller.KpiTagController.init(w);}w.oContentArea=new C();w.oTemplateUtils=t;w.toolbarController=new d();w.oController=u;w.filterBarController=new F();w.filterBarController.init(w);w.oContentArea.createAndSetCustomModel(w);w.oContentArea.setState(w);if(!w.hideVisualFilter){w.visualFilterBarContainer=new V();w.visualFilterBarContainer.init(w);}Q();W();u.byId("template::FilterText").attachBrowserEvent("click",function(){u.byId("template::Page").setHeaderExpanded(true);});m1.setProperty("/listReport/isHeaderExpanded",true);if(w.oSmartTable){var n1=w.oSmartTable.getTable();}var o1="sapUiSizeCompact",p1="sapUiSizeCondensed";if(n1 instanceof U||n1 instanceof A){var q1=u.getView();var r1=q(document.body);if(r1.hasClass(o1)||q1.hasStyleClass(o1)){var s1=e.getComponentContainer().getSettings().condensedTableLayout;if(s1===false){w.oSmartTable.addStyleClass(o1);}else{w.oSmartTable.addStyleClass(p1);}}}v.getUrlParameterInfo=function(){return $.then(function(){if(z.appStateKey){return{"sap-iapp-state":[z.appStateKey]};}return z.urlParams;});};v.onComponentActivate=function(){};v.refreshBinding=function(){if(w.alr_visualFilterBar&&w.alr_visualFilterBar.updateVisualFilterBindings){w.alr_visualFilterBar.updateVisualFilterBindings();}if(w.oSmartChart&&w.oSmartChart.rebindChart){w.oSmartChart.rebindChart();}if(w.oSmartTable){t.oCommonUtils.refreshSmartTable(w.oSmartTable);}if(w.oKpiTagContainer){var t1=w.oKpiTagContainer.mAggregations.content;for(var i in t1){if(t1[i].getModelName&&t1[i].getModelName()==="kpi"){t1[i]._firstTime=true;t1[i].onBeforeRendering();}}}};w.oSmartFilterbar.attachFilterChange(function(i){var t1=w.oSmartChart&&w.oSmartChart.getChart()&&w.oSmartChart.getDrillStackFilters();if(t1&&t1.length){w.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',false);}else{w.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',true);}e1();var u1=i.getSource(),v1=q.extend(true,{},u1.getFilterData(true)),w1=w.oController.getOwnerComponent().getModel("_filter");w1.setData(v1);if(i.getParameters().filterItem){w.filterBarController.changeVisibility(i);w.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',false);}w.filterBarController._updateFilterLink();});},handlers:{onBack:function(){t.oServices.oNavigationController.navigateBack();},addEntry:function(e){var i=e.getSource();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){t.oCommonEventHandlers.addEntry(i,false,w.oSmartFilterbar);},q.noop,w);},deleteEntries:function(e){t.oCommonEventHandlers.deleteEntries(e);},onSelectionChange:function(e){var m1=e.getSource(),n1=m1.getModel(),o1=m1.getModel("_templPriv");var p1=n1.getMetaModel(),q1=p1.getODataEntitySet(this.getOwnerComponent().getEntitySet()),r1=q1["Org.OData.Capabilities.V1.DeleteRestrictions"];var s1=(r1&&r1.Deletable&&r1.Deletable.Path)?r1.Deletable.Path:"";var t1=false;var u1=true;var v1=(s1&&s1!=="");var w1=t.oCommonUtils.getSelectedContexts(m1);if(w1.length>0){for(var i=0;i<w1.length;i++){var x1=n1.getObject(w1[i].getPath());if(!(x1.IsActiveEntity&&x1.HasDraftEntity&&x1.DraftAdministrativeData&&x1.DraftAdministrativeData.InProcessByUser)){u1=false;}if(v1){if(n1.getProperty(s1,w1[i])){v1=false;}}if(!u1&&!v1){t1=true;break;}}}o1.setProperty("/listReport/deleteEnabled",t1);},onChange:function(e){t.oCommonEventHandlers.onChange(e);},onSmartFieldUrlPressed:function(e){t.oCommonEventHandlers.onSmartFieldUrlPressed(e,w);},onContactDetails:function(e){t.oCommonEventHandlers.onContactDetails(e);},onSmartFilterBarInitialise:d1,onSmartFilterBarInitialized:l1,onEditStateFilterChanged:function(e){e.getSource().fireChange();},onFilterPress:function(e){w.filterBarController.showDialog.call(w.filterBarController);},onClearPress:function(e){w.filterBarController.clearFilters();u.onClearFilterExtension(e);},onGoPress:function(e){w.filterBarController.onGoFilter();},onBeforeSFBVariantSave:function(){var e=L();if(!this.getOwnerComponent().getProperty('smartVariantManagement')){delete e.customData["sap.suite.ui.generic.template.genericData"].contentView;}w.oSmartFilterbar.setFilterData({_CUSTOM:e.customData});},onAfterSFBVariantLoad:function(){var e=w.oSmartFilterbar.getFilterData();if(e._CUSTOM!==undefined){Z(e._CUSTOM);}else{var i=K();N(i[m]);N(i[n]);Z(i);}if(!H&&l.isDefaultVariantSelected(w)){H=true;return;}else if(!H&&!l.isDefaultVariantSelected(w)){H=true;}P();},onBeforeRebindTable:function(e){t.oCommonEventHandlers.onBeforeRebindTable(e);u.onBeforeRebindTableExtension(e);},onBeforeRebindChart:function(e){},onShowDetails:function(e){t.oCommonEventHandlers.onShowDetails(e.getSource(),w);},onListNavigate:function(e){t.oCommonEventHandlers.onListNavigate(e.getSource(),w);},onCallActionFromToolBar:function(e){var i=t.oCommonUtils.getParentTable;t.oCommonUtils.getParentTable=function(){return w.oSmartTable;};t.oCommonEventHandlers.onCallActionFromToolBar(e,w);t.oCommonUtils.getParentTable=i;i=null;},onShowDetailsIntent:function(e){t.oCommonEventHandlers.onShowDetailsIntent(e,w.oSmartFilterbar);},onCallActionFromList:function(e){},onDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldForIntentBasedNavigation(e,w);},onBeforeSemanticObjectLinkPopoverOpens:function(e){var i=e.getParameters();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){var m1=w.oSmartFilterbar.getDataSuiteFormat();t.oCommonUtils.semanticObjectLinkNavigation(i,m1,u);},q.noop,w,q.noop);},onAssignedFiltersChanged:function(e){if(e&&e.getSource()){if(w&&w.oSmartFilterbar&&w.filterBarController){u.byId("template::FilterText").setText(w.oSmartFilterbar.retrieveFiltersWithValuesAsText());}}},onToggleFiltersPressed:function(){var e=u.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isHeaderExpanded",(i.getProperty("/listReport/isHeaderExpanded")===true)?false:true);},onSearchButtonPressed:function(){var e=u.getOwnerComponent().getModel();e.attachEventOnce("requestSent",function(){P();});var i=function(m1){M.handleError("getCollection",this,t.oServices,m1.getParameters());var n1=this.getView().byId("table");n1.getTable().setBusy(false);M.handleTransientMessages(t.oServices.oApplication.getDialogFragmentForView.bind(null,null));}.bind(this);e.attachEventOnce("requestFailed",i);e.attachEventOnce("requestCompleted",function(m1){if(m1.getParameter("success")){e.detachEvent("requestFailed",i);}});},onSemanticObjectLinkPopoverLinkPressed:function(e){P();t.oCommonEventHandlers.onSemanticObjectLinkPopoverLinkPressed(e,w);},onAfterTableVariantSave:function(){P();},onAfterApplyTableVariant:function(){if(!D&&l.isDefaultVariantSelected(w)){D=true;return;}else if(!D&&!l.isDefaultVariantSelected(w)){D=true;}P();},onAfterChartVariantSave:function(){P();},onAfterApplyChartVariant:function(){if(!G&&l.isDefaultVariantSelected(w)){G=true;return;}else if(!G&&!l.isDefaultVariantSelected(w)){G=true;}P();},onFilterModeSegmentedButtonChange:function(e){w.filterBarController.handleFilterSwitch(e.getParameter("key"),e.oSource._bApplyingVariant);w.oController._templateEventHandlers.onSegmentButtonPressed();},onSegmentButtonPressed:function(i){if(!i){w.oController.byId('template::PageVariant').currentVariantSetModified(true);w.oSmartFilterbar.setFilterData({_CUSTOM:K()});}P();},onShareListReportActionButtonPress:function(e){if(!w.oShareActionSheet){w.oShareActionSheet=t.oCommonUtils.getDialogFragment("sap.suite.ui.generic.template.fragments.lists.ShareSheet",{shareEmailPressed:function(){P();sap.m.URLHelper.triggerEmail(null,t.oCommonUtils.getText("EMAIL_HEADER",[t.oServices.oApplication.getAppTitle()]),document.URL);},shareJamPressed:function(){P();var i=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:t.oServices.oApplication.getAppTitle()}}});i.open();}},"share",function(i,m1){var n1=sap.ui.getCore().getLibraryResourceBundle("sap.m");m1.setProperty("/emailButtonText",n1.getText("SEMANTIC_CONTROL_SEND_EMAIL"));m1.setProperty("/jamButtonText",n1.getText("SEMANTIC_CONTROL_SHARE_IN_JAM"));m1.setProperty("/bookmarkButtonText",n1.getText("SEMANTIC_CONTROL_SAVE_AS_TILE"));var o1=q.sap.getObject("sap.ushell.Container.getUser");m1.setProperty("/jamVisible",!!o1&&o1().isJamActive());i.openBy(e.getSource());});}else{w.oShareActionSheet.openBy(e.getSource());}},onChartDeterminingDataFieldForAction:function(e){var i=t.oCommonUtils.getSelectedContexts(w.oSmartChart);var m1=e.getSource();var n1=t.oCommonUtils.getElementCustomData(m1);var o1=this.getView().getBindingPath();t.oCommonUtils.triggerAction(i,o1,n1);},onDeterminingDataFieldForAction:function(e){var i=w.oSmartTable.getTable();var m1=t.oCommonUtils.getSelectedContexts(i);if(m1.length===0){g.error(t.oCommonUtils.getText("ST_GENERIC_NO_ITEM_SELECTED"),{styleClass:t.oCommonUtils.getContentDensityClass()});}else{var n1=e.getSource();var o1=t.oCommonUtils.getElementCustomData(n1);var p1=w.oSmartTable.getTableBindingPath();t.oCommonUtils.triggerAction(m1,p1,o1,i);}},onDeterminingDataFieldForIntentBasedNavigation:function(e){var i=e.getSource();var m1=t.oCommonUtils.getElementCustomData(i);var n1=i.getParent().data(s);var o1=w.oSmartTable.getTable();var p1=t.oCommonUtils.getSelectedContexts(o1);if(n1===o){p1=t.oCommonUtils.getSelectedContexts(w.oSmartChart);}var q1=!(m1.RequiresContext&&m1.RequiresContext==="false");if(q1&&p1.length===0){g.error(t.oCommonUtils.getText("ST_GENERIC_NO_ITEM_SELECTED"),{styleClass:t.oCommonUtils.getContentDensityClass()});}else if(q1&&p1.length>1){g.error(t.oCommonUtils.getText("ST_GENERIC_MULTIPLE_ITEMS_SELECTED"),{styleClass:t.oCommonUtils.getContentDensityClass()});}else{var r1=q1?p1[0]:null;t.oCommonEventHandlers.onDataFieldForIntentBasedNavigationSelectedContext(r1,m1,w);}},onInlineDataFieldForAction:function(e){var i=e.getSource();var m1=t.oCommonUtils.getElementCustomData(i);var n1=t.oCommonUtils.getOwnerControl(i);var o1=n1.getParent().getTableBindingPath();var p1=[i.getBindingContext()];t.oCommonUtils.triggerAction(p1,o1,m1,n1,w);},onInlineDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onInlineDataFieldForIntentBasedNavigation(e.getSource(),w);},onAutoHideToggle:function(){w.chartController.updateTable();P();},onFullScreenToggled:function(e){var i=e.getParameter("fullScreen");var m1=e.getSource().getModel("_templPriv");m1.setProperty("/alp/fullScreen",i);},onDialogOpened:function(e){var i=w.oSmartFilterbar.getFilterDialogContent();if(!w.visualFilterDialogContainer){w.visualFilterDialogContainer=new f();w.visualFilterDialogContainer.init(w);}if(i.length<2){var m1=[new sap.m.SegmentedButtonItem({icon:"sap-icon://filter-fields",width:"inherit",key:r,tooltip:"{i18n>FILTER_COMPACT}"}),new sap.m.SegmentedButtonItem({icon:"sap-icon://filter-analytics",width:"inherit",key:p,tooltip:"{i18n>FILTER_VISUAL}",enabled:"{_templPriv>/alp/searchable}"})];var n1=new sap.m.SegmentedButton({width:"inherit",selectedKey:r,items:m1,select:function(e){var r1=e.getSource();r1.setSelectedKey(r);w.visualFilterDialogContainer._toggle.call(w.visualFilterDialogContainer);}});var o1=w.visualFilterDialogContainer._createForm();w.oSmartFilterbar.addFilterDialogContent(o1);var p1=new sap.m.OverflowToolbar({design:sap.m.ToolbarDesign.Transparent,content:[new sap.m.ToolbarSpacer(),n1]}).addStyleClass("sapSmartTemplatesAnalyticalListPageFilterDialogToolbar");i[0].setToolbar(p1);n1.setModel(w.oController.getView().getModel("_templPriv"),"_templPriv");}var q1=w.oController.getView().getModel("_templPriv");if(q1.getProperty("/alp/searchable")){if(q1.getProperty("/alp/filterMode")===p){w.oSmartFilterbar.addFilterDialogContent(i[1]);w.oSmartFilterbar.setContentWidth(790);w.oSmartFilterbar.setContentHeight(685);}else{w.oSmartFilterbar.addFilterDialogContent(i[0]);}}else{w.oSmartFilterbar.addFilterDialogContent(i[0]);}},onSearchForFilters:function(e){w.visualFilterDialogContainer._triggerSearchInFilterDialog.call(w.visualFilterDialogContainer,e);},onDialogSearch:function(e){w.visualFilterDialogContainer._searchDialog.call(w.visualFilterDialogContainer);},onDialogCancel:function(e){w.visualFilterDialogContainer._cancelDialog.call(w.visualFilterDialogContainer);},onRestore:function(e){w.visualFilterDialogContainer._restoreDialog.call(w.visualFilterDialogContainer);},onDataReceived:function(e){w.oContentArea.enableToolbar();t.oCommonEventHandlers.onDataReceived(e);},onRowSelectionChange:function(e){var i=e.getSource();t.oCommonUtils.setEnabledToolbarButtons(i);}},extensionAPI:new c(t,u,w)};}};});
