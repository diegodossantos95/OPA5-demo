sap.ui.define(["sap/ui/base/Object","sap/ui/model/Context","sap/suite/ui/generic/template/AnalyticalListPage/util/OperationCode","jquery.sap.global"],function(B,C,O,q){"use strict";var F=B.extend("sap.suite.ui.generic.template.AnalyticalListPage.util.FilterUtil");F.createTitle=function(d,D){var t;if(!d){return D;}if(D instanceof Date){return d;}if(d.indexOf(':')!==-1){d=d.substring(0,d.indexOf(':'));}if(d.indexOf(D)===-1){t=d+" ("+D+")";}else{t=d;}return t;};F.readProperty=function(o,n){var i=0,p=typeof n==='string'?n.split("."):[];while(i<p.length){if(!o){return undefined;}o=o[p[i++]];}return o;};F.executeFunction=function(o,f,a){var i=0,p,P=typeof f==='string'?f.split("."):[];while(i<P.length){if(!o){return undefined;}p=o;o=o[P[i++]];}return typeof o==='function'?o.apply(p,a):undefined;};F.createTitleFromCode=function(f){var v=F.readProperty(f,"value1"),V=F.readProperty(f,"value2"),o=F.readProperty(f,"operation"),r;if(!v||!o||!O[o]){return undefined;}if(V&&o!=="EQ"){r=v+O[o].code+V;}else if(O[o].position==="last"){r=v+O[o].code;}else if(O[o].position==="mid"){r=O[o].code+v+O[o].code;}else{r=O[o].code+v;}if(f.exclude){r="!("+r+")";}return r;};F.formatFiltersLink=function(c){var i=this.getModel("i18n"),r=i.getResourceBundle();var l=c?(Object.keys(c).length-(Object.keys(c).indexOf("_CUSTOM")!==-1)):0;return(c&&l)?r.getText("VISUAL_FILTER_FILTERS_WITH_COUNT",[l]):r.getText("VISUAL_FILTER_FILTERS");};F.getBooleanValue=function(v,d){if(v&&v.Bool){if(v.Bool.toLowerCase()==="true"){return true;}else if(v.Bool.toLowerCase()==="false"){return false;}}return d;};F.getPrimitiveValue=function(v){var a;if(v){if(v.String){a=v.String;}else if(v.Bool){a=F.getBooleanValue(v);}else if(v.EnumMember){a=v.EnumMember.split("/")[1];}else{a=F.getNumberValue(v);}}return a;};F.getNumberValue=function(v){if(v){var V=Object.keys(v)[0];return(v&&V&&["String","Int","Decimal","Double","Single"].indexOf(V)!==-1)?Number(v[V]):undefined;}};F.getPathOrPrimitiveValue=function(i){if(i){return(i.Path)?"{path:'"+i.Path+"'}":F.getPrimitiveValue(i);}else{return"";}};F.isFilterDiff=function(f,a){if(q.isArray(f)!=q.isArray(a)){return true;}if(q.isArray(f)){return this.isFilterListDiff(f,a);}else{return this.isFilterObjDiff(f,a);}};F.isFilterObjDiff=function(f,b){if(!f||!b){return true;}for(var a in f){if(a=="aFilters"){if(this.isFilterListDiff(f.aFilters,b.aFilters)){return true;}}else if(f[a]!=b[a]){return true;}}return false;};F.getDateInMedium=function(d){return(d instanceof Date)?sap.ui.core.format.DateFormat.getDateInstance({style:"medium"}).format(d):undefined;};F.isDefaultVariantSelected=function(s){var v=s.oSmartFilterbar.getSmartVariant();return(v&&v.getCurrentVariantId()===v.getDefaultVariantKey());};F.isFilterListDiff=function(l,L){if(!l||!L){return true;}if(l.length!=L.length){return true;}for(var i=0;i<l.length;i++){var f=l[i];var a=L[i];if(this.isFilterObjDiff(f,a)){return true;}}return false;};F.getTextArrangement=function(d,i,t){var l,D=d?d:i,s=(d&&i)?d+" ("+i+")":D;if(i!=="__IS_OTHER__"&&i!=="Other"){switch(t){case sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionAndId:l=s;break;case sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionOnly:l=d?d:"";break;case sap.ui.comp.smartfilterbar.DisplayBehaviour.idAndDescription:l=(d&&i)?i+" ("+d+")":D;break;case sap.ui.comp.smartfilterbar.DisplayBehaviour.idOnly:l=i?i:"";break;default:l=s;break;}}else{l=d;}return l;};F.getTooltipForValueHelp=function(i,r,s){var v=i?r.getText("VALUEHELP"):s;if(s){return i?(v+" "+r.getText("WITH")+" "+s):s;}return v;};return F;},true);
