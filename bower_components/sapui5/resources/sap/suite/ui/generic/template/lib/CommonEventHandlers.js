sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/core/format/DateFormat","sap/m/Select","sap/m/MessageBox","sap/m/MessageToast","sap/m/Table","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/comp/smartfilterbar/SmartFilterBar","sap/ui/table/AnalyticalTable","sap/ui/table/Table","sap/ui/model/odata/type/Time","sap/suite/ui/generic/template/lib/testableHelper","sap/ui/table/TreeTable","sap/ui/model/json/JSONModel","sap/ui/core/mvc/ViewType"],function(q,B,D,S,M,a,T,F,b,c,A,U,d,t,e,J,V){"use strict";function g(p){var s="";var m=[];var i;return function(C){var l="";var j=p;var o;for(var h in m){if(m[h].path===p){o=m[h];break;}}if(!o){var n=C.getModel("entitySet").getMetaModel();var r=n.getObject(n.getMetaContext(C.sPath).sPath);var P=n.getObject(n.getMetaContext(C.sPath+"/"+p).sPath);if(P){var u=" ";for(var k=0;P.extensions&&k<P.extensions.length;k++){if(P.extensions[k].namespace==="http://www.sap.com/Protocols/SAPData"){switch(P.extensions[k].name){case"display-format":u=P.extensions[k].value;break;case"label":l=P.extensions[k].value;break;case"text":var v=P.extensions[k].value;var w=p.split("/");w[w.length-1]=v;j=w.join("/");break;default:break;}}}if(l===""){l=p;}i=sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangement(r,P);o={path:p,data:{type:P.type,displayFormat:u,label:l,textPath:j,textArrangement:i}};m.push(o);}}l=o.data.label;var x=C.getProperty(p);var y;if(o.data.textPath&&o.data.textPath!==""){y=C.getProperty(o.data.textPath);}switch(o.data.type){case"Edm.DateTime":if(o.data.displayFormat==="Date"){var z=D.getDateInstance({style:"medium"});var E=new Date(0).getTimezoneOffset()*60*1000;if(x&&x!==""&&x.getTime){x=z.format(new Date(x.getTime()+E));}}break;case"Edm.Time":if(x&&x!==""){var G=new d();x=G.formatValue(x,"string");}break;case"Edm.Boolean":if(x===true){x="{i18n>YES}";}else if(x===false){x="{i18n>NO}";}break;default:break;}if(!y||o.data.textPath===p){s=x?x:"";}else{switch(o.data.textArrangement){case"idAndDescription":s=x+" ("+y+")";break;case"idOnly":s=x;break;case"descriptionOnly":s=y;break;default:s=y+" ("+x+")";break;}}return{key:s?s:p,text:l?l+": "+s:s};};}function f(C,o,s,h){function E(i){var j={};for(var k in i){var r1=i[k];if(typeof r1==="string"){j[k]=r1;}else if(typeof r1==="object"){if(r1.value){j[k]=E(r1).value;}else{j[k]=r1;}}}return j;}function H(i){if(i instanceof sap.ui.generic.app.navigation.service.NavError){if(i.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){sap.m.MessageBox.show(h.getText("ST_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:h.getText("ST_GENERIC_ERROR_TITLE")});}else{sap.m.MessageBox.show(i.getErrorCode(),{title:h.getText("ST_GENERIC_ERROR_TITLE")});}}}function l(){var i=C.getView().getBindingContext();return s.oApplication.getDraftSiblingPromise(i);}function m(j){var k=j;var r1=-1;var s1=h.getOwnerControl(j);if(s1.getTable){s1=s1.getTable();}var t1=s1 instanceof A;var u1=o.getViewLevel();var v1;if(!t1){var w1=h.getTableBindingInfo(s1);var x1=w1&&w1.binding;var y1=null;if(x1){if(s1 instanceof e){var z1=(x1.getLength()>0)?x1.getLength():0;if(z1>0){y1=[];for(var A1=0;A1<z1;A1++){y1.push(x1.getContextByIndex(A1));}}}else if(s1 instanceof U){y1=x1.getContexts();}else if(s1 instanceof T){y1=x1.getCurrentContexts();}}var B1=null;var C1=h.getSelectedContexts(s1);var D1=null;if(C1&&C1.length>0){D1=C1[0].getPath();}else if(k){D1=k.getBindingContext()?k.getBindingContext().sPath:null;}if(x1&&x1.getContexts&&D1){for(var i=0;i<y1.length;i++){B1=y1[i];if(B1.getPath()===D1){r1=i;break;}}}if(s1&&r1!==-1&&y1.length>0){var E1;if(s1 instanceof T){E1=s1.getGrowingThreshold();}else if(s1 instanceof U){E1=s1.getThreshold();}var F1=u1>0?h.getTableBindingInfo(s1).path:null;var G1=function(I1){return{context:I1,navigationData:{navigationProperty:F1}};};v1=y1&&{listBinding:x1,growingThreshold:E1,selectedRelativeIndex:r1,objectPageNavigationContexts:y1,navigitionInfoProvider:G1};}}var H1=C.getOwnerComponent().getModel("_templPrivGlobal");H1.setProperty("/generic/paginatorInfo/"+u1,v1);}function n(j,k){var r1=C.getView().getModel().getMetaModel();var s1=k;var t1=r1.getODataEntitySet(j,false);var u1=r1.getODataEntityType(t1.entityType,false);var v1=u1.key.propertyRef;var i;var w1=s.oDraftController.getDraftContext();if(w1.isDraftEnabled(j)){v1=v1.concat(w1.getSemanticKey(j));v1.push({name:"IsActiveEntity"},{name:"HasDraftEntity"},{name:"HasActiveEntity"});}if(s1.parameters.select&&s1.parameters.select.length>0){var x1=s1.parameters.select.split(",");for(i=0;i<v1.length;i++){if(q.inArray(v1[i].name,x1)===-1){s1.parameters.select+=","+v1[i].name;x1=s1.parameters.select.split(",");}}}return s1;}function p(i,j){var k=i.getSource().getUrl();i.preventDefault();h.processDataLossConfirmationIfNonDraft(function(){sap.m.URLHelper.redirect(k,false);},q.noop,j);}function r(i,j){i.preventDefault();var k=i.getSource().getHref();h.processDataLossConfirmationIfNonDraft(function(){window.location.hash=k;},q.noop,j);}function u(j){var k=[];return h.getDialogFragment("sap.suite.ui.generic.template.ListReport.view.fragments.DeleteConfirmation",{onCancel:function(i){var r1=i.getSource().getParent();r1.close();},onDelete:function(r1){var s1=r1.getSource().getParent();var t1=s1.getModel("delete");var u1=t1.getProperty("/items");var v1=[];var w1=[];var x1=[];k=[];for(var i=0;i<u1.length;i++){if(!u1[i].draftStatus.locked&&u1[i].deletable){if(!u1[i].draftStatus.draft){if(u1[i].draftStatus.draftActive){x1.push(u1[i].context.sPath);}else if(u1.length===t1.getProperty("/unsavedChangesItemsCount")||!u1[i].draftStatus.unsavedChanges||t1.getProperty("/checkboxSelected")){v1.push(u1[i].context.sPath);}}else{w1.push(u1[i].context.sPath);k.push(u1[i].context.sPath);}}}w1=w1.concat(v1).concat(x1);s.oCRUDManager.deleteEntities(w1).then(function(y1){var z1=0;var A1=[];for(var i=0;i<y1.length;i++){A1.push("/"+y1[i].split('/')[1]);if(k.indexOf(A1[i])!==-1){z1=z1+1;}}var B1=j.getTable();B1.getModel("_templPriv").setProperty("/listReport/deleteEnabled",false);var C1=w1.length-x1.length-(y1.length-z1);if((y1.length-z1)>0){var D1="";if(C1>0){D1+=(C1>1)?h.getText("ST_GENERIC_DELETE_SUCCESS_PLURAL_WITH_COUNT",[C1]):h.getText("ST_GENERIC_DELETE_SUCCESS_WITH_COUNT",[C1]);D1+="\n";D1+=(y1.length>1)?h.getText("ST_GENERIC_DELETE_ERROR_PLURAL_WITH_COUNT",[y1.length]):h.getText("ST_GENERIC_DELETE_ERROR_WITH_COUNT",[y1.length]);}else{D1=(y1.length>1)?h.getText("ST_GENERIC_DELETE_ERROR_PLURAL"):h.getText("ST_GENERIC_DELETE_ERROR");}M.error(D1);}else{var E1="";E1=(C1>1)?h.getText("ST_GENERIC_DELETE_SUCCESS_PLURAL"):h.getText("ST_GENERIC_OBJECT_DELETED");s.oApplication.showMessageToast(E1);}h.refreshSmartTable(j);},function(y1){M.error(h.getText("ST_GENERIC_DELETE_ERROR_PLURAL",[w1.length]),{styleClass:h.getContentDensityClass()});});s1.close();}},"delete");}function v(i,j){return new Promise(function(k,r1){j.read(i+"/SiblingEntity",{success:function(s1){var t1="/"+j.getKey(s1);k(t1);},error:function(s1){var t1="Error";k(t1);}});});}function w(j){var k=C.getView().getModel();var r1=k.getMetaModel();var s1=r1.getODataEntitySet(C.getOwnerComponent().getEntitySet());var t1=s1["Org.OData.Capabilities.V1.DeleteRestrictions"];var u1=(t1&&t1.Deletable&&t1.Deletable.Path)?t1.Deletable.Path:"";var v1={items:undefined,itemsCount:j.length,text:{title:undefined,shortText:undefined,unsavedChanges:undefined,longText:undefined,undeletableText:undefined},lockedItemsCount:0,unsavedChangesItemsCount:0,undeletableCount:0,checkboxSelected:true};var w1=[];var x1=[];var y1,z1,A1,B1,C1;var D1=[];for(var i=0;i<j.length;i++){y1=k.getObject(j[i].getPath());if(!y1.IsActiveEntity){if(y1.HasActiveEntity){D1.push(v(j[i].getPath(),k));}}}var E1=0;return new Promise(function(F1,G1){Promise.all(D1).then(function(H1){for(var i=0;i<j.length;i++){y1=k.getObject(j[i].getPath());z1={};A1={};B1=true;C1={};if(!y1.IsActiveEntity){z1.draft=true;if(y1.HasActiveEntity){A1.draft=false;A1.draftActive=true;if(H1[E1]!="Error"){C1["oModel"]=j[0].getModel();C1["sPath"]=H1[E1++];}}}else if(y1.HasDraftEntity){var I1=k.getProperty("DraftAdministrativeData/CreatedByUserDescription",j[i]);if(!I1){I1=k.getProperty("DraftAdministrativeData/InProcessByUser",j[i]);}if(I1){z1.locked=true;z1.user=I1;v1.lockedItemsCount++;}else{z1.unsavedChanges=true;z1.user=k.getProperty("DraftAdministrativeData/LastChangedByUser",j[i]);v1.unsavedChangesItemsCount++;}}if(u1&&u1!==""){if(k.getProperty(u1,j[i])===false){B1=false;v1.undeletableCount++;}}w1.push({context:j[i],draftStatus:z1,deletable:B1});if(!y1.IsActiveEntity&&y1.HasActiveEntity){x1.push({context:C1,draftStatus:A1,deletable:B1});}}if(x1.length>0){w1=w1.concat(x1);}v1.items=w1;if(v1.lockedItemsCount===v1.itemsCount){v1.text.title=h.getText("ST_GENERIC_ERROR_TITLE");}else{v1.text.title=(v1.itemsCount>1)?h.getText("ST_GENERIC_DELETE_TITLE_WITH_COUNT",[v1.itemsCount]):h.getText("ST_GENERIC_DELETE_TITLE");}v1.text.unsavedChanges=h.getText("ST_GENERIC_UNSAVED_CHANGES_CHECKBOX");if(v1.itemsCount>1){if(v1.lockedItemsCount===v1.itemsCount){v1.text.shortText=h.getText("ST_GENERIC_DELETE_LOCKED_PLURAL");}else if(v1.unsavedChangesItemsCount===v1.itemsCount){v1.text.shortText=h.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES_PLURAL");}else if(v1.lockedItemsCount>0){var J1=v1.itemsCount-v1.lockedItemsCount;v1.text.shortText=(v1.lockedItemsCount>1)?h.getText("ST_GENERIC_CURRENTLY_LOCKED_PLURAL",[v1.lockedItemsCount,v1.itemsCount]):h.getText("ST_GENERIC_CURRENTLY_LOCKED",[v1.itemsCount]);v1.text.shortText+="\n";if(J1===v1.unsavedChangesItemsCount){v1.text.shortText+=(J1>1)?h.getText("ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES_PLURAL"):h.getText("ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES");}else{v1.text.shortText+=(J1>1)?h.getText("ST_GENERIC_DELETE_REMAINING_PLURAL",[J1]):h.getText("ST_GENERIC_DELETE_REMAINING");}}else{v1.text.shortText=h.getText("ST_GENERIC_DELETE_SELECTED_PLURAL");}if(v1.undeletableCount>0){v1.text.undeletableText=h.getText("ST_GENERIC_DELETE_UNDELETABLE",[v1.undeletableCount,v1.itemsCount]);}}else{if(v1.lockedItemsCount>0){v1.text.shortText=h.getText("ST_GENERIC_DELETE_LOCKED",[" ",v1.items[0].draftStatus.user]);}else if(v1.unsavedChangesItemsCount>0){v1.text.shortText=h.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES",[" ",v1.items[0].draftStatus.user]);}else{v1.text.shortText=h.getText("ST_GENERIC_DELETE_SELECTED");}}F1({"mJSONData":v1});});});}function x(i){M.error(h.getText(i),{styleClass:h.getContentDensityClass()});}function y(i,j,k,r1){var s1=h.getNavigationHandler();var t1={};var u1={};for(var v1 in i.parameters){if(q.isEmptyObject(i.parameters[v1])){t1[v1]=i.parameters[v1];}else{u1[v1]=i.parameters[v1];}}u1=E(u1);s1.mixAttributesAndSelectionVariant({},r1).getParameterNames().forEach(function(v1){delete t1[v1];});var w1=k&&k.getObject();var x1=j&&j.getObject();var y1=q.extend({},t1,w1,x1,u1);return s1.mixAttributesAndSelectionVariant(y1,r1);}function N(i,j,k,r1){var s1=h.getNavigationHandler();var t1;if(k){t1=k.getDataSuiteFormat();}var u1=y(i,j,C.getView().getBindingContext(),t1);var v1={semanticObject:i.semanticObject,action:i.action};C.adaptNavigationParameterExtension(u1,v1);s1.navigate(i.semanticObject,i.action,u1.toJSONString(),null,H);}function z(i){var j=h.getNavigationHandler();var k={semanticObject:i.semanticObject,action:i.action};var r1=j.mixAttributesAndSelectionVariant(i.semanticAttributes);C.adaptNavigationParameterExtension(r1,k);j.navigate(i.semanticObject,i.action,r1.toJSONString(),null,H);}function G(i,k){var r1=i.byId("icon");var s1=r1&&r1.getSrc();if(s1===""){s1=undefined;}var t1=i.byId("title");var u1=t1&&t1.getText();if(u1===""){u1=undefined;}var v1=i.byId("description");var w1=v1&&v1.getText();if(w1===""){w1=undefined;}for(var j=0;j<k.length;j++){var x1=k[j];var y1=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(x1)+"::contactTitleAreaIcon";var z1=i.byId(y1);var A1=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(x1)+"::contactTitleAreaTitle";var B1=i.byId(A1);var C1=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(x1)+"::contactTitleAreaDescription";var D1=i.byId(C1);var E1=z1&&z1.getSrc();if(E1===""){E1=undefined;}var F1=B1&&B1.getText();if(F1===""){F1=undefined;}var G1=D1&&D1.getText();if(G1===""){G1=undefined;}if(s1&&E1&&u1&&F1&&w1&&G1){if((s1===E1||!E1)&&(u1===F1||!F1)&&(w1===G1||!G1)){var H1=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(x1)+"::contactTitleArea";var I1=i.byId(H1);if(I1&&I1.setVisible){I1.setVisible(false);}}}}}function I(i,j,k,r1){var s1=C.getOwnerComponent().getAppComponent().getManifestEntry("sap.app");var t1=s1.crossNavigation.outbounds[i.data("CrossNavigation")];var u1;if(k){if(i instanceof sap.ui.comp.smartchart.SmartChart){u1=h.getOwnerControl(r1);}else{u1=h.getOwnerControl(i).getParent();}}N(t1,j,k,u1);}function K(j,k){for(var i=0;i<j.length;i++){if(j[i].indexOf("/")!==-1){var r1=j[i].split("/");r1.pop();var s1=r1.join("/");if(k.indexOf(s1)===-1){k.push(s1);}}}}function L(i,j){}function O(C,j,k){var r1=C.getOwnerComponent().getAppComponent().getConfig();if(C.getMetadata().getName()==='sap.suite.ui.generic.template.ListReport.view.ListReport'&&r1&&r1.pages[0]&&r1.pages[0].component&&r1.pages[0].component.settings&&(r1.pages[0].component.settings.quickVariantSelectionX||r1.pages[0].component.settings._quickVariantSelectionX)){var s1=j.getFilters();if(s1){for(var i in s1){k.filters.push(s1[i]);}}}}function P(i,j){h.processDataLossConfirmationIfNonDraft(function(){var k=i.data('SemanticObject');var r1=i.data('Action');var s1=i.data('SemanticAttributes');if(k&&r1){var t1={semanticObject:k,action:r1};if(s1){s1="{"+s1+"}";t1.semanticAttributes=JSON.parse(s1);}z(t1);}},q.noop);}function Q(k,r1,s1,t1,u1){var v1="";var w1=function(_1){var a2=_1.dependent.propertyRef[0].name;var b2=r1.originalId;var c2=C.getView().byId(b2);if(c2&&c2.mProperties.fieldName===a2){v1=a2;return true;}if(!c2){var d2=q("#"+b2.replace(/(:|\.|\[|\]|,|=)/g,"\\$1"));if(d2){c2=d2.control(0);if(c2){if(c2.mProperties.fieldName===a2){v1=a2;return true;}else{var e2=c2.getBindingInfo("text");var f2=false;if(e2&&e2.binding){var g2=e2.binding.getBindings&&e2.binding.getBindings();if(g2&&g2.length>1){f2=true;}if(!f2&&e2.binding.getPath&&e2.binding.getPath()===a2){v1=a2;return true;}}var h2=c2.getBindingInfo("title");f2=false;if(h2&&h2.binding){var g2=h2.binding.getBindings&&h2.binding.getBindings();if(g2&&g2.length>1){f2=true;}if(!f2&&h2.binding.getPath&&h2.binding.getPath()===a2){v1=a2;return true;}}}}}}return false;};var x1=function(){var y1,F1,_1,a2,b2,c2,d2;F1=k.getModel().getMetaModel();_1=F1.getODataEntitySet(k.getEntitySet());a2=F1.getODataEntityType(_1.entityType);if(!a2||!a2.navigationProperty){return;}for(var i=0;i<a2.navigationProperty.length;i++){b2=a2.navigationProperty[i];if(b2.name==="SiblingEntity"||b2.name==="DraftAdministrativeData"){continue;}var e2=b2.relationship;var f2=e2.lastIndexOf(".");var g2=e2.slice(0,f2);var h2=e2.slice(f2+1);var i2=F1.getObject("/dataServices/schema");var j2;for(var j in i2){if(i2[j].namespace===g2){j2=i2[j];break;}}var k2=j2.association;var l2;for(var j in k2){if(k2[j].name===h2){l2=k2[j];break;}}var m2=l2.referentialConstraint;if(m2&&m2.dependent&&m2.dependent.propertyRef){var n2=w1(m2);if(n2){c2=F1.getODataAssociationEnd(a2,b2.name);d2=F1.getODataEntityType(c2.type);var o2=F1.getODataEntityContainer();var p2="";var q2="";var r2="";for(var j=0;j<o2.entitySet.length;j++){var s2=d2.entityType;if(!s2){s2=d2.namespace+"."+d2.name;}if(o2.entitySet[j].entityType===s2){p2=o2.entitySet[j].name;q2=o2.entitySet[j].entityType;break;}}y1={navigation:b2.name,entitySet:p2,entityType:q2};if(d2["com.sap.vocabularies.UI.v1.HeaderInfo"]&&q2){var r2=F1.getODataEntityType(q2,true)+"/com.sap.vocabularies.UI.v1.HeaderInfo";y1.headerInfoPath=r2;}if(d2["com.sap.vocabularies.UI.v1.QuickViewFacets"]&&q2){var t2=F1.getODataEntityType(q2,true)+"/com.sap.vocabularies.UI.v1.QuickViewFacets";y1.quickViewFacetODataPath=t2;}return y1;}}}return y1;};var y1=x1();var z1=false;var A1=false;var B1=false;var C1=[];var D1=C.getOwnerComponent();var E1=D1.getModel();var F1=E1.getMetaModel();if(y1){if(y1.quickViewFacetODataPath){var G1=F1.createBindingContext(y1.quickViewFacetODataPath,true);var H1=G1&&G1.getModel().getObject(G1.getPath());if(H1){z1=true;for(var j=0;j<H1.length;j++){var I1=H1[j];if(I1&&I1.Target&&I1.Target.AnnotationPath){if(I1.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>-1){A1=true;}else if(I1.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){B1=true;C1.push(I1);}}}}}}if(z1){var J1,K1;J1=F1.getODataEntitySet(k.getEntitySet());K1=F1.getODataEntityType(J1.entityType);var L1=y1.headerInfoPath&&F1.createBindingContext(y1.headerInfoPath,true);var u1=r1.mainNavigation;var M1=r1.semanticObject;var N1,O1;if(M1&&u1){var P1=u1.getTarget&&u1.getTarget()||"";var Q1=u1.getKey&&u1.getKey();if(Q1){var R1=Q1.split(M1+"-");N1=R1&&R1[1];if(M1&&N1){O1={"Target":P1,"SemanticObject":M1,"Action":N1};}if(r1.semanticAttributes){O1.SemanticAttributes=r1.semanticAttributes;for(var i in r1.semanticAttributes){var S1=r1.semanticAttributes[i];if(S1.indexOf("{\"__deferred\":")>-1){delete O1.SemanticAttributes[i];}if(S1.indexOf("{\"__ref\":")>-1){delete O1.SemanticAttributes[i];}}if(O1.SemanticAttributes){var T1=JSON.stringify(O1.SemanticAttributes);if(T1&&T1.length>1){O1.SemanticAttributes=T1.substring(1,T1.length-1);}}}}}var U1=F1.getODataProperty(K1,v1);var V1=k&&k.mProperties&&k.mProperties.fieldSemanticObjectMap;var W1=new J({sourceClickedField:U1,sourceEntityType:K1,showFieldGroup:A1,showContact:B1,ignoredFields:V1,navigationPath:y1.navigation,mainNavigation:O1});W1.setDefaultBindingMode("OneWay");var X1={};X1.oState=s1;X1._templateEventHandlers={};X1._templateEventHandlers.onSemanticObjectLinkNavigationPressed=C._templateEventHandlers.onSemanticObjectLinkNavigationPressed.bind(C._templateEventHandlers);X1._templateEventHandlers.onDataFieldWithIntentBasedNavigation=C._templateEventHandlers.onDataFieldWithIntentBasedNavigation.bind(C._templateEventHandlers);X1.onInit=function(){};X1.onExit=function(){};X1.onAfterRendering=function(){var C=this;var Y1=C.oView;var _1=Y1.getParent().getParent().getParent();_1.setBusy(false);};X1.connectToView=C.connectToView.bind(X1);var Y1=sap.ui.view({async:true,preprocessors:{xml:{bindingContexts:{sourceEntitySet:F1.createBindingContext(F1.getODataEntitySet(k.getEntitySet(),true)),entitySet:F1.createBindingContext(F1.getODataEntitySet(y1.entitySet,true)),header:L1,facetCollection:G1},models:{sourceEntitySet:F1,entitySet:F1,header:F1,facetCollection:F1,quickView:W1,parameter:o.getParameterModelForTemplating()}}},controller:X1,type:V.XML,viewName:"sap.suite.ui.generic.template.fragments.QuickViewSmartForm",height:"100%"});r1.show(undefined,undefined,undefined,Y1);var Z1=function(_1){var a2=_1.getSource();if(a2){var b2=a2.getParent().getParent().getParent();b2.setBusy(true);b2.setBusyIndicatorDelay(10);}};Y1.attachBeforeRendering(Z1.bind(this));var $1=function(_1){var a2=_1.getSource();if(a2){var b2=a2.byId("ownTitleArea");if(b2){var c2=a2.getParent();if(c2&&c2.getItems){var d2=c2.getItems()&&c2.getItems()[0];if(d2&&d2!=a2){d2.setVisible(false);}}}if(B1&&C1&&b2){G(a2,C1);}}};Y1.attachAfterRendering($1.bind(this));}else{r1.show(t1,u1,undefined,undefined);}}function R(C,i){var r1=C.getView&&C.getView().getBindingContext();var s1=r1.getObject();var t1=C.getOwnerComponent().getModel().getMetaModel();var u1=t1.getODataEntitySet(C.getOwnerComponent().getEntitySet());var v1=t1.getODataEntityType(u1.entityType);var w1=v1["com.sap.vocabularies.Common.v1.SemanticKey"];var x1={};if(w1&&w1.length>0){for(var j=0;j<w1.length;j++){var y1=w1[j].PropertyPath;if(!x1[y1]){x1[y1]=[];x1[y1].push(s1[y1]);}}}else{for(var k in v1.key.propertyRef){var z1=v1.key.propertyRef[k].name;if(!x1[z1]){x1[z1]=[];x1[z1].push(s1[z1]);}}}return x1;}function W(k,i,r1,s1){if(k[i].entitySet==r1&&s1===k[i].navigationProperty&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].entitySet==r1&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].pages){for(var j=0;j<(k[i].pages.length);j++){var t1=W(k[i].pages,j,r1,s1);if(t1!==undefined&&t1!==null){return t1;}}}}function X(i){var j=i.getSource().getTable();var k=i.getSource().getEntitySet();var r1=i.getSource().getTableBindingPath();var s1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");var t1=C.getOwnerComponent().getAppComponent().getConfig().pages;var u1=W(t1,0,k,r1);if(u1!==undefined&&u1!==null&&s1){var v1=C.getOwnerComponent().getAppComponent().getManifestEntry("sap.app").crossNavigation.outbounds[u1];if(v1){var w1=v1.semanticObject;var x1=v1.action;var y1=C.getView().getModel("_templPriv");var z1=y1.getProperty("/generic/supportedIntents/");var A1=(r1==="")?k:k+"::"+r1;var B1=y1.getProperty("/generic/supportedIntents/"+w1+"/"+x1+"/"+A1);if(!B1){var C1={},D1;var E1=C.getOwnerComponent().getAppComponent();for(var F1 in v1.parameters){if(!q.isEmptyObject(v1.parameters[F1])){C1[F1]=v1.parameters[F1];}}if(C.getMetadata().getName()==='sap.suite.ui.generic.template.ObjectPage.view.Details'){D1=R(C,E1);}var G1={semanticObject:w1,action:x1};var H1=q.extend({},D1,C1);var I1={target:G1,params:H1};var J1=s1.isNavigationSupported([I1],E1);J1.done(function(K1){var L1=y1.getProperty("/generic/supportedIntents/"+w1);if(!L1){z1[w1]={};z1[w1][x1]={};z1[w1][x1][A1]={"supported":K1[0].supported};}else if(!L1[x1]){L1[x1]={};L1[x1][A1]={"supported":K1[0].supported};}else{L1[x1][A1]={"supported":K1[0].supported};}y1.updateBindings();if(K1[0].supported&&j instanceof U){var M1=j.getRowActionTemplate();M1.getItems()[0].setVisible(true);j.setRowActionTemplate(M1);}});}}}}function Y(i){h.setEnabledToolbarButtons(i.getSource());X(i);}function Z(i,r1){var s1=i.getSource();var t1=s1.getTable();if(t1 instanceof T){var u1=t1.getColumns();for(var v1=0;v1<u1.length;v1++){if(u1[v1].getCustomData()[0].getValue()&&u1[v1].getCustomData()[0].getValue()["actionButton"]==="true"){u1[v1].setPopinDisplay("WithoutHeader");}}}var w1=i.getParameter("bindingParams");w1.parameters=w1.parameters||{};if(s1.data().allowSearch){w1.parameters["custom"]={"search":i.getSource().data().searchString};s1.data("allowSearch",false);}else if(s1.getBindingContext()&&s1.getBindingContext().getPath()===s1.data().objectPath){if(s1.getId()===s1.data().tableId){if(!!i.getSource().data().searchString){w1.parameters["custom"]={"search":i.getSource().data().searchString};}}}if(s1.data().allowSearchWorkListLight){w1.parameters["custom"]={"search":i.getSource().data().searchString};s1.data("allowSearchWorkListLight",false);if(!!i.getSource().data().searchString){w1.parameters["custom"]={"search":i.getSource().data().searchString};}}var x1=C.byId(s1.getSmartFilterId());if(!x1&&C.getMetadata().getName()==='sap.suite.ui.generic.template.ListReport.view.ListReport'){x1=C.byId("listReportFilter");O(C,x1,w1);var y1=x1.getBasicSearchValue();if(y1!==""){w1.parameters["custom"]={"search":y1};}}if(x1 instanceof c){var z1=x1.getControlByKey("EditState");if(z1 instanceof S){var A1=z1.getSelectedKey();switch(A1){case"1":w1.filters.push(new F("IsActiveEntity","EQ",true));w1.filters.push(new F("HasDraftEntity","EQ",false));break;case"2":w1.filters.push(new F("IsActiveEntity","EQ",false));break;case"3":w1.filters.push(new F("IsActiveEntity","EQ",true));w1.filters.push(new F("SiblingEntity/IsActiveEntity","EQ",null));w1.filters.push(new F("DraftAdministrativeData/InProcessByUser","NE",""));break;case"4":w1.filters.push(new F("IsActiveEntity","EQ",true));w1.filters.push(new F("SiblingEntity/IsActiveEntity","EQ",null));w1.filters.push(new F("DraftAdministrativeData/InProcessByUser","EQ",""));break;default:var B1=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});if(w1.filters[0]&&w1.filters[0].aFilters){var C1=w1.filters[0];w1.filters[0]=new F([C1,B1],true);}else{w1.filters.push(B1);}break;}}}n(s1.getEntitySet(),w1);var D1=w1.parameters.select&&w1.parameters.select.split(",")||[];var E1=w1.parameters&&w1.parameters.expand&&w1.parameters.expand.split(",")||[];var F1=s1.getEntitySet();if(D1&&D1.length>0){var G1=s1.getModel().getMetaModel();var H1=G1.getODataEntitySet(F1);var I1={};var J1=G1.getODataEntityType(H1.entityType);for(var K1=0;K1<D1.length;K1++){var L1=D1[K1];if(L1){var I1=G1.getODataProperty(J1,L1);if(I1&&I1["com.sap.vocabularies.Common.v1.FieldControl"]&&I1["com.sap.vocabularies.Common.v1.FieldControl"].Path){var M1=I1["com.sap.vocabularies.Common.v1.FieldControl"].Path;if(M1!==" "&&w1.parameters.select.search(M1)===-1){w1.parameters.select+=","+M1;D1.push(M1);}}}}if(t1 instanceof T){var N1=w1.sorter[0];if(N1&&N1.vGroup){var O1=G1.getODataProperty(J1,N1.sPath);var P1=O1["sap:text"]||(O1["com.sap.vocabularies.Common.v1.Text"]||"").Path||"";if(P1){if(q.inArray(P1,D1)===-1){w1.parameters.select+=","+P1;D1.push(P1);}}}}var Q1=H1["Org.OData.Capabilities.V1.DeleteRestrictions"];if(Q1&&Q1.Deletable&&Q1.Deletable.Path&&w1.parameters.select.search(Q1.Deletable.Path)===-1){w1.parameters.select+=","+Q1.Deletable.Path;D1.push(Q1.Deletable.Path);}var R1=H1["Org.OData.Capabilities.V1.UpdateRestrictions"];if(R1&&R1.Updatable&&R1.Updatable.Path&&w1.parameters.select.search(R1.Updatable.Path)===-1){w1.parameters.select+=","+R1.Updatable.Path;D1.push(R1.Updatable.Path);}var S1,T1;var J1=G1.getODataEntityType(H1.entityType);var U1=J1["com.sap.vocabularies.UI.v1.LineItem"]||[];for(var K1=0;K1<U1.length;K1++){if(U1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){S1=G1.getODataFunctionImport(U1[K1].Action.String,true);if(S1){T1=G1.getObject(S1);if(T1["sap:action-for"]!==" "&&T1["sap:applicable-path"]!==" "&&w1.parameters.select.search(T1["sap:applicable-path"])===-1){w1.parameters.select+=","+T1["sap:applicable-path"];D1.push(T1["sap:applicable-path"]);}}}if(U1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var V1,W1;if(U1[K1].Value&&U1[K1].Value.Path){V1=G1.getODataProperty(J1,U1[K1].Value.Path);if(V1){W1=V1["sap:text"]||(V1["com.sap.vocabularies.Common.v1.Text"]||"").Path||"";}if(!W1){W1=U1[K1].Value.Path;}if(D1.indexOf(W1)===-1){D1.push(W1);w1.parameters.select=w1.parameters.select+","+W1;}}}if(U1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(U1[K1].Target&&U1[K1].Target.AnnotationPath){var X1=U1[K1].Target.AnnotationPath;var Y1=X1.split("@")[1];var Z1=J1[Y1];if(Z1&&Z1.MeasureAttributes){if(Z1.MeasureAttributes[0]&&Z1.MeasureAttributes[0].DataPoint&&Z1.MeasureAttributes[0].DataPoint.AnnotationPath){var $1=Z1.MeasureAttributes[0].DataPoint.AnnotationPath.split("@")[1];var _1=J1[$1];if(_1){for(var a2 in _1){if(_1[a2]&&_1[a2].Path&&D1.indexOf(_1[a2].Path)===-1){w1.parameters.select=w1.parameters.select+","+_1[a2].Path;D1.push(_1[a2].Path);}if(a2==="CriticalityCalculation"&&_1.CriticalityCalculation){for(var b2 in _1.CriticalityCalculation){if(_1.CriticalityCalculation[b2].Path&&D1.indexOf(_1.CriticalityCalculation[b2].Path)===-1){w1.parameters.select=w1.parameters.select+","+_1.CriticalityCalculation[b2].Path;D1.push(_1.CriticalityCalculation[b2].Path);}}}}}}}if(Z1&&Z1.Measures){if(Z1.Measures[0]&&Z1.Measures[0].PropertyPath&&D1.indexOf(Z1.Measures[0].PropertyPath)===-1){w1.parameters.select=w1.parameters.select+","+Z1.Measures[0].PropertyPath;D1.push(Z1.Measures[0].PropertyPath);}}}}}var c2=h.getBreakoutActionsForTable(s1,C);var d2=h.getBreakoutActionsFromManifest(t1.getModel());for(var e2 in d2){if(q.inArray(d2[e2].id,c2)!==-1){if(d2[e2].requiresSelection&&d2[e2].applicablePath){if(w1.parameters.select.search(d2[e2].applicablePath)===-1){w1.parameters.select+=","+d2[e2].applicablePath;D1.push(d2[e2].applicablePath);}}}}}K(D1,E1);var f2=s.oDraftController.getDraftContext();if(f2.isDraftEnabled(F1)&&f2.isDraftRoot(F1)){if(f2.hasDraftAdministrativeData(F1)){if(D1&&D1.length>0){if(D1.indexOf("DraftAdministrativeData")===-1){D1.push("DraftAdministrativeData");w1.parameters.select=w1.parameters.select+",DraftAdministrativeData";}}if(E1.indexOf("DraftAdministrativeData")===-1){E1.push("DraftAdministrativeData");}}}if(E1.length>0){w1.parameters.expand=E1.join(",");}var g2=s1.getCustomData();var h2={};for(var k=0;k<g2.length;k++){h2[g2[k].getKey()]=g2[k].getValue();}var i2=s1.fetchVariant();if(!h2.TemplateSortOrder&&r1&&r1.determineSortOrder){h2.TemplateSortOrder=r1.determineSortOrder();}if((!i2||!i2.sort)&&t1 instanceof T&&h2.TemplateSortOrder){var j2=h2.TemplateSortOrder.split(", ");for(var j=0;j<j2.length;j++){var k2=j2[j].split(" ");if(k2.length>1){w1.sorter.push(new b(k2[0],k2[1]==="true"));}else{w1.sorter.push(new b(k2[0]));}}}if(t1 instanceof T){var N1=w1.sorter[0];if(N1&&N1.vGroup){N1.fnGroup=g(N1.sPath);}}}function $(i,j,k){k=k||i.getBindingContext();h.processDataLossConfirmationIfNonDraft(function(){if(i.data("CrossNavigation")){I(i,k,j.oSmartFilterbar);return;}var r1=h.getOwnerControl(i);m(i);h.navigateFromListItem(k,r1);},q.noop,j);}function _(i,j){var k=i.getParent().getParent().getTable();var r1=h.getSelectedContexts(k);switch(r1.length){case 0:x("ST_GENERIC_NO_ITEM_SELECTED");return;case 1:h.processDataLossConfirmationIfNonDraft(function(){if(i.data("CrossNavigation")){I(i,r1[0],j.oSmartFilterbar);return;}m(i);h.navigateFromListItem(r1[0],k);},q.noop,j);return;default:x("ST_GENERIC_MULTIPLE_ITEMS_SELECTED");return;}}function a1(i,j){var k=i.getSource();var r1=h.getOwnerControl(k);var s1=h.getSelectedContexts(r1);switch(s1.length){case 0:case 1:h.processDataLossConfirmationIfNonDraft(function(){var t1={action:k.data('Action'),semanticObject:k.data('SemanticObject')};N(t1,s1[0],j.oSmartFilterbar||undefined,j.oSmartTable||undefined);},q.noop,j);return;default:x("ST_GENERIC_MULTIPLE_ITEMS_SELECTED");return;}}function b1(i,j){var k=i.getSource();var r1=k.getParent().getBindingContext();var s1=k.data('SemanticObject');var t1=k.data('Action');h.processDataLossConfirmationIfNonDraft(function(){var u1={action:t1,semanticObject:s1};N(u1,r1,j.oSmartFilterbar||undefined,j.oSmartTable||undefined);},q.noop,j);}function c1(i,j,k){h.processDataLossConfirmationIfNonDraft(function(){var r1={action:j.Action,semanticObject:j.SemanticObject};N(r1,i,k.oSmartFilterbar,k.oSmartTable);},q.noop,k);}function d1(i,j){h.processDataLossConfirmationIfNonDraft(function(){var k={semanticObject:i.data("SemanticObject"),action:i.data("Action")};var r1=i.getParent().getBindingContext();N(k,r1,j.oSmartFilterbar,j.oSmartTable);},q.noop,j);}function e1(i,j){var k,r1="";var s1=h.getOwnerControl(i.getSource());var t1=i.getSource().data();var u1=h.getSelectedContexts(s1);var v1=s1.getMetadata().getName();if(v1==="sap.ui.comp.smarttable.SmartTable"){k=s1.getTable();r1=s1.getTableBindingPath();}else if(v1==="sap.ui.comp.smartchart.SmartChart"){k=s1.getChart();r1=s1.getChartBindingPath();}f1({functionImportPath:t1.Action,contexts:u1,sourceControl:k,label:t1.Label,operationGrouping:t1.InvocationGrouping,navigationProperty:""},j,r1);}function f1(i,j,k){var r1;h.processDataLossConfirmationIfNonDraft(function(){s.oCRUDManager.callAction({functionImportPath:i.functionImportPath,contexts:i.contexts,sourceControl:i.sourceControl,label:i.label,operationGrouping:i.operationGrouping,navigationProperty:i.navigationProperty},j).then(function(s1){if(s1&&s1.length&&s1.length===1){r1=s1[0];if(r1.response&&r1.response.context&&(!r1.actionContext||r1.actionContext&&r1.response.context.getPath()!==r1.actionContext.getPath())){s.oViewDependencyHelper.setMeToDirty(C.getOwnerComponent(),k);}}});},q.noop,j,"Proceed");}var g1;var h1;function i1(i){g1=true;h1=i;var j=h.getDialogFragment("sap.suite.ui.generic.template.fragments.DiscardDraftPopover",{onDiscardConfirm:function(){q.sap.log.info("Draft cancellation confirmed");if(!g1){q.sap.log.info("Draft popover no longer active -> Ignore.");return;}h1();}},"discard");return j;}function j1(i,j){var k=new Promise(function(s1,t1){i.then(function(u1){q.sap.log.info("Active information for current draft has been read. Start discarding the draft");var v1=u1&&u1.getObject();var w1=v1&&v1.IsActiveEntity;var x1=w1?s.oApplication.getTargetAfterCancelPromise(u1):Promise.resolve();x1.then(function(y1){var z1=s.oCRUDManager.deleteEntity();z1.then(function(){q.sap.log.info("Draft was discarded successfully");j();s.oViewDependencyHelper.setRootPageToDirty();s.oViewDependencyHelper.unbindChildren(C.getOwnerComponent());if(y1){q.sap.log.info("Navigate to active entityy");s.oNavigationController.navigateToContext(y1,null,true,1);}else{q.sap.log.info("Deleted draft was create draft. Navigate back");var A1=C.getOwnerComponent().getModel("_templPrivGlobal");var B1=A1.getProperty("/generic/forceFullscreenCreate");if(B1){s.oNavigationController.navigateBack();}else{s.oNavigationController.navigateToRoot(true);}}s1();},t1);},t1);},t1);});var r1={discardPromise:k};o.fire(C,"AfterCancel",r1);s.oApplication.getBusyHelper().setBusy(k);k.catch(j);return k;}function k1(i){var j=l();s.oApplication.performAfterSideEffectExecution(function(){if(s.oApplication.getBusyHelper().isBusy()){q.sap.log.info("Ignore discarding confirmation as app is already busy");return;}var k=C.getView().getBindingContext();var r1=k.getObject();var s1=r1.hasOwnProperty("HasActiveEntity")&&!k.getProperty("IsActiveEntity")&&!k.getProperty("HasActiveEntity");var t1=C.getOwnerComponent().getModel("_templPriv");var u1=t1.getProperty("/generic/viewLevel");var v1=k&&k.getPath();if(u1===1&&s.oApplication.isNextObjectLoadedAfterDelete()){var w1=s.oApplication.getListReportTable();var x1=s.oApplication.getFclProxyForView(u1);x1.storeTableToShowObjectPageAfterDelete(w1,v1);}var y1=i.getSource();var z1;var A1=function(){g1=false;z1.close();q.sap.log.info("Draft popover closed");};z1=i1(j1.bind(null,j,A1));var B1=z1.getModel("discard");B1.setProperty("/placement",sap.m.PlacementType.Top);B1.setProperty("/isCreateDraft",s1);z1.openBy(y1);});}function l1(){if(o.getViewLevel()!==1||!o.isDraftEnabled()){q.sap.log.warning("Discard draft only possible on root level of draft enabled entities");return Promise.reject();}var i=C.getOwnerComponent();if(!(o.isComponentActive()&&i.getModel("ui").getProperty("/editable"))){q.sap.log.warning("Discard draft only possible in edit mode");return Promise.reject();}var j=l();return j1(j,q.noop);}function m1(i,j,k){if(i.data("CrossNavigation")){I(i,i.getBindingContext(),k);return new Promise(function(v1){v1();});}var r1=h.getOwnerControl(i);var s1=r1.getTableBindingPath();var t1=C.getOwnerComponent();var u1=s.oCRUDManager.addEntry(r1).then(function(v1){if(!j){s.oNavigationController.navigateToContext(v1.newContext,v1.tableBindingPath,false,4);s.oApplication.getBusyHelper().getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,t1,s1));}else{h.refreshSmartTable(r1);s.oApplicationController.executeSideEffects(t1.getBindingContext(),[],[s1]);}});u1.catch(q.noop);return u1;}function n1(i){var j=h.getOwnerControl(i.getSource());var k=h.getSelectedContexts(j);var r1=s.oApplication.getPathForViewLevelOneIfVisible();if(s.oApplication.isNextObjectLoadedAfterDelete()&&r1){var s1=s.oApplication.getFclProxyForView(0);s1.storeTableToShowObjectPageAfterDelete(j.getTable(),r1);}if(k&&k.length>0){var t1=w(k);var u1=u(j);var v1=u1.getModel("delete");t1.then(function(t1){v1.setData(t1.mJSONData);u1.open();});}else{M.error(h.getText("ST_GENERIC_NO_ITEM_SELECTED"),{styleClass:h.getContentDensityClass()});}}function o1(i){var j;if(i.getSource().data("Location")==="Header"){j=i.getSource().getParent().getAggregation("items")[0];}else if(i.getSource().data("Location")==="Section"){j=i.getSource().getParent().getElements()[0];}else if(i.getSource().data("Location")==="SmartTable"){j=i.getSource().getParent().getAggregation("items")[0];}else{j=i.getSource().getParent().getParent().getParent().getParent().getParent().getAggregation("items")[1];}j.bindElement(i.getSource().getBindingContext().getPath());j.openBy(i.getSource());}function p1(i){var j=i.getSource();var k=i.getParameter("bindingParams");k.parameters=k.parameters||{};var r1=C.byId(j.getSmartFilterId());if(!r1){r1=C.byId("listReportFilter");O(C,r1,k);}q1(i,j,k);}function q1(i,j,k){if(j.data().allowSearch){k.parameters["custom"]={"search":i.getSource().data().searchString};j.data("allowSearch",false);}else if(j.getBindingContext()&&j.getBindingContext().getPath()===j.data().objectPath){if(j.getId()===j.data().tableId){if(i.getSource().data().searchString!==""){k.parameters["custom"]={"search":i.getSource().data().searchString};}}}var r1=C.byId("listReportFilter");if(r1 instanceof c){var s1=r1.getControlByKey("EditState");if(s1 instanceof S){var t1=s1.getSelectedKey();switch(t1){case"1":k.filters.push(new F("IsActiveEntity","EQ",true));k.filters.push(new F("HasDraftEntity","EQ",false));break;case"2":k.filters.push(new F("IsActiveEntity","EQ",false));break;case"3":k.filters.push(new F("IsActiveEntity","EQ",true));k.filters.push(new F("SiblingEntity/IsActiveEntity","EQ",null));k.filters.push(new F("DraftAdministrativeData/InProcessByUser","NE",""));break;case"4":k.filters.push(new F("IsActiveEntity","EQ",true));k.filters.push(new F("SiblingEntity/IsActiveEntity","EQ",null));k.filters.push(new F("DraftAdministrativeData/InProcessByUser","EQ",""));break;default:var u1=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});if(k.filters[0]&&k.filters[0].aFilters){var v1=k.filters[0];k.filters[0]=new F([v1,u1],true);}else{k.filters.push(u1);}break;}}}var w1=j.getEntitySet();n(w1,k);var x1=k.parameters.select&&k.parameters.select.split(",")||[];var y1=k.parameters&&k.parameters.expand&&k.parameters.expand.split(",")||[];if(x1&&x1.length>0){var z1=j.getModel().getMetaModel();var A1=z1.getODataEntitySet(w1);var B1={};var C1=z1.getODataEntityType(A1.entityType);for(var D1=0;D1<x1.length;D1++){var E1=x1[D1];if(E1){var B1=z1.getODataProperty(C1,E1);if(B1&&B1["com.sap.vocabularies.Common.v1.FieldControl"]&&B1["com.sap.vocabularies.Common.v1.FieldControl"].Path){var F1=B1["com.sap.vocabularies.Common.v1.FieldControl"].Path;if(F1!==" "&&k.parameters.select.search(F1)===-1){k.parameters.select+=","+F1;x1.push(F1);}}}}var G1=A1["Org.OData.Capabilities.V1.DeleteRestrictions"];if(G1&&G1.Deletable&&G1.Deletable.Path&&k.parameters.select.search(G1.Deletable.Path)===-1){k.parameters.select+=","+G1.Deletable.Path;x1.push(G1.Deletable.Path);}}K(x1,y1);var H1=s.oDraftController.getDraftContext();if(H1.isDraftEnabled(w1)&&H1.isDraftRoot(w1)){if(H1.hasDraftAdministrativeData(w1)){if(x1&&x1.length>0){if(x1.indexOf("DraftAdministrativeData")===-1){x1.push("DraftAdministrativeData");k.parameters.select=k.parameters.select+",DraftAdministrativeData";}}if(y1.indexOf("DraftAdministrativeData")===-1){y1.push("DraftAdministrativeData");}}}if(y1.length>0){k.parameters.expand=y1.join(",");}}var y=t.testable(y,"fnBuildSelectionVariantForNavigation");var E=t.testable(E,"fnEvaluateParameters");var N=t.testable(N,"fnNavigateIntent");var G=t.testable(G,"fnHideTitleArea");return{onDataReceived:Y,onBeforeRebindTable:Z,onListNavigate:$,onShowDetails:_,onEditNavigateIntent:I,onSemanticObjectLinkPopoverLinkPressed:L,onDataFieldForIntentBasedNavigation:a1,onDataFieldForIntentBasedNavigationSelectedContext:c1,onInlineDataFieldForIntentBasedNavigation:d1,onDataFieldWithIntentBasedNavigation:b1,onSmartFieldUrlPressed:p,onBreadCrumbUrlPressed:r,onCallActionFromToolBar:e1,onDiscardDraft:k1,discardDraftWithoutDialog:l1,addEntry:m1,deleteEntries:n1,onContactDetails:o1,onSemanticObjectLinkNavigationTargetObtained:Q,onSemanticObjectLinkNavigationPressed:P,onBeforeRebindChart:p1};}return B.extend("sap.suite.ui.generic.template.lib.CommonEventHandlers",{constructor:function(C,o,s,h){q.extend(this,f(C,o,s,h));}});});
