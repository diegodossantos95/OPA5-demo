jQuery.sap.declare('sap.suite.ui.microchart.library-all');if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartRenderer",['jquery.sap.global'],function(q){"use strict";var A={};A.render=function(r,c){if(!c._bThemeApplied){return;}var a=c.getAltText();var t=((c.getView()=="Normal"&&c.getFirstYLabel()&&c.getFirstYLabel().getLabel())?"L":"")+((c.getMaxLabel()&&c.getMaxLabel().getLabel())?"C":"")+((c.getView()=="Normal"&&c.getLastYLabel()&&c.getLastYLabel().getLabel())?"R":"");var b=((c.getView()=="Normal"&&c.getFirstXLabel()&&c.getFirstXLabel().getLabel())?"L":"")+((c.getMinLabel()&&c.getMinLabel().getLabel())?"C":"")+((c.getView()=="Normal"&&c.getLastXLabel()&&c.getLastXLabel().getLabel())?"R":"");var l,R;R=l=c.getView()=="Wide";r.write("<div");r.writeControlData(c);r.addStyle("width",c.getIsResponsive()?"100%":c.getWidth());r.addStyle("height",c.getIsResponsive()?"100%":c.getHeight());r.writeStyles();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",a);r.addClass("sapSuiteAMC");if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}if(t){r.addClass("sapSuiteAMCTopLbls");}if(b){r.addClass("sapSuiteAMCBtmLbls");}r.writeClasses();r.write(">");if(t&&c.getShowLabel()){var T="sapSuiteAMCLblType"+t;r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-top-labels");r.addClass("sapSuiteAMCLabels");r.addClass("sapSuiteAMCPositionTop");r.writeClasses();r.write(">");this._writeLabel(r,c,c.getFirstYLabel(),"-top-left-lbl","sapSuiteAMCPositionLeft",T);this._writeLabel(r,c,c.getMaxLabel(),"-top-center-lbl","sapSuiteAMCPositionCenter",T);this._writeLabel(r,c,c.getLastYLabel(),"-top-right-lbl","sapSuiteAMCPositionRight",T);r.write("</div>");}if(l&&c.getShowLabel()){r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-left-labels");r.addClass("sapSuiteAMCSideLabels");r.addClass("sapSuiteAMCPositionLeft");r.writeClasses();r.write(">");this._writeLabel(r,c,c.getFirstYLabel(),"-top-left-lbl","sapSuiteAMCPositionTop","sapSuiteAMCPositionLeft");this._writeLabel(r,c,c.getFirstXLabel(),"-btm-left-lbl","sapSuiteAMCPositionBtm","sapSuiteAMCPositionLeft");r.write("</div>");}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-canvas-cont");r.addClass("sapSuiteAMCCanvas");r.writeClasses();r.write(">");r.write("<canvas");r.writeAttributeEscaped("id",c.getId()+"-canvas");r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("position","absolute");r.addStyle("display","block");r.writeStyles();r.write("></canvas>");r.write("</div>");if(R&&c.getShowLabel()){r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-right-labels");r.addClass("sapSuiteAMCSideLabels");r.addClass("sapSuiteAMCPositionRight");r.writeClasses();r.write(">");this._writeLabel(r,c,c.getLastYLabel(),"-top-right-lbl","sapSuiteAMCPositionTop","sapSuiteAMCPositionRight");this._writeLabel(r,c,c.getLastXLabel(),"-btm-right-lbl","sapSuiteAMCPositionBtm","sapSuiteAMCPositionRight");r.write("</div>");}if(b&&c.getShowLabel()){var B="sapSuiteAMCLblType"+b;r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-bottom-labels");r.addClass("sapSuiteAMCLabels");r.addClass("sapSuiteAMCPositionBtm");r.writeClasses();r.write(">");this._writeLabel(r,c,c.getFirstXLabel(),"-btm-left-lbl","sapSuiteAMCPositionLeft",B);this._writeLabel(r,c,c.getMinLabel(),"-btm-center-lbl","sapSuiteAMCPositionCenter",B);this._writeLabel(r,c,c.getLastXLabel(),"-btm-right-lbl","sapSuiteAMCPositionRight",B);r.write("</div>");}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-css-helper");r.addStyle("display","none");r.writeStyles();r.write("></div>");r.write("</div>");};A._writeLabel=function(r,c,l,i,C,t){var L=l?l.getLabel():"";r.write("<div");r.writeAttribute("id",c.getId()+i);if(l){r.addClass(q.sap.encodeHTML("sapSuiteAMCSemanticColor"+l.getColor()));}r.addClass("sapSuiteAMCLbl");r.addClass(q.sap.encodeHTML(C));r.addClass(q.sap.encodeHTML(t));r.writeClasses();r.write(">");r.writeEscaped(L);r.write("</div>");};return A;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartRenderer",['jquery.sap.global'],function(q){"use strict";var C={};C.render=function(r,c){if(!c._bThemeApplied){return;}function w(f,I,g,e){r.write("<div");r.writeAttributeEscaped("id",c.getId()+I);r.addClass("sapSuiteClMCLbl");r.addClass(q.sap.encodeHTML(g));r.addClass(q.sap.encodeHTML("sapSuiteClMCSemanticColor"+f.getColor()));if(e){r.addClass("sapSuiteClMCWideBtmLbl");}r.writeClasses();r.write(">");r.writeEscaped(f.getLabel());r.write("</div>");}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteClMC");var s="sapSuiteClMCSize"+c.getSize();if(c.getIsResponsive()){s="sapSuiteClMCResponsive";}r.addClass(s);var a=c.getAltText();if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",a);r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");var l=c.getLeftTopLabel()&&c.getLeftTopLabel().getLabel()!="";var R=c.getRightTopLabel()&&c.getRightTopLabel().getLabel()!="";var L=c.getLeftBottomLabel()&&c.getLeftBottomLabel().getLabel()!="";var b=c.getRightBottomLabel()&&c.getRightBottomLabel().getLabel()!="";if(l||R){r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-top-lbls");r.addClass("sapSuiteClMCLbls");r.addClass("sapSuiteClMCPositionTop");r.writeClasses();r.write(">");var W=l^R;if(l){w(c.getLeftTopLabel(),"-left-top-lbl","sapSuiteClMCPositionLeft",W);}if(R){w(c.getRightTopLabel(),"-right-top-lbl","sapSuiteClMCPositionRight",W);}r.write("</div>");}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-content");r.addClass("sapSuiteClMCCnt");if(l||R){r.addClass("sapSuiteClMCPositionTop");}if(L||b){r.addClass("sapSuiteClMCPositionBtm");}r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-bars");r.addClass("sapSuiteClMCBars");r.writeClasses();r.write(">");var d=c.getColumns().length;for(var i=0;i<d;i++){var o=c.getColumns()[i];r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-bar-"+i);r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteClMCBar");r.addClass(q.sap.encodeHTML("sapSuiteClMCSemanticColor"+o.getColor()));if(o.hasListeners("press")){r.writeAttribute("tabindex","0");r.writeAttribute("role","presentation");var B=c._getBarAltText(i);r.writeAttributeEscaped("title",B);r.writeAttributeEscaped("aria-label",B);r.addClass("sapSuiteUiMicroChartPointer");}r.writeClasses();r.write(">");r.write("</div>");}r.write("</div>");r.write("</div>");if(L||b){r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-btm-lbls");r.addClass("sapSuiteClMCLbls");r.addClass("sapSuiteClMCPositionBtm");r.writeClasses();r.write(">");var e=L^b;if(L){w(c.getLeftBottomLabel(),"-left-btm-lbl","sapSuiteClMCPositionLeft",e);}if(b){w(c.getRightBottomLabel(),"-right-btm-lbl","sapSuiteClMCPositionRight",e);}r.write("</div>");}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-hidden");r.writeAttribute("aria-hidden","true");r.writeAttribute("tabindex","0");r.writeStyles();r.write(">");r.write("</div>");r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.DeltaMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.DeltaMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/DeltaMicroChartRenderer",['jquery.sap.global'],function(q){"use strict";var D={};D.render=function(r,c){if(!c._bThemeApplied){return;}var d=c.getDisplayValue1();var s=c.getDisplayValue2();var v=c.getValue1();var V=c.getValue2();var a=c.getDeltaDisplayValue();var A=d?d:""+v;var b=s?s:""+V;var e=a?a:""+Math.abs(v-V).toFixed(Math.max(c._digitsAfterDecimalPoint(v),c._digitsAfterDecimalPoint(V)));var C="sapSuiteDMCSemanticColor"+c.getColor();var f=c.getAltText();var S;if(c.getIsResponsive()){S="sapSuiteDMCResponsive";}else{S="sapSuiteDMCSize"+c.getSize();}var n=(!c.getTitle1()&&!c.getTitle2());function g(l){return l?"sapSuiteDMCDirectionLeft":"sapSuiteDMCDirectionRight";}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteDMC");if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.addClass(S);r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",f);r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles();}r.write(">");r.write("<div");r.addClass("sapSuiteDMCVerticalAlignmentContainer");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteDMCCnt");r.addClass(S);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title1");r.addClass("sapSuiteDMCTitle");r.addClass("sapSuiteDMCPositionTop");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle1());r.write("</div>");r.write("<div");r.addClass("sapSuiteDMCChart");r.addClass(S);if(n){r.addClass("sapSuiteDMCNoTitles");}r.writeClasses();r.writeAttribute("id",c.getId()+"-dmc-chart");r.write(">");r.write("<div");r.addClass("sapSuiteDMCBar");r.addClass("sapSuiteDMCBar1");r.addClass(S);if(c._oChartData.delta.isMax){r.addClass("sapSuiteDMCBarDeltaMaxDelta");}if(c._oChartData.bar1.isSmaller){r.addClass("sapSuiteDMCBarSizeSmaller");}if(parseFloat(c._oChartData.bar1.width)===0){r.addClass("sapSuiteDMCBarZeroWidth");}else if(parseFloat(c._oChartData.bar2.width)===0){r.addClass("sapSuiteDMCBarUniqueNonzero");}r.addClass(q.sap.encodeHTML(g(c._oChartData.bar1.left)));r.writeClasses();r.addStyle("width",q.sap.encodeHTML(c._oChartData.bar1.width+"%"));r.writeStyles();r.writeAttribute("id",c.getId()+"-dmc-bar1");r.write(">");r.write("<div");r.addClass("sapSuiteDMCBarInternal");r.addClass(q.sap.encodeHTML(g(c._oChartData.bar2.left)));r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteDMCBar");r.addClass("sapSuiteDMCBar2");r.addClass(S);if(c._oChartData.delta.isMax){r.addClass("sapSuiteDMCBarDeltaMaxDelta");}if(c._oChartData.bar2.isSmaller){r.addClass("sapSuiteDMCBarSizeSmaller");}if(parseFloat(c._oChartData.bar2.width)===0){r.addClass("sapSuiteDMCBarZeroWidth");}else if(parseFloat(c._oChartData.bar1.width)===0){r.addClass("sapSuiteDMCBarUniqueNonzero");}r.addClass(q.sap.encodeHTML(g(c._oChartData.bar2.left)));r.writeClasses();r.addStyle("width",q.sap.encodeHTML(c._oChartData.bar2.width+"%"));r.writeStyles();r.writeAttribute("id",c.getId()+"-dmc-bar2");r.write(">");r.write("<div");r.addClass("sapSuiteDMCBarInternal");r.addClass(q.sap.encodeHTML(g(c._oChartData.bar1.left)));r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteDMCBar");r.addClass("sapSuiteDMCBarDelta");r.addClass(S);if(!c._oChartData.delta.isMax){r.addClass("sapSuiteDMCBarDeltaNotMax");}if(c._oChartData.delta.isZero){r.addClass("sapSuiteDMCBarDeltaZero");}if(c._oChartData.delta.isEqual){r.addClass("sapSuiteDMCBarDeltaEqual");}r.addClass(q.sap.encodeHTML(g(c._oChartData.delta.left)));r.writeClasses();r.addStyle("width",q.sap.encodeHTML(c._oChartData.delta.width+"%"));r.writeStyles();r.writeAttribute("id",c.getId()+"-dmc-bar-delta");r.write(">");r.write("<div");r.addClass(C);r.addClass("sapSuiteDMCBarDeltaInt");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteDMCBarDeltaStripe");r.addClass(q.sap.encodeHTML(g(true)));if(c._oChartData.delta.isEqual){r.addClass("sapSuiteDMCBarDeltaEqual");}r.addClass("sapSuiteDMCBarDeltaFirstStripe"+(c._oChartData.delta.isFirstStripeUp?"Up":"Down"));r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteDMCBarDeltaStripe");r.addClass(q.sap.encodeHTML(g(false)));r.addClass("sapSuiteDMCBarDeltaFirstStripe"+(c._oChartData.delta.isFirstStripeUp?"Down":"Up"));r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-title2");r.addClass("sapSuiteDMCTitle");r.addClass("sapSuiteDMCPositionBtm");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle2());r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteDMCLbls");r.addClass(S);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value1");r.addClass("sapSuiteDMCValue1");r.writeClasses();r.write(">");r.writeEscaped(A);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-delta");r.addClass("sapSuiteDMCDelta");r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(e);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-value2");r.addClass("sapSuiteDMCValue2");r.writeClasses();r.write(">");r.writeEscaped(b);r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-calc");r.addClass("sapSuiteDMCCalc");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-calc1");r.addClass("sapSuiteDMCCalc1");r.writeClasses();r.write("></div>");r.write("<div");r.writeAttribute("id",c.getId()+"-calc2");r.addClass("sapSuiteDMCCalc2");r.writeClasses();r.write("></div>");r.write("</div>");r.write("</div>");r.write("</div>");};return D;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveBarChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveBarChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/InteractiveBarChartRenderer",["jquery.sap.global","sap/m/library"],function(q,M){"use strict";var I={};I.BAR_DIRECTION_POSITIVE={NAME:"positive",WRAPPER_CSSCLASS:"sapSuiteIBCBarWrapperPositive",CSSCLASS:"sapSuiteIBCBarPositive"};I.BAR_DIRECTION_NEGATIVE={NAME:"negative",WRAPPER_CSSCLASS:"sapSuiteIBCBarWrapperNegative",CSSCLASS:"sapSuiteIBCBarNegative"};I.render=function(r,c){if(!c._bThemeApplied){return;}var b=c.getBars(),B=Math.min(c.getDisplayedBars(),b.length);r.write("<div");r.writeControlData(c);r.addClass("sapSuiteIBC");r.writeClasses();r.writeStyles();if(!c._isChartEnabled()){var a=c.getTooltip_AsString();if(q.type(a)==="string"){r.writeAttributeEscaped("title",a);}}var A={};A.role="listbox";A.multiselectable=true;A.disabled=!c._isChartEnabled();A.labelledby=c.getAriaLabelledBy();A.describedby=this._getAriaDescribedBy(c,B);r.writeAccessibilityState(c,A);r.write(">");if(!c.getSelectionEnabled()){this.renderDisabledOverlay(r,c);}for(var i=0;i<B;i++){this._renderBar(r,c,b[i],i,B);}r.write("</div>");};I._renderBar=function(r,c,b,a,d){var v,l,t,A,C,L;r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-interactionArea-"+a);r.writeAttributeEscaped("data-sap-ui-ibc-selection-index",a);r.addClass("sapSuiteIBCBarInteractionArea");if(b.getSelected()){r.addClass("sapSuiteIBCBarSelected");}if(a===0&&c._isChartEnabled()){r.writeAttribute("tabindex","0");}if(c._isChartEnabled()){t=b.getTooltip_AsString();if(q.type(t)==="string"){r.writeAttributeEscaped("title",t);}}l=b.getLabel();A=l;if(c._bMinMaxValid){v=this._getDisplayValue(b,c);var t=b.getTooltip_Text();if(t&&q.trim(t).length>0){A=t;}else{if(A){A=A+" "+v;}else{A=v;}if(c._bUseSemanticTooltip){C=b.getColor();L=c._oRb.getText(("SEMANTIC_COLOR_"+C.toUpperCase()));A+=" "+L;}}}var o={};o.role="option";o.label=A;o.selected=b.getSelected();o.posinset=a+1;o.setsize=d;r.writeAccessibilityState(b,o);r.writeStyles();r.writeClasses();r.write(">");l=b.getLabel();if(b.getColor()!==M.ValueColor.Neutral){r.write("<div");r.addClass("sapSuiteIBCSemanticMarker");r.addClass("sapSuiteIBCSemantic"+b.getColor());r.writeClasses();r.write("/>");}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-label-"+a);r.addClass("sapSuiteIBCBarLabel");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteIBCBarLabelText");r.writeClasses();r.write(">");r.writeEscaped(l);r.write("</div>");r.write("</div>");if(c._bMinMaxValid){r.write("<div");r.addClass("sapSuiteIBCBarWrapper");r.writeClasses();r.write(">");this._renderBarDirection(r,c,b,a,v,I.BAR_DIRECTION_NEGATIVE);r.write("<div");r.addClass("sapSuiteIBCDivider");r.writeClasses();r.write("/>");this._renderBarDirection(r,c,b,a,v,I.BAR_DIRECTION_POSITIVE);r.write("</div>");}r.write("</div>");};I._renderBarDirection=function(r,c,b,a,d,e){var v=b.getValue();r.write("<div");r.addClass(e.WRAPPER_CSSCLASS);r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-bar-"+e.NAME+"-"+a);r.addClass("sapSuiteIBCBar");r.addClass(e.CSSCLASS);if(v>0){r.addClass("sapSuiteIBCValuePositive");}else if(v===0||b._bNullValue){r.addClass("sapSuiteIBCBarValueNull");}else{r.addClass("sapSuiteIBCValueNegative");}r.writeClasses();r.write(">");this._renderDisplayedValue(r,c,b,c.getId(),a,d,e);r.write("</div>");r.write("</div>");};I._renderDisplayedValue=function(r,c,b,a,d,e,f){var p;if(b._bNullValue){if(c._fMin<0&&c._fMax>0){p=Math.abs(c._fMax)>=Math.abs(c._fMin);}else{p=c._fMin>=0;}}else{p=b.getValue()>=0;}if(f===I.BAR_DIRECTION_POSITIVE&&p||f===I.BAR_DIRECTION_NEGATIVE&&!p){if(b._bNullValue){r.addClass("sapSuiteIBCBarValueNA");r.addClass("sapSuiteIBCBarValueOutside");}r.write("<span");r.writeAttributeEscaped("id",a+"-displayedValue-"+d);r.addClass("sapSuiteIBCBarValue");r.writeClasses();r.write(">");r.writeEscaped(e);r.write("</span>");}};I.renderDisabledOverlay=function(r,c){r.write("<div");r.addClass("sapSuiteIBCDisabledOverlay");r.writeClasses();r.write(">");r.write("</div>");};I._getDisplayValue=function(b,c){var v,V;v=b.getDisplayedValue();V=b.getValue();if(b._bNullValue){v=c._oRb.getText("INTERACTIVECHART_NA");}else if(!v){v=V.toString();}return v;};I._getAriaDescribedBy=function(c,b){var a=[];for(var i=0;i<b;i++){a.push(c.getId()+"-interactionArea-"+i);}return a.join(",");};return I;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveLineChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveLineChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/InteractiveLineChartRenderer",["jquery.sap.global","sap/m/library"],function(q,M){"use strict";var I={};I.render=function(r,c){if(!c._bThemeApplied){return;}var n=c._iVisiblePointsCount,a=100/n;r.write("<div");r.writeControlData(c);r.addClass("sapSuiteILC");r.writeClasses();var A={};A.role="listbox";A.multiselectable=true;A.disabled=!c._isChartEnabled();A.labelledby=c.getAriaLabelledBy();A.describedby=this._getAriaDescribedBy(c,n);r.writeAccessibilityState(c,A);if(!c._isChartEnabled()){var s=c.getTooltip_AsString();if(q.type(s)==="string"){r.writeAttributeEscaped("title",s);}}r.write(">");if(!c.getSelectionEnabled()){this._renderDisabledOverlay(r,c);}this._renderChartCanvas(r,c,n,a);r.write("<div");r.addClass("sapSuiteILCBottomLabelArea");if(c._fNormalizedZero){r.addClass("sapSuiteILCBottomLabelAreaNoDivider");}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteILCInteraction");r.writeClasses();r.write(">");for(var i=0;i<n;i++){this._renderPoint(r,c,i,n,a);}r.write("</div>");r.write("</div>");};I._renderPoint=function(r,c,i,p,a){var P=c.getPoints()[i];r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-point-area-"+i);r.addClass("sapSuiteILCSection");r.addClass("sapSuiteILCCanvasLayout");if(P.getSelected()){r.addClass("sapSuiteILCSelected");}r.writeClasses();r.addStyle("width",q.sap.encodeHTML(a+"%"));r.addStyle("left",q.sap.encodeHTML(i*a+"%"));r.writeStyles();r.write(">");var C=P.getColor();r.write("<div");if(!P._bNullValue){if(P.getSelected()){r.addClass("sapSuiteILCSelected");}if(C!==M.ValueColor.Neutral){r.addClass("sapSuiteICSemanticColor"+C);}r.writeAttributeEscaped("id",c.getId()+"-point-"+i);r.addClass("sapSuiteILCPoint");r.addStyle("bottom",q.sap.encodeHTML(c._aNormalizedValues[i]+"%"));}r.writeClasses();r.writeStyles();r.write("/>");r.write("<div");r.addClass("sapSuiteILCBackgroundArea");r.writeClasses();r.write("/>");var A=this._renderPointLabel(r,c,i,p);var s=P._getSemanticColor();if(s){A+=" "+s;}var t=P.getTooltip_Text();if(t&&q.trim(t).length>0){A=t;}r.write("<div");r.addClass("sapSuiteILCInteractionArea");r.addClass("sapMPointer");r.writeClasses();if(i===0&&c._isChartEnabled()){r.writeAttribute("tabindex","0");}var o={};o.role="option";o.label=A;o.selected=P.getSelected();o.posinset=i+1;o.setsize=p;r.writeAccessibilityState(P,o);if(c._isChartEnabled()){var b=P.getTooltip_AsString();if(q.type(b)==="string"){r.writeAttributeEscaped("title",b);}}r.write("/>");r.write("</div>");};I._renderChartCanvas=function(r,c,d,p){var i,P=c.getPoints();r.write("<div");r.addClass("sapSuiteILCChartCanvas");r.addClass("sapSuiteILCCanvasLayout");r.writeClasses();r.write(">");r.write("<svg");r.addClass("sapSuiteILCSvgElement");r.writeClasses();r.writeAttribute("focusable","false");r.write(">");if(c._fNormalizedZero){r.write("<line");r.writeAttribute("x1","1%");r.writeAttributeEscaped("y1",100-c._fNormalizedZero+"%");r.writeAttribute("x2","99%");r.writeAttributeEscaped("y2",100-c._fNormalizedZero+"%");r.writeAttribute("stroke-width","1");r.addClass("sapSuiteILCDivider");r.writeClasses();r.write("/>");}for(i=1;i<d;i++){if(!P[i-1]._bNullValue&&!P[i]._bNullValue){r.write("<line");r.writeAttributeEscaped("x1",p/2+(i-1)*p+"%");r.writeAttributeEscaped("y1",100-c._aNormalizedValues[i-1]+"%");r.writeAttributeEscaped("x2",p/2+(i*p)+"%");r.writeAttributeEscaped("y2",100-c._aNormalizedValues[i]+"%");r.writeAttribute("stroke-width","2");r.write("/>");}}r.write("</svg>");r.write("</div>");};I._renderPointLabel=function(r,c,i,p){var P=c.getPoints()[i];var B=P.getLabel()||"",t=P.getDisplayedValue();var h;r.write("<div");r.addClass("sapSuiteILCTextElement");r.addClass("sapSuiteILCBottomText");r.addClass("sapMPointer");r.writeClasses();r.write(">");r.writeEscaped(B);r.write("</div>");r.write("<div");r.addClass("sapSuiteILCTextElement");r.addClass("sapSuiteILCToplabel");r.addClass("sapMPointer");if(!P._bNullValue){if(!t){t=P.getValue().toString();}h=[c._aNormalizedValues[i]];if(i>0&&!c.getPoints()[i-1]._bNullValue){h.push((c._aNormalizedValues[i]+c._aNormalizedValues[i-1])/2);}if(i<p-1&&!c.getPoints()[i+1]._bNullValue){h.push((c._aNormalizedValues[i]+c._aNormalizedValues[i+1])/2);}h.sort(function(a,b){return a-b;});if(P.getValue()===c.nMax&&c.nMax!==c.nMin){r.addStyle("bottom",q.sap.encodeHTML(h[h.length-1]+"%"));r.addClass("sapSuiteILCShiftAbove");}else if(P.getValue()===c.nMin&&c.nMax!==c.nMin){r.addStyle("bottom",q.sap.encodeHTML(h[0]+"%"));r.addClass("sapSuiteILCShiftBelow");}else if(Math.abs(c._aNormalizedValues[i]-h[0])<Math.abs(c._aNormalizedValues[i]-h[h.length-1])){r.addStyle("bottom",q.sap.encodeHTML(h[0]+"%"));r.addClass("sapSuiteILCShiftBelow");}else{r.addStyle("bottom",q.sap.encodeHTML(h[h.length-1]+"%"));r.addClass("sapSuiteILCShiftAbove");}}else{t=c._oRb.getText("INTERACTIVECHART_NA");r.addClass("sapSuiteILCShiftBelow");r.addClass("sapSuiteILCNaLabel");}r.writeClasses();r.writeStyles();r.write(">");r.writeEscaped(t);r.write("</div>");return B+" "+t;};I._renderDisabledOverlay=function(r,c){r.write("<div");r.addClass("sapSuiteILCDisabledOverlay");r.writeClasses();r.write(">");r.write("</div>");};I._getAriaDescribedBy=function(c,p){var a=[];for(var i=0;i<p;i++){a.push(c.getId()+"-point-area-"+i);}return a.join(",");};return I;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.LineMicroChartPoint')){jQuery.sap.declare('sap.suite.ui.microchart.LineMicroChartPoint');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/LineMicroChartPoint",['sap/ui/core/Control'],function(C){"use strict";var L=C.extend("sap.suite.ui.microchart.LineMicroChartPoint",{metadata:{properties:{x:{type:"float",group:"Data",defaultValue:0},y:{type:"float",group:"Data",defaultValue:0}}}});return L;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.RadialMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.RadialMicroChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.ValueColor');sap.ui.define("sap/suite/ui/microchart/RadialMicroChartRenderer",["jquery.sap.global","sap/ui/Device","sap/m/ValueColor"],function(q,D,V){"use strict";var R={};R.FORM_RATIO=100;R.BACKGROUND_CIRCLE_BORDER_WIDTH=1;R.BACKGROUND_CIRCLE_RADIUS=(R.FORM_RATIO/2.0)-(R.BACKGROUND_CIRCLE_BORDER_WIDTH/2.0);R.RING_WIDTH=8.75;R.RING_CORE_RADIUS=R.BACKGROUND_CIRCLE_RADIUS-(R.RING_WIDTH/2.0)-R.BACKGROUND_CIRCLE_BORDER_WIDTH;R.SVG_VIEWBOX_CENTER_FACTOR="50%";R.X_ROTATION=0;R.SWEEP_FLAG=1;R.PADDING_WIDTH=0.22;R.NUMBER_FONT_SIZE=23.5;R.EDGE_CASE_SIZE_USE_SMALL_FONT=54;R.EDGE_CASE_SIZE_SHOW_TEXT=46;R.EDGE_CASE_SIZE_MICRO_CHART=24;R.render=function(r,c){if(!c._bThemeApplied){return;}this._writeDivStartElement(c,r);this._writeSVGStartElement(c,r);this._writeBackground(r);if(this._renderingOfInnerContentIsRequired(c)){this._writeBorders(r);if(this._innerCircleRequired(c)){this._writeCircle(c,r);}else{this._writeCircleWithPathElements(c,r);}this._writeText(c,r);}r.write("</svg>");r.write("</div>");};R._writeDivStartElement=function(c,r){r.write("<div");r.writeControlData(c);var a=c._getTooltipText();r.writeAttribute("role","img");r.writeAttributeEscaped("aria-label",a);if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.addClass("sapSuiteRMC");var s="sapSuiteRMCSize"+c.getSize();r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.writeStyles();r.write(">");};R._writeSVGStartElement=function(c,r){var p;if(!sap.ui.getCore().getConfiguration().getRTL()){p="xMaxYMid meet";}else{p="xMinYMid meet";}var s="sapSuiteRMCSize"+c.getSize();r.write("<svg class=\"sapSuiteRMC "+q.sap.encodeHTML(s)+"\" focusable=\"false"+"\" viewBox=\"0 0 "+R.FORM_RATIO+' '+R.FORM_RATIO+"\" preserveAspectRatio=\""+q.sap.encodeHTML(p)+"\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">");};R._writeBackground=function(r){r.write("<circle class=\"sapSuiteRMCCircleBackground\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+R.BACKGROUND_CIRCLE_RADIUS+"\" stroke-width=\""+this.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");};R._writeBorders=function(r){var f=R.RING_CORE_RADIUS+(R.RING_WIDTH/2.0)-(R.BACKGROUND_CIRCLE_BORDER_WIDTH/2.0),a=R.RING_CORE_RADIUS-(R.RING_WIDTH/2.0)+(R.BACKGROUND_CIRCLE_BORDER_WIDTH/2.0);r.write("<circle");r.addClass("sapSuiteRMCRing");r.writeClasses();r.writeAttribute("cx",R.SVG_VIEWBOX_CENTER_FACTOR);r.writeAttribute("cy",R.SVG_VIEWBOX_CENTER_FACTOR);r.writeAttribute("r",f);r.writeAttribute("stroke-width",R.BACKGROUND_CIRCLE_BORDER_WIDTH);r.write("/>");r.write("<circle");r.addClass("sapSuiteRMCRing");r.writeClasses();r.writeAttribute("cx",R.SVG_VIEWBOX_CENTER_FACTOR);r.writeAttribute("cy",R.SVG_VIEWBOX_CENTER_FACTOR);r.writeAttribute("r",a);r.writeAttribute("stroke-width",R.BACKGROUND_CIRCLE_BORDER_WIDTH);r.write("/>");};R._writeCircle=function(c,r){var C=this._getFullCircleColor(c);r.write("<circle");if(c._isValueColorValid()||C==="sapSuiteRMCRemainingCircle"){r.addClass(q.sap.encodeHTML(C));}else{r.writeAttributeEscaped("stroke",C);}r.writeClasses();r.writeStyles();r.write("cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+R.RING_CORE_RADIUS+"\" fill=\"transparent\" stroke-width=\""+R.RING_WIDTH+"px\" />");};R._writeCircleWithPathElements=function(c,r){var l=c.getPercentage()>50?1:0;var p=this._getPercentageForCircleRendering(c)-R.PADDING_WIDTH;var P=this._calculatePathCoordinates(c,p,false);this._writePath1(l,P,c,r);p=this._getPercentageForCircleRendering(c)+R.PADDING_WIDTH;P=this._calculatePathCoordinates(c,p,true);this._writePath2(l,P,c,r);};R._writePath1=function(l,p,c,r){var P="M"+p[0]+" "+p[1]+" A "+R.RING_CORE_RADIUS+" "+R.RING_CORE_RADIUS+", "+R.X_ROTATION+", "+l+", "+R.SWEEP_FLAG+", "+p[2]+" "+p[3];var C=this._getPathColor(c);r.write("<path");r.addClass("sapSuiteRMCPath");if(c._isValueColorValid()||C==="sapSuiteRMCRemainingCircle"){r.addClass(q.sap.encodeHTML(C));}else{r.writeAttributeEscaped("stroke",C);}r.writeClasses();r.writeStyles();r.write("d=\""+q.sap.encodeHTML(P)+"\" fill=\"transparent\" stroke-width=\""+R.RING_WIDTH+"px\" />");};R._writePath2=function(l,p,c,r){var P="M"+p[2]+" "+p[3]+" A "+R.RING_CORE_RADIUS+" "+R.RING_CORE_RADIUS+", "+R.X_ROTATION+", "+(1-l)+", "+R.SWEEP_FLAG+", "+p[0]+" "+p[1];r.write("<path class=\"sapSuiteRMCPath sapSuiteRMCRemainingCircle\" d=\""+q.sap.encodeHTML(P)+"\" fill=\"transparent\" stroke-width=\""+R.RING_WIDTH+"px\" />");};R._writeText=function(c,r){r.write("<text class=\"sapSuiteRMCFont\" text-anchor=\"middle\" alignment-baseline=\"middle\""+"\" font-size=\""+R.NUMBER_FONT_SIZE+"\" x=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" y=\""+q.sap.encodeHTML(this._getVerticalViewboxCenterFactorForText())+"\"> "+q.sap.encodeHTML(this._generateTextContent(c))+"</text>");};R._renderingOfInnerContentIsRequired=function(c){if(c._getPercentageMode()||(c.getTotal()!==0)){return true;}else{return false;}};R._getVerticalViewboxCenterFactorForText=function(){if(D.browser.msie||D.browser.mozilla||D.browser.edge){return"57%";}else{return"51%";}};R._innerCircleRequired=function(c){return c.getPercentage()>=100||c.getPercentage()<=0;};R._calculatePathCoordinates=function(c,p,h){var C=[];var P=0;var f=R.FORM_RATIO/2;if(h){P=2*R.PADDING_WIDTH/100*2*Math.PI;}C.push(f+R.RING_CORE_RADIUS*Math.cos(-Math.PI/2.0-P));C.push(f+R.RING_CORE_RADIUS*Math.sin(-Math.PI/2.0-P));C.push(f+R.RING_CORE_RADIUS*Math.cos(-Math.PI/2.0+p/100*2*Math.PI));C.push(f+R.RING_CORE_RADIUS*Math.sin(-Math.PI/2.0+p/100*2*Math.PI));return C;};R._getPercentageForCircleRendering=function(c){var p=c.getPercentage();var P=p;if(p>99-R.PADDING_WIDTH){P=99-R.PADDING_WIDTH;}if(p<1+R.PADDING_WIDTH){P=1+R.PADDING_WIDTH;}return P;};R._handleOnAfterRendering=function(c){var p,P;var t=c.$().find("text");var s=c.$().children("svg");if(c.getSize()==="Responsive"){if(c.getParent()!==undefined&&c.getParent()!==null&&c.getParent().getHeight!==undefined&&c.getParent().getHeight!==null){P=parseFloat(c.getParent().$().height())-2;c.$().height(P);s.height(P);}if(c.getParent()!==undefined&&c.getParent()!==null&&c.getParent().getWidth!==undefined&&c.getParent().getWidth!==null){p=parseFloat(c.getParent().$().width())-2;c.$().width(p);s.width(p);}}if(c.getSize()==="Responsive"){if(parseInt(s.css("height"),10)<R.EDGE_CASE_SIZE_MICRO_CHART||parseInt(s.css("width"),10)<R.EDGE_CASE_SIZE_MICRO_CHART){c.$().hide();return;}if(parseInt(s.css("height"),10)<=R.EDGE_CASE_SIZE_SHOW_TEXT||parseInt(s.css("width"),10)<=R.EDGE_CASE_SIZE_SHOW_TEXT){t.hide();}}var T=this._getTextColorClass(c);var C=s.attr("class")||"";if(C.indexOf(T)<0){var n=C+" "+T;var S=parseInt(s.css("height"),10);if(S<=R.EDGE_CASE_SIZE_USE_SMALL_FONT){n+=" sapSuiteRMCSmallFont";}s.attr("class",n);}};R._getTextColorClass=function(c){switch(c.getValueColor()){case V.Good:return"sapSuiteRMCGoodTextColor";case V.Error:return"sapSuiteRMCErrorTextColor";case V.Critical:return"sapSuiteRMCCriticalTextColor";default:return"sapSuiteRMCNeutralTextColor";}};R._getFullCircleColor=function(c){if(c.getPercentage()>=100){return this._getPathColor(c);}if(c.getPercentage()<=0){return"sapSuiteRMCRemainingCircle";}};R._getPathColor=function(c){var v=c.getValueColor();if(c._isValueColorValid()){switch(v){case V.Good:return"sapSuiteRMCPathGood";case V.Error:return"sapSuiteRMCPathError";case V.Critical:return"sapSuiteRMCPathCritical";default:return"sapSuiteRMCPathNeutral";}}else{return v;}};R._generateTextContent=function(c){if(c.getPercentage()===100){return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100]);}if(c.getPercentage()===0){return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0]);}if(c.getPercentage()>=100){q.sap.log.error("Values over 100%("+c.getPercentage()+"%) are not supported");return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100]);}if(c.getPercentage()<=0){q.sap.log.error("Values below 0%("+c.getPercentage()+"%) are not supported");return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0]);}return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[c.getPercentage()]);};return R;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.StackedBarMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.StackedBarMicroChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.ValueColor');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.ui.define("sap/suite/ui/microchart/StackedBarMicroChartRenderer",['jquery.sap.global','sap/m/ValueColor','sap/ui/core/theming/Parameters'],function(q,V,P){"use strict";var S={};S.LABEL_COLOR_LIGHT="#ffffff";S.LABEL_COLOR_DARK="#000000";S.COLORNAME_TO_HEX_MAP={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};S.SEMANTIC_COLORS={Good:"Positive",Error:"Negative"};S.render=function(r,c){var C=c._calculateChartData();if(!c._bThemeApplied){return;}this._aBars=c.getAggregation("bars");r.write("<div");r.writeControlData(c);if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapSuiteUiMicroChartPointer");}r.addClass("sapSuiteStackedMC");r.addClass("sapSuiteStackedMCSize"+c.getSize());r.writeClasses();var t=c._getTooltip(C);if(t&&typeof t==="string"){r.writeAttributeEscaped("title",t);}r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c._createTooltipText(C));r.writeStyles();r.write(">");this._renderInnerContent(r,c,C);r.write("</div>");};S._renderInnerContent=function(r,c,a){for(var i=0;i<a.length;i++){this._renderChartBar(r,c,a[i],i,i===a.length-1);}};S._renderChartBar=function(r,c,d,i,a){var C;if(d.width>0){r.write("<div");r.addClass("sapSuiteStackedMCBar");if(!a){r.addClass("sapSuiteStackedMCBarNoLast");}if(!d.color){r.addStyle("background-color","transparent");}else if(V[d.color]){r.addClass("sapSuiteStackedMCBarSemanticColor"+q.sap.encodeHTML(d.color));C=P.get(this._getValueCssParameter(d.color));}else{C=P.get(d.color);if(!C){C=d.color;}r.addStyle("background-color",q.sap.encodeHTML(C));}r.addStyle("width",q.sap.encodeHTML(d.width+"%"));r.writeClasses();r.writeStyles();r.write(">");if(C){this._renderChartBarLabel(r,c,d.displayValue,C);}r.write("</div>");}};S._renderChartBarLabel=function(r,c,d,b){if(!d){return;}r.write("<div");r.addClass("sapSuiteStackedMCBarLabel");r.writeClasses();r.addStyle("color",q.sap.encodeHTML(this._getLabelColor(b)));r.writeStyles();r.write(">");r.writeEscaped(d);r.write("</div>");};S._getLabelColor=function(b){var h=this._colorNameToHex(b);if(!h&&b.length===4){h="#"+new Array(3).join(b.substring(1,2))+new Array(3).join(b.substring(2,3))+new Array(3).join(b.substring(3,4));}else if(!h){h=b;}var r=parseInt(h.substring(1,3),16),g=parseInt(h.substring(3,5),16),B=parseInt(h.substring(5,7),16);var d=((r*299)+(g*587)+(B*114))/1000;if(d>127.5){return S.LABEL_COLOR_DARK;}else{return S.LABEL_COLOR_LIGHT;}};S._getValueCssParameter=function(c){var s=this.SEMANTIC_COLORS[c]||c;return"sapUi"+s+"Element";};S._colorNameToHex=function(c){return S.COLORNAME_TO_HEX_MAP[c];};return S;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.library')){jQuery.sap.declare('sap.suite.ui.microchart.library');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/library",['jquery.sap.global','sap/ui/core/library','sap/ui/core/Core','sap/m/library'],function(q,c,C,l){"use strict";sap.ui.getCore().initLibrary({name:"sap.suite.ui.microchart",version:"1.50.6",dependencies:["sap.ui.core","sap.m"],types:["sap.suite.ui.microchart.AreaMicroChartViewType","sap.suite.ui.microchart.BulletMicroChartModeType","sap.suite.ui.microchart.CommonBackgroundType","sap.suite.ui.microchart.ComparisonMicroChartViewType","sap.suite.ui.microchart.LoadStateType"],interfaces:[],controls:["sap.suite.ui.microchart.AreaMicroChart","sap.suite.ui.microchart.BulletMicroChart","sap.suite.ui.microchart.ColumnMicroChart","sap.suite.ui.microchart.ComparisonMicroChart","sap.suite.ui.microchart.DeltaMicroChart","sap.suite.ui.microchart.HarveyBallMicroChart","sap.suite.ui.microchart.LineMicroChart","sap.suite.ui.microchart.InteractiveBarChart","sap.suite.ui.microchart.InteractiveDonutChart","sap.suite.ui.microchart.InteractiveLineChart","sap.suite.ui.microchart.RadialMicroChart","sap.suite.ui.microchart.StackedBarMicroChart"],elements:["sap.suite.ui.microchart.AreaMicroChartPoint","sap.suite.ui.microchart.AreaMicroChartItem","sap.suite.ui.microchart.AreaMicroChartLabel","sap.suite.ui.microchart.BulletMicroChartData","sap.suite.ui.microchart.ColumnMicroChartData","sap.suite.ui.microchart.ColumnMicroChartLabel","sap.suite.ui.microchart.ComparisonMicroChartData","sap.suite.ui.microchart.HarveyBallMicroChartItem","sap.suite.ui.microchart.LineMicroChartPoint","sap.suite.ui.microchart.LineMicroChartEmphasizedPoint","sap.suite.ui.microchart.InteractiveBarChartBar","sap.suite.ui.microchart.InteractiveDonutChartSegment","sap.suite.ui.microchart.InteractiveLineChartPoint","sap.suite.ui.microchart.StackedBarMicroChartBar"]});sap.suite.ui.microchart.AreaMicroChartViewType={Normal:"Normal",Wide:"Wide"};sap.suite.ui.microchart.BulletMicroChartModeType={Actual:"Actual",Delta:"Delta"};sap.suite.ui.microchart.CommonBackgroundType={Lightest:"Lightest",ExtraLight:"ExtraLight",Light:"Light",MediumLight:"MediumLight",Medium:"Medium",Dark:"Dark",ExtraDark:"ExtraDark",Darkest:"Darkest",Transparent:"Transparent"};sap.suite.ui.microchart.ComparisonMicroChartViewType={Normal:"Normal",Wide:"Wide"};sap.suite.ui.microchart.LoadStateType={Loading:"Loading",Loaded:"Loaded",Failed:"Failed",Disabled:"Disabled"};sap.suite.ui.microchart._aStandardMarginClassNames=["sapUiTinyMargin","sapUiSmallMargin","sapUiMediumMargin","sapUiLargeMargin","sapUiTinyMarginBeginEnd","sapUiTinyMarginTopBottom","sapUiSmallMarginBeginEnd","sapUiSmallMarginTopBottom","sapUiMediumMarginBeginEnd","sapUiMediumMarginTopBottom","sapUiLargeMarginBeginEnd","sapUiLargeMarginTopBottom","sapUiTinyMarginTop","sapUiTinyMarginBottom","sapUiTinyMarginBegin","sapUiTinyMarginEnd","sapUiSmallMarginTop","sapUiSmallMarginBottom","sapUiSmallMarginBegin","sapUiSmallMarginEnd","sapUiMediumMarginTop","sapUiMediumMarginBottom","sapUiMediumMarginBegin","sapUiMediumMarginEnd","sapUiLargeMarginTop","sapUiLargeMarginBottom","sapUiLargeMarginBegin","sapUiLargeMarginEnd","sapUiResponsiveMargin","sapUiNoMargin","sapUiNoMarginTop","sapUiNoMarginBottom","sapUiNoMarginBegin","sapUiNoMarginEnd"];sap.suite.ui.microchart._isInGenericTile=function(o){var p=o.getParent();if(!p){return false;}if(p instanceof sap.m.TileContent||p instanceof sap.m.GenericTile){if(p instanceof sap.m.TileContent){if(this._isInGenericTile(p)){return true;}}if(p instanceof sap.m.GenericTile){return true;}}else if(this._isInGenericTile(p)){return true;}};sap.suite.ui.microchart._removeStandardMargins=function(o){for(var i=0;i<sap.suite.ui.microchart._aStandardMarginClassNames.length;i++){if(o.hasStyleClass(sap.suite.ui.microchart._aStandardMarginClassNames[i])){o.removeStyleClass(sap.suite.ui.microchart._aStandardMarginClassNames[i]);}}};sap.suite.ui.microchart._passParentContextToChild=function(o,a){if(o.data("_parentRenderingContext")){a.data("_parentRenderingContext",o.data("_parentRenderingContext"));}else if(q.isFunction(o.getParent)){a.data("_parentRenderingContext",o.getParent());}};sap.suite.ui.microchart._isTooltipSuppressed=function(t){return t!==null&&t!==undefined&&!t.trim();};sap.suite.ui.microchart._checkControlIsVisible=function(a,b){function i(){return a.getVisible()&&a.getDomRef()&&a.$().is(":visible")&&a.getDomRef().getBoundingClientRect().width!==0;}function d(){if(i()){sap.ui.getCore().detachIntervalTimer(d);b.call(a);}}var o=a.exit;a.exit=function(){sap.ui.getCore().detachIntervalTimer(d);if(o){o.call(a);}};if(i()){b.call(a);}else{sap.ui.getCore().attachIntervalTimer(d);}};sap.suite.ui.microchart._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(sap.ui.getCore().getConfiguration().getTheme());};return sap.suite.ui.microchart;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.FlexBox');sap.ui.define("sap/suite/ui/microchart/AreaMicroChart",['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/Device','sap/m/FlexBox'],function(q,l,C,D,F){"use strict";var A=C.extend("sap.suite.ui.microchart.AreaMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},maxXValue:{type:"float",group:"Misc",defaultValue:null},minXValue:{type:"float",group:"Misc",defaultValue:null},maxYValue:{type:"float",group:"Misc",defaultValue:null},minYValue:{type:"float",group:"Misc",defaultValue:null},view:{type:"sap.suite.ui.microchart.AreaMicroChartViewType",group:"Appearance",defaultValue:"Normal"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},showLabel:{type:"boolean",group:"Misc",defaultValue:true},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{}},defaultAggregation:"lines",aggregations:{chart:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem",bindable:"bindable"},maxThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},innerMaxThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},innerMinThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},minThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},target:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem",bindable:"bindable"},firstXLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},firstYLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lastXLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lastYLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},maxLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},minLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lines:{multiple:true,type:"sap.suite.ui.microchart.AreaMicroChartItem",bindable:"bindable"}}}});A.EDGE_CASE_WIDTH_SHOWCHART=32;A.EDGE_CASE_HEIGHT_WIDE_VIEW_SHOWCHART=27;A.EDGE_CASE_HEIGHT_SHOWCANVAS=16;A.EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL=16;A.EDGE_CASE_HEIGHT_SHOWTOPLABEL=32;A.EDGE_CASE_HEIGHT_SHOWLABEL=16;A.EDGE_CASE_WIDTH_RESIZEFONT=168;A.EDGE_CASE_HEIGHT_RESIZEFONT=72;A.WIDE_MODE_LABEL_PADDING=8;A.ITEM_NEUTRAL_COLOR="sapSuiteAMCSemanticColorNeutral";A.ITEM_NEUTRAL_NOTHRESHOLD_CSSCLASS="sapSuiteAMCNeutralNoThreshold";A.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}if(D.system.tablet||D.system.phone){D.orientation.attachHandler(this._onOrientationChange,this);}};A.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);};A.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();};A.prototype._getCssValues=function(){this._cssHelper.className=Array.prototype.slice.call(arguments).join(" ");var c=window.getComputedStyle(this._cssHelper);if(c.backgroundColor==undefined){c.backgroundColor=c["background-color"];}if(c.outlineStyle==undefined){c.outlineStyle=c["outline-style"];}if(c.outlineWidth==undefined){c.outlineWidth=c["outline-width"];}return c;};A.prototype.__fillThresholdArea=function(c,p,P,a){c.beginPath();c.moveTo(p[0].x,p[0].y);for(var i=1,b=p.length;i<b;i++){c.lineTo(p[i].x,p[i].y);}for(var j=P.length-1;j>=0;j--){c.lineTo(P[j].x,P[j].y);}c.closePath();c.fillStyle="white";c.fill();c.fillStyle=a;c.fill();c.lineWidth=1;c.strokeStyle="white";c.stroke();c.strokeStyle=a;c.stroke();};A.prototype._renderDashedLine=function(c,p,d,a){if(c.setLineDash){c.setLineDash(a);this._renderLine(c,p,d);c.setLineDash([]);}else{c.beginPath();for(var i=0,b=p.length-1;i<b;i++){c._dashedLine(p[i].x,p[i].y,p[i+1].x,p[i+1].y,a);}c.stroke();}};A.prototype._renderLine=function(c,p,d){c.beginPath();c.moveTo(p[0].x,p[0].y);for(var i=1,a=p.length;i<a;i++){c.lineTo(p[i].x,p[i].y);}c.stroke();};A.prototype._getItemColor=function(c,t){var i;if(t&&this.getTarget()){i="sapSuiteAMCSemanticColor"+this.getTarget().getColor();}else if(!t&&this.getChart()){i="sapSuiteAMCSemanticColor"+this.getChart().getColor();}if((i===A.ITEM_NEUTRAL_COLOR)&&!this._isThresholdPresent(c)){return A.ITEM_NEUTRAL_NOTHRESHOLD_CSSCLASS;}else{return i;}};A.prototype._isThresholdPresent=function(c){var t=[c.minThreshold.length,c.maxThreshold.length,c.innerMinThreshold.length,c.innerMaxThreshold.length];for(var i=0;i<t.length;i++){if(t[i]>1){return true;}}return false;};A.prototype._renderTarget=function(c,d){if(d.target.length>1){var s=this._getItemColor(d,true);var o=this._getCssValues("sapSuiteAMCTarget",s);c.strokeStyle=o.color;c.lineWidth=parseFloat(o.width);if(o.outlineStyle=="dotted"){this._renderDashedLine(c,d.target,d,[parseFloat(o.outlineWidth),3]);}else{this._renderLine(c,d.target,d);}}else if(d.target.length==1){q.sap.log.warning("Target is not rendered because only 1 point was given");}};A.prototype._renderThresholdLine=function(c,p,d){if(p&&p.length){var o=this._getCssValues("sapSuiteAMCThreshold");c.strokeStyle=o.color;c.lineWidth=o.width;this._renderLine(c,p,d);}};A.prototype._fillMaxThreshold=function(c,d){if(d.maxThreshold.length>1){var o=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColor"+this.getMaxThreshold().getColor());this.__fillThresholdArea(c,d.maxThreshold,[{x:d.maxThreshold[0].x,y:d.minY},{x:d.maxThreshold[d.maxThreshold.length-1].x,y:d.minY}],o.backgroundColor);this._renderThresholdLine(c,d.maxThreshold,d);}else if(d.maxThreshold.length==1){q.sap.log.warning("Max Threshold is not rendered because only 1 point was given");}};A.prototype._fillMinThreshold=function(c,d){if(d.minThreshold.length>1){var o=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColor"+this.getMinThreshold().getColor());this.__fillThresholdArea(c,d.minThreshold,[{x:d.minThreshold[0].x,y:d.maxY},{x:d.minThreshold[d.minThreshold.length-1].x,y:d.maxY}],o.backgroundColor);}else if(d.minThreshold.length==1){q.sap.log.warning("Min Threshold is not rendered because only 1 point was given");}};A.prototype._fillThresholdArea=function(c,d){if(d.minThreshold.length>1&&d.maxThreshold.length>1){var o=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColorCritical");this.__fillThresholdArea(c,d.maxThreshold,d.minThreshold,o.backgroundColor);}};A.prototype._fillInnerThresholdArea=function(c,d){if(d.innerMinThreshold.length>1&&d.innerMaxThreshold.length>1){var o=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColor"+this.getInnerMaxThreshold().getColor());this.__fillThresholdArea(c,d.innerMaxThreshold,d.innerMinThreshold,o.backgroundColor);}else if(d.innerMinThreshold.length||d.innerMaxThreshold.length){q.sap.log.warning("Inner threshold area is not rendered because inner min and max threshold were not correctly set");}};A.prototype._renderChart=function(c,d){if(d.chart.length>1){var s=this._getItemColor(d);var o=this._getCssValues("sapSuiteAMCChart",s);c.strokeStyle=o.color;c.lineWidth=parseFloat(o.width);this._renderLine(c,d.chart,d);}else if(d.chart.length==1){q.sap.log.warning("Actual values are not rendered because only 1 point was given");}};A.prototype._renderLines=function(c,d){var a=this.getColorPalette().length;var b=0;var t=this;var n=function(){if(a){if(b==a){b=0;}return t.getColorPalette()[b++];}};var o=this._getCssValues("sapSuiteAMCLine");c.lineWidth=parseFloat(o.width);var L=d.lines.length;for(var i=0;i<L;i++){if(d.lines[i].length>1){if(a){c.strokeStyle=n();}else{o=this._getCssValues("sapSuiteAMCLine","sapSuiteAMCSemanticColor"+this.getLines()[i].getColor());c.strokeStyle=o.color;}this._renderLine(c,d.lines[i],d);}}};A.prototype._renderCanvas=function(){this._cssHelper=document.getElementById(this.getId()+"-css-helper");var $=this.$();var L=$.find(".sapSuiteAMCSideLabels").css("width");$.find(".sapSuiteAMCCanvas, .sapSuiteAMCLabels").css("right",L).css("left",L);var a=document.getElementById(this.getId()+"-canvas");var b=window.getComputedStyle(a);var w=parseFloat(b.width);a.setAttribute("width",w?w:360);var h=parseFloat(b.height);a.setAttribute("height",h?h:242);var c=a.getContext("2d");c.lineJoin="round";c._dashedLine=function(x,y,e,f,g){var i=g.length;this.moveTo(x,y);var j=(e-x),k=(f-y);var s=j?k/j:1e15;var m=Math.sqrt(j*j+k*k);var n=0,o=true;while(m>=0.1){var p=g[n++%i];if(p>m){p=m;}var r=Math.sqrt(p*p/(1+s*s));if(j<0){r=-r;}x+=r;y+=s*r;this[o?'lineTo':'moveTo'](x,y);m-=p;o=!o;}};var d=this._calculateDimensions(a.width,a.height);if(this._isThresholdPresent(d)){$.find(".sapSuiteAMCCanvas").addClass("sapSuiteAMCWithThreshold");}this._fillMaxThreshold(c,d);this._fillMinThreshold(c,d);this._fillThresholdArea(c,d);this._renderThresholdLine(c,d.minThreshold,d);this._renderThresholdLine(c,d.maxThreshold,d);this._fillInnerThresholdArea(c,d);this._renderThresholdLine(c,d.innerMinThreshold,d);this._renderThresholdLine(c,d.innerMaxThreshold,d);this._renderTarget(c,d);this._renderChart(c,d);this._renderLines(c,d);};A.prototype._calculateDimensions=function(w,h){var m,b,c,d;m=b=c=d=undefined;var t=this;function e(){if(!t._isMinXValue||!t._isMaxXValue||!t._isMinYValue||!t._isMaxYValue){var o=t.getLines();if(t.getMaxThreshold()){o.push(t.getMaxThreshold());}if(t.getMinThreshold()){o.push(t.getMinThreshold());}if(t.getChart()){o.push(t.getChart());}if(t.getTarget()){o.push(t.getTarget());}if(t.getInnerMaxThreshold()){o.push(t.getInnerMaxThreshold());}if(t.getInnerMinThreshold()){o.push(t.getInnerMinThreshold());}for(var i=0,p=o.length;i<p;i++){var P=o[i].getPoints();for(var s=0,a=P.length;s<a;s++){var u=P[s].getXValue();if(u>m||m===undefined){m=u;}if(u<c||c===undefined){c=u;}u=P[s].getYValue();if(u>b||b===undefined){b=u;}if(u<d||d===undefined){d=u;}}}}if(t._isMinXValue){c=t.getMinXValue();}if(t._isMaxXValue){m=t.getMaxXValue();}if(t._isMinYValue){d=t.getMinYValue();}if(t._isMaxYValue){b=t.getMaxYValue();}}e();var r={minY:0,minX:0,maxY:h,maxX:w,lines:[]};var k;var f=m-c;if(f>0){k=w/f;}else if(f==0){k=0;r.maxX/=2;}else{q.sap.log.warning("Min X is more than max X");}var g;var j=b-d;if(j>0){g=h/(b-d);}else if(j==0){g=0;r.maxY/=2;}else{q.sap.log.warning("Min Y is more than max Y");}function n(a){var R=sap.ui.getCore().getConfiguration().getRTL();var o=function(V){var x=k*(V-c);if(R){x=r.maxX-x;}return x;};var p=function(V){return r.maxY-g*(V-d);};var s=[];if(a&&k!=undefined&&g!=undefined){var P=a.getPoints();var L=P.length;var u,y,v,z;if(L==1){v=P[0].getXValue();z=P[0].getYValue();if(v==undefined^z==undefined){var B,E;if(v==undefined){E=y=p(z);u=r.minX;B=r.maxX;}else{B=u=o(v);y=r.minY;E=r.maxY;}s.push({x:u,y:y},{x:B,y:E});}else{q.sap.log.warning("Point with coordinates ["+v+" "+z+"] ignored");}}else{for(var i=0;i<L;i++){v=P[i].getXValue();z=P[i].getYValue();if(v!=undefined&&z!=undefined){u=o(v);y=p(z);s.push({x:u,y:y});}else{q.sap.log.warning("Point with coordinates ["+v+" "+z+"] ignored");}}}}return s;}r.maxThreshold=n(t.getMaxThreshold());r.minThreshold=n(t.getMinThreshold());r.chart=n(t.getChart());r.target=n(t.getTarget());r.innerMaxThreshold=n(t.getInnerMaxThreshold());r.innerMinThreshold=n(t.getInnerMinThreshold());var L=t.getLines().length;for(var i=0;i<L;i++){r.lines.push(n(t.getLines()[i]));}return r;};A.prototype.setMinXValue=function(v,s){this._isMinXValue=this._isNumber(v);return this.setProperty("minXValue",this._isMinXValue?v:NaN,s);};A.prototype.setMaxXValue=function(v,s){this._isMaxXValue=this._isNumber(v);return this.setProperty("maxXValue",this._isMaxXValue?v:NaN,s);};A.prototype.setMinYValue=function(v,s){this._isMinYValue=this._isNumber(v);return this.setProperty("minYValue",this._isMinYValue?v:NaN,s);};A.prototype.setMaxYValue=function(v,s){this._isMaxYValue=this._isNumber(v);return this.setProperty("maxYValue",this._isMaxYValue?v:NaN,s);};A.prototype._isNumber=function(n){return typeof n==='number'&&!isNaN(n)&&isFinite(n);};A.prototype.onBeforeRendering=function(){if(this._bUseIndex){this._indexChartItems();}if(this.getIsResponsive()&&!this.data("_parentRenderingContext")&&q.isFunction(this.getParent)){this.data("_parentRenderingContext",this.getParent());}if(l._isInGenericTile(this)){this.setIsResponsive(true);l._removeStandardMargins(this);}this._unbindMouseEnterLeaveHandler();};A.prototype.onAfterRendering=function(){if(this.getIsResponsive()){this._adjustToParent();}l._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler();};A.prototype._onControlIsVisible=function(){if(this.getIsResponsive()){this._onResize();}else{this._renderCanvas();}};A._CHARTITEM_AGGREGATIONS=["chart","target","minThreshold","maxThreshold","innerMinThreshold","innerMaxThreshold"];A.prototype._indexChartItems=function(){var c,n=A._CHARTITEM_AGGREGATIONS.length;for(var i=0;i<n;i++){c=this.getAggregation(A._CHARTITEM_AGGREGATIONS[i]);if(c){this._indexChartItemPoints(c);}}};A.prototype._indexChartItemPoints=function(c){var p=c.getPoints();for(var i=0;i<p.length;i++){p[i].setProperty("x",i,true);}};A.prototype.enableXIndexing=function(u){this._bUseIndex=u;};A.prototype._onResize=function(){this.$().addClass("sapSuiteMicroChartsResponsive");this._resizeHorizontally();this._resizeVertically();};A.prototype._onOrientationChange=function(){this._renderCanvas(this.$());};A.prototype._adjustToParent=function(){if(this.data("_parentRenderingContext")&&this.data("_parentRenderingContext")instanceof F){var p=this.data("_parentRenderingContext").$();var P=parseFloat(p.width())-2;var i=parseFloat(p.height())-2;this.$().outerWidth(P).outerHeight(i);}};A.prototype._resizeVertically=function(){var $=this.$(),c=parseFloat($.css("height")),a=$.find(".sapSuiteAMCCanvas"),f=parseFloat(a.css("height"));if(f<=A.EDGE_CASE_HEIGHT_SHOWCANVAS){a.hide();}else{this._renderCanvas($);}if(c<=A.EDGE_CASE_HEIGHT_RESIZEFONT){$.addClass("sapSuiteAMCSmallFont");}if(this.getView()===l.AreaMicroChartViewType.Wide){if(this._hideWholeChartInWideMode(true)){$.hide();}}else{if(c<=A.EDGE_CASE_HEIGHT_SHOWTOPLABEL){$.find(".sapSuiteAMCPositionTop.sapSuiteAMCLabels").hide();}if(c<=A.EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL){$.find(".sapSuiteAMCPositionBtm.sapSuiteAMCLabels").hide();}}};A.prototype._resizeHorizontally=function(){var $=this.$();var c=parseFloat($.css("width"));var t=$.find(".sapSuiteAMCPositionTop.sapSuiteAMCLabels");var b=$.find(".sapSuiteAMCPositionBtm.sapSuiteAMCLabels");var v=this.getView();if(c<=A.EDGE_CASE_WIDTH_SHOWCHART||this.getView()===l.AreaMicroChartViewType.Wide&&this._hideWholeChartInWideMode(false)){$.hide();}else{this._renderCanvas($);if(c<=A.EDGE_CASE_WIDTH_RESIZEFONT){$.addClass("sapSuiteAMCSmallFont");}var L=[];L.push(t,b);for(var i=0;i<L.length;i++){var a;if(v===l.AreaMicroChartViewType.Wide){a=L[i].find(".sapSuiteAMCPositionCenter");}else{a=L[i].find(".sapSuiteAMCLbl");}for(var j=0;j<a.size();j++){if(this._isLabelTruncated(a[j])){L[i].hide();if(q(a[j]).parent().is(t)){$.removeClass("sapSuiteAMCTopLbls");}else if(q(a[j]).parent().is(b)){$.removeClass("sapSuiteAMCBtmLbls");}break;}}}}};A.prototype._hideWholeChartInWideMode=function(v){var $=this.$();var r=this.$().find(".sapSuiteAMCPositionRight.sapSuiteAMCSideLabels");var L=this.$().find(".sapSuiteAMCPositionLeft.sapSuiteAMCSideLabels");if(v){return r.height()<A.EDGE_CASE_HEIGHT_WIDE_VIEW_SHOWCHART||L.height()<=A.EDGE_CASE_HEIGHT_WIDE_VIEW_SHOWCHART;}else{var R=r.width();var i=L.width();if(R+i>=$.width()){$.find(".sapSuiteAMCCanvas").hide();}R=R?R-A.WIDE_MODE_LABEL_PADDING:0;i=i?i-A.WIDE_MODE_LABEL_PADDING:0;return R+i>=this.$().width();}};A.prototype._isLabelTruncated=function(a){var s;if(D.browser.msie||D.browser.edge){s=1;}else{s=0;}return a.offsetWidth<a.scrollWidth-s;};A.prototype.ontap=function(e){if(D.browser.msie){this.$().focus();}this.firePress();};A.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.SPACE){e.preventDefault();}};A.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};A.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};A.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};A.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};A.prototype.getAltText=function(){var a="";var f=this.getFirstXLabel();var o=this.getFirstYLabel();var L=this.getLastXLabel();var b=this.getLastYLabel();var m=this.getMinLabel();var M=this.getMaxLabel();var c=this.getChart();var t=this.getTarget();var I=true;if(f&&f.getLabel()||o&&o.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_START"))+": "+(f?f.getLabel():"")+" "+(o?o.getLabel()+" "+this._getLocalizedColorMeaning(o.getColor()):"");I=false;}if(L&&L.getLabel()||b&&b.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_END"))+": "+(L?L.getLabel():"")+" "+(b?b.getLabel()+" "+this._getLocalizedColorMeaning(b.getColor()):"");I=false;}if(m&&m.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_MINIMAL_VALUE"))+": "+m.getLabel()+" "+this._getLocalizedColorMeaning(m.getColor());I=false;}if(M&&M.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_MAXIMAL_VALUE"))+": "+M.getLabel()+" "+this._getLocalizedColorMeaning(M.getColor());I=false;}if(c&&c.getPoints()&&c.getPoints().length>0){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_ACTUAL_VALUES"))+":";I=false;var d=c.getPoints();for(var i=0;i<d.length;i++){a+=" "+d[i].getY();}}if(t&&t.getPoints()&&t.getPoints().length>0){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_TARGET_VALUES"))+":";var T=t.getPoints();for(var j=0;j<T.length;j++){a+=" "+T[j].getY();}}for(var k=0;k<this.getLines().length;k++){var e=this.getLines()[k];if(e.getPoints()&&e.getPoints().length>0){a+=(I?"":"\n")+e.getTitle()+":";var g=e.getPoints();for(var y=0;y<g.length;y++){a+=" "+g[y].getY();}if(this.getColorPalette().length==0){a+=" "+this._getLocalizedColorMeaning(e.getColor());}}}return a;};A.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t?t:"";};A.prototype.clone=function(i,L,o){var c=C.prototype.clone.apply(this,arguments);c._isMinXValue=this._isMinXValue;c._isMaxXValue=this._isMaxXValue;c._isMinYValue=this._isMinYValue;c._isMaxYValue=this._isMaxYValue;return c;};A.prototype.exit=function(){if(D.system.tablet||D.system.phone){D.orientation.detachHandler(this._onOrientationChange,this);}sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};A.prototype._addTitleAttribute=function(){if(!this.$().attr("title")){this.$().attr("title",this.getTooltip_AsString());}};A.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};A.prototype._bindMouseEnterLeaveHandler=function(){if(!this._oMouseEnterLeaveHandler){this._oMouseEnterLeaveHandler={mouseEnterChart:this._addTitleAttribute.bind(this),mouseLeaveChart:this._removeTitleAttribute.bind(this)};}this.$().bind("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().bind("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);};A.prototype._unbindMouseEnterLeaveHandler=function(){if(this._oMouseEnterLeaveHandler){this.$().unbind("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().unbind("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);}};return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartItem')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartItem');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartItem",['./library','sap/ui/core/Element'],function(l,E){"use strict";var A=E.extend("sap.suite.ui.microchart.AreaMicroChartItem",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"points",aggregations:{"points":{multiple:true,type:"sap.suite.ui.microchart.AreaMicroChartPoint",bindable:"bindable"}}}});return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartLabel')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartLabel');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartLabel",['./library','sap/ui/core/Element'],function(l,E){"use strict";var A=E.extend("sap.suite.ui.microchart.AreaMicroChartLabel",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""}}}});return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartPoint')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartPoint');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartPoint",['./library','sap/ui/core/Element','sap/ui/core/Control'],function(l,E,C){"use strict";var A=E.extend("sap.suite.ui.microchart.AreaMicroChartPoint",{metadata:{library:"sap.suite.ui.microchart",properties:{x:{type:"float",group:"Misc",defaultValue:null},y:{type:"float",group:"Misc",defaultValue:null}}}});A.prototype.setX=function(v,s){this._isXValue=this._isNumber(v);return this.setProperty("x",this._isXValue?v:NaN,s);};A.prototype.setY=function(v,s){this._isYValue=this._isNumber(v);return this.setProperty("y",this._isYValue?v:NaN,s);};A.prototype.getXValue=function(){return this._isXValue?this.getX():undefined;};A.prototype.getYValue=function(){return this._isYValue?this.getY():undefined;};A.prototype._isNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};A.prototype.clone=function(i,L,o){var c=C.prototype.clone.apply(this,arguments);c._isXValue=this._isXValue;c._isYValue=this._isYValue;return c;};return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.m.FlexBox');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.define("sap/suite/ui/microchart/BulletMicroChart",["jquery.sap.global","./library","sap/m/library","sap/ui/core/Control","sap/m/FlexBox","sap/ui/Device","sap/ui/core/ResizeHandler"],function(q,l,M,C,F,D,R){"use strict";var B=C.extend("sap.suite.ui.microchart.BulletMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},mode:{type:"sap.suite.ui.microchart.BulletMicroChartModeType",group:"Misc",defaultValue:"Actual"},scale:{type:"string",group:"Misc",defaultValue:""},forecastValue:{type:"float",group:"Misc",defaultValue:null},targetValue:{type:"float",group:"Misc",defaultValue:null},minValue:{type:"float",group:"Misc",defaultValue:null},maxValue:{type:"float",group:"Misc",defaultValue:null},showActualValue:{type:"boolean",group:"Misc",defaultValue:true},showDeltaValue:{type:"boolean",group:"Misc",defaultValue:true},showTargetValue:{type:"boolean",group:"Misc",defaultValue:true},showValueMarker:{type:"boolean",group:"Misc",defaultValue:false},actualValueLabel:{type:"string",group:"Misc",defaultValue:""},deltaValueLabel:{type:"string",group:"Misc",defaultValue:""},targetValueLabel:{type:"string",group:"Misc",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Misc"},scaleColor:{type:"sap.suite.ui.microchart.CommonBackgroundType",group:"Misc",defaultValue:"MediumLight"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"actual",aggregations:{actual:{type:"sap.suite.ui.microchart.BulletMicroChartData",multiple:false,bindable:"bindable"},thresholds:{type:"sap.suite.ui.microchart.BulletMicroChartData",multiple:true,singularName:"threshold",bindable:"bindable"}},events:{press:{}}}});B.EDGE_CASE_WIDTH_RESIZEFONT=168;B.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};B.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};B.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};B.prototype._calculateChartData=function(){var s=98,t=this.getThresholds(),c=[],T=this.getTargetValue(),f=this.getForecastValue(),a=this.getActual()&&this.getActual().getValue()?this.getActual().getValue():0,v=[],L=0,h=0,b=0,i;if(this.getActual()&&this.getActual()._isValueSet){v.push(a);}if(this._isForecastValueSet){v.push(f);}if(this._isTargetValueSet){v.push(T);}if(this._isMinValueSet){v.push(this.getMinValue());}if(this._isMaxValueSet){v.push(this.getMaxValue());}for(i=0;i<t.length;i++){v.push(t[i].getValue());}if(v.length>0){L=h=v[0];for(i=0;i<v.length;i++){if(v[i]<L){L=v[i];}if(v[i]>h){h=v[i];}}h=(h<0&&h<3*(L-h))?0:h;L=(L>0&&L>3*(h-L))?0:L;b=h-L;for(i=0;i<t.length;i++){c[i]={color:t[i].getColor(),valuePct:(!t[i]._isValueSet||b===0)?0:((t[i].getValue()-L)*s/b).toFixed(2)};}}var n,d;if(this.getMode()===l.BulletMicroChartModeType.Delta){n=(!this.getActual()||!this.getActual()._isValueSet||(b===0&&this.getActual().getValue()===0))?49:(0.05+(a-L)*s/b).toFixed(2);d=(!this._isTargetValueSet||b===0)?49:((T-L)*s/b).toFixed(2);}else{n=(!this.getActual()||!this.getActual()._isValueSet||b===0||L===0&&this.getActual().getValue()===0)?0:(0.05+(a-L)*s/b).toFixed(2);d=(!this._isTargetValueSet||b===0)?0:((T-L)*s/b).toFixed(2);}return{actualValuePct:n,targetValuePct:d,forecastValuePct:(!this._isForecastValueSet||b===0)?0:((f-L)*s/b).toFixed(2),thresholdsPct:c,fScaleWidthPct:s};};B.prototype._digitsAfterDecimalPoint=function(v){var a=(""+v).match(/[.,](\d+)/g);return(a)?(""+a).length-1:0;};B.prototype._calculateDeltaValue=function(){if(!this.getActual()._isValueSet||!this._isTargetValueSet){return 0;}else{var a=this.getActual().getValue();var t=this.getTargetValue();return Math.abs(a-t).toFixed(Math.max(this._digitsAfterDecimalPoint(a),this._digitsAfterDecimalPoint(t)));}};B.prototype.setMinValue=function(m){this._isMinValueSet=this._fnIsNumber(m);return this.setProperty("minValue",this._isMinValueSet?m:NaN);};B.prototype.setMaxValue=function(m){this._isMaxValueSet=this._fnIsNumber(m);return this.setProperty("maxValue",this._isMaxValueSet?m:NaN);};B.prototype.setTargetValue=function(t){this._isTargetValueSet=this._fnIsNumber(t);return this.setProperty("targetValue",this._isTargetValueSet?t:NaN);};B.prototype.setForecastValue=function(f){this._isForecastValueSet=this._fnIsNumber(f);return this.setProperty("forecastValue",this._isForecastValueSet?f:NaN);};B.prototype.setSize=function(s){if(this.getSize()!==s){if(s===M.Size.Responsive){this.setProperty("isResponsive",true,true);}else{this.setProperty("isResponsive",false,true);}this.setProperty("size",s,false);}return this;};B.prototype.ontap=function(e){if(D.browser.msie){this.$().focus();}this.firePress();};B.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.SPACE){e.preventDefault();}};B.prototype.onkeyup=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};B.prototype._fnIsNumber=function(v){return typeof v==='number'&&!isNaN(v)&&isFinite(v);};B.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};B.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};B.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){this.setIsResponsive(true);l._removeStandardMargins(this);}if(this._sChartResizeHandlerId){R.deregister(this._sChartResizeHandlerId);}if(this.getIsResponsive()&&!this.data("_parentRenderingContext")&&q.isFunction(this.getParent)){this.data("_parentRenderingContext",this.getParent());}this._unbindMouseEnterLeaveHandler();};B.prototype.onAfterRendering=function(){if(this.getIsResponsive()){this._adjustToParent();}l._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler();};B.prototype._onControlIsVisible=function(){this._onResize();this._sChartResizeHandlerId=R.register(this,q.proxy(this._onResize,this));if(this.getShowValueMarker()){this._adjustValueToMarker();}};B.prototype._onResize=function(){if(this.getIsResponsive()){this.$().removeClass("sapSuiteBMCSmallFont sapSuiteBMCNoLabels");this._adjustLabelsPos();this._resizeHorizontally();this._resizeVertically();}else{this._adjustLabelsPos();}};B.prototype._adjustToParent=function(){if(this.data("_parentRenderingContext")&&this.data("_parentRenderingContext")instanceof F){var p=this.data("_parentRenderingContext").$();var P=parseInt(p.height(),10);var s=parseInt(p.width(),10);var $=this.$();$.outerHeight(P-parseInt($.css("margin-top"),10)-parseInt($.css("margin-bottom"),10));$.outerWidth(s-parseInt($.css("margin-left"),10)-parseInt($.css("margin-right"),10));}};B.prototype._resizeVertically=function(){var $=this.$();var o=$.find(".sapSuiteBMCVerticalAlignmentContainer.sapSuiteBMCWholeControl");var c=$.find(".sapSuiteBMCChartCanvas");var m=parseInt(o.css("max-height"),10);var i=parseInt(o.css("min-height"),10);var a=parseInt(c.css("min-height"),10);var b=parseInt($.css("height"),10);if(b<m){$.addClass("sapSuiteBMCSmallFont");}if(b<a){$.hide();}else if(b<i){$.addClass("sapSuiteBMCNoLabels");}};B.prototype._resizeHorizontally=function(){var $=this.$();var o=$.find(".sapSuiteBMCVerticalAlignmentContainer.sapSuiteBMCWholeControl");var m=parseInt(o.css("min-width"),10);var c=parseInt($.css("width"),10);if(c<=m){$.hide();return;}if(c<B.EDGE_CASE_WIDTH_RESIZEFONT||this._isTruncatedLabel($)){$.addClass("sapSuiteBMCSmallFont");}if(this._isTruncatedLabel($)){$.hide();}};B.prototype._isTruncatedLabel=function(){var L=this.$().find(".sapSuiteBMCItemValue, .sapSuiteBMCTargetBarValue");for(var i=0;i<L.length;i++){if(L[i].scrollWidth>L[i].offsetWidth){return true;}}return false;};B.prototype.exit=function(){R.deregister(this._sChartResizeHandlerId);};B.prototype._adjustLabelsPos=function(){var r=sap.ui.getCore().getConfiguration().getRTL();var t=q.sap.byId(this.getId()+"-bc-target-bar-value");var c=q.sap.byId(this.getId()+"-chart-bar");var f=c.width();if(f){var T=0;if(t&&t.offset()){T=t.offset().left-c.offset().left;if(r){T=f-T;}this._adjustLabelPos(q.sap.byId(this.getId()+"-bc-target-value"),f,T,r);}var v=q.sap.byId(this.getId()+"-bc-bar-value-marker");if(v&&v.offset()){var a=v.offset().left-c.offset().left;if(r){a=f-a;}if(this.getMode()===l.BulletMicroChartModeType.Delta){a=(a+T)/2;}this._adjustLabelPos(q.sap.byId(this.getId()+"-bc-item-value"),f,a,r);}}};B.prototype._adjustLabelPos=function(L,f,o,r){var d=r?"right":"left";var a=L.width();if(a>f){L.css("width",""+f+"px");L.css(d,"0");}else{var b=o-0.5*a;if(b<0){b=0;}if(b+a>f){b=f-a;}L.css(d,b);L.css("width",""+(parseInt(a,10)+1)+"px");}};B.prototype._adjustValueToMarker=function(){var v=this.$("bc-bar-value");var m=this.$("bc-bar-value-marker");if(v.offset()&&m.offset()){var V=v.width();var f=v.offset().left;var a=m.width();var b=m.offset().left;if(sap.ui.getCore().getConfiguration().getRTL()){if(b<f){m.css("right","");m.offset({left:f});}if(b+a>f+V){m.css("right","");m.offset({left:f+V-a});}}else{if(b<f){m.offset({left:f});}if(b+a>f+V){v.width(b+a-f);}}}};B.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};B.prototype.getAltText=function(){var I=this.getActual()&&this.getActual()._isValueSet;var s=this.getScale();var t=this.getTargetValueLabel();var m=!this.getActual()||!this.getActual().getColor()?"":this._getLocalizedColorMeaning(this.getActual().getColor());var a="";if(I){var A=this.getActualValueLabel();var b=(A)?A:""+this.getActual().getValue();a+=this._oRb.getText("BULLETMICROCHART_ACTUAL_TOOLTIP",[b+s,m]);}if(this.getMode()===l.BulletMicroChartModeType.Delta){if(this._isTargetValueSet&&I){var d=this.getDeltaValueLabel();var c=(d)?d:""+this._calculateDeltaValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_DELTA_TOOLTIP",[c+s,m]);}}else if(this._isForecastValueSet){a+=(this._isForecastValueSet)?"\n"+this._oRb.getText("BULLETMICROCHART_FORECAST_TOOLTIP",[this.getForecastValue()+s,m]):"";}if(this._isTargetValueSet){var T=(t)?t:""+this.getTargetValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_TARGET_TOOLTIP",[T+s]);}var e=this.getThresholds().sort(function(f,S){return f.getValue()-S.getValue();});for(var i=0;i<e.length;i++){var o=e[i];a+="\n"+this._oRb.getText("BULLETMICROCHART_THRESHOLD_TOOLTIP",[o.getValue()+this.getScale(),this._getLocalizedColorMeaning(o.getColor())]);}return a;};B.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t?t:"";};B.prototype.clone=function(i,L,o){var c=C.prototype.clone.apply(this,arguments);c._isMinValueSet=this._isMinValueSet;c._isMaxValueSet=this._isMaxValueSet;c._isForecastValueSet=this._isForecastValueSet;c._isTargetValueSet=this._isTargetValueSet;return c;};B.prototype._addTitleAttribute=function(){if(!this.$().attr("title")){this.$().attr("title",this.getTooltip_AsString());}};B.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};B.prototype._bindMouseEnterLeaveHandler=function(){if(!this._oMouseEnterLeaveHandler){this._oMouseEnterLeaveHandler={mouseEnterChart:this._addTitleAttribute.bind(this),mouseLeaveChart:this._removeTitleAttribute.bind(this)};}this.$().bind("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().bind("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);};B.prototype._unbindMouseEnterLeaveHandler=function(){if(this._oMouseEnterLeaveHandler){this.$().unbind("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().unbind("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);}};return B;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChartData')){jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChartData');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/BulletMicroChartData",['jquery.sap.global','./library','sap/ui/core/Element','sap/ui/core/Control'],function(q,l,E,C){"use strict";var B=E.extend("sap.suite.ui.microchart.BulletMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Misc",defaultValue:"0"},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});B.prototype.setValue=function(v){this._isValueSet=this._fnIsNumber(v);return this.setProperty("value",this._isValueSet?v:NaN);};B.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};B.prototype.clone=function(i,L,o){var c=C.prototype.clone.apply(this,arguments);c._isValueSet=this._isValueSet;return c;};return B;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/BulletMicroChartRenderer",['jquery.sap.global','./library','sap/m/library'],function(q,l,M){"use strict";var B={};B.render=function(r,c){if(!c._bThemeApplied){return;}var C=c._calculateChartData();var f=+C.forecastValuePct;var s;if(c.getIsResponsive()){s="sapSuiteBMCResponsive";}else{s="sapSuiteBMCSize"+c.getSize();}var S=c.getScale();var d=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";var m="sapSuiteBMCModeType"+c.getMode();var D=c.getMode()===l.BulletMicroChartModeType.Delta?c._calculateDeltaValue():0;var I=c.getActual()&&c.getActual()._isValueSet;var b=c.getShowActualValue()&&c.getSize()!==M.Size.XS&&c.getMode()===l.BulletMicroChartModeType.Actual;var a=c.getShowDeltaValue()&&c.getSize()!==M.Size.XS&&c.getMode()===l.BulletMicroChartModeType.Delta;var e=c.getShowTargetValue()&&c.getSize()!==M.Size.XS;var A=c.getActualValueLabel();var g=c.getDeltaValueLabel();var t=c.getTargetValueLabel();var h=c.getThresholds();var j=c.getAltText();var k;if(I){k="sapSuiteBMCSemanticColor"+c.getActual().getColor();}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteBMC");r.addClass("sapSuiteBMCContent");r.addClass(q.sap.encodeHTML(s));if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",j);r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles();}r.writeAttribute("id",c.getId()+"-bc-content");r.write(">");r.write("<div");r.addClass("sapSuiteBMCVerticalAlignmentContainer");r.addClass("sapSuiteBMCWholeControl");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteBMCChart");r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.writeAttribute("id",c.getId()+"-bc-chart");r.write(">");var v="";r.write("<div");r.addClass("sapSuiteBMCTopLabel");r.writeClasses();r.write(">");if(I&&b){var n=A?A:""+c.getActual().getValue();v=n+S;r.write("<div");r.addClass("sapSuiteBMCItemValue");r.addClass(q.sap.encodeHTML(k));r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-item-value");r.write(">");r.writeEscaped(v);r.write("</div>");}else if(I&&c._isTargetValueSet&&a){var o=g?g:""+D;v=o+S;r.write("<div");r.addClass("sapSuiteBMCItemValue");r.addClass(q.sap.encodeHTML(k));r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-item-value");r.write(">");r.write("&Delta;");r.writeEscaped(v);r.write("</div>");}r.write("</div>");r.write("<div");r.addClass("sapSuiteBMCChartCanvas");r.writeClasses();r.write(">");for(var i=0;i<C.thresholdsPct.length;i++){if(h[i]._isValueSet){this.renderThreshold(r,c,C.thresholdsPct[i],s);}}r.write("<div");r.writeAttribute("id",c.getId()+"-chart-bar");r.addClass("sapSuiteBMCBar");r.addClass(q.sap.encodeHTML(s));r.addClass("sapSuiteBMCScaleColor"+c.getScaleColor());r.writeClasses();r.write(">");r.write("</div>");if(I){if(c._isForecastValueSet&&c.getMode()===l.BulletMicroChartModeType.Actual){r.write("<div");r.addClass("sapSuiteBMCForecastBarValue");r.addClass(q.sap.encodeHTML(k));r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.addStyle("width",f+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-forecast-bar-value");r.write("></div>");}r.write("<div");r.addClass("sapSuiteBMCBarValueMarker");r.addClass(m);if(!c.getShowValueMarker()){r.addClass("sapSuiteBMCBarValueMarkerHidden");}r.addClass(q.sap.encodeHTML(k));r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.addStyle(q.sap.encodeHTML(d),q.sap.encodeHTML(parseFloat(C.actualValuePct)+parseFloat(1)+"%"));if(c.getMode()===l.BulletMicroChartModeType.Delta&&C.actualValuePct<=C.targetValuePct){r.addStyle("margin","0");}r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value-marker");r.write("></div>");if(c.getMode()===l.BulletMicroChartModeType.Actual&&C.actualValuePct!==0){r.write("<div");r.addClass("sapSuiteBMCBarValue");r.addClass(q.sap.encodeHTML(k));r.addClass(q.sap.encodeHTML(s));if(c._isForecastValueSet){r.addClass("sapSuiteBMCForecast");}r.writeClasses();r.addStyle("width",q.sap.encodeHTML(C.actualValuePct+"%"));r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value");r.write("></div>");}else if(c._isTargetValueSet&&c.getMode()===l.BulletMicroChartModeType.Delta){r.write("<div");r.addClass("sapSuiteBMCBarValue");r.addClass(q.sap.encodeHTML(k));r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.addStyle("width",q.sap.encodeHTML(Math.abs(C.actualValuePct-C.targetValuePct)+"%"));r.addStyle(q.sap.encodeHTML(d),q.sap.encodeHTML(1+Math.min(C.actualValuePct,C.targetValuePct)+"%"));r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value");r.write("></div>");}}if(c._isTargetValueSet){r.write("<div");r.addClass("sapSuiteBMCTargetBarValue");r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.addStyle(q.sap.encodeHTML(d),q.sap.encodeHTML(parseFloat(C.targetValuePct).toFixed(2)+"%"));r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-target-bar-value");r.write("></div>");r.write("</div>");if(e){r.write("<div");r.addClass("sapSuiteBMCBottomLabel");r.writeClasses();r.write(">");var T=t?t:""+c.getTargetValue();var p=T+S;r.write("<div");r.addClass("sapSuiteBMCTargetValue");r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-target-value");r.write(">");r.writeEscaped(p);r.write("</div>");r.write("</div>");}}else{r.write("</div>");}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-info");r.writeAttribute("aria-hidden","true");r.addStyle("display","none");r.writeStyles();r.write(">");r.write("</div>");r.write("</div>");r.write("</div>");};B.renderThreshold=function(r,c,t,s){var d=sap.ui.getCore().getConfiguration().getRTL()?"right":"left",v=0.98*t.valuePct+1,C="sapSuiteBMCSemanticColor"+t.color;if(C==="sapSuiteBMCSemanticColor"+M.ValueColor.Error){r.write("<div");r.addClass("sapSuiteBMCDiamond");r.addClass(q.sap.encodeHTML(s));r.addClass(q.sap.encodeHTML(C));r.writeClasses();r.addStyle(q.sap.encodeHTML(d),q.sap.encodeHTML(v+"%"));r.writeStyles();r.write("></div>");}r.write("<div");r.addClass("sapSuiteBMCThreshold");r.addClass(q.sap.encodeHTML(s));r.addClass(q.sap.encodeHTML(C));r.writeClasses();r.addStyle(q.sap.encodeHTML(d),q.sap.encodeHTML(v+"%"));r.writeStyles();r.write("></div>");};return B;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.m.Size');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChart",['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Size','sap/ui/Device','sap/ui/core/ResizeHandler'],function(q,l,C,S,D,R){"use strict";var a=C.extend("sap.suite.ui.microchart.ColumnMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{group:"Misc",type:"sap.m.Size",defaultValue:"Auto"},width:{group:"Misc",type:"sap.ui.core.CSSSize"},height:{group:"Misc",type:"sap.ui.core.CSSSize"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{}},defaultAggregation:"columns",aggregations:{columns:{multiple:true,type:"sap.suite.ui.microchart.ColumnMicroChartData",defaultValue:null,bindable:"bindable"},leftTopLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},rightTopLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},leftBottomLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},rightBottomLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null}}}});a.EDGE_CASE_WIDTH_SHOWCHART=32;a.EDGE_CASE_HEIGHT_SHOWCANVAS=16;a.EDGE_CASE_HEIGHT_SHOWLABELS=16;a.EDGE_CASE_HEIGHT_SHOWTOPLABEL=32;a.EDGE_CASE_WIDTH_RESIZEFONT=168;a.EDGE_CASE_HEIGHT_RESIZEFONT=72;a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};a.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};a.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};a.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){this.setIsResponsive(true);l._removeStandardMargins(this);}this.$().unbind("mouseenter",this._addTitleAttribute);this.$().unbind("mouseleave",this._removeTitleAttribute);};a.prototype.onAfterRendering=function(){if(this._sChartResizeHandlerId){R.deregister(this._sChartResizeHandlerId);}this._sChartResizeHandlerId=R.register(q.sap.domById(this.getId()),q.proxy(this._calcColumns,this));this._fChartWidth=undefined;this._fChartHeight=undefined;this._aBars=[];var c=this.getColumns().length;for(var i=0;i<c;i++){this._aBars.push({});}this._adjustToParent();l._checkControlIsVisible(this,this._onControlIsVisible);this.$().bind("mouseenter",this._addTitleAttribute.bind(this));this.$().bind("mouseleave",this._removeTitleAttribute.bind(this));};a.prototype._onControlIsVisible=function(){this._calcColumns();this._resize();};a.prototype.exit=function(){R.deregister(this._sChartResizeHandlerId);};a.prototype._adjustToParent=function(){if(this.getIsResponsive()){if(!q.isFunction(this.getParent)){return;}var p=this.getParent();var $=this.$();if(q.isFunction(p.getHeight)){var P=parseFloat(p.$().height())-2;$.height(P);}if(q.isFunction(p.getWidth)){var s=parseFloat(p.$().width())-2;$.width(s);}}};a.prototype._resize=function(){if(this.getIsResponsive()){this._resizeHorizontally();this._resizeVertically();this._resizeBars();}};a.prototype._resizeVertically=function(){var $=this.$();var c=$.find(".sapSuiteClMCBars");var h=parseFloat(c.css("height"));if(h<=a.EDGE_CASE_HEIGHT_SHOWCANVAS){c.hide();}var H=parseFloat($.css("height"));if($.find(".sapSuiteClMCPositionBtm.sapSuiteClMCLbls").length!==0){if(H<=a.EDGE_CASE_HEIGHT_SHOWTOPLABEL){$.find(".sapSuiteClMCPositionTop.sapSuiteClMCLbls").hide();}if(H<=a.EDGE_CASE_HEIGHT_SHOWLABELS){$.find(".sapSuiteClMCPositionBtm.sapSuiteClMCLbls").hide();}}else if(H<=a.EDGE_CASE_HEIGHT_SHOWLABELS){$.find(".sapSuiteClMCPositionTop.sapSuiteClMCLbls").hide();}if(H<=a.EDGE_CASE_HEIGHT_RESIZEFONT){this._resizeFont();}};a.prototype._resizeHorizontally=function(){var $=this.$();var w=parseFloat($.css("width"));if(w<=a.EDGE_CASE_WIDTH_SHOWCHART){$.hide();return;}if(w<=a.EDGE_CASE_WIDTH_RESIZEFONT){this._resizeFont();}var L=$.find(".sapSuiteClMCPositionTop.sapSuiteClMCLbls");if(this._isTruncatedLabel(L)){L.hide();}L=$.find(".sapSuiteClMCPositionBtm.sapSuiteClMCLbls");if(this._isTruncatedLabel(L)){L.hide();}};a.prototype._resizeBars=function(){var w=this.getDomRef().getBoundingClientRect().width-1;var $=this.$();var n=$.find(".sapSuiteClMCBar").size();var m=parseFloat($.find(".sapSuiteClMCBar").css("min-width"));if((m===0)||isNaN(m)){m=1;}var N=n-1;if(n*m+N>=w){$.hide();}else if(parseFloat($.find(".sapSuiteClMCBar:last").css("margin-left"))<1){$.find(".sapSuiteClMCBar:not(:first)").css("margin-left","1px");$.find(".sapSuiteClMCBar").css("width",(((w-N)/n)));}};a.prototype._isTruncatedLabel=function(L){var $=L.find(".sapSuiteClMCPositionRight.sapSuiteClMCLbl,.sapSuiteClMCPositionLeft.sapSuiteClMCLbl");for(var i=0;i<$.size();i++){if($[i].offsetWidth+1<$[i].scrollWidth){this._resizeFont();}if($[i].offsetWidth+1<$[i].scrollWidth){return true;}}return false;};a.prototype._resizeFont=function(){this.$().find(".sapSuiteClMCLbl").addClass("sapSuiteClMCSmallFont");};a.prototype._calcColumns=function(){var c=this.getColumns().length;if(c){var f=parseFloat(this.$().css("width"));if(f!=this._fChartWidth){this._fChartWidth=f;var b=0;var B;if(c>1){B=q.sap.byId(this.getId()+"-bar-1");var r=sap.ui.getCore().getConfiguration().getRTL();b=parseInt(B.css("margin-"+(r?"right":"left")),10);}else{B=q.sap.byId(this.getId()+"-bar-0");}var d=parseInt(B.css("min-width"),10);this._calcColumnsWidth(b,d,f,this._aBars);}var e=parseFloat(this.$().css("height"));if(e!=this._fChartHeight){this._fChartHeight=e;this._calcColumnsHeight(e,this._aBars);}for(var i=0;i<c;i++){q.sap.byId(this.getId()+"-bar-"+i).css(this._aBars[i]);}if(this._aBars.overflow){q.sap.log.warning(this.toString()+" Chart overflow","Some columns were not rendered");}}};a.prototype._calcColumnsWidth=function(c,b,f,B){var d=this.getColumns().length;var v=Math.floor((f+c)/(b+c));var m=2;var e=(100-m*(d-1))/d;for(var i=0;i<d;i++){if(i<v){B[i].width=e+"%";if(i>0){B[i]["margin-left"]=m+"%";}}else{B[i].display="none";}}B.overflow=v!=d;};a.prototype._calcColumnsHeight=function(c,b){var d=this.getColumns().length;var m,M,v;m=M=0;for(var i=0;i<d;i++){var o=this.getColumns()[i];if(m<o.getValue()){m=o.getValue();}else if(M>o.getValue()){M=o.getValue();}}var f=m-M;var O=f/c;var e,t;e=t=0;for(var g=0;g<d;g++){v=this.getColumns()[g].getValue();if(Math.abs(v)<O){if(v>=0){if(v==m){t=O-v;}}else if(v==M){e=O+v;}}}if(t){m+=t;M-=t;}if(e){m-=e;M+=e;}var n=0-O;for(var h=0;h<d;h++){v=this.getColumns()[h].getValue();var j=v;if(v>=0){j=Math.max(j+t-e,O);}else{j=Math.min(j+t-e,n);}b[h].value=j;}function k(v){return(v/f*100).toFixed(2)+"%";}var z=k(m);for(var p=0;p<d;p++){v=b[p].value;b[p].top=(v<0)?z:k(m-v);b[p].height=k(Math.abs(v));}};a.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.getLocalizedColorMeaning=function(c){if(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());}};a.prototype.setSize=function(s){if(this.getSize()!==s){if(s===S.Responsive){this.setProperty("isResponsive",true,true);}else{this.setProperty("isResponsive",false,true);}this.setProperty("size",s,false);}return this;};a.prototype.getAltText=function(){var A="";var I=true;var L=this.getLeftTopLabel();var r=this.getRightTopLabel();var o=this.getLeftBottomLabel();var b=this.getRightBottomLabel();var c;if(L&&L.getLabel()||o&&o.getLabel()){if(L){c=L.getColor();}else if(o){c=o.getColor();}else{c="";}A+=(I?"":"\n")+this._oRb.getText(("COLUMNMICROCHART_START"))+": "+(o?o.getLabel()+" ":"")+(L?L.getLabel()+" ":"")+this.getLocalizedColorMeaning(c);I=false;}if(r&&r.getLabel()||b&&b.getLabel()){if(r){c=r.getColor();}else if(b){c=b.getColor();}else{c="";}A+=(I?"":"\n")+this._oRb.getText(("COLUMNMICROCHART_END"))+": "+(b?b.getLabel()+" ":"")+(r?r.getLabel()+" ":"")+this.getLocalizedColorMeaning(c);I=false;}var d=this.getColumns();for(var i=0;i<d.length;i++){var B=d[i];var m=this.getLocalizedColorMeaning(B.getColor());A+=((!I||i!=0)?"\n":"")+B.getLabel()+" "+B.getValue()+" "+m;}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t?t:"";};a.prototype.ontap=function(e){if(D.browser.edge){this.onclick(e);}};a.prototype.onclick=function(e){if(!this.fireBarPress(e)){if(D.browser.msie||D.browser.edge){this.$().focus();}this.firePress();}};a.prototype.onkeydown=function(e){var t,f;switch(e.keyCode){case q.sap.KeyCodes.SPACE:e.preventDefault();break;case q.sap.KeyCodes.ARROW_LEFT:case q.sap.KeyCodes.ARROW_UP:f=this.$().find(":focusable");t=f.index(e.target);if(f.length>0){f.eq(t-1).get(0).focus();e.preventDefault();e.stopPropagation();}break;case q.sap.KeyCodes.ARROW_DOWN:case q.sap.KeyCodes.ARROW_RIGHT:f=this.$().find(":focusable");t=f.index(e.target);if(f.length>0){f.eq((t+1<f.length)?t+1:0).get(0).focus();e.preventDefault();e.stopPropagation();}break;default:}};a.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){if(!this.fireBarPress(e)){this.firePress();e.preventDefault();}}};a.prototype.fireBarPress=function(e){var b=q(e.target);if(b&&b.attr("data-bar-index")){var i=parseInt(b.attr("data-bar-index"),10);var c=this.getColumns()[i];if(c&&c.hasListeners("press")){c.firePress();e.preventDefault();e.stopPropagation();if(D.browser.msie){b.focus();}return true;}}return false;};a.prototype._getBarAltText=function(b){var B=this.getColumns()[b];var m=this.getLocalizedColorMeaning(B.getColor());return B.getLabel()+" "+B.getValue()+" "+m;};a.prototype.setBarPressable=function(b,p){if(p){var B=this._getBarAltText(b);q.sap.byId(this.getId()+"-bar-"+b).addClass("sapSuiteUiMicroChartPointer").attr("tabindex",0).attr("title",B).attr("role","presentation").attr("aria-label",B);}else{q.sap.byId(this.getId()+"-bar-"+b).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label");}};a.prototype.onsaptabnext=function(e){var L=this.$().find(":focusable").last();if(L){this._bIgnoreFocusEvt=true;L.get(0).focus();}};a.prototype.onsaptabprevious=function(e){if(e.target.id!=e.currentTarget.id){var f=this.$().find(":focusable").first();if(f){f.get(0).focus();}}};a.prototype.onfocusin=function(e){if(this._bIgnoreFocusEvt){this._bIgnoreFocusEvt=false;return;}if(this.getId()+"-hidden"==e.target.id){this.$().focus();e.preventDefault();e.stopPropagation();}};a.prototype._addTitleAttribute=function(){if(this.$().attr("title")){return;}else{this.$().attr("title",this.getTooltip_AsString());}};a.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartData')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartData');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartData",['jquery.sap.global','./library','sap/ui/core/Element','sap/ui/core/Control'],function(q,l,E,C){"use strict";var a=E.extend("sap.suite.ui.microchart.ColumnMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""},value:{type:"float",group:"Misc"}},events:{press:{}}}});a.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getColumns().indexOf(this),true);}return this;};a.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getColumns().indexOf(this),false);}return this;};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartLabel')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartLabel');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartLabel",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var C=E.extend("sap.suite.ui.microchart.ColumnMicroChartLabel",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""}}}});return C;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.m.Size');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.FlexBox');sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChart",['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Size','sap/ui/Device','sap/m/FlexBox'],function(q,l,C,S,D,F){"use strict";var a=C.extend("sap.suite.ui.microchart.ComparisonMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},scale:{type:"string",group:"Misc",defaultValue:""},minValue:{type:"float",group:"Appearance",defaultValue:null},maxValue:{type:"float",group:"Appearance",defaultValue:null},view:{type:"sap.suite.ui.microchart.ComparisonMicroChartViewType",group:"Appearance",defaultValue:"Normal"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},shrinkable:{type:"boolean",group:"Misc",defaultValue:false},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{type:"sap.ui.core.CSSSize",group:"Appearance"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"data",aggregations:{data:{type:"sap.suite.ui.microchart.ComparisonMicroChartData",multiple:true,bindable:"bindable"}},events:{press:{}}}});a.WIDTH_FONT_THRESHOLD=168;a.HEIGHT_PER_CHART_DISAPPEAR_THRESHOLD=16;a.EDGE_CASE_WIDTH_HIDE_CHART=32;a.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.ontap=function(e){if(D.browser.edge){this.onclick(e);}};a.prototype.onclick=function(e){if(!this.fireBarPress(e)){this.firePress();if(D.browser.msie||D.browser.edge){this.$().focus();e.preventDefault();}}};a.prototype.fireBarPress=function(e){var b=q(e.target);if(b&&b.attr("data-bar-index")){var i=parseInt(b.attr("data-bar-index"),10);var c=this.getData()[i];if(c&&c.hasListeners("press")){c.firePress();e.preventDefault();e.stopImmediatePropagation();if(D.browser.msie){q.sap.byId(this.getId()+"-chart-item-bar-"+i).focus();}var B=this.$().find(".sapSuiteCpMCChartBar");var d=B.index(this.$().find(".sapSuiteCpMCChartBar[tabindex='0']"));this._switchTabindex(d,i,B);return true;}}return false;};a.prototype.onsaptabprevious=function(){this.$().css("outline-color","");};a.prototype.onsaptabnext=function(){var n=this.$().next();if(n.hasClass("sapSuiteCpMC")&&n.attr("tabindex")){n.css("outline-color","");}};a.prototype.onsapenter=function(e){if(!this.fireBarPress(e)){this.firePress();e.preventDefault();e.stopImmediatePropagation();}};a.prototype.onsapspace=a.prototype.onsapenter;a.prototype.onsapup=function(e){var b=this.$().find(".sapSuiteUiMicroChartPointer");if(b.length>0){var i=b.index(e.target);this._switchTabindex(i,i-1,b);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsapdown=function(e){var b=this.$().find(".sapSuiteUiMicroChartPointer");if(b.length>0){var i=b.index(e.target);this._switchTabindex(i,i+1,b);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsaphome=function(e){var b=this.$().find(".sapSuiteUiMicroChartPointer");var i=b.index(e.target);if(i!==0&&b.length>0){this._switchTabindex(i,0,b);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsapend=function(e){var b=this.$().find(".sapSuiteUiMicroChartPointer");var i=b.index(e.target),L=b.length;if(i!==L-1&&L>0){this._switchTabindex(i,L-1,b);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsapleft=a.prototype.onsapup;a.prototype.onsapright=a.prototype.onsapdown;a.prototype.setMinValue=function(m){this._isMinValueSet=q.isNumeric(m);return this.setProperty("minValue",this._isMinValueSet?m:NaN);};a.prototype.setMaxValue=function(m){this._isMaxValueSet=q.isNumeric(m);return this.setProperty("maxValue",this._isMaxValueSet?m:NaN);};a.prototype.setSize=function(s){if(this.getSize()!==s){if(s===S.Responsive){this.setProperty("isResponsive",true,true);}else{this.setProperty("isResponsive",false,true);}this.setProperty("size",s,false);}return this;};a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);this._isMinValueSet=false;this._isMaxValueSet=false;this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};a.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};a.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};a.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){this.setIsResponsive(true);l._removeStandardMargins(this);}this._unbindMouseEnterLeaveHandler();};a.prototype.onAfterRendering=function(){if(this.getIsResponsive()){this._adjustToParent();}l._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler();};a.prototype._onControlIsVisible=function(){if(this.getHeight()!==""||this.getIsResponsive()){D.media.attachHandler(this._onResize,this);this._onResize();}};a.prototype.setBarPressable=function(b,p){if(p){var B=this._getBarAltText(b);q.sap.byId(this.getId()+"-chart-item-bar-"+b).addClass("sapSuiteUiMicroChartPointer").attr("tabindex",0).attr("title",B).attr("role","presentation").attr("aria-label",B);}else{q.sap.byId(this.getId()+"-chart-item-bar-"+b).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label");}};a.prototype.getAltText=function(){var A="",b;for(var i=0;i<this.getData().length;i++){b=this._getBarAltText(i);if(!l._isTooltipSuppressed(b)){if(!l._isTooltipSuppressed(A)){A+="\n";}A+=b;}}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t?t:"";};a.prototype._calculateChartData=function(){var r=[];var d=this.getData();var c=d.length;var m=0;var M=0;var t;var b;var e;var i;for(i=0;i<c;i++){var f=isNaN(d[i].getValue())?0:d[i].getValue();m=Math.max(m,f);M=Math.min(M,f);}if(this._isMinValueSet){M=Math.min(M,this.getMinValue());}if(this._isMaxValueSet){m=Math.max(m,this.getMaxValue());}t=m-M;b=(t==0)?0:Math.round(m*100/t);if(b==0&&m!=0){b=1;}else if(b==100&&M!=0){b=99;}e=100-b;for(i=0;i<c;i++){var I={};var g=isNaN(d[i].getValue())?0:d[i].getValue();I.value=(t==0)?0:Math.round(g*100/t);if(I.value==0&&g!=0){I.value=(g>0)?1:-1;}else if(I.value==100){I.value=b;}else if(I.value==-100){I.value=-e;}if(I.value>=0){I.negativeNoValue=e;I.positiveNoValue=b-I.value;}else{I.value=-I.value;I.negativeNoValue=e-I.value;I.positiveNoValue=b;}r.push(I);}return r;};a.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};a.prototype._getBarAltText=function(b){var B=this.getData()[b];var o=this.getData()[b].getTooltip();if(o){return o;}else{var m=this.getColorPalette().length?"":this._getLocalizedColorMeaning(B.getColor());return B.getTitle()+" "+(B.getDisplayValue()?B.getDisplayValue():B.getValue())+this.getScale()+" "+m;}};a.prototype._adjustBars=function(){var b;var h=parseFloat(this.$().find(".sapSuiteCpMCVerticalAlignmentContainer").css("height"));var B=this.getData().length;var c=this.$().find(".sapSuiteCpMCChartItem");var m=parseFloat(c.css("min-height"));var M=parseFloat(c.css("max-height"));if(B!==0){b=this._calculateBarContainerHeight(D.browser.firefox,h,B);if(b>M){b=M;}else if(b<m){b=m;}c.css("height",b);var i=(h-b*B)/2;if(i>0){q(c[0]).css("margin-top",i+"px");}}};a.prototype._calculateBarContainerHeight=function(f,h,b){if(f&&!this.getIsResponsive()&&this.getView()!=="Wide"){var H=this.$().find(".sapSuiteCpMCChartItemHeader").outerHeight(true);var B=this.$().find(".sapSuiteCpMCChartBar").outerHeight(true);return H+B;}else{return h/b;}};a.prototype._onResize=function(){if(this.getIsResponsive()){this._adjustBars();this._resizeVertically();this._resizeHorizontally();}else{this._adjustBars();}};a.prototype._adjustToParent=function(){if(q.isFunction(this.getParent)&&this.getParent()instanceof F){var p=parseInt(this.getParent().$().height(),10);var P=parseInt(this.getParent().$().width(),10);var $=this.$();$.outerHeight(p-parseInt($.css("margin-top"),10)-parseInt($.css("margin-bottom"),10));$.outerWidth(P-parseInt($.css("margin-left"),10)-parseInt($.css("margin-right"),10));}};a.prototype._resizeVertically=function(){var $=this.$();var o=$.find(".sapSuiteCpMCVerticalAlignmentContainer");var m=parseInt(o.css("max-height"),10);var c=parseInt($.css("height"),10);var i=parseInt(o.css("height"),10);var b=this.$().find(".sapSuiteCpMCChartBar").outerHeight();var B=this.getData().length;if(c<=m){$.addClass("sapSuiteCpMCSmallFont");}if(this.getView()==="Normal"&&i<(a.HEIGHT_PER_CHART_DISAPPEAR_THRESHOLD+b)*B){$.find(".sapSuiteCpMCChartBar>div").hide();}if(i<a.HEIGHT_PER_CHART_DISAPPEAR_THRESHOLD*B){$.hide();}};a.prototype._resizeHorizontally=function(){var $=this.$();var b=$.find(".sapSuiteCpMCChartBar");var B=parseInt(b.width(),10);var w=parseInt($.width(),10);if(this.getView()==="Wide"&&B<a.EDGE_CASE_WIDTH_HIDE_CHART){b.hide();}if(w<a.WIDTH_FONT_THRESHOLD||this._isTruncatedLabel(".sapSuiteCpMCChartItemTitle, .sapSuiteCpMCChartItemValue")){$.addClass("sapSuiteCpMCSmallFont");}if(w<a.EDGE_CASE_WIDTH_HIDE_CHART){$.hide();}if(this._isTruncatedLabel(".sapSuiteCpMCChartItemValue")){$.hide();}};a.prototype._isTruncatedLabel=function(c){var L=this.$().find(c);for(var i=0;i<L.length;i++){if(L[i].offsetWidth<L[i].scrollWidth-1){return true;}}return false;};a.prototype._addTitleAttribute=function(){var t=this.getTooltip_AsString();if(!l._isTooltipSuppressed(t)){if(this.getIsResponsive()){this.$().find(".sapSuiteCpMCVerticalAlignmentContainer").attr("title",t);}else{this.$().attr("title",t);}}};a.prototype._removeTitleAttribute=function(){if(this.getIsResponsive()){this.$().find(".sapSuiteCpMCVerticalAlignmentContainer").removeAttr("title");}else{this.$().removeAttr("title");}};a.prototype._resolveFocus=function(e){var b=q(e.target);if(b&&b.attr("data-bar-index")){var i=parseInt(b.attr("data-bar-index"),10);var d=this.getData()[i];if(d&&d.hasListeners("press")){this.$().css("outline-color","transparent");}else{this.$().css("outline-color","");}}else{this.$().css("outline-color","");}};a.prototype._switchTabindex=function(o,n,b){if(o>=0&&o<b.length&&n>=0&&n<b.length){b.eq(o).removeAttr("tabindex");b.eq(n).attr("tabindex","0").focus();}};a.prototype._bindMouseEnterLeaveHandler=function(){if(!this._oMouseEnterLeaveHandler){this._oMouseEnterLeaveHandler={mouseEnterChart:this._addTitleAttribute.bind(this),mouseLeaveChart:this._removeTitleAttribute.bind(this),mouseDownChart:this._resolveFocus.bind(this)};}this.$().bind("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().bind("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);this.$().bind("mousedown",this._oMouseEnterLeaveHandler.mouseDownChart);};a.prototype._unbindMouseEnterLeaveHandler=function(){if(this._oMouseEnterLeaveHandler){this.$().unbind("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().unbind("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);this.$().unbind("mousedown",this._oMouseEnterLeaveHandler.mouseDownChart);}};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChartData')){jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChartData');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChartData",['jquery.sap.global','./library','sap/ui/core/Element','sap/ui/core/Control'],function(q,l,E,C){"use strict";var a=E.extend("sap.suite.ui.microchart.ComparisonMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Misc",defaultValue:"0"},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},title:{type:"string",group:"Misc",defaultValue:""},displayValue:{type:"string",group:"Misc",defaultValue:""}},events:{press:{}}}});a.prototype.setValue=function(v,s){this._isValueSet=this._fnIsNumber(v);return this.setProperty("value",this._isValueSet?v:NaN,s);};a.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};a.prototype.clone=function(i,L,o){var c=C.prototype.clone.apply(this,arguments);c._isValueSet=this._isValueSet;return c;};a.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getData().indexOf(this),true);}return this;};a.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getData().indexOf(this),false);}return this;};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChartRenderer",['jquery.sap.global','./library'],function(q,l){"use strict";var C={};C.render=function(r,c){if(!c._bThemeApplied){return;}var a=c.getAltText();r.write("<div");r.writeControlData(c);r.addClass("sapSuiteCpMC");r.addClass("sapSuiteCpMCChartContent");var s=c.getIsResponsive()?"sapSuiteCpMCResponsive":"sapSuiteCpMCSize"+c.getSize();r.addClass(s);if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapSuiteUiMicroChartPointer");}r.writeClasses();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",a);if(c.getShrinkable()){r.addStyle("min-height","0px");}if(!c.getIsResponsive()&&c.getWidth()){r.addStyle("width",c.getWidth());}if(!c.getIsResponsive()&&c.getHeight()){r.addStyle("height",c.getHeight());}r.writeStyles();r.write(">");this._renderInnerContent(r,c,a);r.write("<div");r.writeAttribute("id",c.getId()+"-info");r.writeAttribute("aria-hidden","true");r.addStyle("display","none");r.writeStyles();r.write(">");r.writeEscaped(a);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-hidden");r.writeAttribute("aria-hidden","true");r.writeAttribute("tabindex","-1");r.writeStyles();r.write(">");r.write("</div>");r.write("</div>");};C._renderInnerContent=function(r,c,a){var b=c.getColorPalette().length;var d=0;var n=function(){if(b){if(d==b){d=0;}return c.getColorPalette()[d++];}};r.write("<div");r.addClass("sapSuiteCpMCVerticalAlignmentContainer");r.writeClasses();r.write(">");var e=c._calculateChartData();for(var i=0;i<e.length;i++){this._renderChartItem(r,c,e[i],i,n());}r.write("</div>");};C._renderChartItem=function(r,c,o,i,s){var S=c.getIsResponsive()?"sapSuiteCpMCResponsive":"sapSuiteCpMCSize"+c.getSize();r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i);r.addClass("sapSuiteCpMCChartItem");r.addClass("sapSuiteCpMCViewType"+c.getView());if(!c.getIsResponsive()){r.addClass(S);}r.writeClasses();r.write(">");this._renderChartHeader(r,c,i,s);this._renderChartBar(r,c,o,i,s);r.write("</div>");};C._renderChartBar=function(r,c,o,i,s){var S=c.getIsResponsive()?"sapSuiteCpMCResponsive":"sapSuiteCpMCSize"+c.getSize();var d=c.getData()[i];r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-bar-"+i);r.addClass("sapSuiteCpMCChartBar");r.addClass("sapSuiteCpMCViewType"+c.getView());r.addClass(S);if(c.getData()[i].hasListeners("press")){if(i===0){r.writeAttribute("tabindex","0");}r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c._getBarAltText(i));if(!l._isTooltipSuppressed(c._getBarAltText(i))){r.writeAttributeEscaped("title",c._getBarAltText(i));}else{r.writeAttribute("title","");}r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteUiMicroChartPointer");}r.writeClasses();r.write(">");if(o.negativeNoValue>0){r.write("<div");r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCpMCChartBarNegNoValue");if(o.value>0||o.positiveNoValue>0){r.addClass("sapSuiteCpMCNotLastBarPart");}r.writeClasses();r.addStyle("width",q.sap.encodeHTML(o.negativeNoValue+"%"));r.writeStyles();r.write("></div>");}if(o.value>0){r.write("<div");r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCpMCChartBarValue");r.addClass(q.sap.encodeHTML("sapSuiteCpMCSemanticColor"+d.getColor()));r.writeClasses();r.addStyle("background-color",s?q.sap.encodeHTML(s):"");r.addStyle("width",q.sap.encodeHTML(o.value+"%"));r.writeStyles();r.write("></div>");}if(o.positiveNoValue>0){r.write("<div");r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCpMCChartBarNoValue");if(!!o.negativeNoValue&&!o.value){r.addClass("sapSuiteCpMCNegPosNoValue");}else if(!!o.negativeNoValue||!!o.value){r.addClass("sapSuiteCpMCNotFirstBarPart");}r.writeClasses();r.addStyle("width",q.sap.encodeHTML(o.positiveNoValue+"%"));r.writeStyles();r.write("></div>");}r.write("</div>");};C._renderChartHeader=function(r,c,i,s){var S=c.getIsResponsive()?"sapSuiteCpMCResponsive":"sapSuiteCpMCSize"+c.getSize();var d=c.getData()[i];var a=c.getScale();var D=d.getDisplayValue();var A=D?D:""+d.getValue();var v=A+a;r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-header");r.addClass("sapSuiteCpMCChartItemHeader");r.addClass("sapSuiteCpMCViewType"+c.getView());r.addClass(S);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-value");r.addClass("sapSuiteCpMCChartItemValue");r.addClass(S);r.addClass(q.sap.encodeHTML("sapSuiteCpMCViewType"+c.getView()));if(!s){r.addClass(q.sap.encodeHTML("sapSuiteCpMCSemanticColor"+d.getColor()));}if(d.getTitle()){r.addClass("sapSuiteCpMCTitle");}r.writeClasses();r.write(">");if(!isNaN(d.getValue())){r.writeEscaped(v);}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-title");r.addClass("sapSuiteCpMCChartItemTitle");r.writeClasses();r.write(">");r.writeEscaped(d.getTitle());r.write("</div>");r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.DeltaMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.DeltaMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.m.FlexBox');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.define("sap/suite/ui/microchart/DeltaMicroChart",['jquery.sap.global','./library','sap/m/library','sap/m/FlexBox','sap/ui/core/Control','sap/ui/Device','sap/ui/core/ResizeHandler'],function(q,l,M,F,C,D,R){"use strict";var a=C.extend("sap.suite.ui.microchart.DeltaMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{value1:{type:"float",group:"Misc",defaultValue:null},value2:{type:"float",group:"Misc",defaultValue:null},title1:{type:"string",group:"Misc",defaultValue:null},title2:{type:"string",group:"Misc",defaultValue:null},displayValue1:{type:"string",group:"Misc",defaultValue:null},displayValue2:{type:"string",group:"Misc",defaultValue:null},deltaDisplayValue:{type:"string",group:"Misc",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},width:{type:"sap.ui.core.CSSSize",group:"Misc"},size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{}}}});a.EDGE_CASE_WIDTH_RESIZEFONT=168;a.EDGE_CASE_HEIGHT_SHOW_BOTTOM_LABEL=16;a.EDGE_CASE_HEIGHT_SHOW_TOP_BOTTOM_LABELS=32;a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};a.prototype.setSize=function(s){if(this.getSize()!==s){if(s===M.Size.Responsive){this.setProperty("isResponsive",true,true);}else{this.setProperty("isResponsive",false,true);}this.setProperty("size",s,false);}return this;};a.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};a.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};a.prototype._calcChartData=function(){var v=this.getValue1();var V=this.getValue2();var m=Math.min(v,V,0);var f=Math.max(v,V,0);var t=f-m;function c(b){return(t===0?0:Math.abs(b)/t*100).toFixed(2);}var o={};var d=v-V;o.delta={left:f===0,width:c(d),isFirstStripeUp:v<V,isMax:(v<0&&V>=0)||(v>=0&&V<0),isZero:v===0&&V===0,isEqual:d===0};o.bar1={left:V>=0,width:c(v),isSmaller:Math.abs(v)<Math.abs(V)};o.bar2={left:v>=0,width:c(V),isSmaller:Math.abs(V)<Math.abs(v)};return o;};a.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};a.prototype._digitsAfterDecimalPoint=function(v){var A=(""+v).match(/[.,](\d+)/g);return(A)?(""+A).length-1:0;};a.prototype.getAltText=function(){var d=this.getDisplayValue1();var s=this.getDisplayValue2();var b=this.getDeltaDisplayValue();var v=this.getValue1();var V=this.getValue2();var A=d?d:""+v;var c=s?s:""+V;var e=b?b:""+Math.abs(v-V).toFixed(Math.max(this._digitsAfterDecimalPoint(v),this._digitsAfterDecimalPoint(V)));var m=this._getLocalizedColorMeaning(this.getColor());return this.getTitle1()+" "+A+"\n"+this.getTitle2()+" "+c+"\n"+this._oRb.getText("DELTAMICROCHART_DELTA_TOOLTIP",[e,m]);};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t?t:"";};a.prototype._isCalcSupported=function(){return q.sap.byId(this.getId()+"-calc").css("max-width")==="11px";};a.prototype._isRoundingSupported=function(){return q.sap.byId(this.getId()+"-calc1").width()===4;};a.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){this.setIsResponsive(true);l._removeStandardMargins(this);}this._oChartData=this._calcChartData();if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);}this.$().unbind("mouseenter",this._addTitleAttribute);this.$().unbind("mouseleave",this._removeTitleAttribute);};a.prototype.onAfterRendering=function(){this._bCalc=this._isCalcSupported();this._bRounding=this._isRoundingSupported();if(this.getIsResponsive()){this._adjustToParent();}l._checkControlIsVisible(this,this._onControlIsVisible);this.$().bind("mouseenter",this._addTitleAttribute.bind(this));this.$().bind("mouseleave",this._removeTitleAttribute.bind(this));};a.prototype._onControlIsVisible=function(){if(this.getIsResponsive()){this._resizeVertically();this._resizeHorizontally();}if(!this._bCalc||!this._bRounding){var c=q.sap.domById(this.getId()+"-dmc-chart");this._sResizeHandlerId=R.register(c,q.proxy(this._adjust,this));if(!this._bCalc){this._adjustCalc();}if(!this._bRounding){this._adjustRound();}}};a.prototype._adjustToParent=function(){if(q.isFunction(this.getParent)&&this.getParent()instanceof F){var p=parseInt(this.getParent().$().height(),10);var P=parseInt(this.getParent().$().width(),10);var $=this.$();$.outerHeight(p-parseInt($.css("margin-top"),10)-parseInt($.css("margin-bottom"),10));$.outerWidth(P-parseInt($.css("margin-left"),10)-parseInt($.css("margin-right"),10));}};a.prototype._resizeVertically=function(){var $=this.$();var v=$.find(".sapSuiteDMCVerticalAlignmentContainer");var c=$.find(".sapSuiteDMCResponsive.sapSuiteDMCChart");var L=$.find(".sapSuiteDMCPositionTop.sapSuiteDMCTitle");var r=$.find(".sapSuiteDMCLbls .sapSuiteDMCValue1");var b=$.find(".sapSuiteDMCLbls .sapSuiteDMCDelta");var h=a.EDGE_CASE_HEIGHT_SHOW_TOP_BOTTOM_LABELS+parseInt(c.css("min-height"),10);var V=parseInt(v.css("height"),10);var H=parseInt($.css("height"),10);if(H<=V){$.addClass("sapSuiteDMCSmallFont");}if(H<a.EDGE_CASE_HEIGHT_SHOW_BOTTOM_LABEL){$.hide();}else if(H<a.EDGE_CASE_HEIGHT_SHOW_TOP_BOTTOM_LABELS){r.hide();b.hide();L.hide();c.hide();}else if(H<=h){b.hide();c.hide();}};a.prototype._resizeHorizontally=function(){var $=this.$();var L=$.find(".sapSuiteDMCResponsive.sapSuiteDMCCnt");var r=$.find(".sapSuiteDMCResponsive.sapSuiteDMCLbls");var c=parseInt($.css("width"),10);var w=parseInt(L.css("min-width"),10);if(c<a.EDGE_CASE_WIDTH_RESIZEFONT||!this._rightSideTruncated(r)){$.addClass("sapSuiteDMCSmallFont");}if(!this._rightSideTruncated(r)){$.hide();}if(parseInt(L.css("width"),10)<=w){L.hide();}};a.prototype._rightSideTruncated=function(r){return parseInt(this.$().css("width"),10)>=parseInt(r.css("width"),10);};a.prototype._adjust=function(){if(!this._bCalc){this._adjustCalc();}if(!this._bRounding){this._adjustRound();}};a.prototype._adjustRound=function(){var c=q.sap.byId(this.getId()+"-dmc-chart").width();var d=Math.round(c*this._oChartData.delta.width/100);q.sap.byId(this.getId()+"-dmc-bar-delta").width(d);if(this._oChartData.bar1.isSmaller&&!this._oChartData.delta.isMax){q.sap.byId(this.getId()+"-dmc-bar1").width(c-d);}if(this._oChartData.bar2.isSmaller&&!this._oChartData.delta.isMax){q.sap.byId(this.getId()+"-dmc-bar2").width(c-d);}};a.prototype._adjustCalc=function(){var c=q.sap.byId(this.getId()+"-dmc-chart").width();function b(B){B.css("max-width",c-parseInt(B.css("max-width"),10)+"px");}b(q.sap.byId(this.getId()+"-dmc-bar1"));b(q.sap.byId(this.getId()+"-dmc-bar2"));b(q.sap.byId(this.getId()+"-dmc-bar-delta"));};a.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.ontap=function(e){if(D.browser.msie){this.$().focus();}this.firePress();};a.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.SPACE){e.preventDefault();}};a.prototype.onkeyup=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};a.prototype._addTitleAttribute=function(){if(this.$().attr("title")){return;}else{this.$().attr("title",this.getTooltip_AsString());}};a.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChart",['jquery.sap.global','./library','sap/m/library','sap/ui/core/Control','sap/ui/Device'],function(q,l,M,C,D){"use strict";var H=C.extend("sap.suite.ui.microchart.HarveyBallMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{total:{group:"Misc",type:"float",defaultValue:null},totalLabel:{group:"Misc",type:"string"},totalScale:{group:"Misc",type:"string"},formattedLabel:{group:"Misc",type:"boolean",defaultValue:false},showTotal:{group:"Misc",type:"boolean",defaultValue:true},showFractions:{group:"Misc",type:"boolean",defaultValue:true},size:{group:"Misc",type:"sap.m.Size",defaultValue:"Auto"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},width:{group:"Misc",type:"sap.ui.core.CSSSize"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{}},defaultAggregation:"items",aggregations:{"items":{multiple:true,type:"sap.suite.ui.microchart.HarveyBallMicroChartItem",bindable:"bindable"}}}});H._iSmallestChartSize=24;H._iSmallestFontSize=12;H.prototype.getAltText=function(){var a="";var I=true;var b=this.getItems();for(var i=0;i<b.length;i++){var o=b[i];var c=(this.getColorPalette().length==0)?this._rb.getText(("SEMANTIC_COLOR_"+o.getColor()).toUpperCase()):"";var L=o.getFractionLabel();var s=o.getFractionScale();if(!L&&s){L=o.getFormattedLabel()?o.getFraction():o.getFraction()+o.getFractionScale().substring(0,3);}else if(!o.getFormattedLabel()&&o.getFractionLabel()){L+=o.getFractionScale().substring(0,3);}a+=(I?"":"\n")+L+" "+c;I=false;}if(this.getTotal()){var t=this.getTotalLabel();if(!t){t=this.getFormattedLabel()?this.getTotal():this.getTotal()+this.getTotalScale().substring(0,3);}else if(!this.getFormattedLabel()){t+=this.getTotalScale().substring(0,3);}a+=(I?"":"\n")+this._rb.getText("HARVEYBALLMICROCHART_TOTAL_TOOLTIP")+" "+t;}return a;};H.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t?t:"";};H.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);D.media.attachHandler(this.rerender,this,D.media.RANGESETS.SAP_STANDARD);this._sChartResizeHandlerId=null;this._$Control=null;this._$ParentContainer=null;this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};H.prototype.setSize=function(s){if(this.getSize()!==s){if(s===M.Size.Responsive){this.setProperty("isResponsive",true,true);}else{this.setProperty("isResponsive",false,true);}this.setProperty("size",s,false);}return this;};H.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};H.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};H.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){this.setIsResponsive(true);l._removeStandardMargins(this);}this._unbindMouseEnterLeaveHandler();};H.prototype.onAfterRendering=function(){if(this.getIsResponsive()){this._adjustToParent();}l._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler();};H.prototype._onControlIsVisible=function(){if(this.$().width()<H._iSmallestChartSize||this.$().height()<H._iSmallestChartSize){this.$().hide();}this._hideLabels();};H.prototype._adjustToParent=function(){if(!q.isFunction(this.getParent)){return;}var p=this.getParent();if(q.isFunction(p.getHeight)){var P=parseFloat(p.$().height())-2;this.$().height(P);this.$().find("svg").height(P);}if(q.isFunction(p.getWidth)){var s=parseFloat(p.$().width())-2;this.$().width(s);this.$().find("svg").width(s);}};H.prototype._hideLabels=function(){var t;var T;var $=this.$().find("#sapSuiteHBMCTopText");var a=this.$().find("#sapSuiteHBMCBottomText");if($.length>0){t=$[0].getBoundingClientRect().height;}if(a.length>0){T=a[0].getBoundingClientRect().height;}if(t<H._iSmallestFontSize||T<H._iSmallestFontSize){this.$().find("text").hide();}};H.prototype._parseFormattedValue=function(v){return{scale:v.replace(/.*?([^+-.,\d]*)$/g,"$1").trim(),value:v.replace(/(.*?)[^+-.,\d]*$/g,"$1").trim()};};H.prototype.ontap=function(e){if(D.browser.msie){this.$().focus();}this.firePress();};H.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.SPACE){e.preventDefault();}};H.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};H.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};H.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};H.prototype.exit=function(e){D.media.detachHandler(this.rerender,this,D.media.RANGESETS.SAP_STANDARD);};H.prototype._addTitleAttribute=function(){if(!this.$().attr("title")){this.$().attr("title",this.getTooltip_AsString());}};H.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};H.prototype._bindMouseEnterLeaveHandler=function(){this.$().bind("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().bind("mouseleave.tooltip",this._removeTitleAttribute.bind(this));};H.prototype._unbindMouseEnterLeaveHandler=function(){this.$().unbind("mouseenter.tooltip");this.$().unbind("mouseleave.tooltip");};return H;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChartItem')){jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChartItem');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChartItem",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var H=E.extend("sap.suite.ui.microchart.HarveyBallMicroChartItem",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},fraction:{group:"Misc",type:"float",defaultValue:"0"},fractionLabel:{group:"Misc",type:"string"},fractionScale:{group:"Misc",type:"string"},formattedLabel:{group:"Misc",type:"boolean",defaultValue:false}}}});return H;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.Device');sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChartRenderer",['jquery.sap.global','sap/m/library',"sap/ui/Device","./library"],function(q,M,D,l){"use strict";var H={};H._iReferenceControlHeight=72;H._iReferenceControlWidth=168;H.render=function(r,c){if(!c._bThemeApplied){return;}this._calculatePath(c);var C=c.getColorPalette();var R=sap.ui.getCore().getConfiguration().getRTL();var a=c.getAltText();var t="";var v="";var V="";var f=false;var b=0;var s="";var d=C.length>0?C[0]:null;var i=this._oPath.center;if(l._isThemeHighContrast()){i-=1;}if(M.ValueCSSColor.isValid(d)){d=q.sap.encodeHTML(C[0]);}else{d=null;}if(c.getItems().length){var p=c.getItems()[0];b=p.getFraction();s="sapSuiteHBMCSemanticColor"+q.sap.encodeHTML(p.getColor());v=p.getFractionLabel()?p.getFractionLabel():v+p.getFraction();V=p.getFractionScale()?p.getFractionScale().substring(0,3):V;f=p.getFormattedLabel();}if(f){var F=c._parseFormattedValue(v);V=F.scale.substring(0,3);v=F.value;}var T=c.getTotal();var e=c.getTotalLabel()?c.getTotalLabel():""+c.getTotal();if(c.getTotalScale()){t=c.getTotalScale().substring(0,3);}if(c.getFormattedLabel()){var o=c._parseFormattedValue(e);t=o.scale.substring(0,3);e=o.value;}var g=5;if(v){v=(v.length>=g&&(v[g-1]==="."||v[g-1]===","))?v.substring(0,g-1):v.substring(0,g);}if(e){e=(e.length>=g&&(e[g-1]==="."||e[g-1]===","))?e.substring(0,g-1):e.substring(0,g);}var S="sapSuiteHBMCSize"+c.getSize();r.write("<div");r.writeControlData(c);r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",a);r.addClass("sapSuiteHBMC");r.addClass(c.getIsResponsive()?"sapSuiteHBMCResponsive":q.sap.encodeHTML(S));if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeClasses();if(!c.getIsResponsive()&&c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.write(">");r.write("<div");r.addClass("sapSuiteHBMCChart");r.addClass(c.getIsResponsive()?"sapSuiteHBMCResponsive":q.sap.encodeHTML(S));r.writeClasses();r.addStyle("display","inline-block");r.writeStyles();r.write(">");r.write("<svg");r.writeAttribute("id",c.getId()+"-harvey-ball");if(c.getIsResponsive()){r.addClass("sapSuiteHBMCChart");r.addClass("sapSuiteHBMCResponsive");r.writeClasses();r.writeAttributeEscaped("viewBox",this._getSvgViewBoxProperties());}else{r.writeAttributeEscaped("width",this._oPath.size);r.writeAttributeEscaped("height",this._oPath.size);}r.writeAttribute("focusable",false);r.write(">");r.write("<g>");r.write("<circle");if(R&&c.getIsResponsive()){r.writeAttributeEscaped("cx",H._iReferenceControlWidth-this._oPath.center);}else{r.writeAttributeEscaped("cx",this._oPath.center);}r.writeAttributeEscaped("cy",this._oPath.center);r.writeAttributeEscaped("r",i);r.addClass("sapSuiteHBMCBackgroundCircle");r.writeClasses();r.write("/>");if(b&&b>=T){r.write("<circle");if(R&&c.getIsResponsive()){r.writeAttributeEscaped("cx",H._iReferenceControlWidth-this._oPath.center);}else{r.writeAttributeEscaped("cx",this._oPath.center);}r.writeAttributeEscaped("cy",this._oPath.center);r.writeAttributeEscaped("r",i-this._oPath.border);r.addClass("sapSuiteHBMCSegment");if(d){r.addStyle("fill",d);r.writeStyles();}else{r.addClass(q.sap.encodeHTML(s));}r.writeClasses();r.write("/>");}else if(b>0){r.write("<path");r.writeAttribute("id",c.getId()+"-segment");r.addClass("sapSuiteHBMCSegment");if(d){r.addStyle("fill",d);r.writeStyles();}else{r.addClass(q.sap.encodeHTML(s));}r.writeClasses();r.writeAttributeEscaped("d",this._serializePieChart());r.write("/>");}r.write("</g>");if(c.getIsResponsive()){if(c.getShowFractions()){r.write("<text");r.writeAttribute("id","sapSuiteHBMCTopText");if(R&&(D.browser.msie||D.browser.edge)){r.writeAttribute("text-anchor","end");}else{r.writeAttribute("text-anchor","start");}r.writeAttribute("x","80");r.writeAttribute("y","30");r.addClass("sapSuiteHBMCResponsive");r.addClass("sapSuiteHBMCValueContainer");if(!d){r.addClass(q.sap.encodeHTML(s));}r.writeClasses();r.write(">");if(!R){this.renderFractionLabel(r,v,d,R);this.renderFractionScale(r,V,d,R);}else{this.renderFractionScale(r,V,d,R);this.renderFractionLabel(r,v,d,R);}r.write("</text>");}if(c.getShowTotal()){r.write("<text");r.writeAttribute("id","sapSuiteHBMCBottomText");if(!R){r.writeAttributeEscaped("x",H._iReferenceControlWidth);}else{r.writeAttribute("x","0");}r.writeAttribute("y","65");if(R&&(D.browser.msie||D.browser.edge)){r.writeAttribute("text-anchor","start");}else{r.writeAttribute("text-anchor","end");}r.addClass("sapSuiteHBMCResponsive");r.addClass("sapSuiteHBMCTotal");r.addClass("sapSuiteHBMCTotalContainer");r.writeClasses();r.write(">");if(!R){this.renderTotalLabel(r,e,R);this.renderTotalScale(r,t,R);}else{this.renderTotalScale(r,t,R);this.renderTotalLabel(r,e,R);}r.write("</text>");}}r.write("</svg>");r.write("</div>");if(!c.getIsResponsive()){r.write("<div");r.addClass("sapSuiteHBMCValueContainer");r.addClass(q.sap.encodeHTML(S));r.writeClasses();r.addStyle("display",c.getShowFractions()?"inline-block":"none");r.writeStyles();r.write(">");this.renderLabel(r,c,[s,S,"sapSuiteHBMCValue"],v,d,"-fraction");this.renderLabel(r,c,[s,S,"sapSuiteHBMCValueScale"],V,d,"-fraction-scale");r.write("</div>");r.write("<div");r.addClass("sapSuiteHBMCTotalContainer");r.addClass(q.sap.encodeHTML(S));r.writeClasses();if(R){r.addStyle("left","0");}else{r.addStyle("right","0");}r.addStyle("display",c.getShowTotal()?"inline-block":"none");r.writeStyles();r.write(">");this.renderLabel(r,c,[s,S,"sapSuiteHBMCTotal"],e,d,"-total");this.renderLabel(r,c,[s,S,"sapSuiteHBMCTotalScale"],t,d,"-total-scale");r.write("</div>");}r.write("</div>");};H.renderFractionLabel=function(r,f,c,R){r.write("<tspan");if(R){r.writeAttribute("dx","4.8px");}if(c){r.addStyle("fill",c);r.writeStyles();}r.write(">");r.writeEscaped(f);r.write("</tspan>");};H.renderFractionScale=function(r,f,c,R){r.write("<tspan");r.writeAttribute("font-size","0.8rem");if(!R){r.writeAttribute("dx","4.8px");}if(c){r.addStyle("fill",c);r.writeStyles();}r.write(">");r.writeEscaped(f);r.write("</tspan>");};H.renderTotalLabel=function(r,t,R){r.write("<tspan");if(R){r.writeAttribute("dx","4.8px");}else if(D.browser.msie||D.browser.edge){r.writeAttribute("dx","-4.8px");}r.write(">");r.writeEscaped(t);r.write("</tspan>");};H.renderTotalScale=function(r,t,R){r.write("<tspan");if(!R){r.writeAttribute("dx","4.8px");}r.write(">");r.writeEscaped(t);r.write("</tspan>");};H.renderLabel=function(r,c,C,L,s,I){var u=!(C.indexOf("sapSuiteHBMCTotal")>-1||C.indexOf("sapSuiteHBMCTotalScale")>-1);r.write("<span");r.writeAttribute("id",c.getId()+I);for(var i=0;i<C.length;i++){if(i===0&&s&&u){r.addStyle("color",s);r.writeStyles();}else{r.addClass(q.sap.encodeHTML(C[i]));}}r.writeClasses();r.write(">");if(L){r.writeEscaped(L);}r.write("</span>");};H._getSvgViewBoxProperties=function(){return"0 0 "+H._iReferenceControlWidth+" "+H._iReferenceControlHeight;};H._calculatePath=function(c){var s=c.getSize();var t=c.getTotal();var f=0;if(c.getItems().length){f=c.getItems()[0].getFraction();}var i=false;if(s=="Auto"){i=q("html").hasClass("sapUiMedia-Std-Phone");}if(s=="S"||s=="XS"){i=true;}var m=i?56:72;if(c.getIsResponsive()){m=H._iReferenceControlHeight;}var C=m/2;var b=4;var r=sap.ui.getCore().getConfiguration().getRTL();var R;if(c.getIsResponsive()&&r){R=true;}else{R=false;}this._oPath={initial:{x:!R?C:H._iReferenceControlWidth-C,y:C,x1:!R?C:H._iReferenceControlWidth-C,y1:C},lineTo:{x:!R?C:H._iReferenceControlWidth-C,y:b},arc:{x1:C-b,y1:C-b,xArc:0,largeArc:0,sweep:1,x2:"",y2:""},size:m,border:b,center:C};var a=f/t*360;if(a<10){this._oPath.initial.x-=1.5;this._oPath.initial.x1+=1.5;this._oPath.arc.x2=this._oPath.initial.x1;this._oPath.arc.y2=this._oPath.lineTo.y;}else if(a>350&&a<360){this._oPath.initial.x+=1.5;this._oPath.initial.x1-=1.5;this._oPath.arc.x2=this._oPath.initial.x1;this._oPath.arc.y2=this._oPath.lineTo.y;}else{var d=Math.PI/180.0;var e=this._oPath.center-this._oPath.border;var g;if(!R){g=e*Math.cos((a-90)*d)+this._oPath.center;}else{g=e*Math.cos((a-90)*d)+H._iReferenceControlWidth-this._oPath.center;}var h=this._oPath.size-(e*Math.sin((a+90)*d)+this._oPath.center);this._oPath.arc.x2=g.toFixed(2);this._oPath.arc.y2=h.toFixed(2);}var L=t/f<2?1:0;this._oPath.arc.largeArc=L;};H._serializePieChart=function(){var p=this._oPath;return["M",p.initial.x,",",p.initial.y," L",p.initial.x,",",p.lineTo.y," A",p.arc.x1,",",p.arc.y1," ",p.arc.xArc," ",p.arc.largeArc,",",p.arc.sweep," ",p.arc.x2,",",p.arc.y2," L",p.initial.x1,",",p.initial.y1," z"].join("");};return H;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveBarChart')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveBarChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.FlexBox');jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.define("sap/suite/ui/microchart/InteractiveBarChart",['jquery.sap.global','./library','sap/m/library','sap/ui/core/Control','sap/ui/Device','sap/m/FlexBox','sap/ui/core/ResizeHandler'],function(q,l,M,C,D,F,R){"use strict";var I=C.extend("sap.suite.ui.microchart.InteractiveBarChart",{metadata:{library:"sap.suite.ui.microchart",properties:{displayedBars:{type:"int",group:"Appearance",defaultValue:3},labelWidth:{type:"sap.ui.core.Percentage",group:"Appearance",defaultValue:"40%"},selectionEnabled:{type:"boolean",group:"Behavior",defaultValue:true},min:{type:"float",group:"Appearance"},max:{type:"float",group:"Appearance"}},defaultAggregation:"bars",aggregations:{bars:{type:"sap.suite.ui.microchart.InteractiveBarChartBar",multiple:true,bindable:"bindable"}},events:{selectionChanged:{parameters:{selectedBars:{type:"sap.suite.ui.microchart.InteractiveBarChartBar[]"},bar:{type:"sap.suite.ui.microchart.InteractiveBarChartBar"},selected:{type:"boolean"}}},press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});I.MIN_BAR_WIDTH_IN_PX=1;I.BAR_VALUE_PADDING_LEFT_IN_PX=4;I.BAR_VALUE_PADDING_RIGHT_IN_PX=4;I.SELECTION_AREA_BORDER_IN_PX=1;I.DIVIDER_WIDTH_IN_PX=1;I.AREA_HEIGHT_MINVALUE=18;I.BAR_HEIGHT_FONT_SMALLER=22;I.BAR_HEIGHT_MINVALUE=6;I.BAR_HEIGHT_LABEL_HIDE=16;I.CHART_WIDTH_FONT_SMALLER=288;I.LABEL_WIDTH_MINVALUE=80;I.CHART_WIDTH_MINVALUE=130;I.AREA_HEIGHT_INTERACTIVE_MINVALUE=48;I.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT=32;I.AREA_HEIGHT_PADDING_STAGE1=34;I.AREA_HEIGHT_PADDING_STAGE1_COMPACT=32;I.AREA_HEIGHT_PADDING_STAGE2=28;I.AREA_HEIGHT_PADDING_STAGE2_COMPACT=31;I.prototype.init=function(){this._iVisibleBars=0;this._bInteractiveMode=true;this._bMinMaxValid=null;this._fDividerPositionRight=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this._fMin=null;this._fMax=null;this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};I.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};I.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};I.prototype.onBeforeRendering=function(){this._bCompact=this._isCompact();this._bInteractiveMode=true;this._setResponsivenessData();this._setInternalMinMax();this._bMinMaxValid=this._checkIfMinMaxValid();if(this.getAggregation("bars")&&this.getDisplayedBars()){this._iVisibleBars=Math.min(this.getAggregation("bars").length,this.getDisplayedBars());}if(!this.data("_parentRenderingContext")&&q.isFunction(this.getParent)){this.data("_parentRenderingContext",this.getParent());}this._deregisterResizeHandler();sap.ui.getCore().detachIntervalTimer(this._checkContentDensity,this);this._updateUseSemanticTooltip();};I.prototype.onAfterRendering=function(){this._adjustToParent();l._checkControlIsVisible(this,this._onControlIsVisible);};I.prototype._updateUseSemanticTooltip=function(){var b=this.getBars();this._bUseSemanticTooltip=false;for(var i=0;i<this._iVisibleBars;i++){if(b[i].getColor()!==M.ValueColor.Neutral){this._bUseSemanticTooltip=true;return;}}};I.prototype._onControlIsVisible=function(){this._sResizeHandlerId=R.register(this,this._onResize.bind(this));this._calcBarsWidth();this._onResize();sap.ui.getCore().attachIntervalTimer(this._checkContentDensity,this);};I.prototype.exit=function(){this._deregisterResizeHandler();sap.ui.getCore().detachIntervalTimer(this._checkContentDensity,this);};I.prototype.onclick=function(e){if(!this.getSelectionEnabled()){return;}if(this._bInteractiveMode){var i=q(e.target).attr("id")||q(e.target).parents(".sapSuiteIBCBarInteractionArea").attr("id"),f=this.$().find(".sapSuiteIBCBarInteractionArea"),a,h;if(i){a=i.substring(i.lastIndexOf("-")+1);if(isNaN(a)){return;}else{a=parseInt(a,10);}this._toggleSelected(a);h=f.index(this.$().find(".sapSuiteIBCBarInteractionArea[tabindex='0']"));this._switchTabindex(h,a,f);}}else{this.firePress();if(D.browser.msie){this.$().focus();e.preventDefault();}}};I.prototype.onsapenter=function(e){if(this._bInteractiveMode){var i=this.$().find(".sapSuiteIBCBarInteractionArea").index(e.target);if(i!==-1){this._toggleSelected(i);}e.preventDefault();e.stopImmediatePropagation();}else{this.firePress();}};I.prototype.onsapspace=I.prototype.onsapenter;I.prototype.onsapup=function(e){var f=this.$().find(".sapSuiteIBCBarInteractionArea");var i=f.index(e.target);if(f.length>0){this._switchTabindex(i,i-1,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsapdown=function(e){var f=this.$().find(".sapSuiteIBCBarInteractionArea");var i=f.index(e.target);if(f.length>0){this._switchTabindex(i,i+1,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsaphome=function(e){var f=this.$().find(".sapSuiteIBCBarInteractionArea");var i=f.index(e.target);if(i!==0&&f.length>0){this._switchTabindex(i,0,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsapend=function(e){var f=this.$().find(".sapSuiteIBCBarInteractionArea"),i=f.index(e.target),L=f.length;if(i!==L-1&&L>0){this._switchTabindex(i,L-1,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsapleft=I.prototype.onsapup;I.prototype.onsapright=I.prototype.onsapdown;I.prototype.getSelectedBars=function(){var b=this.getAggregation("bars"),s=[],i;for(i=0;i<b.length;i++){if(b[i].getSelected()){s.push(b[i]);}}return s;};I.prototype.setSelectedBars=function(s){var b=this.getAggregation("bars"),i,a;this._deselectAllSelectedBars();if(!s){return this;}if(s instanceof l.InteractiveBarChartBar){s=[s];}if(q.isArray(s)){for(i=0;i<s.length;i++){a=this.indexOfAggregation("bars",s[i]);if(a>=0){b[a].setProperty("selected",true,true);}else{q.sap.log.warning("setSelectedBars method called with invalid InteractiveBarChartBar element");}}}this.invalidate();return this;};I.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();if(!t){t=this._createTooltipText();}else if(l._isTooltipSuppressed(t)){t=null;}return t;};I.prototype._isCompact=function(){return q("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0;};I.prototype._setResponsivenessData=function(){if(this._bCompact){this._iAreaHeightInteractiveMinValue=I.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT;this._iAreaHeightPaddingStage1=I.AREA_HEIGHT_PADDING_STAGE1_COMPACT;this._iAreaHeightPaddingStage2=I.AREA_HEIGHT_PADDING_STAGE2_COMPACT;}else{this._iAreaHeightInteractiveMinValue=I.AREA_HEIGHT_INTERACTIVE_MINVALUE;this._iAreaHeightPaddingStage1=I.AREA_HEIGHT_PADDING_STAGE1;this._iAreaHeightPaddingStage2=I.AREA_HEIGHT_PADDING_STAGE2;}};I.prototype._checkContentDensity=function(){if(this.$().length>0){var c=this._isCompact();if(c!==this._bCompact){this._bCompact=c;this.invalidate();}}};I.prototype._adjustToParent=function(){var $=this.$();if(this.data("_parentRenderingContext")&&this.data("_parentRenderingContext")instanceof F){var p=this.data("_parentRenderingContext").$();var P=p.width()-2;var i=p.height()-2;$.outerWidth(P);$.outerHeight(i);}};I.prototype._calcBarsWidth=function(){var $=this.$(),b=$.find(".sapSuiteIBCBarLabel"),d=I.DIVIDER_WIDTH_IN_PX,L=parseFloat(this.getLabelWidth()),B,t,f,a,c,e,v,E,g,h,r=sap.ui.getCore().getConfiguration().getRTL();if(!this._bMinMaxValid){return this;}if(this._bFullWidth){L=100;B=100;}else{B=100-L;}t=Math.abs(this._fMax-this._fMin);if(this._fMin>=0&&this._fMax>=0){f=0;a=1;}else if(this._fMin<0&&this._fMax<0){f=1;a=0;}else{f=Math.abs(this._fMin/t);a=Math.abs(this._fMax/t);}if(this._bFullWidth){if(a>=f){c=a*100;e=f*100;}else{c=f*100;e=0;}b.css("width",c+"%");b.css(r?"right":"left",e+"%");}else{b.css("width",L+"%");b.css(r?"right":"left","");}$.find(".sapSuiteIBCBarWrapper").css("width",B+"%");if(f>0){$.find(".sapSuiteIBCBarWrapperNegative").width("calc("+f*100+"% - "+d+"px)");}else{$.find(".sapSuiteIBCBarWrapperNegative").width("0%");}if(a>0){$.find(".sapSuiteIBCBarWrapperPositive").width("calc("+a*100+"% - "+d+"px)");}else{$.find(".sapSuiteIBCBarWrapperPositive").width("0%");}for(var i=0;i<this._iVisibleBars;i++){v=this.getBars()[i].getValue();g=this.$("bar-negative-"+i);h=this.$("bar-positive-"+i);if(this.getBars()[i]._bNullValue||v===0){h.add(g).css("min-width",0);}else if(!this.getBars()[i]._bNullValue){if(v>0){E=Math.min(Math.max(v,this._fMin),this._fMax);h.css({"width":this._calcPercent(E,t,Math.max(0,this._fMin),a),"min-width":1});g.css("min-width",0);}else{E=Math.max(Math.min(v,this._fMax),this._fMin);g.css({"width":this._calcPercent(E,t,Math.min(0,this._fMax),f),"min-width":1});h.css("min-width",0);}}}};I.prototype._calcPercent=function(v,t,s,a){return Math.abs((v-s)/(t*a)*100).toFixed(5)+"%";};I.prototype._deselectAllSelectedBars=function(){var b=this.getAggregation("bars"),B=b.length,i;for(i=0;i<B;i++){b[i].setProperty("selected",false,true);}};I.prototype._toggleSelected=function(i){var b=this.getAggregation("bars"),B=b[i];if(i<0||i>=b.length){return;}var $=this.$("interactionArea-"+i);if(B.getSelected()){$.removeClass("sapSuiteIBCBarSelected");B.setProperty("selected",false,true);}else{$.addClass("sapSuiteIBCBarSelected");B.setProperty("selected",true,true);}$.attr("aria-selected",B.getSelected());this.fireSelectionChanged({selectedBars:this.getSelectedBars(),bar:B,selected:B.getSelected()});};I.prototype._showValueOutsideBar=function(){var $=this.$(),b,v,B,f,a,c,d,e=this.$("bar-positive-0").parent().width(),g=this.$("bar-negative-0").parent().width(),r=sap.ui.getCore().getConfiguration().getRTL();b=$.find(".sapSuiteIBCBarValue");if(b.length===0){return;}for(var i=0;i<this._iVisibleBars;i++){B=(b.eq(i).width()+I.BAR_VALUE_PADDING_LEFT_IN_PX+I.BAR_VALUE_PADDING_RIGHT_IN_PX);f=this.$("bar-positive-"+i).width();a=this.$("bar-negative-"+i).width();c=e-f;d=g-a;if(this.getBars()[i].getValue()>=0||(this.getBars()[i]._bNullValue&&this._fMin+this._fMax>=0)){if(B>f&&B>c){b.eq(i).css("visibility","hidden");}else{b.eq(i).css("visibility","inherit");}if(B>f){v=(this.$("bar-positive-"+i).width()+I.BAR_VALUE_PADDING_LEFT_IN_PX)+"px";b.eq(i).addClass("sapSuiteIBCBarValueOutside");}else{v="";b.eq(i).removeClass("sapSuiteIBCBarValueOutside");}if(r){b.eq(i).css({"right":v});}else{b.eq(i).css({"left":v});}}else{if(B>a&&B>d){b.eq(i).css("visibility","hidden");}else{b.eq(i).css("visibility","inherit");}if(B>a){v=(this.$("bar-negative-"+i).width()+I.BAR_VALUE_PADDING_RIGHT_IN_PX)+"px";b.eq(i).addClass("sapSuiteIBCBarValueOutside");}else{v="";b.eq(i).removeClass("sapSuiteIBCBarValueOutside");}if(r){b.eq(i).css({"left":v});}else{b.eq(i).css({"right":v});}}}};I.prototype._checkIfMinMaxValid=function(){if(this._fMin>this._fMax){q.sap.log.warning("Min value for InteractiveBarChart is larger than Max value.");return false;}return true;};I.prototype._setInternalMinMax=function(){var m=null,f=null,b,B=this.getBars(),r=Math.min(this.getDisplayedBars(),B.length);for(var i=0;i<r;i++){if(!B[i]._bNullValue){b=B[i].getValue();m=Math.min(m,b);f=Math.max(f,b);}}this._fMin=this.getMin();this._fMax=this.getMax();if(!q.isNumeric(this._fMin)||!q.isNumeric(this._fMax)){if(m>=0&&f>=0){if(!q.isNumeric(this._fMin)){this._fMin=0;}if(!q.isNumeric(this._fMax)){this._fMax=f;}}else if(m<0&&f<0){if(!q.isNumeric(this._fMin)){this._fMin=m;}if(!q.isNumeric(this._fMax)){this._fMax=0;}}else{if(!q.isNumeric(this._fMin)){this._fMin=m;}if(!q.isNumeric(this._fMax)){this._fMax=f;}}}};I.prototype.validateProperty=function(p,v){if(p==="labelWidth"&&(v!==null||v!==undefined)){var V=parseFloat(v);if(V<0||V>100){q.sap.log.warning("LabelWidth for InteractiveBarChart is not between 0 and 100.");v=null;}}return C.prototype.validateProperty.apply(this,[p,v]);};I.prototype._switchTabindex=function(o,n,f){if(o>=0&&o<f.length&&n>=0&&n<f.length){f.eq(o).removeAttr("tabindex");f.eq(n).attr("tabindex","0");f.eq(n).focus();}};I.prototype._isChartEnabled=function(){return this.getSelectionEnabled()&&this._bInteractiveMode;};I.prototype._resizeVertically=function(f){var a,m,b,$=this.$(),s=false,S=$.find(".sapSuiteIBCBarInteractionArea"),c=$.height(),i=0,v=this._iVisibleBars;if(this._bInteractiveMode){i=1;}m=parseInt(S.css("margin-bottom"),10)+parseInt(S.css("margin-top"),10);a=((c-((m+2*I.SELECTION_AREA_BORDER_IN_PX)*v))/v);if(a+i<this._iAreaHeightInteractiveMinValue){if(this._bInteractiveMode){this._bInteractiveMode=false;s=true;$.addClass("sapSuiteIBCNonInteractive");if(this.getSelectionEnabled()){var A=this.$().find(".sapSuiteIBCBarInteractionArea[tabindex='0']");this._iActiveElement=S.index(A);A.removeAttr("tabindex");this.$().attr("tabindex","0");}this.$().attr({"role":"button","aria-multiselectable":"false","aria-disabled":!this._isChartEnabled()});}}else if(!this._bInteractiveMode){this._bInteractiveMode=true;s=true;$.removeClass("sapSuiteIBCNonInteractive");if(this.getSelectionEnabled()){this.$().removeAttr("tabindex");if(!this._iActiveElement||this._iActiveElement<0){this._iActiveElement=0;}S.eq(this._iActiveElement).attr("tabindex","0");}this.$().attr({"role":"listbox","aria-multiselectable":"true","aria-disabled":!this._isChartEnabled()});}if(s){if(this._isChartEnabled()){$.removeAttr("title");this._addInteractionAreaTooltip(S);}else{S.removeAttr("title");$.attr("title",this.getTooltip_AsString());}}S.height(a);if(a<=this._iAreaHeightPaddingStage2){$.addClass("sapSuiteIBCStage2");}else{$.removeClass("sapSuiteIBCStage2");if(a<=this._iAreaHeightPaddingStage1){$.addClass("sapSuiteIBCStage1");}else{$.removeClass("sapSuiteIBCStage1");}}var B=this.$().find(".sapSuiteIBCBar");if(B.length>0){b=B[0].getBoundingClientRect().height;}if(b<=I.BAR_HEIGHT_FONT_SMALLER){$.addClass("sapSuiteIBCSmallFont");}if(b<=I.BAR_HEIGHT_LABEL_HIDE){$.find(".sapSuiteIBCBarValue").css("visibility","hidden");f.labelsVisible=false;}else{$.find(".sapSuiteIBCBarValue").css("visibility","inherit");}if(a<I.AREA_HEIGHT_MINVALUE){$.css("visibility","hidden");f.labelsVisible=false;f.chartVisible=false;}};I.prototype._resizeHorizontally=function(f){if(!f.chartVisible){return;}var $=this.$(),s=$.find(".sapSuiteIBCBarInteractionArea"),b=$.find(".sapSuiteIBCBarLabel"),B=parseFloat(this.getLabelWidth())/100*s.eq(0).width(),a=0,c=$.width(),d,e=false;if(c<I.CHART_WIDTH_FONT_SMALLER){$.addClass("sapSuiteIBCSmallFont");B=parseFloat(this.getLabelWidth())/100*s.eq(0).width();}if(this._bFullWidth){a=6;}for(var i=0;i<b.length;i++){b.eq(i).css("width",B+"px");if(b.eq(i).children(".sapSuiteIBCBarLabelText").prop("clientWidth")<b.eq(i).children(".sapSuiteIBCBarLabelText").prop("scrollWidth")-a){e=true;}b.eq(i).css("width","100%");}if(B<I.LABEL_WIDTH_MINVALUE&&e){$.addClass("sapSuiteIBCFullWidth");this._bFullWidth=true;this._calcBarsWidth();}else{$.removeClass("sapSuiteIBCFullWidth");this._bFullWidth=false;this._calcBarsWidth();}var g=this.$().find(".sapSuiteIBCBar");if(g.length>0){d=g[0].getBoundingClientRect().height;}if(c<I.CHART_WIDTH_MINVALUE||d<I.BAR_HEIGHT_MINVALUE){$.css("visibility","hidden");f.labelsVisible=false;f.chartVisible=false;}else if(d<=I.BAR_HEIGHT_LABEL_HIDE){$.find(".sapSuiteIBCBarValue").css("visibility","hidden");f.labelsVisible=false;}};I.prototype._onResize=function(){var $=this.$(),f={chartVisible:true,labelsVisible:true};$.css("visibility","visible");$.removeClass("sapSuiteIBCSmallFont");this._resizeVertically(f);this._resizeHorizontally(f);if(f.labelsVisible){this._showValueOutsideBar();}};I.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null;}};I.prototype._addInteractionAreaTooltip=function(s){var b=this.getBars(),e,S;s.each(function(i,a){e=q(a);S=parseInt(e.attr("data-sap-ui-ibc-selection-index"),10);e.attr("title",b[S].getTooltip_AsString());});};I.prototype._createTooltipText=function(){var b=true,B=this.getBars(),s,t="";for(var i=0;i<this._iVisibleBars;i++){s=B[i]._getBarTooltip(this._bUseSemanticTooltip);if(s){t+=(b?"":"\n")+s;b=false;}}return t;};return I;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveBarChartBar')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveBarChartBar');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/InteractiveBarChartBar",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var I=E.extend("sap.suite.ui.microchart.InteractiveBarChartBar",{metadata:{library:"sap.suite.ui.microchart",properties:{label:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},displayedValue:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},value:{type:"float",group:"Data"}}}});I.prototype.init=function(){this._bNullValue=true;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");};I.prototype.validateProperty=function(p,v){if(p==="value"&&(v===null||v===undefined||isNaN(v))){this._bNullValue=true;}else if(p==="value"){this._bNullValue=false;}return E.prototype.validateProperty.apply(this,arguments);};I.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();this._bCustomTooltip=true;if(!t){t=this._createTooltipText();this._bCustomTooltip=false;}else if(l._isTooltipSuppressed(t)){t=null;}return t;};I.prototype._createTooltipText=function(){var t="",L=this.getLabel(),i=this.getParent()&&this.getParent()._bUseSemanticTooltip,c,s;if(L&&L.length>0){t=L+":\n";}if(this._bNullValue){t+=this._oRb.getText("INTERACTIVECHART_NA");}else{t+=this.getValue();}if(i){c=this.getColor();s=this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());t+=" "+s;}return t;};I.prototype._getBarTooltip=function(){var t=this.getTooltip_AsString();if(t&&!this._bCustomTooltip){t=t.replace("\n"," ");}return t;};return I;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveDonutChart')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveDonutChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.FlexBox');sap.ui.define("sap/suite/ui/microchart/InteractiveDonutChart",["jquery.sap.global","./library","sap/m/library","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/Device","sap/m/FlexBox"],function(q,l,M,C,R,D,F){"use strict";var I=C.extend("sap.suite.ui.microchart.InteractiveDonutChart",{metadata:{library:"sap.suite.ui.microchart",properties:{displayedSegments:{type:"int",group:"Appearance",defaultValue:3},selectionEnabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"segments",aggregations:{segments:{type:"sap.suite.ui.microchart.InteractiveDonutChartSegment",multiple:true,bindable:"bindable"}},events:{selectionChanged:{parameters:{selectedSegments:{type:"sap.suite.ui.microchart.InteractiveDonutChartSegment[]"},segment:{type:"sap.suite.ui.microchart.InteractiveDonutChartSegment"},selected:{type:"boolean"}}},press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});I.SEGMENT_CSSCLASS_SELECTED="sapSuiteIDCLegendSegmentSelected";I.SEGMENT_CSSCLASS_HIGHLIGHT="sapSuiteIDCLegendSegmentHover";I.CHART_SEGMENT_LABEL_MAXLENGTH=7;I.CHART_SEGMENT={CSSCLASS:"sapSuiteIDCChartSegment",CSSCLASS_HIGHLIGHT:"sapSuiteIDCChartSegmentHighlight",CSSCLASS_SELECTED:"sapSuiteIDCChartSegmentSelected"};I.CHART_SEGMENT_GHOST={CSSCLASS:"sapSuiteIDCChartSegmentGhost",CSSCLASS_HIGHLIGHT:"sapSuiteIDCChartSegmentGhostHighlight",CSSCLASS_SELECTED:"sapSuiteIDCChartSegmentGhostSelected"};I.AREA_HEIGHT_INTERACTIVE_MINVALUE=48;I.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT=32;I.AREA_HEIGHT_SMALLFONT=36;I.AREA_HEIGHT_SMALLFONT_COMPACT=32;I.AREA_HEIGHT_MINVALUE=18;I.LEGEND_HEIGHT_PADDING=6;I.CHART_HEIGHT_MINVALUE=110;I.CHART_WIDTH_MINVALUE=130;I.CHART_WIDTH_HIDEDONUT_MINVALUE=225;I.CHART_WIDTH_LEGENDPADDING_MINVALUE=300;I.CHART_WIDTH_FULLWIDTH_SMALLFONT_MINVALUE=180;I.prototype.onclick=function(e){if(!this.getSelectionEnabled()){return;}if(this._bInteractiveMode){var t=q(e.target),i=t.data("sap-ui-idc-selection-index"),s=this.getAggregation("segments"),f=this.$().find(".sapSuiteIDCLegendSegment"),h;if(!(i>=0)){i=t.closest(".sapSuiteIDCLegendSegment").data("sap-ui-idc-selection-index");}if(isNaN(i)||i<0||i>=s.length){return;}this._toggleSelected(i);h=f.index(this.$().find(".sapSuiteIDCLegendSegment[tabindex='0']"));this._switchTabindex(h,i,f);}else{this.firePress();if(D.browser.msie){this.$().focus();e.preventDefault();}}};I.prototype.onsapup=function(e){var f=this.$().find(".sapSuiteIDCLegendSegment");var i=f.index(e.target);if(f.length>0){this._switchTabindex(i,i-1,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsapdown=function(e){var f=this.$().find(".sapSuiteIDCLegendSegment");var i=f.index(e.target);if(f.length>0){this._switchTabindex(i,i+1,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsaphome=function(e){var f=this.$().find(".sapSuiteIDCLegendSegment");var i=f.index(e.target);if(i!==0&&f.length>0){this._switchTabindex(i,0,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsapend=function(e){var f=this.$().find(".sapSuiteIDCLegendSegment");var i=f.index(e.target);var L=f.length;if(i!==L-1&&L>0){this._switchTabindex(i,L-1,f);}e.preventDefault();e.stopImmediatePropagation();};I.prototype.onsapenter=function(e){if(this._bInteractiveMode){var i=this.$().find(".sapSuiteIDCLegendSegment").index(e.target);if(i!==-1){this._toggleSelected(i);}e.preventDefault();e.stopImmediatePropagation();}else{this.firePress();}};I.prototype.onsapleft=I.prototype.onsapup;I.prototype.onsapright=I.prototype.onsapdown;I.prototype.onsapspace=I.prototype.onsapenter;I.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();if(!t){t=this._createTooltipText();}else if(l._isTooltipSuppressed(t)){t=null;}return t;};I.prototype.getSelectedSegments=function(){var s,S;s=this.getAggregation("segments");S=[];for(var i=0;i<s.length;i++){if(s[i].getSelected()){S.push(s[i]);}}return S;};I.prototype.setSelectedSegments=function(s){var S,a,b;S=this.getAggregation("segments");this._deselectAllSelectedSegments();if(!s){return this;}if(s instanceof l.InteractiveDonutChartSegment){s=[s];}if(q.isArray(s)){b=s.length;for(var i=0;i<b;i++){a=this.indexOfAggregation("segments",s[i]);if(a>=0&&S[a]){S[a].setProperty("selected",true,true);}else{q.sap.log.warning("Method setSelectedSegments called with invalid InteractiveDonutChartSegment element");}}}this.invalidate();return this;};I.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};I.prototype.onBeforeRendering=function(){this._bCompact=this._isCompact();this._bInteractiveMode=true;var s=this.getSegments();this._iVisibleSegments=Math.min(this.getDisplayedSegments(),s.length);this._setResponsivenessData();var S=this.$().find(".sapSuiteIDCChartSegment, .sapSuiteIDCLegendSegment, .sapSuiteIDCChartSegmentGhost");S.off();if(!this.data("_parentRenderingContext")&&q.isFunction(this.getParent)){this.data("_parentRenderingContext",this.getParent());}this._deregisterResizeHandler();sap.ui.getCore().detachIntervalTimer(this._checkContentDensity,this);this._bSemanticTooltip=false;for(var i=0;i<this._iVisibleSegments;i++){if(s[i].getColor()!==M.ValueColor.Neutral){this._bSemanticTooltip=true;break;}}};I.prototype.onAfterRendering=function(){this._adjustToParent(this.$());l._checkControlIsVisible(this,this._onControlIsVisible);};I.prototype._onControlIsVisible=function(){if(this._bInteractiveMode){this._sResizeHandlerId=R.register(this,this._onResize.bind(this));sap.ui.getCore().attachIntervalTimer(this._checkContentDensity,this);this._onResize();if(D.system.desktop){this._attachHoverHandlers();}}};I.prototype.exit=function(){this._deregisterResizeHandler();sap.ui.getCore().detachIntervalTimer(this._checkContentDensity,this);};I.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};I.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};I.prototype._deselectAllSelectedSegments=function(){var s=this.getAggregation("segments");for(var i=0;i<s.length;i++){if(s[i].getSelected()){s[i].setProperty("selected",false,true);}}};I.prototype._attachHoverHandlers=function(){var t=this,s=this.$().find(".sapSuiteIDCChartSegment, .sapSuiteIDCLegendSegment, .sapSuiteIDCChartSegmentGhost");s.on({mousemove:function(){t._handleHoverSync(q(this).data("sap-ui-idc-selection-index"));},mouseleave:function(){t._handleHoverSync(q(this).data("sap-ui-idc-selection-index"),true);}});};I.prototype._handleHoverSync=function(i,o){if(this._bInteractiveMode){var s=this.getAggregation("segments"),S=s[i].getSelected();this._setSegmentInteractionState(I.CHART_SEGMENT,i,S,o);this._setSegmentInteractionState(I.CHART_SEGMENT_GHOST,i,S,o);this._setLegendEntryInteractionState(i,S,o);}};I.prototype._setSegmentInteractionState=function(s,i,a,o){var S=this.$().find("."+s.CSSCLASS+"[data-sap-ui-idc-selection-index='"+i+"']");S.removeClass(s.CSSCLASS_SELECTED);S.removeClass(s.CSSCLASS_HIGHLIGHT);if(!o){S.addClass(s.CSSCLASS_HIGHLIGHT);}if(a){S.addClass(s.CSSCLASS_SELECTED);}};I.prototype._setLegendEntryInteractionState=function(i,s,o){var e=this.$().find(".sapSuiteIDCLegendSegment[data-sap-ui-idc-selection-index='"+i+"']");e.removeClass(I.SEGMENT_CSSCLASS_SELECTED);e.removeClass(I.SEGMENT_CSSCLASS_HIGHLIGHT);if(!o){e.addClass(I.SEGMENT_CSSCLASS_HIGHLIGHT);}if(s){e.addClass(I.SEGMENT_CSSCLASS_SELECTED);}};I.prototype._switchModeInteractive=function(a){var $=this.$(),s=false;if(a<this._iAreaHeightInteractiveMinValue){s=true;if(this._bInteractiveMode){this._bInteractiveMode=false;$.addClass("sapSuiteIDCNonInteractive");if(this.getSelectionEnabled()){var A=$.find(".sapSuiteIDCLegendSegment[tabindex='0']");this._iActiveElement=$.find(".sapSuiteIDCLegendSegment").index(A);A.removeAttr("tabindex");$.attr("tabindex","0");}$.attr({"role":"button","aria-multiselectable":"false","aria-disabled":!this._isChartEnabled()});}}else if(!this._bInteractiveMode){s=true;this._bInteractiveMode=true;$.removeClass("sapSuiteIDCNonInteractive");if(this.getSelectionEnabled()){$.removeAttr("tabindex");if(!this._iActiveElement||this._iActiveElement<0){this._iActiveElement=0;}$.find(".sapSuiteIDCLegendSegment").eq(this._iActiveElement).attr("tabindex","0");}$.attr({"role":"listbox","aria-multiselectable":"true","aria-disabled":!this._isChartEnabled()});}if(s){if(this._isChartEnabled()){$.removeAttr("title");this._addInteractionAreaTooltip();}else{$.find(".sapSuiteIDCChartSegment title, .sapSuiteIDCChartSegmentGhost title").remove();$.find(".sapSuiteIDCLegendSegment").removeAttr("title");$.attr("title",this.getTooltip_AsString());}}};I.prototype._addInteractionAreaTooltip=function(){var t,e,s,$=this.$(),S=this.getSegments();$.find(".sapSuiteIDCChartSegment, .sapSuiteIDCChartSegmentGhost").each(function(i,a){e=q(a);s=parseInt(e.attr("data-sap-ui-idc-selection-index"),10);t=q("<div/>").text(S[s].getTooltip_AsString());e.html("<title>"+t.getEncodedText()+"</title>");});$.find(".sapSuiteIDCLegendSegment").each(function(i,a){e=q(a);s=parseInt(e.attr("data-sap-ui-idc-selection-index"),10);e.attr("title",S[s].getTooltip_AsString());});};I.prototype._onResize=function(){var i,a,$=this.$(),b=$.find(".sapSuiteIDCLegendSegment"),d=$.find(".sapSuiteIDCChart"),c=parseInt(d.css("padding-right"),10)+parseInt(d.css("padding-left"),10),e=$.height(),f=$.width();if(this._bInteractiveMode){a=2;}else{a=1;}i=((e-I.LEGEND_HEIGHT_PADDING-(b.length*a))/b.length);b.height(i+"px");if(f<I.CHART_WIDTH_MINVALUE||e<I.CHART_HEIGHT_MINVALUE||i<I.AREA_HEIGHT_MINVALUE){$.css("visibility","hidden");return;}$.css("visibility","");if(f<I.CHART_WIDTH_HIDEDONUT_MINVALUE){$.addClass("sapSuiteIDCFullWidth");if(f<I.CHART_WIDTH_FULLWIDTH_SMALLFONT_MINVALUE){$.addClass("sapSuiteIDCFullWidthSmallFont");}else{$.removeClass("sapSuiteIDCFullWidthSmallFont");}}else{$.removeClass("sapSuiteIDCFullWidth");if(d.innerWidth()<d.innerHeight()){$.find(".sapSuiteIDCChartSVG").css("width","100%").css("height",d.innerWidth()+"px");}else{$.find(".sapSuiteIDCChartSVG").css("height","100%").css("width",(d.innerHeight()-c)+"px");}if(f<I.CHART_WIDTH_LEGENDPADDING_MINVALUE){$.addClass("sapSuiteIDCSmallLegendPadding");}else{$.removeClass("sapSuiteIDCSmallLegendPadding");}}if(i<this._iAreaHeightSmallFontMinValue){$.addClass("sapSuiteIDCSmallFont");}else{$.removeClass("sapSuiteIDCSmallFont");}this._handleLegendEntrySizing();this._switchModeInteractive(i);};I.prototype._handleLegendEntrySizing=function(){var L=this.$().find(".sapSuiteIDCLegend"),$=L.find(".sapSuiteIDCLegendLabel"),v=L.find(".sapSuiteIDCLegendValue"),V=0;v.each(function(){var i=q(this).outerWidth(true);V=Math.max(V,i);});$.css("width","calc(100% - "+V+"px)");v.css("width",V+"px");};I.prototype._isChartEnabled=function(){return this.getSelectionEnabled()&&this._bInteractiveMode;};I.prototype._isCompact=function(){return q("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0;};I.prototype._toggleSelected=function(i){var s=this.getSegments()[i],S=!s.getSelected(),$=this.$("interactionArea-"+i),a=this.$().find("."+I.CHART_SEGMENT.CSSCLASS+"[data-sap-ui-idc-selection-index='"+i+"']"),g=this.$().find("."+I.CHART_SEGMENT_GHOST.CSSCLASS+"[data-sap-ui-idc-selection-index='"+i+"']");s.setProperty("selected",S,true);$.attr("aria-selected",s.getSelected());if(S){$.addClass(I.SEGMENT_CSSCLASS_SELECTED);a.addClass(I.CHART_SEGMENT.CSSCLASS_SELECTED);g.addClass(I.CHART_SEGMENT_GHOST.CSSCLASS_SELECTED);}else{$.removeClass(I.SEGMENT_CSSCLASS_SELECTED);a.removeClass(I.CHART_SEGMENT.CSSCLASS_SELECTED);g.removeClass(I.CHART_SEGMENT_GHOST.CSSCLASS_SELECTED);}this.fireSelectionChanged({selectedSegments:this.getSelectedSegments(),segment:s,selected:S});};I.prototype._switchTabindex=function(o,n,f){if(o!==n&&o>=0&&o<f.length&&n>=0&&n<f.length){f.eq(o).removeAttr("tabindex");f.eq(n).attr("tabindex","0");f.eq(n).focus();}};I.prototype._adjustToParent=function(c){var p=this.data("_parentRenderingContext");if(p&&p instanceof F){var P=p.$();var i=parseFloat(P.innerWidth());var a=parseFloat(P.innerHeight());c.outerWidth(i);c.outerHeight(a);}};I.prototype._setResponsivenessData=function(){if(this._bCompact){this._iAreaHeightInteractiveMinValue=I.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT;this._iAreaHeightSmallFontMinValue=I.AREA_HEIGHT_SMALLFONT_COMPACT;}else{this._iAreaHeightInteractiveMinValue=I.AREA_HEIGHT_INTERACTIVE_MINVALUE;this._iAreaHeightSmallFontMinValue=I.AREA_HEIGHT_SMALLFONT;}};I.prototype._checkContentDensity=function(){if(this.$().length>0){var c=this._isCompact();if(c!==this._bCompact){this._bCompact=c;this.invalidate();}}};I.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null;}};I.prototype._createTooltipText=function(){var b=true,s,t="",S=this.getSegments();for(var i=0;i<this._iVisibleSegments;i++){s=S[i]._getSegmentTooltip();if(s){t+=(b?"":"\n")+s;b=false;}}return t;};return I;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveDonutChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveDonutChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/InteractiveDonutChartRenderer",["jquery.sap.global",'./library',"sap/ui/core/theming/Parameters","sap/ui/Device","sap/m/library"],function(q,l,P,D,M){"use strict";var I={};I.TOTAL_RADIUS_ABSOLUTE=3.625;I.OUTER_RADIUS_ABSOLUTE=3.25;I.SELECTION_THICKNESS_ABSOLUTE=0.375;I.HOLE_SIZE_RATIO_COMPACT=0.48;I.HOLE_SIZE_RATIO_COZY=0.48;I.SEGMENT_HALF_GAP_SIZE=0;I.SEGMENT_HALF_GAP_SIZE_HCB=0.5;I.GHOST_BORDER_HALF_THICKNESS_HCB=0.5;I.render=function(r,c){if(!c._bThemeApplied){return;}this._aSegments=c.getSegments();var s=c._iVisibleSegments;this._fSegmentHalfGapSize=this.SEGMENT_HALF_GAP_SIZE;this._fGhostHalfGapSize=0;if(this._isThemeHighContrast()){this._fSegmentHalfGapSize=this.SEGMENT_HALF_GAP_SIZE_HCB;this._fGhostHalfGapSize=this.GHOST_BORDER_HALF_THICKNESS_HCB;}r.write("<div");r.addClass("sapSuiteIDC");r.writeControlData(c);r.writeClasses();if(!c._isChartEnabled()){var a=c.getTooltip_AsString();if(q.type(a)==="string"){r.writeAttributeEscaped("title",a);}}var A={};A.role="listbox";A.multiselectable=true;A.disabled=!c._isChartEnabled();A.labelledby=c.getAriaLabelledBy();A.describedby=this._getAriaDescribedBy(c,s);r.writeAccessibilityState(c,A);r.write(">");if(!c.getSelectionEnabled()){this._renderDisabledOverlay(r,c);}this._renderDonut(r,c,s);this._renderLegend(r,c,s);r.write("</div>");};I._renderDonut=function(r,c,s){var S,f,a,b,t,d,o,h,C=c._bCompact;r.write("<div");r.addClass("sapSuiteIDCChart");r.writeClasses();r.write(">");r.write("<svg");r.addClass("sapSuiteIDCChartSVG");r.writeClasses();r.writeAttribute("viewBox","-2 -2 104 104");r.writeAttribute("focusable","false");r.write(">");r.write("<g");r.writeAttribute("transform","translate(50.5 50.5)");r.write(">");t=50;o=(this.OUTER_RADIUS_ABSOLUTE/this.TOTAL_RADIUS_ABSOLUTE)*t;if(C){d=this.HOLE_SIZE_RATIO_COMPACT*o;}else{d=this.HOLE_SIZE_RATIO_COZY*o;}h=t*(this.SELECTION_THICKNESS_ABSOLUTE/this.TOTAL_RADIUS_ABSOLUTE);f=this._calculateSum(c);a=0.0;var i;for(i=0;i<s;i++){S=this._aSegments[i];if(S.getValue()>0){b=this._calculateSegmentPath(f,S.getValue(),a,o+h,d-h,this._fGhostHalfGapSize);r.write("<path");r.writeAttributeEscaped("d",b);r.writeAttribute("data-sap-ui-idc-selection-index",i);r.addClass(l.InteractiveDonutChart.CHART_SEGMENT_GHOST.CSSCLASS);if(S.getSelected()){r.addClass(l.InteractiveDonutChart.CHART_SEGMENT_GHOST.CSSCLASS_SELECTED);}r.writeClasses();r.writeStyles();r.write(">");if(c._isChartEnabled()){this._renderTitle(S.getTooltip_AsString(),r);}r.write("</path>");a+=this._aSegments[i].getValue();}}a=0.0;for(i=0;i<s;i++){S=this._aSegments[i];if(S.getValue()>0){b=this._calculateSegmentPath(f,S.getValue(),a,o,d,0);r.write("<path");r.writeAttributeEscaped("d",b);r.writeAttributeEscaped("fill",this._getSegmentColor(i,s));r.writeAttribute("cursor","pointer");r.writeAttribute("data-sap-ui-idc-selection-index",i);r.addClass(l.InteractiveDonutChart.CHART_SEGMENT.CSSCLASS);if(S.getSelected()){r.addClass(l.InteractiveDonutChart.CHART_SEGMENT.CSSCLASS_SELECTED);}r.writeClasses();r.write(">");if(c._isChartEnabled()){this._renderTitle(S.getTooltip_AsString(),r);}r.write("</path>");a+=this._aSegments[i].getValue();}}r.write("</g>");r.write("</svg>");r.write("</div>");};I._renderLegend=function(r,c,s){r.write("<div");r.addClass("sapSuiteIDCLegend");r.writeClasses();r.write(">");for(var i=0;i<s;i++){this._renderLegendSegment(r,c,i,s);}r.write("</div>");};I._renderLegendSegment=function(r,c,i,s){var S=this._aSegments[i],L=S.getLabel(),d=S.getDisplayedValue()||String(S.getValue()),t,C=S._getSemanticColor();if(S._bNullValue){d=c._oRb.getText("INTERACTIVECHART_NA");}d=d.substring(0,l.InteractiveDonutChart.CHART_SEGMENT_LABEL_MAXLENGTH);var t=S.getTooltip_Text();var a;if(t&&q.trim(t).length>0){a=t;}else{a=L;if(a){a=a+" "+d;}else{a=d;}if(C){a+=" "+C;}}var A={};A.role="option";A.label=a.trim();A.selected=S.getSelected();A.posinset=i+1;A.setsize=s;r.write("<div");r.writeAccessibilityState(S,A);r.writeAttributeEscaped("id",c.getId()+"-interactionArea-"+i);r.writeAttributeEscaped("data-sap-ui-idc-selection-index",i);r.addClass("sapSuiteIDCLegendSegment");if(S.getSelected()){r.addClass(l.InteractiveDonutChart.SEGMENT_CSSCLASS_SELECTED);}if(i===0&&c.getSelectionEnabled()){r.writeAttribute("tabindex","0");}if(c._isChartEnabled()){t=S.getTooltip_AsString();if(q.type(t)==="string"){r.writeAttributeEscaped("title",t);}}r.writeClasses();r.write(">");C=S.getColor();if(C!==M.ValueColor.Neutral){r.write("<div");r.addClass("sapSuiteIDCSemanticMarker");r.addClass("sapSuiteICSemanticColor"+C);r.writeClasses();r.write(">");r.write("</div>");}r.write("<div");r.addClass("sapSuiteIDCLegendMarker");r.writeClasses();r.writeAttributeEscaped("style","background-color: "+this._getSegmentColor(i,s));r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteIDCLegendLabelValue");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteIDCLegendLabel");r.writeClasses();r.write(">");r.writeEscaped(L);r.write("</div>");r.write("<div");r.addClass("sapSuiteIDCLegendValue");r.writeClasses();r.write(">");r.writeEscaped(d);r.write("</div>");r.write("</div>");r.write("</div>");};I._getSegmentColor=function(p,s){var w=1-(s-p)/s,c=P.get("_sap_suite_ui_microchart_InteractiveDonutChart_SegmentFillColor")||"white";if(this._isThemeHighContrast()){return c;}return this._mixColors(c,"#ffffff",w);};I._calculateSegmentPath=function(s,a,b,o,i,c){var m=0.01,S,L,d,e,f,g,E,h,j,k=this._fSegmentHalfGapSize+c,G=Math.pow(2*k,2),n,p,r,t;o=this._formatFloat(o);i=this._formatFloat(i);g=this._calculateCircleFraction(s,b);E=this._calculateCircleFraction(s,b+a);h=this._calculateCircleFraction(s,a);if(h<=Math.PI){j=0;}else{j=1;}if(s===a){n=i;p=o;r=0;t=0;}else{n=Math.sqrt(Math.pow(i,2)+G);p=Math.sqrt(Math.pow(o,2)+G);r=Math.atan(k/i);t=Math.atan(k/o);}L={"x":this._formatFloat(n*Math.sin(g+r)),"y":this._formatFloat(-n*Math.cos(g+r))};d={"x":this._formatFloat(p*Math.sin(g+t)),"y":this._formatFloat(-p*Math.cos(g+t))};e={"x":this._formatFloat(o*Math.sin(E-t)-m),"y":this._formatFloat(-o*Math.cos(E-t))};f={"x":this._formatFloat(i*Math.sin(E-r)-m),"y":this._formatFloat(-i*Math.cos(E-r))};S="";S+="M"+L.x+" "+L.y+" ";S+="L"+d.x+" "+d.y+" ";S+="A"+o+","+o+" 0 "+j+",1"+" "+e.x+","+e.y+" ";S+="L"+f.x+" "+f.y+" ";S+="A"+i+","+i+" 0 "+j+",0"+" "+L.x+","+L.y;return S;};I._formatFloat=function(v){return parseFloat(v.toFixed(2));};I._calculateSum=function(c){var s=0;var d=c.getDisplayedSegments();for(var i=0;i<this._aSegments.length&&i<d;i++){var v=this._aSegments[i].getValue();if(v>0){s+=v;}}return s;};I._calculateCircleFraction=function(s,a){return(2*Math.PI*a)/s;};I._renderDisabledOverlay=function(r){r.write("<div");r.addClass("sapSuiteIDCDisabledOverlay");r.writeClasses();r.write(">");r.write("</div>");};I._getAriaDescribedBy=function(c,s){var a=[];for(var i=0;i<s;i++){a.push(c.getId()+"-interactionArea-"+i);}return a.join(",");};I._mixColors=function(c,a,w){if(w===1||c.toLowerCase()===a.toLowerCase()){return c;}var C=this._hexToRgb(c);var b=this._hexToRgb(a);var s=Math.round((C[0]+(Math.abs(C[0]-b[0])*w))%255);var d=Math.round((C[1]+(Math.abs(C[1]-b[1])*w))%255);var e=Math.round((C[2]+(Math.abs(C[2]-b[2])*w))%255);return"#"+this._intToHex(s)+this._intToHex(d)+this._intToHex(e);};I._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(sap.ui.getCore().getConfiguration().getTheme());};I._hexToRgb=function(h){var c=[];h=h.replace(/[^0-9a-f]+/ig,'');if(h.length===3){c=h.split('');}else if(h.length===6){c=h.match(/(\w{2})/g);}else{q.sap.log.warning("Invalid color input: hex string must be in the format #FFFFFF or #FFF");}return c.map(function(x){return parseInt(x,16);});};I._intToHex=function(v){var h=v.toString(16);if(h.length===1){h='0'+h;}return h;};I._renderTitle=function(t,r){if(q.type(t)==="string"){r.write("<title>");if(D.browser.msie){t=t.split("\n");for(var j=0;j<t.length;j++){r.writeEscaped(t[j]);if(j<t.length-1){r.write("<br>");}}}else{r.writeEscaped(t);}r.write("</title>");}};return I;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveDonutChartSegment')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveDonutChartSegment');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/InteractiveDonutChartSegment",["jquery.sap.global","./library","sap/ui/core/Element"],function(q,l,E){"use strict";var I=E.extend("sap.suite.ui.microchart.InteractiveDonutChartSegment",{metadata:{library:"sap.suite.ui.microchart",properties:{label:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},value:{type:"float",group:"Data",defaultValue:null},displayedValue:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});I.prototype.init=function(){this._bNullValue=true;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");};I.prototype.validateProperty=function(p,v){if(p==="value"){this._bNullValue=(v===null)||isNaN(v)||(typeof v==="undefined")||(v<0);}return E.prototype.validateProperty.apply(this,arguments);};I.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();this._bCustomTooltip=true;if(!t){t=this._createTooltipText();this._bCustomTooltip=false;}else if(l._isTooltipSuppressed(t)){t=null;}return t;};I.prototype._createTooltipText=function(){var t="";var L=this.getLabel();if(L&&L.length>0){t=L+":\n";}if(this._bNullValue){t+=this._oRb.getText("INTERACTIVECHART_NA");}else{t+=this.getValue();}var c=this._getSemanticColor();if(c){t+=" "+c;}return t;};I.prototype._getSemanticColor=function(){var c=this.getColor();var p=this.getParent();if(p&&p._bSemanticTooltip){return this._oRb.getText("SEMANTIC_COLOR_"+c.toUpperCase());}return"";};I.prototype._getSegmentTooltip=function(){var t=this.getTooltip_AsString();if(t&&!this._bCustomTooltip){t=t.replace("\n"," ");}return t;};return I;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveLineChartPoint')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveLineChartPoint');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/InteractiveLineChartPoint",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var I=E.extend("sap.suite.ui.microchart.InteractiveLineChartPoint",{metadata:{library:"sap.suite.ui.microchart",properties:{label:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},value:{type:"float",group:"Data",defaultValue:null},displayedValue:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});I.prototype.init=function(){this._bNullValue=true;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");};I.prototype.validateProperty=function(p,v){if(p==="value"&&(v===null||v===undefined)){this._bNullValue=true;}else if(p==="value"){this._bNullValue=false;}return E.prototype.validateProperty.apply(this,arguments);};I.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();this._bCustomTooltip=true;if(!t){t=this._createTooltipText();this._bCustomTooltip=false;}else if(l._isTooltipSuppressed(t)){t=null;}return t;};I.prototype._createTooltipText=function(){var t="";var L=this.getLabel();if(L&&L.length>0){t=L+":\n";}if(this._bNullValue){t+=this._oRb.getText("INTERACTIVECHART_NA");}else{t+=this.getValue();}var c=this._getSemanticColor();if(c){t+=" "+c;}return t;};I.prototype._getSemanticColor=function(){var c=this.getColor();var p=this.getParent();if(p&&p._bSemanticTooltip){return this._oRb.getText("SEMANTIC_COLOR_"+c.toUpperCase());}return"";};I.prototype._getAreaTooltip=function(){var t=this.getTooltip_AsString();if(t&&!this._bCustomTooltip){t=t.replace("\n"," ");}return t;};return I;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.LineMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.LineMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.define("sap/suite/ui/microchart/LineMicroChart",['jquery.sap.global','./library','sap/m/library','sap/ui/core/Control','sap/ui/Device',"sap/ui/core/ResizeHandler"],function(q,l,M,C,D,R){"use strict";var L=C.extend("sap.suite.ui.microchart.LineMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Appearance",defaultValue:"Auto"},threshold:{type:"float",group:"Appearance",defaultValue:0},minXValue:{type:"float",group:"Appearance"},maxXValue:{type:"float",group:"Appearance"},minYValue:{type:"float",group:"Appearance"},maxYValue:{type:"float",group:"Appearance"},leftTopLabel:{type:"string",group:"Data",defaultValue:null},rightTopLabel:{type:"string",group:"Data",defaultValue:null},leftBottomLabel:{type:"string",group:"Data",defaultValue:null},rightBottomLabel:{type:"string",group:"Data",defaultValue:null},color:{type:"any",group:"Appearance",defaultValue:"Neutral"},showPoints:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"points",aggregations:{points:{type:"sap.suite.ui.microchart.LineMicroChartPoint",multiple:true,bindable:"bindable"}},events:{press:{}}}});L.MIN_SIZE_CHART=5;L.EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL=16;L.EDGE_CASE_HEIGHT_SHOWTOPLABEL=32;L.EDGE_CASE_WIDTH_RESIZEFONT=168;L.EDGE_CASE_HEIGHT_RESIZEFONT=72;L.prototype.ontap=function(e){if(D.browser.msie){this.$().focus();}this.firePress();};L.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.SPACE){e.preventDefault();}};L.prototype.onkeyup=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};L.prototype.attachEvent=function(e,d,f,o){C.prototype.attachEvent.call(this,e,d,f,o);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};L.prototype.detachEvent=function(e,f,o){C.prototype.detachEvent.call(this,e,f,o);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};L.prototype.onclick=function(){if(D.browser.msie||D.browser.edge){this.$().focus();}this.firePress();};L.prototype.onsapspace=L.prototype.onclick;L.prototype.onsapenter=L.prototype.onclick;L.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();if(!t){t=this._createTooltipText();}else if(l._isTooltipSuppressed(t)){t=null;}return t;};L.prototype.getThreshold=function(){if(this._bThresholdNull){return null;}else{return this.getProperty("threshold");}};L.prototype.init=function(){this._bFocusMode=false;this._bSemanticMode=false;this._aNormalizedPoints=[];this._minXScale=null;this._maxXScale=null;this._minYScale=null;this._maxYScale=null;this._fNormalizedThreshold=0;this._bScalingValid=false;this._bThresholdNull=false;this._bNoTopLabels=false;this._bNoBottomLabels=false;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};L.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};L.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};L.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){l._removeStandardMargins(this);}if(this.getPoints().length>0){this._setModeFlags();this._normalizePoints();}this._unbindMouseEnterLeaveHandler();};L.prototype.onAfterRendering=function(){if(this.getSize()===M.Size.Responsive){this._sResizeHandlerId=R.register(this,this._onResize.bind(this));this._onResize();}this._bindMouseEnterLeaveHandler();};L.prototype.exit=function(){this._deregisterResizeHandler();};L.prototype.validateProperty=function(p,v){if(p==="threshold"){if(v===null){this._bThresholdNull=true;}else{this._bThresholdNull=false;}}if(v===null||v===undefined){return C.prototype.validateProperty.apply(this,[p,null]);}if(p==="color"&&((!M.ValueCSSColor.isValid(v)||v==="")&&(!M.ValueCSSColor.isValid(v.below)||v.below===""||!M.ValueCSSColor.isValid(v.above)||v.above===""))){q.sap.log.warning("Color property of LineMicroChart must be of type sap.m.ValueCSSColor either as single value or as composite value (above: value, below: value)");v=null;}else if(q.inArray(p,["minXValue","maxXValue","minYValue","maxYValue"])>=0){if(!q.isNumeric(v)){q.sap.log.warning("Property "+p+" of LineMicroChart is not numeric and it will be reset to default");v=null;}}return C.prototype.validateProperty.apply(this,[p,v]);};L.prototype._setModeFlags=function(){this._bFocusMode=false;this._bSemanticMode=false;var p=this.getPoints();this._minXScale=this._maxXScale=p[0].getX();if(this._bThresholdNull){this._minYScale=this._maxYScale=p[0].getY();}else{this._minYScale=this._maxYScale=this.getThreshold();}for(var i=0;i<p.length;i++){this._minXScale=Math.min(p[i].getX(),this._minXScale);this._maxXScale=Math.max(p[i].getX(),this._maxXScale);this._minYScale=Math.min(p[i].getY(),this._minYScale);this._maxYScale=Math.max(p[i].getY(),this._maxYScale);if(p[i].getMetadata().getName()==="sap.suite.ui.microchart.LineMicroChartEmphasizedPoint"){this._bFocusMode=true;if(p[i].getColor()!==M.ValueColor.Neutral&&p[i].getShow()){this._bSemanticMode=true;}}}if(!this._bFocusMode){if(this.getColor()&&this.getColor().above&&this.getColor().below&&!this._bThresholdNull){this._bSemanticMode=true;}else{this._bSemanticMode=false;}}if(this._bFocusMode&&this._bSemanticMode&&this.getColor()!==M.ValueColor.Neutral){q.sap.log.info("Property Color of LineMicroChart has no effect if EmphasizedPoints with colors different from Neutral are used.");}if(this._bFocusMode&&this.getShowPoints()){q.sap.log.info("Property ShowPoints of LineMicroChart has no effect if EmphasizedPoints are used.");}if(this.getColor()&&this.getColor().above&&this.getColor().below&&this._bThresholdNull){q.sap.log.info("Property Color of LineMicroChart has no effect if it is composed of colors for above and below when property Threshold is null");}var s=this.getLeftTopLabel(),r=this.getRightTopLabel(),a=this.getLeftBottomLabel(),b=this.getRightBottomLabel();if(b.length===0&&a.length===0){this._bNoBottomLabels=true;}else{this._bNoBottomLabels=false;}if(s.length===0&&r.length===0){this._bNoTopLabels=true;}else{this._bNoTopLabels=false;}};L.prototype._normalizePoints=function(){this._aNormalizedPoints=[];var m=this._minXScale,a=this._maxXScale,b=this._minYScale,c=this._maxYScale;if(q.isNumeric(this.getMinXValue())){this._minXScale=this.getMinXValue();if(!q.isNumeric(this.getMaxXValue())&&this._minXScale>a){q.sap.log.error("Property minXValue of LineMicroChart must be smaller to at least one X value of the points aggregation if property maxXValue is not set");}}if(q.isNumeric(this.getMaxXValue())){this._maxXScale=this.getMaxXValue();if(!q.isNumeric(this.getMinXValue())&&this._maxXScale<m){q.sap.log.error("Property maxXValue of LineMicroChart must be greater to at least one X value of the points aggregation if property minXValue is not set");}}if(q.isNumeric(this.getMinYValue())){this._minYScale=this.getMinYValue();if(!q.isNumeric(this.getMaxYValue())&&this._minYScale>c){q.sap.log.error("Property minYValue of LineMicroChart must be greater to threshold or at least one Y value of the points aggregation if property maxYValue is not set");}}if(q.isNumeric(this.getMaxYValue())){this._maxYScale=this.getMaxYValue();if(!q.isNumeric(this.getMinYValue())&&this._maxYScale<b){q.sap.log.error("Property maxYValue of LineMicroChart must be smaller to threshold or at least one Y value of the points aggregation if property minYValue is not set");}}if(this.getMaxYValue()<this.getMinYValue()){q.sap.log.error("Property maxYValue of LineMicroChart must not be smaller to minYValue");}if(this.getMaxXValue()<this.getMinXValue()){q.sap.log.error("Property maxXValue of LineMicroChart must not be smaller to minXValue");}var p=this.getPoints(),x=this._maxXScale-this._minXScale,y=this._maxYScale-this._minYScale,n,N;this._bScalingValid=x>=0&&y>=0;if(this._bScalingValid){for(var i=0;i<p.length;i++){if(this._minXScale===this._maxXScale&&p[i].getX()===this._maxXScale){n=50;}else{n=(((p[i].getX()-this._minXScale)/x)*100);}if(this._minYScale===this._maxYScale&&p[i].getY()===this._maxYScale){N=50;}else{N=(((p[i].getY()-this._minYScale)/y)*100);}this._aNormalizedPoints.push({x:n,y:N});}this._fNormalizedThreshold=((this.getThreshold()-this._minYScale)/y)*100;}};L.prototype._onResize=function(){this._adjustToParent();var c=this.$(),$=this.$("sapSuiteLMCSvgElement"),p=this.$("sapSuiteLMCPointsContainer"),i=parseInt(c.width(),10),a=parseInt(c.height(),10),b,d,t=c.find(".sapSuiteLMCLeftTopLabel, .sapSuiteLMCRightTopLabel"),B=c.find(".sapSuiteLMCLeftBottomLabel, .sapSuiteLMCRightBottomLabel");if(a<=L.EDGE_CASE_HEIGHT_RESIZEFONT||i<=L.EDGE_CASE_WIDTH_RESIZEFONT){c.addClass("sapSuiteLMCSmallFont");}else{c.removeClass("sapSuiteLMCSmallFont");}b=parseInt($.width(),10);d=parseInt($.height(),10);if(d<=L.MIN_SIZE_CHART||b<L.MIN_SIZE_CHART){$.css("visibility","hidden");p.hide();}else{$.css("visibility","");p.show();}if(a<=L.EDGE_CASE_HEIGHT_SHOWTOPLABEL){t.css("visibility","hidden");}else if(this._updateLabelVisibility(t)){c.addClass("sapSuiteLMCNoTopLabels");}if(a<=L.EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL){B.css("visibility","hidden");}else if(this._updateLabelVisibility(B)){c.addClass("sapSuiteLMCNoBottomLabels");}};L.prototype._isLabelTruncated=function(a){var $=q(a);return $.prop("offsetWidth")<$.prop("scrollWidth")||$.prop("offsetLeft")<0;};L.prototype._updateLabelVisibility=function(a){if(a.length===0){return false;}var t=this._isLabelTruncated(a[0]);if(!t&&a.length>1){t=this._isLabelTruncated(a[1]);}if(t){a.css("visibility","hidden");}else{a.css("visibility","");}return t;};L.prototype._adjustToParent=function(){var c=this.$(),p,P,o=this.getParent();if(!o){return;}if(o.getMetadata().getName()==="sap.m.FlexBox"){p=o.getHeight();P=o.getWidth();}else if(q.isFunction(o.getRootNode)){p=Math.round(q(o.getRootNode()).height());P=Math.round(q(o.getRootNode()).width());}if(p){c.height(p);}if(P){c.width(P);}};L.prototype._createTooltipText=function(){var t="";var s=this.getLeftTopLabel();var S=this.getLeftBottomLabel();var e=this.getRightTopLabel();var E=this.getRightBottomLabel();var i=true;if(s||S){t+=this._oRb.getText(("LINEMICROCHART_START"))+": "+S+" "+s;i=false;}if(e||E){t+=(i?"":"\n")+this._oRb.getText(("LINEMICROCHART_END"))+": "+E+" "+e;}return t;};L.prototype._addTitleAttribute=function(){if(!this.$().attr("title")){this.$().attr("title",this.getTooltip_AsString());}};L.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};L.prototype._bindMouseEnterLeaveHandler=function(){this.$().bind("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().bind("mouseleave.tooltip",this._removeTitleAttribute.bind(this));};L.prototype._unbindMouseEnterLeaveHandler=function(){this.$().unbind("mouseenter.tooltip");this.$().unbind("mouseleave.tooltip");};L.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null;}};return L;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.LineMicroChartEmphasizedPoint')){jQuery.sap.declare('sap.suite.ui.microchart.LineMicroChartEmphasizedPoint');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/LineMicroChartEmphasizedPoint",["sap/m/library","sap/suite/ui/microchart/LineMicroChartPoint"],function(M,L){"use strict";var a=L.extend("sap.suite.ui.microchart.LineMicroChartEmphasizedPoint",{metadata:{properties:{color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},show:{type:"boolean",group:"Appearance",defaultValue:false}}}});a.prototype.setColor=function(v){return this.setProperty("color",M.ValueColor[v]||null);};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.LineMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.LineMicroChartRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.ui.define("sap/suite/ui/microchart/LineMicroChartRenderer",['jquery.sap.global','./library','sap/m/library','sap/ui/core/theming/Parameters'],function(q,l,M,P){"use strict";var L={};L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteLMC");if(!l._isInGenericTile(c)){r.addClass("sapSuiteLMCFocus");}if(c._bSemanticMode){r.addClass("sapSuiteLMCSemanticMode");}if(c._bFocusMode){r.addClass("sapSuiteLMCFocusMode");}if(c.getSize()){r.addClass("sapSuiteLMCSize"+c.getSize());}if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}if(c._bNoBottomLabels){r.addClass("sapSuiteLMCNoBottomLabels");}if(c._bNoTopLabels){r.addClass("sapSuiteLMCNoTopLabels");}if(q.inArray(c.getSize(),["S","XS","M"])>=0){r.addClass("sapSuiteLMCSmallFont");}r.writeClasses();var a=c._createTooltipText();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",a);r.write(">");r.write("<div");r.addClass("sapSuiteLMCSvgWrapper");r.writeClasses();r.write(">");this._renderLabelsTop(r,c);this._renderCanvas(r,c);this._renderLabelsBottom(r,c);r.write("</div>");r.write("</div>");};L._renderCanvas=function(r,c){var p=c.getPoints();var a=p.length;r.write("<div");r.addClass("sapSuiteLMCSvgCanvas");r.writeClasses();r.write(">");r.write("<svg");r.writeAttributeEscaped("id",c.getId()+"-sapSuiteLMCSvgElement");r.writeAttribute("focusable","false");r.addClass("sapSuiteLMCSvgElement");r.writeClasses();r.write(">");if(c._bScalingValid){this._renderThresholdLine(r,c);for(var i=1;i<a;i++){this._renderLine(r,c,c._aNormalizedPoints[i-1].x,c._aNormalizedPoints[i-1].y,c._aNormalizedPoints[i].x,c._aNormalizedPoints[i].y);}}r.write('</svg>');r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-sapSuiteLMCPointsContainer");r.writeClasses();r.write(">");var s=c.getShowPoints(),o,b;if(c._bScalingValid&&(c._bFocusMode||s)){for(var j=0;j<a;j++){o=p[j];b=this._isPointEmphasized(o);if(!c._bFocusMode&&s||c._bFocusMode&&b&&o.getShow()){this._renderPoint(r,c,o,j,b);}}}r.write("</div>");r.write("</div>");};L._renderPoint=function(r,c,p,a,e){var n=c._aNormalizedPoints[a],C=c.getColor();if(n.x<0||n.x>100||n.y<0||n.y>100){return;}r.write("<div");r.addStyle("left",q.sap.encodeHTML(n.x+"%"));r.addStyle("top",q.sap.encodeHTML(100-n.y+"%"));if(c._bFocusMode&&c._bSemanticMode){r.addClass("sapSuiteLMCPoint"+q.sap.encodeHTML(p.getColor()));}else if(!c._bFocusMode&&c._bSemanticMode){if(p.getY()>=c.getThreshold()){if(M.ValueColor[C.above]){r.addClass("sapSuiteLMCPoint"+q.sap.encodeHTML(C.above));}else{r.addStyle("background-color",q.sap.encodeHTML(this._getHexColor(C.above)));}}else if(M.ValueColor[C.below]){r.addClass("sapSuiteLMCPoint"+q.sap.encodeHTML(C.below));}else{r.addStyle("background-color",q.sap.encodeHTML(this._getHexColor(C.below)));}}else if(!c._bSemanticMode&&typeof C==="string"){if(M.ValueColor[C]){r.addClass("sapSuiteLMCPoint"+q.sap.encodeHTML(C));}else{r.addStyle("background-color",q.sap.encodeHTML(this._getHexColor(C)));}}else{r.addClass("sapSuiteLMCPointNeutral");}r.addClass("sapSuiteLMCPoint");if(e&&p.getShow()){r.addClass("sapSuiteLMCPointEmphasized");}r.writeClasses();r.writeStyles();r.write("/>");};L._renderThresholdLine=function(r,c){if(c._fNormalizedThreshold>=0&&c._fNormalizedThreshold<=100&&!c._bThresholdNull){r.write("<line");r.writeAttribute("x1","0%");r.writeAttributeEscaped("y1",(100-c._fNormalizedThreshold)+"%");r.writeAttribute("x2","100%");r.writeAttributeEscaped("y2",(100-c._fNormalizedThreshold)+"%");r.addClass("sapSuiteLMCLineThreshold");r.writeClasses();r.write("/>");}};L._renderLine=function(r,c,s,a,e,b){if(this._isDimensionLineOutsideCanvas(c,s,e,"X")||this._isDimensionLineOutsideCanvas(c,a,b,"Y")){return;}var i,I,d=e-s,f=b-a;if((a-c._fNormalizedThreshold)*(b-c._fNormalizedThreshold)<0){i=s+(c._fNormalizedThreshold-a)*d/f;this._renderLine(r,c,s,a,i,c._fNormalizedThreshold);this._renderLine(r,c,i,c._fNormalizedThreshold,e,b);}else if(a*b<0){i=s-a*d/f;this._renderLine(r,c,s,a,i,0);this._renderLine(r,c,i,0,e,b);}else if((a-100)*(b-100)<0){i=s+(100-a)*d/f;this._renderLine(r,c,s,a,i,100);this._renderLine(r,c,i,100,e,b);}else if(s*e<0){I=a-s*f/d;this._renderLine(r,c,s,a,0,I);this._renderLine(r,c,0,I,e,b);}else if((s-100)*(e-100)<0){I=a+(100-s)*f/d;this._renderLine(r,c,s,a,100,I);this._renderLine(r,c,100,I,e,b);}else{this._displayLine(r,c,s,a,e,b);}};L._displayLine=function(r,c,s,a,e,b){r.write("<line");r.writeAttributeEscaped("x1",s+"%");r.writeAttributeEscaped("y1",(100-a)+"%");r.writeAttributeEscaped("x2",e+"%");r.writeAttributeEscaped("y2",(100-b)+"%");r.addClass("sapSuiteLMCLine");if(c._bSemanticMode&&!c._bFocusMode){if(a>=c._fNormalizedThreshold&&b>=c._fNormalizedThreshold){if(M.ValueColor[c.getColor().above]){r.addClass("sapSuiteLMCLine"+q.sap.encodeHTML(c.getColor().above));}else{r.addStyle("stroke",q.sap.encodeHTML(this._getHexColor(c.getColor().above)));}}else if(M.ValueColor[c.getColor().below]){r.addClass("sapSuiteLMCLine"+q.sap.encodeHTML(c.getColor().below));}else{r.addStyle("stroke",q.sap.encodeHTML(this._getHexColor(c.getColor().below)));}}else if(!c._bSemanticMode&&typeof c.getColor()==="string"){if(M.ValueColor[c.getColor()]){r.addClass("sapSuiteLMCLine"+q.sap.encodeHTML(c.getColor()));}else{r.addStyle("stroke",q.sap.encodeHTML(this._getHexColor(c.getColor())));}}else{r.addClass("sapSuiteLMCLineNeutral");}r.writeStyles();r.writeClasses();r.write("/>");};L._renderLabelsBottom=function(r,c){var s=c.getLeftBottomLabel();if(s&&s.length>0){r.write("<div");r.addClass("sapSuiteLMCLeftBottomLabel");r.addClass("sapSuiteLMCLabel");r.writeClasses();r.write(">");r.writeEscaped(s);r.write("</div>");}var R=c.getRightBottomLabel();if(R&&R.length>0){r.write("<div");r.addClass("sapSuiteLMCRightBottomLabel");r.addClass("sapSuiteLMCLabel");r.writeClasses();r.write(">");r.writeEscaped(R);r.write("</div>");}};L._renderLabelsTop=function(r,c){var t="",T="",p=c.getPoints(),i=p.length,f,o;if(i>=1){f=p[0];o=p[i-1];if(c._bFocusMode&&c._bSemanticMode&&c._bScalingValid){if(this._isPointEmphasized(f)&&f.getShow()){t="sapSuiteLMCLabel"+f.getColor();}else{t="sapSuiteLMCLabelNeutral";}if(this._isPointEmphasized(o)&&o.getShow()){T="sapSuiteLMCLabel"+o.getColor();}else{T="sapSuiteLMCLabelNeutral";}}else if(!c._bFocusMode&&c._bSemanticMode&&c._bScalingValid&&c.getShowPoints()&&M.ValueColor[c.getColor().above]&&M.ValueColor[c.getColor().below]){if(f.getY()>=c.getThreshold()){t="sapSuiteLMCLabel"+c.getColor().above;}else{t="sapSuiteLMCLabel"+c.getColor().below;}if(o.getY()>=c.getThreshold()){T="sapSuiteLMCLabel"+c.getColor().above;}else{T="sapSuiteLMCLabel"+c.getColor().below;}}else{t="sapSuiteLMCLabelNeutral";T="sapSuiteLMCLabelNeutral";}}var s=c.getLeftTopLabel();if(s&&s.length>0){r.write("<div");r.addClass("sapSuiteLMCLeftTopLabel");r.addClass("sapSuiteLMCLabel");r.addClass(q.sap.encodeHTML(t));r.writeClasses();r.write(">");r.writeEscaped(s);r.write("</div>");}var R=c.getRightTopLabel();if(R&&R.length>0){r.write("<div");r.addClass("sapSuiteLMCRightTopLabel");r.addClass("sapSuiteLMCLabel");r.addClass(q.sap.encodeHTML(T));r.writeClasses();r.write(">");r.writeEscaped(c.getRightTopLabel());r.write("</div>");}};L._isPointEmphasized=function(p){return p&&p.getMetadata().getName()==="sap.suite.ui.microchart.LineMicroChartEmphasizedPoint";};L._getHexColor=function(c){return P.get(c)||c;};L._isDimensionLineOutsideCanvas=function(c,s,e,a){var m=100,i=0;if(a==="X"&&c._minXScale===c._maxXScale){m=50;i=50;}else if(a==="Y"&&c._minYScale===c._maxYScale){m=50;i=50;}return((s>=m&&e>=m)&&!(s===m&&e===m))||((s<=i&&e<=i)&&!(s===i&&e===i));};return L;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.RadialMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.RadialMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.ValueColor');sap.ui.define("sap/suite/ui/microchart/RadialMicroChart",['jquery.sap.global','./library','sap/ui/core/Control','sap/suite/ui/microchart/RadialMicroChartRenderer','sap/ui/Device','sap/m/ValueColor'],function(q,l,C,R,D,V){"use strict";var a=C.extend("sap.suite.ui.microchart.RadialMicroChart",{constructor:function(i,s){var p;if(s&&typeof s.percentage==="number"){p=true;}else if(i&&typeof i.percentage==="number"){p=true;}else{p=false;}try{C.apply(this,arguments);this._bPercentageMode=p;}catch(e){this.destroy();throw e;}},metadata:{library:"sap.suite.ui.microchart",properties:{total:{group:"Data",type:"float",defaultValue:null},fraction:{group:"Data",type:"float",defaultValue:null},percentage:{group:"Data",type:"float",defaultValue:null},valueColor:{group:"Appearance",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},size:{group:"Misc",type:"sap.m.Size",defaultValue:"Responsive"}},events:{press:{}}}});a.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};a.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};a.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};a.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){l._removeStandardMargins(this);}if(!this._getPercentageMode()){if(this.getTotal()===0){q.sap.log.info("Total can not be 0, please add a valid total value");}else{this.setProperty("percentage",Math.round((this.getFraction()*100/this.getTotal())*10)/10,true);}}this._unbindMouseEnterLeaveHandler();};a.prototype.onAfterRendering=function(){R._handleOnAfterRendering(this);this._bindMouseEnterLeaveHandler();};a.prototype.ontap=function(e){if(D.browser.msie){this.$().focus();}this.firePress();};a.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.SPACE){e.preventDefault();}};a.prototype.onkeyup=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};a.prototype.attachEvent=function(e,d,f,b){C.prototype.attachEvent.call(this,e,d,f,b);if(e==="press"){this.rerender();}return this;};a.prototype.detachEvent=function(e,f,b){C.prototype.detachEvent.call(this,e,f,b);if(e==="press"){this.rerender();}return this;};a.prototype._getPercentageMode=function(){return this._bPercentageMode;};a.prototype.setPercentage=function(p){if(q.type(p)==="number"){this._bPercentageMode=true;if(p!==this.getPercentage()){this.setProperty("percentage",p);}}else{this._bPercentageMode=false;this.setProperty("percentage",null);}};a.prototype.getTooltip_AsString=function(){return this._getTooltipText();};a.prototype._isValueColorValid=function(){return V.hasOwnProperty(this.getValueColor());};a.prototype._getTooltipText=function(){var t=this.getTooltip_Text();if(!t){t=this._getAriaAndTooltipText();}else if(this._isTooltipSuppressed()){t=null;}return t;};a.prototype._getAriaText=function(){var A=this.getTooltip_Text();if(!A||this._isTooltipSuppressed()){A=this._getAriaAndTooltipText();}return A;};a.prototype._isTooltipSuppressed=function(){var t=this.getTooltip_Text();if(t&&q.trim(t).length===0){return true;}else{return false;}};a.prototype._getAriaAndTooltipText=function(){var t;var p=this.getPercentage();if(p>100){p=100;}else if(p<0){p=0;}if(this._isValueColorValid()){t=this._rb.getText("RADIALMICROCHART_ARIA_LABEL",[this.getPercentage(),this._getStatusText()]);}else{t=this._rb.getText("RADIALMICROCHART_ARIA_LABEL",[p,V.Neutral]);}return t;};a.prototype._getStatusText=function(){var v=this.getValueColor();switch(v){case V.Error:return this._rb.getText("SEMANTIC_COLOR_ERROR");case V.Critical:return this._rb.getText("SEMANTIC_COLOR_CRITICAL");case V.Good:return this._rb.getText("SEMANTIC_COLOR_GOOD");default:return this._rb.getText("SEMANTIC_COLOR_NEUTRAL");}};a.prototype._addTitleAttribute=function(){if(!this.$().attr("title")){this.$().attr("title",this.getTooltip_AsString());}};a.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title");}};a.prototype._bindMouseEnterLeaveHandler=function(){this.$().bind("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().bind("mouseleave.tooltip",this._removeTitleAttribute.bind(this));};a.prototype._unbindMouseEnterLeaveHandler=function(){this.$().unbind("mouseenter.tooltip");this.$().unbind("mouseleave.tooltip");};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.StackedBarMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.StackedBarMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.m.Size');jQuery.sap.require('sap.m.ValueColor');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.m.FlexBox');sap.ui.define("sap/suite/ui/microchart/StackedBarMicroChart",['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Size','sap/m/ValueColor','sap/ui/Device','sap/m/FlexBox'],function(q,l,C,S,V,D,F){"use strict";var c=C.extend("sap.suite.ui.microchart.StackedBarMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Appearance",defaultValue:"Auto"},maxValue:{type:"float",group:"Appearance",defaultValue:null},precision:{type:"int",group:"Appearance",defaultValue:1}},defaultAggregation:"bars",aggregations:{bars:{type:"sap.suite.ui.microchart.StackedBarMicroChartBar",multiple:true,bindable:"bindable"}},events:{press:{}}}});c.EDGE_CASE_HIDE_CHART=12;c.EDGE_CASE_HEIGHT_SHOW_VALUES=14;c.BAR_COLOR_PARAM_DEFAULT="sapUiChartPaletteQualitativeHue";c.BAR_LABEL_CSSCLASS=".sapSuiteStackedMCBarLabel";c.BAR_CSSCLASS=".sapSuiteStackedMCBar";c.prototype.attachEvent=function(e,d,f,L){C.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};c.prototype.detachEvent=function(e,f,L){C.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};c.prototype.onclick=function(e){if(D.browser.msie||D.browser.edge){this.$().focus();}if(this.hasListeners("press")){e.stopPropagation();this.firePress();}};c.prototype.onsapspace=c.prototype.onclick;c.prototype.onsapenter=c.prototype.onclick;c.prototype.setMaxValue=function(m){var M=q.isNumeric(m);this.setProperty("maxValue",M?m:null);return this;};c.prototype.setTooltip=function(t){this._title=null;this.setAggregation("tooltip",t,true);};c.prototype.getTooltip_AsString=function(){return this._getTooltip();};c.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","{AltText}",true);this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};c.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};c.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};c.prototype.onBeforeRendering=function(){if(l._isInGenericTile(this)){l._removeStandardMargins(this);}this.$().unbind("mouseenter",this._addTitleAttribute);this.$().unbind("mouseleave",this._removeTitleAttribute);};c.prototype.onAfterRendering=function(){if(this.getSize()===S.Responsive){this._adjustToParent();}l._checkControlIsVisible(this,this._onControlIsVisible);};c.prototype._onControlIsVisible=function(){D.media.attachHandler(this._onResize,this);this._onResize();this.$().bind("mouseenter",this._addTitleAttribute.bind(this));this.$().bind("mouseleave",this._removeTitleAttribute.bind(this));};c.prototype._getLocalizedColorMeaning=function(a){return this._oRb.getText(("SEMANTIC_COLOR_"+a).toUpperCase());};c.prototype._calculateChartData=function(){var d=[];var e=this.getBars();var I=e.length;var f=12;var g=1;var p=this.getPrecision();var n=function(){if(f){if(g===f){g=1;}return c.BAR_COLOR_PARAM_DEFAULT+(g++);}};var t=0;var m=this.getMaxValue();var i=0;for(i;i<I;i++){if(!isNaN(e[i].getValue())){t=t+e[i].getValue();}}var T=Math.max(m,t);var v=m>=t;var P=0;var w=0;var o;for(i=0;i<I;i++){o={oBarData:e[i]};o.color=e[i].getValueColor();if(!o.color){o.color=n();}var h=isNaN(e[i].getValue())?0:e[i].getValue();var j=T===0?0:h*100/T;o.value=this._roundFloat(j,p);o.width=this._roundFloat(j,2);P=P+o.value;w=w+o.width;if(v){o.displayValue=e[i].getDisplayValue()||String(h);}else{o.displayValue=e[i].getDisplayValue()||String(o.value+"%");}d.push(o);}P=this._roundFloat(P,p);w=this._roundFloat(w,2);var M;if(w>100&&d.length>0){M=d.slice(0).sort(function(a,b){return b.width-a.width;})[0];M.width=this._roundFloat(M.width-w+100,2);}if(m>t){o={value:this._roundFloat(100-P,p),width:this._roundFloat(100-w,2)};d.push(o);}else if(d.length>0&&w<100){M=d.slice(0).sort(function(a,b){return b.width-a.width;})[0];M.width=this._roundFloat(M.width-w+100,2);}return d;};c.prototype._roundFloat=function(n,p){return parseFloat(n.toFixed(p));};c.prototype._onResize=function(){this._resizeVertically();this._resizeHorizontally();};c.prototype._adjustToParent=function(){var p,P;var o=this.getParent();var $=this.$();if(!o){return;}if(o instanceof F){p=parseInt(o.$().height(),10);P=parseInt(o.$().width(),10);}else if(o.getMetadata()&&o.getMetadata().getName()==="sap.m.TileContent"){p=parseInt(o.$().children().height(),10);P=parseInt(o.$().children().width(),10);}else if(q.isFunction(o.getRootNode)){p=Math.round(q(o.getRootNode()).height());P=Math.round(q(o.getRootNode()).width());}if(p>0){$.height(p);}if(P>0){$.width(P);}};c.prototype._resizeVertically=function(){var $=this.$();var b=parseFloat($.find(c.BAR_CSSCLASS).height(),10);var i=parseFloat($.height(),10);if(i<c.EDGE_CASE_HIDE_CHART){$.hide();return;}if(i>b){$.height(b);}if(b<c.EDGE_CASE_HEIGHT_SHOW_VALUES){$.find(c.BAR_LABEL_CSSCLASS).hide();}else{$.find(c.BAR_LABEL_CSSCLASS).css("line-height",b+"px");}};c.prototype._resizeHorizontally=function(){var $=this.$();var w=parseFloat($.width(),10);if(w<c.EDGE_CASE_HIDE_CHART){$.hide();}this._hideTruncatedLabel(c.BAR_LABEL_CSSCLASS);};c.prototype._hideTruncatedLabel=function(a){var $=this.$();var L=$.find(a);for(var i=0;i<L.length;i++){if(L[i].offsetWidth<L[i].scrollWidth){$.find(L[i]).hide();}}};c.prototype._createTooltipText=function(a){var t="";if(this._isTooltipSuppressed()){return"";}var d,b,B,A=false;for(var i=0;i<a.length;i++){d=a[i];b=d.oBarData;B=b&&b.getTooltip_AsString();if(b&&b._isTooltipSuppressed()){continue;}if(A){t+="\n";}A=true;if(B){t+=B;}else if(d.displayValue){t+=d.displayValue;if(V[d.color]){t+=" "+this._getLocalizedColorMeaning(d.color);}}}return t;};c.prototype._getTooltip=function(){if(this._isTooltipSuppressed()){return null;}var t=this.getTooltip();var o=this._calculateChartData();var T=this._createTooltipText(o);if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}else if(this.isBound("tooltip")&&!t){return T;}return t;};c.prototype._isTooltipSuppressed=function(){var t=this.getTooltip();return t&&q.trim(t).length===0;};c.prototype._addTitleAttribute=function(){if(this.$().attr("title")){return;}if(!this._title){this._title=this._getTooltip();}if(this._title){this.$().attr("title",this._title);}};c.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this._title=this.$().attr("title");this.$().removeAttr("title");}};return c;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.StackedBarMicroChartBar')){jQuery.sap.declare('sap.suite.ui.microchart.StackedBarMicroChartBar');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.m.ValueCSSColor');sap.ui.define("sap/suite/ui/microchart/StackedBarMicroChartBar",['jquery.sap.global','./library','sap/ui/core/Element',"sap/m/ValueCSSColor"],function(q,l,E,V){"use strict";var S=E.extend("sap.suite.ui.microchart.StackedBarMicroChartBar",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Data",defaultValue:"0"},valueColor:{type:"sap.m.ValueCSSColor",group:"Appearance",defaultValue:null},displayValue:{type:"string",group:"Data",defaultValue:null}}}});S.prototype.setValue=function(v,s){var i=q.isNumeric(v);return this.setProperty("value",i?v:NaN,s);};S.prototype.setValueColor=function(v,s){var i=V.isValid(v);return this.setProperty("valueColor",i?v:null,s);};S.prototype._isTooltipSuppressed=function(){var t=this.getTooltip();return t&&q.trim(t).length===0;};return S;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.InteractiveLineChart')){jQuery.sap.declare('sap.suite.ui.microchart.InteractiveLineChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.m.FlexBox');sap.ui.define("sap/suite/ui/microchart/InteractiveLineChart",['jquery.sap.global','./library','sap/m/library','sap/ui/core/Control','sap/suite/ui/microchart/InteractiveLineChartPoint','sap/ui/Device','sap/ui/core/ResizeHandler','sap/m/FlexBox'],function(q,l,M,C,I,D,R,F){"use strict";var a=C.extend("sap.suite.ui.microchart.InteractiveLineChart",{metadata:{library:"sap.suite.ui.microchart",properties:{displayedPoints:{type:"int",group:"Appearance",defaultValue:6},selectionEnabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"points",aggregations:{points:{type:"sap.suite.ui.microchart.InteractiveLineChartPoint",multiple:true,bindable:"bindable"}},events:{selectionChanged:{parameters:{selectedPoints:{type:"sap.suite.ui.microchart.InteractiveLineChartPoint[]"},point:{type:"sap.suite.ui.microchart.InteractiveLineChartPoint"},selected:{type:"boolean"}}},press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});a.MAX_SCALED_CANVAS_VALUE=99;a.MIN_SCALED_CANVAS_VALUE=1;a.AREA_WIDTH_INTERACTIVE_MINVALUE=48;a.AREA_WIDTH_INTERACTIVE_MINVALUE_COMPACT=32;a.CHART_HEIGHT_MINVALUE=106;a.AREA_WIDTH_MINVALUE=24;a.LABEL_WIDTH_MINVALUE=32;a.AREA_WIDTH_SMALLFONT=36;a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this._aNormalizedValues=[];this._iAreaWidthInteractiveMinValue=a.AREA_WIDTH_INTERACTIVE_MINVALUE;this._bInteractiveMode=true;this._fNormalizedZero=0;this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};a.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};a.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};a.prototype.onBeforeRendering=function(){this._bCompact=this._isCompact();this._bInteractiveMode=true;var p=this.getPoints();this._iVisiblePointsCount=Math.min(this.getDisplayedPoints(),p.length);this._setResponsivenessData();if(!this.data("_parentRenderingContext")&&q.isFunction(this.getParent)){this.data("_parentRenderingContext",this.getParent());}this._updateNormalizedValues();this._deregisterResizeHandler();sap.ui.getCore().detachIntervalTimer(this._checkContentDensity,this);this._bSemanticTooltip=false;for(var i=0;i<this._iVisiblePointsCount;i++){if(p[i].getColor()!==M.ValueColor.Neutral){this._bSemanticTooltip=true;break;}}};a.prototype.onAfterRendering=function(){this._adjustToParent();l._checkControlIsVisible(this,this._onControlIsVisible);};a.prototype._onControlIsVisible=function(){this._sResizeHandlerId=R.register(this,this._onResize.bind(this));this._onResize();sap.ui.getCore().attachIntervalTimer(this._checkContentDensity,this);};a.prototype.exit=function(){this._deregisterResizeHandler();sap.ui.getCore().detachIntervalTimer(this._checkContentDensity,this);};a.prototype.onclick=function(e){if(!this.getSelectionEnabled()){return;}if(this._bInteractiveMode){var i=q(e.target).parent();var h,f=this.$().find(".sapSuiteILCInteractionArea");var b=this.$().find(".sapSuiteILCSection").index(i);if(b>=0){this._toggleSelected(b);h=f.index(this.$().find(".sapSuiteILCInteractionArea[tabindex='0']"));this._switchTabindex(h,b,f);}}else{this.firePress();if(D.browser.msie){this.$().focus();e.preventDefault();}}};a.prototype.onsapleft=function(e){var f=this.$().find(".sapSuiteILCInteractionArea");var i=f.index(e.target);if(f.length>0){this._switchTabindex(i,i-1,f);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsapright=function(e){var f=this.$().find(".sapSuiteILCInteractionArea");var i=f.index(e.target);if(f.length>0){this._switchTabindex(i,i+1,f);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsapup=a.prototype.onsapleft;a.prototype.onsapdown=a.prototype.onsapright;a.prototype.onsapenter=function(e){if(this._bInteractiveMode){var i=this.$().find(".sapSuiteILCInteractionArea").index(e.target);if(i!==-1){this._toggleSelected(i);}e.preventDefault();e.stopImmediatePropagation();}else{this.firePress();}};a.prototype.onsapspace=a.prototype.onsapenter;a.prototype.onsaphome=function(e){var f=this.$().find(".sapSuiteILCInteractionArea");var i=f.index(e.target);if(i!==0&&f.length>0){this._switchTabindex(i,0,f);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.onsapend=function(e){var f=this.$().find(".sapSuiteILCInteractionArea");var i=f.index(e.target),L=f.length;if(i!==L-1&&L>0){this._switchTabindex(i,L-1,f);}e.preventDefault();e.stopImmediatePropagation();};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();if(!t){t=this._createTooltipText();}else if(l._isTooltipSuppressed(t)){t=null;}return t;};a.prototype.getSelectedPoints=function(){var s=[],p=this.getAggregation("points");for(var i=0;i<p.length;i++){if(p[i].getSelected()){s.push(p[i]);}}return s;};a.prototype.setSelectedPoints=function(s){var p=this.getAggregation("points"),b;this._deselectAllSelectedPoints();if(!s){return this;}if(s instanceof I){s=[s];}if(q.isArray(s)){for(var i=0;i<s.length;i++){b=this.indexOfAggregation("points",s[i]);if(b>=0){p[b].setProperty("selected",true,true);}else{q.sap.log.warning("setSelectedPoints method called with invalid InteractiveLineChartPoint element");}}}this.invalidate();return this;};a.prototype._isCompact=function(){return q("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0;};a.prototype._setResponsivenessData=function(){if(this._bCompact){this._iAreaWidthInteractiveMinValue=a.AREA_WIDTH_INTERACTIVE_MINVALUE_COMPACT;}else{this._iAreaWidthInteractiveMinValue=a.AREA_WIDTH_INTERACTIVE_MINVALUE;}};a.prototype._checkContentDensity=function(){if(this.$().length>0){var c=this._isCompact();if(c!==this._bCompact){this._bCompact=c;this.invalidate();}}};a.prototype._deselectAllSelectedPoints=function(){var p=this.getPoints();for(var i=0;i<p.length;i++){if(p[i].getSelected()){p[i].setProperty("selected",false,true);}}};a.prototype._switchTabindex=function(o,n,f){if(o>=0&&o<f.length&&n>=0&&n<f.length){f.eq(o).removeAttr("tabindex");f.eq(n).attr("tabindex","0");f.eq(n).focus();}};a.prototype._toggleSelected=function(i){var p=this.getPoints()[i],s=this.$("point-area-"+i),P=this.$("point-"+i);if(p.getSelected()){s.add(P).removeClass("sapSuiteILCSelected");p.setProperty("selected",false,true);}else{s.add(P).addClass("sapSuiteILCSelected");p.setProperty("selected",true,true);}s.find(".sapSuiteILCInteractionArea").attr("aria-selected",p.getSelected());this.fireSelectionChanged({selectedPoints:this.getSelectedPoints(),point:p,selected:p.getSelected()});};a.prototype._updateNormalizedValues=function(){var n,b=this.getPoints().length;this.nMax=Number.NaN;this.nMin=Number.NaN;this._aNormalizedValues=[];var i;for(i=0;i<b;i++){if(!this.getPoints()[i]._bNullValue){if(isNaN(this.nMax)){this.nMax=this.getPoints()[i].getValue();}else{this.nMax=Math.max(this.nMax,this.getPoints()[i].getValue());}if(isNaN(this.nMin)){this.nMin=this.getPoints()[i].getValue();}else{this.nMin=Math.min(this.nMin,this.getPoints()[i].getValue());}}}var c=this.nMax-this.nMin;for(i=0;i<b;i++){if(this.getPoints()[i]._bNullValue){this._aNormalizedValues.push(0);}else if(c){n=(this.getPoints()[i].getValue()-this.nMin)/c;n=a.MIN_SCALED_CANVAS_VALUE+n*(a.MAX_SCALED_CANVAS_VALUE-a.MIN_SCALED_CANVAS_VALUE);this._aNormalizedValues.push(n);}else{this._aNormalizedValues.push(50);}}if(this.nMin<0&&this.nMax>0){this._fNormalizedZero=(Math.max(0-this.nMin,0)/c)*100;}else{this._fNormalizedZero=null;}};a.prototype._adjustToParent=function(){if(this.data("_parentRenderingContext")&&this.data("_parentRenderingContext")instanceof F){var p=this.data("_parentRenderingContext").$();var P=parseFloat(p.width())-2;var i=parseFloat(p.height())-2;this.$().outerWidth(P);this.$().outerHeight(i);}};a.prototype._isChartEnabled=function(){return this.getSelectionEnabled()&&this._bInteractiveMode;};a.prototype._switchModeInteractive=function(b){var $=this.$(),s=false;if(b<this._iAreaWidthInteractiveMinValue){if(this._bInteractiveMode){this._bInteractiveMode=false;s=true;$.addClass("sapSuiteILCNonInteractive");if(this.getSelectionEnabled()){var A=$.find(".sapSuiteILCInteractionArea[tabindex='0']");this._iActiveElement=$.find(".sapSuiteILCInteractionArea").index(A);A.removeAttr("tabindex");$.attr("tabindex","0");}$.attr({"role":"button","aria-multiselectable":"false","aria-disabled":!this._isChartEnabled()});}}else if(!this._bInteractiveMode){this._bInteractiveMode=true;s=true;$.removeClass("sapSuiteILCNonInteractive");if(this.getSelectionEnabled()){$.removeAttr("tabindex");if(!this._iActiveElement||this._iActiveElement<0){this._iActiveElement=0;}$.find(".sapSuiteILCInteractionArea").eq(this._iActiveElement).attr("tabindex","0");}$.attr({"role":"listbox","aria-multiselectable":"true","aria-disabled":!this._isChartEnabled()});}if(s){if(this._isChartEnabled()){$.removeAttr("title");this._addInteractionAreaTooltip();}else{$.find(".sapSuiteILCInteractionArea").removeAttr("title");$.attr("title",this.getTooltip_AsString());}}};a.prototype._addInteractionAreaTooltip=function(){var i=this.$().find(".sapSuiteILCInteractionArea"),p=this.getPoints();i.each(function(b,e){q(e).attr("title",p[b].getTooltip_AsString());});};a.prototype._onResize=function(){var b,B=false,$=this.$(),t=$.find(".sapSuiteILCToplabel"),c=$.find(".sapSuiteILCBottomText"),d=$.find(".sapSuiteILCInteractionArea"),e=$.height(),f=$.width(),n=this.getPoints().length,g=$.find(".sapSuiteILCSection:first-child .sapSuiteILCBottomText"),L=$.find(".sapSuiteILCSection:last-child .sapSuiteILCBottomText");if(d.length>0){b=d[0].getBoundingClientRect().width;}if(b<a.AREA_WIDTH_MINVALUE||e<a.CHART_HEIGHT_MINVALUE){$.css("visibility","hidden");return;}else{$.css("visibility","");}this._switchModeInteractive(b);if(b<=a.AREA_WIDTH_SMALLFONT){$.addClass("sapSuiteILCSmallFont");}else{$.removeClass("sapSuiteILCSmallFont");}$.removeClass("sapSuiteILCExpandedLabels");g.add(L).css("width","");for(var i=0;i<n;i++){if(t.eq(i).prop("offsetWidth")<t.eq(i).prop("scrollWidth")){t.eq(i).css("visibility","hidden");}else{t.eq(i).css("visibility","");}if(c.eq(i).prop("offsetWidth")<c.eq(i).prop("scrollWidth")){B=true;}}if(b<a.LABEL_WIDTH_MINVALUE&&B){$.addClass("sapSuiteILCExpandedLabels");g.add(L).css("width",(f/2)-4+"px");}else{$.removeClass("sapSuiteILCExpandedLabels");g.add(L).css("width","");}};a.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null;}};a.prototype._createTooltipText=function(){var b=true,A,t="",p=this.getPoints();for(var i=0;i<this._iVisiblePointsCount;i++){A=p[i]._getAreaTooltip();if(A){t+=(b?"":"\n")+A;b=false;}}return t;};return a;});};
