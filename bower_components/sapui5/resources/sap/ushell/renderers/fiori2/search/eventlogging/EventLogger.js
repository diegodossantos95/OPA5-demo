sap.ui.define(['sap/ushell/renderers/fiori2/search/eventlogging/SinaLogConsumer','sap/ushell/renderers/fiori2/search/eventlogging/HistoryLogConsumer','sap/ushell/renderers/fiori2/search/eventlogging/UsageAnalyticsConsumer'],function(S,H,U){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.EventLogger');var m=sap.ushell.renderers.fiori2.search.eventlogging.EventLogger=function(){this.init.apply(this,arguments);};m.newInstance=function(p){var l=new m();l.addConsumer(new S(p.sina));l.addConsumer(new H(p.sina));l.addConsumer(new U());return l;};m.prototype={ITEM_NAVIGATE:{targetUrl:'string',positionInList:'integer'},SUGGESTION_SELECT:{suggestionType:'string',suggestionTitle:'string',suggestionTerm:'string',searchTerm:'string',targetUrl:'string',dataSourceKey:'string'},SEARCH_REQUEST:{searchTerm:'string',dataSourceKey:'string'},ITEM_NAVIGATE_RELATED_OBJECT:{targetUrl:'string'},SUGGESTION_REQUEST:{suggestionTerm:'string',dataSourceKey:'string'},TILE_NAVIGATE:{tileTitle:'string',targetUrl:'string'},init:function(){this.consumers=[];this.addToStringMethodToEvents();},addToStringMethodToEvents:function(){var c=function(n){return function(){return n;};};for(var p in this){if(p.toUpperCase()!==p){continue;}var v=this[p];v.toString=c(p);}},addConsumer:function(c){this.consumers.push(c);c.eventLogger=this;},logEvent:function(a){for(var i=0;i<this.consumers.length;++i){var c=this.consumers[i];if(c.collectEvents){if(!c.eventCollector){c.eventCollector=new E(c);}c.eventCollector.addEvent(a);}else{try{c.logEvent(a);}catch(e){}}}}};var E=function(){this.init.apply(this,arguments);};E.prototype={init:function(c){this.events=[];this.consumer=c;},addEvent:function(e){var t=this;e.timestamp=this.consumer.createEventLoggingTimestamp();this.events.push(e);if(this.events.length===1){window.setTimeout(function(){t.consumeEvents();},this.consumer.collectTime);}},consumeEvents:function(){try{this.consumer.logEvents(this.events);}catch(e){}this.events=[];}};return m;});
