// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(['sap/ushell/User','sap/ushell/utils'],function(U,u){"use strict";var C=function(s,p,a){var A,o,b,k;A=jQuery.sap.getObject("config",0,a);o={id:"DEFAULT_USER",firstName:"Default",lastName:"User",fullName:"Default User",accessibility:false,isJamActive:false,language:sap.ui.getCore().getConfiguration().getLanguage()||"en",bootTheme:{theme:"sap_belize",root:""},themeRoot:"/sap/public/bc/themes/",setAccessibilityPermitted:true,setThemePermitted:true,isLanguagePersonalized:false,setContentDensityPermitted:true,trackUsageAnalytics:null};for(k in A){if(A.hasOwnProperty(k)){o[k]=A[k];}}this.getSystem=function(){return s;};this.getUser=function(){return b;};this.sessionKeepAlive=function(){console.warn("Demo container adapter sessionKeepAlive called");};this.load=function(){var c,d,e,D,f=new jQuery.Deferred();if(A&&typeof A.setUserCallback==="string"){D=new jQuery.Deferred();c=A.setUserCallback.split(".");d=c.pop();if(c.length===0){e=window;}else{e=jQuery.sap.getObject(c.join("."));}if(e&&typeof e[d]==="function"){e[d](D);}else{throw new u.Error("ContainerAdapter local platform: Cannot execute setUserCallback - "+A.setUserCallback);}D.done(function(g){["id","firstName","lastName","fullName"].forEach(function(v){if(g[v]&&typeof A.setUserCallback!=="function"){o[v]=g[v];}});b=new U(o);f.resolve();});}else{b=new U(o);f.resolve();}return f.promise();};this.logout=function(l){jQuery.sap.log.info("Demo system logged out: "+s.getAlias(),null,"sap.ushell.adapters.local.ContainerAdapter");u.reload();return(new jQuery.Deferred()).resolve().promise();};};return C;},true);
