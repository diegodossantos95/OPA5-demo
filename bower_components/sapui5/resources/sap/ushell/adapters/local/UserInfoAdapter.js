// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(function(){"use strict";var U=function(u,p,a){var o;function g(A){var d=[{id:"sap_belize",name:"SAP Belize"}],e=jQuery.sap.getObject("config.themes",undefined,A);return e===undefined?d:e;}this.updateUserPreferences=function(b){var P,s,d=new jQuery.Deferred();P=sap.ushell.Container.getService("Personalization");s={keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.LOW,clientStorageAllowed:true};function c(C,b){var e=b.getChangedProperties()||[];e.forEach(function(f){C.setItemValue(f.propertyName,f.newValue);});}function l(e){var E="Failed to update user preferences: "+(e&&e.message?e.message:e);jQuery.sap.log.error(E,e&&e.stack,"com.sap.ushell.adapters.local.UserInfo");}P.getContainer("sap.ushell.UserProfile",s,undefined).done(function(C){c(C,b);C.save().fail(function(e){l(e);d.reject(e);}).done(function(){d.resolve();});}).fail(function(e){l(e);d.reject(e);});return d.promise();};this.getThemeList=function(){var d=new jQuery.Deferred();jQuery.sap.log.info("getThemeList");if(o===undefined){o=g(a);}if(o.length===0){d.reject("no themes were configured");}else{d.resolve({options:o});}return d.promise();};this.getLanguageList=function(){var d=new jQuery.Deferred();jQuery.sap.log.info("getLanguageList");d.resolve([{"text":"Browser Language","key":"default"},{"text":"en-US","key":"en-US"},{"text":"en-UK","key":"en-UK"},{"text":"en","key":"en"},{"text":"de-DE","key":"de-DE"},{"text":"he-IL","key":"he-IL"},{"text":"ru-RU","key":"ru-RU"},{"text":"ru","key":"ru"}]);return d.promise();};};return U;},true);
