// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
this.sap=this.sap||{};(function(){"use strict";jQuery.sap.declare("sap.ushell.components.tiles.utils");if(!sap.ushell.components.tiles.utilsRT){jQuery.sap.require("sap.ushell.components.tiles.utilsRT");}sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles=sap.ushell.components.tiles||{};sap.ushell.components.tiles.utils=sap.ushell.components.tiles.utils||{};sap.ushell.components.tiles.utils.isInitial=function(T){return T==="App Launcher – Static"||T==="App Launcher – Dynamic"||T==="Target Mapping";};sap.ushell.components.tiles.utils.getResourceBundleModel=function(){jQuery.sap.require("sap.ushell.resources");return sap.ushell.resources.i18nModel;};sap.ushell.components.tiles.utils.getEmptyRowObj=function(e){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false||!e,defValEnabled:true,editable:e};};sap.ushell.components.tiles.utils.getEmptyTileActionsRowObj=function(e){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();return{menu_title:"",target_type:r.getText("configuration.tile_actions.table.target_type.url"),navigation_target:"",action:"",icon:"",isTargetTypeIntent:false,editable:e};};sap.ushell.components.tiles.utils.getTileNavigationActionsRows=function(T,e){var a=[],b=[];b=this.getTileNavigationActions(T);if(b.length){for(var i=0;i<b.length;i++){a.push(t(b[i],e));}}else{a=[this.getEmptyTileActionsRowObj(e)];}return a;};sap.ushell.components.tiles.utils.getTileNavigationActions=function(T){var a=[],s='';var b=T.bag.getBag('tileNavigationActions');if(b.getPropertyNames().indexOf('tile_navigation_actions')>=0){a=JSON.parse(b.getProperty('tile_navigation_actions'));for(var i=0;i<a.length;i++){if(a[i].text){if(b.getTextNames().indexOf('action_tile_'+(i+1))>=0){s=b.getText('action_tile_'+(i+1));}a[i].text=s;}}}return a;};var t=function(T,e){var a={},r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();a.menu_title=T.text;a.icon=T.icon;if((T.targetURL).charAt(0)==="#"){a.target_type=r.getText("configuration.tile_actions.table.target_type.intent");var n=T.targetURL.split("-");a.navigation_target=n[0].substring(1,n[0].length);a.action=n[1];a.isTargetTypeIntent=true;}else{a.target_type=r.getText("configuration.tile_actions.table.target_type.url");a.navigation_target=T.targetURL;a.action="";a.isTargetTypeIntent=false;}a.editable=e;return a;};sap.ushell.components.tiles.utils.tileActionsRows2TileActionsArray=function(T){var a=[];for(var i=0;i<T.length;i++){if(T[i].menu_title){a.push(c(T[i]));}}return a;};var c=function(T){var o={};o.text=T.menu_title;o.icon=T.icon;if(T.action){o.targetURL="#"+T.navigation_target+"-"+T.action;}else{o.targetURL=T.navigation_target;}return o;};sap.ushell.components.tiles.utils.populateTileNavigationActionsBag=function(a,n){a.setProperty('tile_navigation_actions',JSON.stringify(n));for(var i=0;i<n.length;i++){var A=n[i].text;a.setText('action_tile_'+(i+1),A);}};sap.ushell.components.tiles.utils.getDefaultFormFactors=function(){return{"appDefault":false,"manual":{"desktop":true,"tablet":true,"phone":true},"defaultParam":true};};sap.ushell.components.tiles.utils.buildFormFactorsObject=function(m){return{"appDefault":m.getProperty("/config/appFormFactor"),"manual":{"desktop":m.getProperty("/config/desktopChecked"),"tablet":m.getProperty("/config/tabletChecked"),"phone":m.getProperty("/config/phoneChecked")}};};sap.ushell.components.tiles.utils.tableHasDuplicateParameterNames=function(T){var p={};for(var i=0;i<T.length;i++){var a=T[i].name;if(a!==""){if(p[a]){return true;}else{p[a]=true;}}}return false;};sap.ushell.components.tiles.utils.getMappingSignatureString=function(a,b){var m="";for(var i=0;i<a.length;i++){if(a[i].name){m+=(g(a[i])+"&");}}return b?m+"*=*":m.substring(0,m.length-1);};var g=function(a){var p="";if(a.mandatory){if(a.isRegularExpression){p="{"+a.name+"="+encodeURIComponent(a.value)+"}";}else{p=a.name+"="+encodeURIComponent(a.value);}}else{p="["+a.name+"="+encodeURIComponent(a.defaultValue)+"]";}return p;};sap.ushell.components.tiles.utils.getMappingSignatureTableData=function(m,e){var p=[];var a=m.split("&");for(var i=0;i<a.length;i++){var b=a[i];if(b!=="*=*"){p.push(d(a[i],e));}}return p;};var d=function(p,e){var a={};if(p.charAt(0)==="["){a.mandatory=false;a.isRegularExpression=false;a.value="";p=p.substring(1,p.length-1);a.name=p.substring(0,p.indexOf("="));a.defaultValue=decodeURIComponent(p.substring(p.indexOf("=")+1));}else{a.mandatory=true;a.defaultValue="";if(p.charAt(0)==="{"){a.isRegularExpression=true;p=p.substring(1,p.length-1);}else{a.isRegularExpression=false;}a.name=p.substring(0,p.indexOf("="));a.value=decodeURIComponent(p.substring(p.indexOf("=")+1));}a.editable=e;if(e){a.valEnabled=a.mandatory;a.defValEnabled=!a.mandatory;}else{a.valEnabled=true;a.defValEnabled=true;}return a;};sap.ushell.components.tiles.utils.getAllowUnknownParametersValue=function(m){if(m&&(m.substring(m.length-3,m.length)==="*=*")){return true;}else{return false;}};sap.ushell.components.tiles.utils.getMappingSignature=function(r,a){var A=a?"allowed":"ignored";var u=new RegExp("%%UserDefault[.].+%%");var m=[];var M={"parameters":{},"additional_parameters":A};r.forEach(function(R){M.parameters[R.name]={"required":R.mandatory,"rename_to":R.rename_to};if(R.defaultValue){m=u.exec(R.defaultValue);if(m){R.defaultValue=m[0];}M.parameters[R.name].defaultValue={"value":R.defaultValue};}if(R.value){m=u.exec(R.value);if(m){R.value=m[0];}M.parameters[R.name].filter={"value":R.value};if(R.isRegularExpression){M.parameters[R.name].filter.format="regexp";}}});return M;};sap.ushell.components.tiles.utils.getSignatureTableData=function(s,e){var p=[];var r={};var P={};var o=s.parameters;for(var k in o){P=o[k];r={};r.editable=e;r.name=k;r.mandatory=P.required;P.rename_to?r.rename_to=P.rename_to:r.rename_to=P.renameTo;if(e){r.valEnabled=r.mandatory;r.defValEnabled=!r.mandatory;}else{r.valEnabled=true;r.defValEnabled=true;}if(P.filter){r.value=P.filter.value;if(P.filter.format&&P.filter.format==="regexp"){r.isRegularExpression=true;}}if(P.defaultValue){r.defaultValue=P.defaultValue.value;}p.push(r);}return p;};sap.ushell.components.tiles.utils.getTranslatedTitle=function(T){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf("display_title_text")>=0){return b.getText('display_title_text');}}if(T.title){return T.title.getTitle();}if(T.preview){return T.preview.getTitle();}return"";};sap.ushell.components.tiles.utils.getTranslatedSubtitle=function(T,C){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf("display_subtitle_text")>=0){return b.getText('display_subtitle_text');}}if(typeof C['display_subtitle_text']==="string"){return C['display_subtitle_text'];}if(T.preview&&T.preview.getDescription&&T.preview.getDescription()){return T.preview.getDescription();}return'';};sap.ushell.components.tiles.utils.getTranslatedProperty=function(T,o,p){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf(p)>=0){return b.getText(p);}}return o[p];};sap.ushell.components.tiles.utils.getActionConfiguration=function(T,a){var C=T.configuration.getParameterValueAsString('tileConfiguration');var o=JSON.parse(C||"{}"),r;if(typeof a=="undefined"){a=T.configurationUi.isEnabled();}if(a){r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();}o.semantic_object=o.semantic_object||(a?"["+r.getText("configuration.semantic_object")+"]":"");o.semantic_action=o.semantic_action||(a?"["+r.getText("configuration.semantic_action")+"]":"");o.navigation_provider=o.navigation_provider||"";o.navigation_provider_role=o.navigation_provider_role||"";o.navigation_provider_instance=o.navigation_provider_instance||"";o.target_application_id=o.target_application_id||"";o.target_application_alias=o.target_application_alias||"";o.display_info_text=o.display_info_text||"";o.editable=true;if(T.configurationUi&&T.configurationUi.isReadOnly){if(T.configurationUi.isReadOnly()){o.editable=false;}}return o;};sap.ushell.components.tiles.utils.getConfigurationUi=function(v,V){var o=v.getViewData();var T=o.chip;var C,s,r,i,a,A;var b=sap.ushell.components.tiles.utilsRT.getConfiguration(T,true,true);var e=new sap.ui.model.json.JSONModel({config:b,tileModel:v.getModel()});C=new sap.ui.view({type:sap.ui.core.mvc.ViewType.XML,viewData:o,viewName:V});C.setModel(e);s=C.byId("navigation_semantic_objectInput")||C.byId("semantic_objectInput");if(s){s.getModel().setProperty("/enabled",b.navigation_use_semantic_object);s.getModel().setProperty("/value",b.semantic_object||b.navigation_semantic_object);}r=C.byId("navigation_provider_roleInput");if(r){r.getModel().setProperty("/value",b.navigation_provider_role);}i=C.byId("navigation_provider_instanceInput");if(i){i.getModel().setProperty("/value",b.navigation_provider_instance);}a=C.byId("target_application_aliasInput");if(a){a.getModel().setProperty("/value",b.target_application_alias);}A=C.byId("targetTypeInput");if(A){if(!C.getModel().getProperty("/config/transaction")){C.getModel().setProperty("/config/transaction",{});}if(!C.getModel().getProperty("/config/web_dynpro")){C.getModel().setProperty("/config/web_dynpro",{});}if(v.getModel().getProperty('/config/navigation_provider')=="LPD"){sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=="SAPUI5"||v.getModel().getProperty('/config/navigation_provider')==''){A.setSelectedKey("SAPUI5");sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=="TR"){sap.ushell.components.tiles.utils.displayTransactionApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=="WDA"){sap.ushell.components.tiles.utils.displayWebDynproApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=="URL"){sap.ushell.components.tiles.utils.displayURLApplicationTypeFields(C);}}return C;};sap.ushell.components.tiles.utils._updateTilePropertiesTexts=function(v,T){var a=T.getTextNames(),m=v.getModel();a.forEach(function(p){m.setProperty('/data/'+p,T.getText(p));m.setProperty('/config/'+p,T.getText(p));});};sap.ushell.components.tiles.utils._updateTileConfiguration=function(v,T){var m=v.getModel();jQuery.each(JSON.parse(T),function(p,P){m.setProperty('/data/'+p,P);m.setProperty('/config/'+p,P);if(p==="navigation_target_url"){m.setProperty('/nav/'+p,P);}});};sap.ushell.components.tiles.utils.aData=[];sap.ushell.components.tiles.utils.aActionData=[];sap.ushell.components.tiles.utils.aRoleData=[];sap.ushell.components.tiles.utils.aAliasData=[];sap.ushell.components.tiles.utils.objectSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),i,s,a;if(v!==undefined){i=e.getParameter("itemsBinding");s=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);a=new sap.ui.model.Filter("obj",sap.ui.model.FilterOperator.Contains,v);f.push(a);f.push(s);i.filter(new sap.ui.model.Filter(f,false));}};sap.ushell.components.tiles.utils.actionSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),i,s;if(v!==undefined){i=e.getParameter("itemsBinding");s=new sap.ui.model.Filter("text",sap.ui.model.FilterOperator.Contains,v);f.push(s);i.filter(new sap.ui.model.Filter(f,false));}};sap.ushell.components.tiles.utils.roleSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),i,s,a;if(v!==undefined){i=e.getParameter("itemsBinding");s=new sap.ui.model.Filter("role",sap.ui.model.FilterOperator.Contains,v);a=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.Contains,v);f.push(s);f.push(a);i.filter(new sap.ui.model.Filter(f,false));}};sap.ushell.components.tiles.utils.instanceSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),a,r,i,s,b;a=e.getSource().getCustomData();r=a[0].getValue();if(v!==undefined){i=e.getParameter("itemsBinding");if(v!=""){b=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.Contains,v);f.push(b);}if(r!=""){s=new sap.ui.model.Filter("role",sap.ui.model.FilterOperator.EQ,r);f.push(s);}if(f.length>0){i.filter(new sap.ui.model.Filter(f,true));}}};sap.ushell.components.tiles.utils.instanceSuggest=function(C,e){var v=C.getView(),f=[],V=e.getParameter("value"),r,R,s,a,b;r=v.byId("navigation_provider_roleInput");R=r.getValue();V=e.getParameter("suggestValue");if(V!=""){b=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.Contains,V);f.push(b);}if(R!=""){a=new sap.ui.model.Filter("role",sap.ui.model.FilterOperator.EQ,R);f.push(a);}if(f.length>0){s=e.oSource.getBinding("suggestionItems");s.filter(new sap.ui.model.Filter(f,true));}};sap.ushell.components.tiles.utils.aliasSuggest=function(C,e){var v=C.getView(),f=[],V=e.getParameter("value"),i,I,s,a,b;i=v.byId("navigation_provider_instanceInput");I=i.getValue();V=e.getParameter("suggestValue");if(V!=""){b=new sap.ui.model.Filter("alias",sap.ui.model.FilterOperator.Contains,V);f.push(b);}if(I!=""){a=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.EQ,I);f.push(a);}if(f.length>0){s=e.oSource.getBinding("suggestionItems");s.filter(new sap.ui.model.Filter(f,true));}};sap.ushell.components.tiles.utils.aliasSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),a,i,b,s,h;a=e.getSource().getCustomData();i=a[0].getValue();if(v!==undefined){b=e.getParameter("itemsBinding");s=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.EQ,i);if(v!=""){h=new sap.ui.model.Filter("alias",sap.ui.model.FilterOperator.Contains,v);f.push(h);}f.push(s);b.filter(new sap.ui.model.Filter(f,true));}};sap.ushell.components.tiles.utils.objectSelectUpdateDialog=function(s,v){var f=[],i=s.getBinding("items"),a;if(v!==undefined){a=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);f.push(a);i.filter(f);}};sap.ushell.components.tiles.utils.actionSelectUpdateDialog=function(s,v){var f=[],i=s.getBinding("items"),a;if(v!==undefined){a=new sap.ui.model.Filter("text",sap.ui.model.FilterOperator.Contains,v);f.push(a);i.filter(f);}};sap.ushell.components.tiles.utils.roleSelectUpdateDialog=function(s,v){var f=[],i=s.getBinding("items"),a;if(v!==undefined){a=new sap.ui.model.Filter("role",sap.ui.model.FilterOperator.Contains,v);f.push(a);i.filter(f);}};sap.ushell.components.tiles.utils.instanceSelectUpdateDialog=function(s,v){var f=[],a,i=s.getBinding("items"),b,r,e;a=s.getCustomData();r=a[0].getValue();if(v!==undefined){b=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.Contains,v);f.push(b);}if(r!==""){e=new sap.ui.model.Filter("role",sap.ui.model.FilterOperator.EQ,r);f.push(e);}if(f.length>0){i.filter(f,true);}};sap.ushell.components.tiles.utils.aliasSelectUpdateDialog=function(s,v){var f=[],a,i,b=s.getBinding("items"),e,h;a=s.getCustomData();i=a[0].getValue();if(v!==undefined){h=new sap.ui.model.Filter("alias",sap.ui.model.FilterOperator.Contains,v);f.push(h);}if(i!==""){e=new sap.ui.model.Filter("instance",sap.ui.model.FilterOperator.EQ,i);f.push(e);}if(f.length>0){b.filter(f,true);}};sap.ushell.components.tiles.utils.sSelectedColor=(jQuery(".sapMStdTileIconDiv").css('color')||"#007cc0").split(" ").join("");sap.ushell.components.tiles.utils.sDeselectedColor=(jQuery(".sapMLabel:not(.sapFioriDropZoneText )").css('color')||"#666666").split(" ").join("");sap.ushell.components.tiles.utils.iconSelect=function(i,s){i.setColor(s?sap.ushell.components.tiles.utils.sSelectedColor:sap.ushell.components.tiles.utils.sDeselectedColor);i.setActiveColor(s?sap.ushell.components.tiles.utils.sDeselectedColor:sap.ushell.components.tiles.utils.sSelectedColor);};sap.ushell.components.tiles.utils.onSelectIcon=function(C,i,T,o){var m=C.getView().getModel(),s;if(i){s=m.getProperty("/config/tile_actions_selected_icon");}else{s=m.getProperty("/config/selected_icon");}if(s){sap.ushell.components.tiles.utils.iconSelect(s,false);}s=o.getSource();sap.ushell.components.tiles.utils.iconSelect(s,true);m.setProperty("/config/ok.enabled",true);if(i){m.setProperty("/config/tile_actions_selected_icon",s);}else{m.setProperty("/config/selected_icon",s);}C.byId("selectIconDialog").setTitle(s.getSrc());};sap.ushell.components.tiles.utils.onSelectIconClose=function(v){v.byId("selectIconDialog").close();};sap.ushell.components.tiles.utils.onSelectIconOk=function(v,T){var s=v.getModel().getProperty("/config/selected_icon");if(!T){v.getModel().setProperty("/config/display_icon_url",s.getSrc());v.byId("iconInput").setValueState(sap.ui.core.ValueState.None);}else{s=v.getModel().getProperty("/config/tile_actions_selected_icon");if(s){T.setValue(s.getSrc());T.setValueState(sap.ui.core.ValueState.None);}}sap.ushell.components.tiles.utils.onSelectIconClose(v);};sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest=function(C,e,a){var m=C.getView().getModel();var r=C.getView().byId("icons");var b=sap.ui.core.IconPool.getIconCollectionNames();var D=C.getView().byId("selectIconDialog");var o=C.getView().byId("ok");var f,I,T,h,i,j,u,B=false;r.destroyContent();if(a){T=sap.ui.getCore().byId(e.getParameter('id'));I=T.getValue();}else{I=m.getProperty("/config/display_icon_url");}o.attachEventOnce("press",function(){sap.ushell.components.tiles.utils.onSelectIconOk(C.getView(),T);});b.sort();b=jQuery.grep(b,function(v){if(v==="BusinessSuiteInAppSymbols"){B=true;return false;}return true;});if(B){b.push("BusinessSuiteInAppSymbols");}for(i=0;i<b.length;i+=1){h=sap.ui.core.IconPool.getIconNames(b[i]);h.sort();for(j=0;j<h.length;j+=1){u=sap.ui.core.IconPool.getIconURI(h[j],b[i]);r.addContent(new sap.ui.core.Icon({height:"38px",press:sap.ushell.components.tiles.utils.onSelectIcon.bind(null,C,a,T),size:"2rem",src:u,tooltip:u,width:"38px"}));}}f=r.getContent();m.setProperty("/config/ok.enabled",false);D.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(i=0;i<f.length;i+=1){if(f[i].getSrc()===I){if(a){m.setProperty("/config/tile_actions_selected_icon",f[i]);}else{m.setProperty("/config/selected_icon",f[i]);}sap.ushell.components.tiles.utils.iconSelect(f[i],true);m.setProperty("/config/ok.enabled",true);D.setTitle(I);}else{sap.ushell.components.tiles.utils.iconSelect(f[i],false);}}D.open();};sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest=function(C,e,i){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_object"),s,V,S=new sap.ui.model.json.JSONModel(),o=new sap.m.SelectDialog("semantic_object_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.objectSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.objectSelectDoSearch}),a=new sap.m.StandardListItem({title:"{obj}"});if(i){s=sap.ui.getCore().byId(e.getParameter('id'));}else{s=v.byId("semantic_objectInput")||v.byId("navigation_semantic_objectInput");}V=s.getValue();o.open(V);S.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aData));o.bindAggregation("items","/",a);o.setModel(S);sap.ushell.components.tiles.utils.objectSelectUpdateDialog(o,V);o.attachCancel(function(b){s.setValue(V);if(!i){s.fireChange();}o.destroy();o=null;});o.attachConfirm(function(b){var f=b.getParameter("selectedItem");if(f){s.setValue(f.getTitle());if(!i){s.fireChange();}}o.destroy();o=null;});};sap.ushell.components.tiles.utils.actionSelectOnValueHelpRequest=function(C,e,i){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_action"),a,V,s=new sap.ui.model.json.JSONModel(),S=new sap.m.SelectDialog("semantic_action_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.actionSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.actionSelectDoSearch}),b=new sap.m.StandardListItem({title:"{text}"});if(i){a=sap.ui.getCore().byId(e.getParameter('id'));}else{a=v.byId("semantic_actionInput")||v.byId("navigation_semantic_actionInput");}V=a.getValue();S.open(V);s.setData(sap.ushell.components.tiles.utils.aActionData);S.bindAggregation("items","/items",b);S.setModel(s);sap.ushell.components.tiles.utils.actionSelectUpdateDialog(S,V);S.attachCancel(function(f){a.setValue(V);if(!i){a.fireChange();}S.destroy();S=null;});S.attachConfirm(function(f){var h=f.getParameter("selectedItem");if(h){a.setValue(h.getTitle());if(!i){a.fireChange();a.fireLiveChange({"newValue":h.getTitle()});}}S.destroy();S=null;});};sap.ushell.components.tiles.utils.roleSelectOnValueHelpRequest=function(C,e){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_role"),r,i,V,s=new sap.ui.model.json.JSONModel(),S=new sap.m.TableSelectDialog("role_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.roleSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.roleSelectDoSearch,columns:[new sap.m.Column({header:[new sap.m.Text({text:sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_role")})]}),new sap.m.Column({header:[new sap.m.Text({text:sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_instance")})]})]}),a=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{role}"}),new sap.m.Text({text:"{instance}"})]});r=v.byId("navigation_provider_roleInput");i=v.byId("navigation_provider_instanceInput");V=r.getValue();S.open(V);s.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aRoleData));S.bindAggregation("items","/",a);S.setModel(s);sap.ushell.components.tiles.utils.roleSelectUpdateDialog(S,V);S.attachCancel(function(b){r.setValue(V);r.fireChange();S.destroy();S=null;});S.attachConfirm(function(b){var f=b.getParameter("selectedItem");if(f){r.setValue(f.getCells()[0].getText());i.setValue(f.getCells()[1].getText());r.fireChange();i.fireChange();}S.destroy();S=null;});};sap.ushell.components.tiles.utils.instanceSelectOnValueHelpRequest=function(C,e){var v=C.getView(),r,T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_instance"),i,V,s=new sap.ui.model.json.JSONModel(),S=new sap.m.SelectDialog("instance_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.instanceSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.instanceSelectDoSearch}),a=new sap.m.StandardListItem({title:"{instance}"});i=v.byId("navigation_provider_instanceInput");V=i.getValue();r=v.byId("navigation_provider_roleInput").getValue();S.addCustomData(new sap.ui.core.CustomData({key:"role",value:r}));S.open(V);s.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aRoleData));S.bindAggregation("items","/",a);S.setModel(s);sap.ushell.components.tiles.utils.instanceSelectUpdateDialog(S,V);S.attachCancel(function(b){i.setValue(V);i.fireChange();S.destroy();S=null;});S.attachConfirm(function(b){var f=b.getParameter("selectedItem");if(f){i.setValue(f.getTitle());i.fireChange();}S.destroy();S=null;});};sap.ushell.components.tiles.utils.applicationAliasSelectOnValueHelpRequest=function(C,e){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.target_application_alias"),a,V,i,s=new sap.ui.model.json.JSONModel(),S=new sap.m.SelectDialog("alias_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.aliasSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.aliasSelectDoSearch}),b=new sap.m.StandardListItem({title:"{alias}"});a=v.byId("target_application_aliasInput");V=a.getValue();i=v.byId("navigation_provider_instanceInput").getValue();S.addCustomData(new sap.ui.core.CustomData({key:"instance",value:i}));S.open(V);s.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aAliasData));S.bindAggregation("items","/",b);S.setModel(s);sap.ushell.components.tiles.utils.aliasSelectUpdateDialog(S,V);S.attachCancel(function(f){a.setValue(V);a.fireChange();S.destroy();S=null;});S.attachConfirm(function(f){var h=f.getParameter("selectedItem");if(h){a.setValue(h.getTitle());a.fireChange();}S.destroy();S=null;});};sap.ushell.components.tiles.utils.onTargetTypeChange=function(T){var i=T.getParameter('id');var p=sap.ui.getCore().byId(i).getParent().getCells();var s=T.getSource().getSelectedKey();if(s=="INT"){p[3].setEnabled(true);p[2].setShowValueHelp(true);p[2].setValue("");}else{p[2].setShowValueHelp(false);p[2].setValue("");p[3].setEnabled(false);p[3].setValue("");}};sap.ushell.components.tiles.utils.addTileActionsRow=function(C){var m=C.getModel();var r=m.getProperty('/config/tile_actions_rows');var n=this.getEmptyTileActionsRowObj();r.push(n);m.setProperty('/config/tile_actions_rows',r);};sap.ushell.components.tiles.utils.deleteTileActionsRow=function(C){var m=C.getModel();var r=m.getProperty('/config/tile_actions_rows');var e=C.byId("tileActions");var s=e.getSelectedIndices();var S=s.sort(function(a,b){return b-a;}).slice();for(var i=0;i<S.length;i++){e.removeSelectionInterval(S[i],S[i]);r.splice(S[i],1);}m.setProperty('/config/tile_actions_rows',r);};sap.ushell.components.tiles.utils.checkInput=function(C,o){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),i=C.byId("iconInput"),u=C.byId("useLpdCheckbox"),s=C.byId("navigation_semantic_objectInput")||C.byId("semantic_objectInput"),S=C.byId("navigation_semantic_actionInput")||C.byId("semantic_actionInput"),n=jQuery.trim(o.getParameter("newValue")),v=sap.ui.core.ValueState.None,V=null;switch(o.getSource()){case i:if(n!=""&&n.substring(0,11)!=="sap-icon://"){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.display_icon_url.warning");}break;case u:if(!u.getSelected()){S.setValueState(sap.ui.core.ValueState.None);s.setValueState(sap.ui.core.ValueState.None);}break;case s:if(/[\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_object.error_invalid_chars");}else if(n==""){v=sap.ui.core.ValueState.Error;}break;case S:if(/[\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_action.error_invalid_chars");}else if(n==""){v=sap.ui.core.ValueState.Error;}break;default:break;}if(v){o.getSource().setValueState(v);if(V!==null){o.getSource().setValueStateText(V||"");}}};sap.ushell.components.tiles.utils.checkInputOnSaveConfig=function(C){var i=C.byId("iconInput");var s=C.byId("navigation_semantic_objectInput");var S=C.byId("navigation_semantic_actionInput");var u=C.byId("useLpdCheckbox");var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var r=false;if(i.getValue()!=""&&!sap.ushell.components.tiles.utils.isIconURIValid(i.getValue())){i.setValueState(sap.ui.core.ValueState.Error);i.setValueStateText(T.getText("configuration.display_icon_url.warning"));r=true;}if(u.getSelected()&&/[\-#&? ]/.test(s.getValue())){s.setValueState(sap.ui.core.ValueState.Error);s.setValueStateText(T.getText("configuration.semantic_object.error_invalid_chars"));r=true;}else if(u.getSelected()&&s.getValue()==""){s.setValueState(sap.ui.core.ValueState.Error);r=true;}if(/[\-#&? ]/.test(S.getValue())){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText("configuration.semantic_action.error_invalid_chars"));r=true;}else if(u.getSelected()&&S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error);r=true;}return r;};sap.ushell.components.tiles.utils.checkTileActions=function(C){var T=C.getModel().getProperty("/config/tile_actions_rows");var o=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var r=false;for(var i=0;i<T.length;i++){if(!T[i].menu_title&&(T[i].navigation_target||T.length>1)){T[i].valueState=sap.ui.core.ValueState.Error;r=true;}else{T[i].valueState=sap.ui.core.ValueState.None;}if(T[i].icon){if(!sap.ushell.components.tiles.utils.isIconURIValid(T[i].icon)){T[i].iconValueState=sap.ui.core.ValueState.Error;T[i].iconValueStateText=o.getText("configuration.display_icon_url.warning");r=true;}}}C.getModel().setProperty("/config/tile_actions_rows",T);return r;};sap.ushell.components.tiles.utils.isIconURIValid=function(i){var r=[];var C="";var I="";var v="";r=/sap-icon:\/\/(.+)\//.exec(i);if(r){C=r[1];r=/\/\/.+\/(.+)/.exec(i);r?I=r[1]:I="";v=sap.ui.core.IconPool.getIconURI(I,C);if(v!=i){return false;}}else{r=/sap-icon:\/\/(.+)/.exec(i);if(r){I=r[1];if(!sap.ui.core.IconPool.getIconInfo(I)){return false;}}else{return false;}}return true;};sap.ushell.components.tiles.utils.checkTMInput=function(C,o){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),s=C.byId("semantic_objectInput"),S=C.byId("semantic_actionInput"),a=C.byId("target_application_descriptionInput"),b=C.byId("target_application_urlInput"),e=C.byId("target_application_componentInput"),n=C.byId("navigation_provider_roleInput"),N=C.byId("navigation_provider_instanceInput"),f=C.byId("target_application_aliasInput"),h=C.byId("target_application_idInput"),i=jQuery.trim(o.getParameter("newValue")),v=sap.ui.core.ValueState.None,V=null;switch(o.getSource()){case s:if(/[\-#&? ]/.test(i)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_object.error_invalid_chars");}if(S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error);}break;case S:if(/[\-#&? ]/.test(i)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_action.error_invalid_chars");}else if(i==""){v=sap.ui.core.ValueState.Error;}break;case a:if(i==""){v=sap.ui.core.ValueState.Error;}break;case b:if(i!=""&&!(/^[-~+,;:?%&#=/.\w]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.url.error_invalid_chars");}break;case e:if(i==""){v=sap.ui.core.ValueState.Error;}else if(i.substring(0,17)=="SAPUI5.Component="){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.component.error_invalid_input");}break;case n:if(i==""){v=sap.ui.core.ValueState.Error;}else if(!(/^[\w/]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.role.error_invalid_chars");}break;case N:if(i==""){v=sap.ui.core.ValueState.Error;}else if(!(/^[\w/]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.instance.error_invalid_chars");}break;case f:if(i==""&&h.getValue()==""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning");}else if(i!=""&&h.getValue()!=""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning");h.setValueState(v);h.setValueStateText(V);}else{h.setValueState(sap.ui.core.ValueState.None);}break;case h:if(i==""&&f.getValue()==""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning");}else if(i!=""&&f.getValue()!=""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning");f.setValueState(v);f.setValueStateText(V);}else if(i!=""&&!(/^[A-Fa-f0-9]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.error_invalid_chars");}else{f.setValueState(sap.ui.core.ValueState.None);}break;default:break;}if(v){o.getSource().setValueState(v);if(V!==null){o.getSource().setValueStateText(V||"");}}};sap.ushell.components.tiles.utils.checkTMInputOnSaveConfig=function(C){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var s=C.byId("semantic_objectInput");var S=C.byId("semantic_actionInput");var o=C.byId("target_application_descriptionInput");var a=C.byId("target_application_urlInput");var b=C.byId("target_application_componentInput");var n=C.byId("navigation_provider_roleInput");var N=C.byId("navigation_provider_instanceInput");var e=C.byId("target_application_aliasInput");var f=C.byId("target_application_idInput");var h=C.byId("targetTypeInput");var i=C.byId("target_transactionInput");var w=C.byId("target_web_dynpro_applicationInput");var F=C.byId("desktopCB");var j=C.byId("tabletCB");var k=C.byId("phoneCB");var r=false;s.setValue(s.getValue().trim());if(/[\-#&? ]/.test(s.getValue())){s.setValueState(sap.ui.core.ValueState.Error);s.setValueStateText(T.getText("configuration.semantic_object.error_invalid_chars"));r=true;}S.setValue(S.getValue().trim());if(/[\-#&? ]/.test(S.getValue())){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText("configuration.semantic_action.error_invalid_chars"));r=true;}else if(S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error);r=true;}var l=C.getModel().getProperty("/config/navigation_provider");if(l==="SAPUI5"){if(o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error);r=true;}if(a.getValue()!=""&&!(/^[-~+,;:?%&#=/.\w]+$/.test(a.getValue()))){a.setValueState(sap.ui.core.ValueState.Error);a.setValueStateText(T.getText("configuration.target_application.url.error_invalid_chars"));r=true;}if(b.getValue()==""){b.setValueState(sap.ui.core.ValueState.Error);r=true;}else if(b.getValue().substring(0,17)=="SAPUI5.Component="){b.setValueState(sap.ui.core.ValueState.Error);b.setValueStateText(T.getText("configuration.target_application.component.error_invalid_input"));r=true;}}else if(l==="LPD"){if(n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error);r=true;}if(!(/^[\w]+$/.test(n.getValue()))){n.setValueState(sap.ui.core.ValueState.Error);var v=T.getText("configuration.target_application.role.error_invalid_chars");n.setValueStateText(v);r=true;}if(N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error);r=true;}if(!(/^[\w]+$/.test(N.getValue()))){N.setValueState(sap.ui.core.ValueState.Error);var v=T.getText("configuration.target_application.instance.error_invalid_chars");N.setValueStateText(v);r=true;}if(e.getValue()==""&&f.getValue()==""){var v=T.getText("configuration.target_application.alias_id.warning");e.setValueState(sap.ui.core.ValueState.Error);e.setValueStateText(v);f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(v);r=true;}if(e.getValue()!=""&&f.getValue()!=""){var v=T.getText("configuration.target_application.alias_id.warning");e.setValueState(sap.ui.core.ValueState.Error);e.setValueStateText(v);f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(v);r=true;}if(f.getValue()!=""&&!(/^[A-Fa-f0-9]+$/.test(f.getValue()))){f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(T.getText("configuration.target_application.alias_id.error_invalid_chars"));r=true;}}else if(l==="TR"){if(i.getValue()==""){i.setValueState(sap.ui.core.ValueState.Error);r=true;}}else if(l==="WDA"){if(w.getValue()==""){w.setValueState(sap.ui.core.ValueState.Error);r=true;}}else if(l==="URL"){if(a.getValue()==""){a.setValueState(sap.ui.core.ValueState.Error);r=true;}else if(!(/^[-~+,;:?%&#=/.\w]+$/.test(a.getValue()))){a.setValueState(sap.ui.core.ValueState.Error);a.setValueStateText(T.getText("configuration.target_application.url.error_invalid_chars"));r=true;}}else{h.setValueState(sap.ui.core.ValueState.Error);h.setValueStateText(T.getText("configuration.navigation_provider.error_invalid_provider"));r=true;}if(!F.getSelected()&&!j.getSelected()&&!k.getSelected()){var v=T.getText("configuration.form_factor.warning");F.setValueState(sap.ui.core.ValueState.Error);F.setValueStateText(v);j.setValueState(sap.ui.core.ValueState.Error);j.setValueStateText(v);k.setValueState(sap.ui.core.ValueState.Error);k.setValueStateText(v);r=true;}return r;};sap.ushell.components.tiles.utils.updateTooltipForDisabledProperties=function(C){var m=C.getModel();var i=m.getProperty("/config/isLocaleSuitable");if(!i){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var a=r.getText("edit_configuration.original_locale_not_fit_tooltip",[m.getProperty("/config/userLocale"),m.getProperty("/config/orgLocale")]);C.byId("titleInput").setTooltip(a);C.byId("subtitleInput").setTooltip(a);C.byId("keywordsInput").setTooltip(a);C.byId("infoInput").setTooltip(a);}};sap.ushell.components.tiles.utils.updateMessageStripForOriginalLanguage=function(C){var m=C.getModel();if(m.getProperty("/config/isLocaleSuitable")===false){var M=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("edit_configuration.original_locale_not_fit_message",[m.getProperty("/config/orgLocale").toUpperCase(),m.getProperty("/config/userLocale").toUpperCase()]);var o=C.byId("messageStrip");o.setVisible(true);o.setText(M);o.setType(sap.ui.core.MessageType.Warning);}};sap.ushell.components.tiles.utils.createSemanticObjectModel=function(C,s,D){var v=C.getView(),u="/sap/opu/odata/UI2/INTEROP/SemanticObjects",a=[{obj:"",name:""},{obj:"*",name:"*"}],b=(D||a).slice(0),S=new sap.ui.model.json.JSONModel();S.setSizeLimit(999999);S.setProperty("/value","");S.setProperty("/enabled",true);s.bindAggregation("suggestionItems","suggest>/items",new sap.ui.core.Item({text:"{suggest>obj}"}));s.setModel(S,"suggest");if(sap.ushell.components.tiles.utils.aData.length>0){S.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true);return;}OData.read({requestUri:u,headers:{"Accept":"application/json"}},function(o,r){var I,T,i;for(i=0;i<o.results.length;i=i+1){I=o.results[i].id;T=o.results[i].text;sap.ushell.components.tiles.utils.aData.push({obj:I,name:T||I});}S.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=" - "+e.response.statusCode+" "+e.response.statusText;}jQuery.sap.log.error("Could not fetch data: "+u+": "+m,null,(v.getViewName()||"sap.ushell.components.tiles.utils"));});};sap.ushell.components.tiles.utils.createRoleModel=function(C,r,I){var v=C.getView(),u="/sap/opu/odata/UI2/INTEROP/GetLPDInstances",s=new sap.ui.model.json.JSONModel(),o=new sap.ui.model.json.JSONModel();s.setSizeLimit(999999);o.setSizeLimit(999999);s.setProperty("/value","");s.setProperty("/enabled",true);o.setProperty("/value","");o.setProperty("/enabled",true);var a=new sap.m.ColumnListItem({cells:[new sap.m.Label({text:"{role}"}),new sap.m.Label({text:"{instance}"})]});r.bindAggregation("suggestionRows","/items",a);I.bindAggregation("suggestionItems","/items",new sap.ui.core.Item({text:"{instance}"}));I.setModel(o);r.setModel(s);r.attachSuggestionItemSelected(function(e){I.setValue(e.getParameter("selectedRow").getCells()[1].getText());I.fireChange();});if(sap.ushell.components.tiles.utils.aRoleData.length>0){s.setData({items:sap.ushell.components.tiles.utils.aRoleData},false);o.setData({items:sap.ushell.components.tiles.utils.aRoleData},false);return;}OData.read({requestUri:u,headers:{"Accept":"application/json"}},function(D,R){var b,e,i;for(i=0;i<D.results.length;i=i+1){b=D.results[i].lpdRole;e=D.results[i].instance;sap.ushell.components.tiles.utils.aRoleData.push({role:b,instance:e});}s.setData({items:sap.ushell.components.tiles.utils.aRoleData},true);o.setData({items:sap.ushell.components.tiles.utils.aRoleData},true);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=" - "+e.response.statusCode+" "+e.response.statusText;}jQuery.sap.log.error("Could not fetch data: "+u+": "+m,null,(v.getViewName()||"sap.ushell.components.tiles.utils"));});};sap.ushell.components.tiles.utils.createAliasModel=function(C,a){var v=C.getView(),o,u="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias",s=new sap.ui.model.json.JSONModel();s.setSizeLimit(999999);s.setProperty("/value","");s.setProperty("/enabled",true);a.bindAggregation("suggestionItems","/items",new sap.ui.core.Item({text:"{alias}"}));a.setModel(s);o=sap.ushell.components.tiles.utilsRT.getConfiguration(v.oViewData.chip,true,true);if(o&&o.navigation_provider_role&&o.navigation_provider_instance){if(o.navigation_provider_role!=""&&o.navigation_provider_instance!=""){u=u+"?role='"+o.navigation_provider_role+"'&instance='"+o.navigation_provider_instance+"'";}}OData.read({requestUri:u,headers:{"Accept":"application/json"}},function(D,r){var A,R,I,i,m;sap.ushell.components.tiles.utils.aAliasData=[];for(i=0;i<D.results.length;i=i+1){A=D.results[i].lpdApplicationAlias;R=D.results[i].lpdRole;I=D.results[i].lpdInstance;sap.ushell.components.tiles.utils.aAliasData.push({role:R,instance:I,alias:A});}m=s.getData();if(m){m.items=sap.ushell.components.tiles.utils.aAliasData;}else{m={items:sap.ushell.components.tiles.utils.aAliasData};}s.setData(m,false);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=" - "+e.response.statusCode+" "+e.response.statusText;}jQuery.sap.log.error("Could not fetch data: "+u+": "+m,null,(v.getViewName()||"sap.ushell.components.tiles.utils"));});};sap.ushell.components.tiles.utils.updateAliasModel=function(v,a){var u,I,r,s=a.getModel();I=v.byId("navigation_provider_instanceInput").getValue();r=v.byId("navigation_provider_roleInput").getValue();u="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias?role='"+r+"'&instance='"+I+"'";OData.read({requestUri:u,headers:{"Accept":"application/json"}},function(D,R){var A,r,I,i,m;sap.ushell.components.tiles.utils.aAliasData=[];for(i=0;i<D.results.length;i=i+1){A=D.results[i].lpdApplicationAlias;r=D.results[i].lpdRole;I=D.results[i].lpdInstance;sap.ushell.components.tiles.utils.aAliasData.push({role:r,instance:I,alias:A});}m=s.getData();if(m){m.items=sap.ushell.components.tiles.utils.aAliasData;}else{m={items:sap.ushell.components.tiles.utils.aAliasData};}s.setData(m,false);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=" - "+e.response.statusCode+" "+e.response.statusText;}jQuery.sap.log.error("Could not fetch data: "+u+": "+m,null,(v.getViewName()||"sap.ushell.components.tiles.utils"));});};sap.ushell.components.tiles.utils.createActionModel=function(C,a){var i=new sap.ui.model.json.JSONModel();var v=C.getView(),o,A;i.setData({"items":[{"text":"display"},{"text":"approve"},{"text":"displayFactSheet"},{"text":"manage"},{"text":"create"},{"text":"monitor"},{"text":"track"},{"text":"change"},{"text":"register"},{"text":"release"},{"text":"analyzeKPIDetails"},{"text":"lookup"},{"text":"manageLineItems"}]});sap.ushell.components.tiles.utils.aActionData=i.getData();o=sap.ushell.components.tiles.utilsRT.getConfiguration(v.oViewData.chip,true,true);A=o.navigation_semantic_action||o.semantic_action;if(A){if(!i.getData().items.some(function(I){return I.text===A;})){i.getData().items.push({"text":A});}}a.bindAggregation("suggestionItems","items>/items",new sap.ui.core.Item({text:"{items>text}"}));a.setModel(i,"items");a.getBinding("suggestionItems").sort(new sap.ui.model.Sorter("text",false));};sap.ushell.components.tiles.utils.createNavigationProviderModel=function(C,T){var i=new sap.ui.model.json.JSONModel();var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();i.setData({"items":[{"key":"SAPUI5","text":r.getText('configuration.target_application.sapui5')},{"key":"LPD","text":r.getText('configuration.target_application.lpd_cust')},{"key":"TR","text":r.getText('configuration.target_application.transaction')},{"key":"WDA","text":r.getText('configuration.target_application.web_dynpro')},{"key":"URL","text":r.getText('configuration.target_application.url')}]});T.bindItems("items>/items",new sap.ui.core.Item({key:"{items>key}",text:"{items>text}"}));T.setModel(i,"items");T.getBinding("items").sort(new sap.ui.model.Sorter("text",false));};sap.ushell.components.tiles.utils.displayApplicationTypeFields=function(a,C){switch(a){case'LPD':sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(C);break;case'SAPUI5':sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(C);break;case'TR':sap.ushell.components.tiles.utils.displayTransactionApplicationTypeFields(C);break;case'WDA':sap.ushell.components.tiles.utils.displayWebDynproApplicationTypeFields(C);break;case'URL':sap.ushell.components.tiles.utils.displayURLApplicationTypeFields(C);break;}};sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields=function(C){C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(true);C.byId('target_application_urlInput').setVisible(true);C.byId('application_component').setVisible(true);C.byId('target_application_componentInput').setVisible(true);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(false);C.byId('target_system_aliasInput').setVisible(false);};sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields=function(C){C.byId('application_description').setVisible(false);C.byId('target_application_descriptionInput').setVisible(false);C.byId('application_url').setVisible(false);C.byId('target_application_urlInput').setVisible(false);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('navigation_provider_role').setVisible(true);C.byId('navigation_provider_roleInput').setVisible(true);C.byId('navigation_provider_instance').setVisible(true);C.byId('navigation_provider_instanceInput').setVisible(true);C.byId('target_application_alias').setVisible(true);C.byId('target_application_aliasInput').setVisible(true);C.byId('target_application_id').setVisible(true);C.byId('target_application_idInput').setVisible(true);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(false);C.byId('target_system_aliasInput').setVisible(false);};sap.ushell.components.tiles.utils.displayTransactionApplicationTypeFields=function(C){C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(false);C.byId('target_application_urlInput').setVisible(false);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('target_transaction').setVisible(true);C.byId('target_transactionInput').setVisible(true);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(true);C.byId('target_system_aliasInput').setVisible(true);};sap.ushell.components.tiles.utils.displayWebDynproApplicationTypeFields=function(C){C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(false);C.byId('target_application_urlInput').setVisible(false);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(true);C.byId('target_web_dynpro_applicationInput').setVisible(true);C.byId('target_web_dynpro_configuration').setVisible(true);C.byId('target_web_dynpro_configurationInput').setVisible(true);C.byId('target_system_alias').setVisible(true);C.byId('target_system_aliasInput').setVisible(true);};sap.ushell.components.tiles.utils.displayURLApplicationTypeFields=function(C){C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(true);C.byId('target_application_urlInput').setVisible(true);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(true);C.byId('target_system_aliasInput').setVisible(true);};}());
