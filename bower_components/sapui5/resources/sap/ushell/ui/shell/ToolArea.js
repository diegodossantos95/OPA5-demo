/*!
 * Copyright (c) 2009-2017 SAP SE, All Rights Reserved
 */
sap.ui.define(['jquery.sap.global','sap/ushell/library','sap/ui/Device','./ToolAreaItem'],function(q,l,D,T){"use strict";var a=sap.ui.core.Control.extend("sap.ushell.ui.shell.ToolArea",{metadata:{properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'56px'},textVisible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{toolAreaItems:{type:"sap.ushell.ui.shell.ToolAreaItem",multiple:true}}},renderer:{render:function(r,t){if(!t.getToolAreaItems().length){return;}else{var i=t.getId();r.write("<div");r.writeControlData(t);r.writeAttribute("class","sapUshellToolArea");r.write(">");r.write("<div id='",i,"-cntnt' class='sapUshellToolAreaContainer'>");this.renderToolAreaItems(r,t);r.write("</div>");}},renderToolAreaItems:function(r,t){var I=t.getToolAreaItems(),i;for(i=0;i<I.length;i++){r.write("<div");r.addClass("sapUshellToolAreaContent");if(I[i].getSelected()){r.addClass("sapUshellToolAreaItemSelected");}r.writeClasses();r.write(">");r.renderControl(I[i]);r.write("</div>");r.write("<div class='sapUshellToolAreaContentSeparator'></div>");}}}});a.prototype.init=function(){D.media.attachHandler(this._setSize,this);D.resize.attachHandler(this._setSize,this);};a.prototype.addToolAreaItem=function(t){var s=!!this.getToolAreaItems.length;if(!this.getVisible()){this.setVisible(true);}this.addAggregation("toolAreaItems",t,s);if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(t);r.flush(this.getDomRef());r.destroy();}};a.prototype.removeToolAreaItem=function(i){var t=this.getToolAreaItems(),o=typeof i==='object'?i:t[i];this.removeAggregation("toolAreaItems",o);if(this.getToolAreaItems().length<1){this.setVisible(false);}};a.prototype.onBeforeRendering=function(){var I=this.getToolAreaItems(),i;this._bRenderText=I.length;for(i=0;i<I.length;i++){if(!I[i].getText()){this._bRenderText=false;}}};a.prototype._setSize=function(){var s=q(".sapUshellToolArea").width()/16;if(!this._bRenderText){this.setProperty("textVisible",false,true);s=q(".sapUshellToolAreaItm").height()/16;this.$().toggleClass("sapUshellToolAreaTextHidden",true);}this.setProperty("size",s+"rem",true);};a.prototype.onAfterRendering=function(){if(this.getToolAreaItems().length){this.setVisible(true);this._setSize();}};return a;},true);
