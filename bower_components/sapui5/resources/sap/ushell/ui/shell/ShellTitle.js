/*!
 * Copyright (c) 2009-2017 SAP SE, All Rights Reserved
 */
sap.ui.define(['jquery.sap.global','sap/m/Button','sap/ui/core/IconPool','sap/ushell/library'],function(q,B,I){"use strict";var S=B.extend("sap.ushell.ui.shell.ShellTitle",{metadata:{properties:{text:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}},events:{press:{}}},renderer:{render:function(r,c){var i=c.getInnerControl();var t=c.getText();if(!t){return;}if(i){r.write("<a tabindex='0' href='javascript:void(0);'");r.addClass("sapUshellShellHeadAction sapUshellHideIconOnDesktop");r.writeClasses();if(c.getTooltip()){r.writeAttributeEscaped("title",c.getTooltip());}r.writeControlData(c);r.write("><span class='sapUshellShellHeadActionImg sapUshellShellTitleHeadActionImg'>");var o=I.createControlByURI(c.getIcon());r.renderControl(o);r.write("</span>");r.write("<span class='sapUshellShellHeadActionName sapUshellHeadTitle'");r.writeAttributeEscaped("title",c.getText());r.write(">");r.writeEscaped(c.getText());r.write("</span><span class='sapUshellShellHeadActionExp'></span></a>");}else{r.write('<span id="shell-header-hdr-shell-title" class="sapUshellHeadTitle">');r.writeEscaped(c.getText());r.write("</span>");}}}});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.innerControl=null;this.oPopover=null;};S.prototype.getInnerControl=function(){return this.innerControl;};S.prototype.setInnerControl=function(i){this.innerControl=i;};S.prototype.onclick=function(e){if(!this.oPopover){this.oPopover=new sap.m.Popover("shellTitlePopover",{showHeader:false,content:this.getInnerControl(),placement:sap.m.PlacementType.VerticalPreferedBottom});}this.oPopover.openBy(this);this.firePress();};S.prototype.exit=function(){if(this.oPopover){this.innerControl.destroy();this.oPopover.destroy();}};S.prototype.onsapspace=S.prototype.onclick;return S;},true);
