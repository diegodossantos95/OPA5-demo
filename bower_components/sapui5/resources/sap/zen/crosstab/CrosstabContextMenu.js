jQuery.sap.declare("sap.zen.crosstab.CrosstabContextMenu");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");
sap.zen.crosstab.CrosstabContextMenu=function(c){this.getContextMenuAction=function(C,d){var o=sap.ui.getCore();var e=d;while(!o.byId(e.attr("id"))){e=e.parent();}if(e.attr("id")===c.getId()){return null;}var a=o.byId(e.attr("id"));var s=null;if(a.getCellType){s=a.getCellType();}else{return null;}var r=false;var b=null;if(c.isSelectable()===true){var S=c.getSelectionHandler();if(S&&S.hasSelection()===true){if(a.getArea().isDataArea()===true){b='sapzencrosstab-DataCellSelectData'}else if(a.getArea().isRowHeaderArea()===true){b='sapzencrosstab-HeaderCellSelectRow';}else if(a.getArea().isColHeaderArea()===true){b='sapzencrosstab-HeaderCellSelectCol';}r=!($(e).hasClass(b));}}var A=a.getArea().getAreaType();var f="";if(A===sap.zen.crosstab.rendering.RenderingConstants.TYPE_COLUMN_HEADER_AREA){f="COLS";}else if(A===sap.zen.crosstab.rendering.RenderingConstants.TYPE_ROW_HEADER_AREA){f="ROWS";}else if(A===sap.zen.crosstab.rendering.RenderingConstants.TYPE_DIMENSION_HEADER_AREA){var D;if(a.isSplitPivotCell()){var g=c.getHeaderInfo().getDimensionInfoByRowCol(a,"ROWS");var h=c.getHeaderInfo().getDimensionInfoByRowCol(a,"COLS");if(g&&g.bIsMeasureStructure){D=h;}else if(h&&h.bIsMeasureStructure){D=g;}}else{D=c.getHeaderInfo().getDimensionInfoByRowCol(a);}if(!D){return null;}f=D.sAxisName;}else if(s===sap.zen.crosstab.rendering.RenderingConstants.TYPE_DATA_CELL){f="DATA";}else{return null;}var R=a.getTableRow();var i=a.getTableCol();var j=c.getPropertyBag().getContextMenuCommand();j=j.replace("__AXIS__",f);j=j.replace("__ROW__",R);j=j.replace("__COL__",i);j=j.replace("__ID__",C);j=j.replace("__DOM_REF_ID__",d.attr("id"));if(j.indexOf("__REMOVE_SELECTION__")>=0){j=j.replace("__REMOVE_SELECTION__",r);}var k=function(){c.getUtils().executeCommandAction(j);};c.enableClick();return k;};};
