jQuery.sap.declare("sap.zen.crosstab.utils.Measuring");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");
sap.zen.crosstab.utils.Measuring=function(c,d){"use strict";var D=c.getDimensionHeaderArea();var C=c.getColumnHeaderArea();var r=c.getRowHeaderArea();var o=c.getDataArea();var i=c.getIntWidth();var a=c.getIntHeight();var R=null;var t=null;var b=null;var s=0;this.getUpperLeftScrollDivWidth=function(){var j=$(document.getElementById(c.getId()+"_upperLeft_scrollDiv"));return j.outerWidth();};this.getLowerLeftScrollDivWidth=function(){var j=$(document.getElementById(c.getId()+"_lowerLeft_scrollDiv"));return j.outerWidth();};this.getAreaWidth=function(A){var j=$(document.getElementById(A.getId()+"_container"));var w=j.outerWidth();var S=0;if(A.isDimHeaderArea()){S=this.getUpperLeftScrollDivWidth();}else if(A.isRowHeaderArea()){S=this.getLowerLeftScrollDivWidth();}if(S>0){w=Math.min(w,S);}return w;};this.getAreaHeight=function(A){var e=$(document.getElementById(A.getId()+"_container"));return e.outerHeight();};this.getAreaSize=function(A){var S={};var e=$(document.getElementById(A.getId()+"_container"));S.iHeight=e.outerHeight();S.iWidth=this.getAreaWidth(A);return S;};this.getRenderSizeDivSize=function(){var S={};var e=$(document.getElementById(c.getId()+"_renderSizeDiv"));S.iWidth=e.outerWidth();S.iHeight=e.outerHeight();return S;};this.calculateRenderSize=function(f){f=f||false;if(!b||this.hasCrosstabSizeChanged()||f){b={};var e=this.getAreaSize(D);var g=this.getAreaSize(o);var h=this.getAreaSize(r);var j=this.getAreaSize(C);var l=r.hasContent()?h.iHeight:g.iHeight;var u=D.hasContent()?e.iHeight:j.iHeight;b.iHeight=l+u;var L=D.hasContent()?e.iWidth:h.iWidth;var k=C.hasContent()?j.iWidth:g.iWidth;b.iWidth=L+k;}return b;};this.getBrowserScrollbarWidth=function(){if(!s){var e=document.createElement('p');e.style.width="100%";e.style.height="200px";var f=document.createElement('div');f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.visibility="hidden";f.style.width="200px";f.style.height="150px";f.style.overflow="hidden";f.appendChild(e);document.body.appendChild(f);var w=e.offsetWidth;f.style.overflow='scroll';var g=e.offsetWidth;if(w==g)g=f.clientWidth;document.body.removeChild(f);s=(w-g);if(s===0){var p,h;p=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body');h=p.children();s=h.innerWidth()-h.height(99).innerWidth();p.remove();}}return s;};this.reset=function(){b=null;};this.hasCrosstabSizeChanged=function(q){var n=c.getIntWidth();var e=c.getIntHeight();if(i!==n||a!==e){if(!q){i=n;a=e;}return true;}return false;};this.getLowerScrollDivHeight=function(){var e=null;if(r.hasContent()){e=$(document.getElementById(c.getId()+"_lowerLeft_scrollDiv"));}else{e=$(document.getElementById(c.getId()+"_lowerRight_scrollDiv"));}return e.outerHeight();};this.getUpperScrollDivHeight=function(){var e=null;if(D.hasContent()){e=$(document.getElementById(c.getId()+"_upperLeft_scrollDiv"));}else{e=$(document.getElementById(c.getId()+"_upperRight_scrollDiv"));}return e.outerHeight();};this.getUpperRightScrollDivWidth=function(){var e=$(document.getElementById(c.getId()+"_upperRight_scrollDiv"));return e.outerWidth();};this.getRenderSizeDivBorders=function(e){if(!R){R={};R.borders={};if(!e){e=$(document.getElementById(c.getId()+"_renderSizeDiv"));}R.borders.iBottomBorderWidth=parseInt(e.css("border-bottom-width"),10)||0;R.borders.iRightBorderWidth=parseInt(e.css("border-right-width"),10)||0;R.borders.iTopBorderWidth=parseInt(e.css("border-top-width"),10)||0;R.borders.iLeftBorderWidth=parseInt(e.css("border-left-width"),10)||0;}return R;};this.getTableDivBordersAndPadding=function(){if(!t){t={};t.borders={};t.paddings={};var e=d.getElement(c.getId());t.borders.iBottomBorderWidth=parseInt(e.css("border-bottom-width"),10);t.borders.iRightBorderWidth=parseInt(e.css("border-right-width"),10);t.borders.iTopBorderWidth=parseInt(e.css("border-top-width"),10);t.borders.iLeftBorderWidth=parseInt(e.css("border-left-width"),10);t.paddings.iBottomPadding=parseInt(e.css("padding-bottom"),10);t.paddings.iRightPadding=parseInt(e.css("padding-right"),10);t.paddings.iTopPadding=parseInt(e.css("padding-top"),10);t.paddings.iLeftPadding=parseInt(e.css("padding-left"),10);}return t;};this.reset=function(){R=null;};};
