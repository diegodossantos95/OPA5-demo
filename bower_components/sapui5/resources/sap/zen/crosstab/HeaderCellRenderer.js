jQuery.sap.declare("sap.zen.crosstab.HeaderCellRenderer");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");jQuery.sap.require("sap.zen.crosstab.IHeaderCell");jQuery.sap.require("sap.zen.crosstab.TextConstants");jQuery.sap.require("sap.zen.crosstab.utils.Utils");sap.zen.crosstab.HeaderCellRenderer={};
sap.zen.crosstab.HeaderCellRenderer.render=function(r,c){"use strict";var a=r;var A=c.getArea();var R=A.getRenderCellCallback();var C=A.getCrosstab();var i=c.getEffectiveRowSpan();var b=c.getEffectiveColSpan();var o=null;if(R){var d=R(new sap.zen.crosstab.IHeaderCell(c));o=d.additionalStyles;}var s=c.getFormattedText();var S=c.getSort();var D=c.getDrillState();var e=c.getCssClassNames(C.isIE8Mode(),C.getPropertyBag().isRtl(),C.getUtils().isMsIE());if(S){e+=" sapzencrosstab-HeaderCellSortable";}if(D){e+=" sapzencrosstab-HeaderCellHierarchy";}a.write("<td");a.writeControlData(c);a.writeAttribute("class",e);a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(b>1){a.writeAttribute("colspan",b);}if(i>1){a.writeAttribute("rowspan",i);}a.write(">");a.write("<div");a.writeAttribute("class","sapzencrosstab-cellLayoutDiv");a.writeAttribute("id",c.getId()+"_cellLayoutDiv");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(c.isEntryEnabled()){a.addStyle("width","0px");a.writeStyles();}a.write(">");if(c.isEntryEnabled()){a.write("<table style='width: 100%; border-spacing: 0px;'><tbody>");a.write("<tr>");a.write("<td style='width: 100%; padding: 0px 5px 0px 0px;'>");}a.write("<div");a.writeAttribute("id",c.getId()+"_contentDiv");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(c.isEntryEnabled()){a.addStyle("width","100%");a.writeStyles();}var f="sapzencrosstab-HeaderCellContentDiv";if(c.isLoading()){f+=" sapzencrosstab-LoadingCellContentDiv";}a.writeAttribute("class",f);if(o){for(var g in o){a.addStyle(g,o[g]);}}a.writeStyles();a.write(">");j();k();a.write("</div>");a.write("</div>");if(c.isEntryEnabled()){a.write("</td>");a.write("<td style='padding: 0px'>");a.write("<div");a.writeAttribute("id","vhlp_"+c.getId());var h="sapzencrosstab-HeaderCellDivValueHelp";if(sap.zen.crosstab.utils.Utils.isMainMode()){h+="-MainMode";}h+=" sapzencrosstab-HeaderCellValueHelp";a.writeAttribute("class",h);a.write(">");a.write("</div>");a.write("</td>");a.write("</tr>");a.write("</tbody></table>");}a.write("</td>");function j(){if(S||D){l(S,D);}else{a.write(s);}}function k(){if(C.getPropertyBag().isEnableColResize()===true){if(A.isColHeaderArea()||A.isDimHeaderArea()){if(C.getPropertyBag().isTestMobileMode()||C.getPropertyBag().isMobileMode()){c.setMobileResize(true);}else{a.write("<div");a.writeAttribute("id","resi_"+c.getId());if(S){a.writeAttribute("class","sapzencrosstab-columnResizeHandleWithSort");}else{a.writeAttribute("class","sapzencrosstab-columnResizeHandle");}a.writeAttribute("title",C.getPropertyBag().getText(sap.zen.crosstab.TextConstants.COLWIDTH_ADJUST_TEXT_KEY));a.write(">");a.write("</div>");c.setMobileResize(false);}}}}function l(){a.write("<table><tbody>");t();a.write("<tr>");q();m();n();p();a.write("</tr>");u();a.write("</tbody></table>");}function m(){a.write("<td><div");a.writeAttribute("id",c.getId()+"_textContentDiv");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);var T=s;if(T){a.writeAttribute("title",T);}a.write(">");a.write(s);a.write("</div></td>");}function n(){if(S){var T=0;a.write("<td>");var v="sapzencrosstab-HeaderCellDivSortable ";a.write("<div");if(S==="NONE"){v+="sapzencrosstab-HeaderCellSortNone";T=0;}else if(S==="ASC"){v+="sapzencrosstab-HeaderCellSortAsc";T=1;}else if(S==="DESC"){v+="sapzencrosstab-HeaderCellSortDesc";T=2;}a.writeAttribute("class",v);a.writeAttribute("id","sort_"+c.getId());var w=C.getPropertyBag().getSortingToolTip(T);if(w){a.writeAttribute("title",w);}a.write("></div></td>");}}function p(){if(D&&c.getArea().isRowHeaderArea()){var L=c.getLevel();var M=C.getRowHeaderHierarchyLevels()[c.getCol()];var v=M-L;if(v>0){var w=v*C.getHierarchyIndentWidth();a.write("<td><div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.addStyle("width",w+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivAfter");a.writeAttribute("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div></td>");}}}function q(){if(D){var L=c.getLevel();var v=c.getArea().isRowHeaderArea();var w="sapzencrosstab-HeaderCellDivHierarchy ";if(c.getHierarchyAction()){if(D==="O"){w+="sapzencrosstab-CollapseNode";}else if(D==="C"){w+="sapzencrosstab-ExpandNode";}if(D==="O"||D==="C"){w+=" sapzencrosstab-PointerCursor";}}if(L>0){if(v){var W=L*C.getHierarchyIndentWidth();a.write("<td><div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.addStyle("width",W+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivBefore");a.writeAttribute("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div></td>");}}if((D==="L"&&L>0)||D!=="L"){a.write("<td><div");if(c.getHierarchyAction()){a.writeAttribute("id","hier_"+c.getId());}a.writeAttribute("class",w);var H=c.getHierarchyTooltip();if(H){a.writeAttribute("title",H);}a.write("></div></td>");}}}function t(){if(D){var L=c.getLevel();if(L>0&&c.getArea().isColHeaderArea()){var H=L*C.getHierarchyIndentHeight();a.write("<tr><td><div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesBefore");a.writeAttribute("xtabspacer-cellid",c.getId());a.addStyle("height",H+"px");a.writeStyles();a.write("></div></td></tr>");}}}function p(){if(D&&c.getArea().isRowHeaderArea()){var L=c.getLevel();var M=C.getRowHeaderHierarchyLevels()[c.getCol()];var v=M-L;if(v>0){var w=v*C.getHierarchyIndentWidth();a.write("<td><div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.addStyle("width",w+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivAfter");a.writeAttribute("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div></td>");}}}function u(){if(D&&c.getArea().isColHeaderArea()){var L=c.getLevel();var M=C.getColHeaderHierarchyLevels()[c.getRow()];var v=M-L;if(v>0){var H=v*C.getHierarchyIndentHeight();a.write("<tr><td><div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesAfter");a.writeAttribute("xtabspacer-cellid",c.getId());a.addStyle("height",H+"px");a.writeStyles();a.write("></div></td></tr>");}}}};
