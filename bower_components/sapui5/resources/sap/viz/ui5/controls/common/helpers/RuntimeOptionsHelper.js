/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 * set specific properties to align the Fiori UX standard at runtime according to chart type and feeding  
 */
sap.ui.define(function(){"use strict";var R={};R.decorateFiori=function(o,f,v){return R._processCategoryTicker(o,f,v);};R.processBulletProperty=function(s,a){var p=a.plotArea;if(p){var k=['colorPalette','actualColor','additionalColor','forecastColor'];for(var i=0;i<k.length;++i){if(p.hasOwnProperty(k[i])){if(p[k[i]]){s.plotArea[k[i]]=p[k[i]];}else{delete s.plotArea[k[i]];}}}}};R.processWaterfallProperty=function(s,i){var p=i.plotArea;if(p){if(p.dataLabel&&p.dataLabel.hasOwnProperty('showRecap')){jQuery.extend(true,s.plotArea,{dataLabel:{showRecap:p.dataLabel.showRecap}});}else{if(s.plotArea.dataLabel&&s.plotArea.dataLabel.hasOwnProperty('showRecap')){delete s.plotArea.dataLabel.showRecap;}}if(p.dataPoint&&p.dataPoint.color&&p.dataPoint.color.hasOwnProperty('isSemanticColoring')){jQuery.extend(true,s.plotArea,{dataPoint:{color:{isSemanticColoring:p.dataPoint.color.isSemanticColoring}}});}else{if(s.plotArea.dataPoint&&s.plotArea.dataPoint.color&&s.plotArea.dataPoint.color.hasOwnProperty('isSemanticColoring')){delete s.plotArea.dataPoint.color.isSemanticColoring;}}}};R.decorateBullet=function(o,f){if(!f||f.length===0){return;}jQuery.extend(true,o.properties,{plotArea:{}});var p=o.properties.plotArea;if(p.colorPalette){if(!p.actualColor||p.actualColor.length===0){p.actualColor=[p.colorPalette[0]];}if(!p.additionalColor||p.additionalColor.length===0){p.additionalColor=[p.colorPalette[1]];}}var n=f.length;var O=false;var a=0;var b=0;var h=0;for(var i=0;!O&&i<n;++i){var c=f[i].getUid();var v=f[i].getValues();if(v&&v.length){switch(c){case'color':h=true;break;case'primaryValues':O=true;break;case'actualValues':a+=v.length;break;case'additionalValues':case'forecastValues':b+=v.length;break;default:break;}}}if(O||(!h&&a<2)||b===0){if(!p.additionalColor){p.additionalColor=["sapUiChartPaletteSequentialHue2Light1"];}if(!p.forecastColor){p.forecastColor=["sapUiChartPaletteSequentialNeutralLight3"];}if(!p.actualColor){p.actualColor=["sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11"];}}else{if(!p.additionalColor){p.additionalColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"];}if(!p.forecastColor){p.forecastColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"];}if(!p.actualColor){p.actualColor=["sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue3","sapUiChartPaletteSequentialNeutral"];}}return o;};R.decorateTimeBullet=function(o){jQuery.extend(true,o.properties,{plotArea:{}});var p=o.properties.plotArea;if(!p.actualColor){p.actualColor=["#27a3dd","#9dc62d","#f8ac29","#848f94"];}if(!p.additionalColor){p.additionalColor=["#84caec","#c6e17d","#fbd491","#bac1c4"];}};R.decorateWaterfall=function(o,f){if(!f||f.length===0){return;}var m=false;for(var i=0;i<f.length;i++){var a=f[i].getUid();var v=f[i].getValues();if(a==='valueAxis'&&v.length>1){m=true;}else if(a==='color'&&v.length>0){m=true;}}jQuery.extend(true,o.properties,{plotArea:{dataLabel:{showRecap:m},dataPoint:{color:{isSemanticColoring:!m}}}});};R._processCategoryTicker=function(o,f,v){if(!f||f.length===0){return;}var V={};jQuery.extend(true,V,o.properties,{categoryAxis:{axisTick:{}}});var a;var t=o.type;if(t==="info/heatmap"){jQuery.extend(true,V,{categoryAxis2:{axisTick:{}}});a=V.categoryAxis2.axisTick;}var b=V.categoryAxis.axisTick;var l=f.length;var c=true;var s=null;var i,d,e;var m=0,g=0,h=0,j=0,k=0,n=false,p=false,q=0;for(i=0;i<l;++i){d=f[i].getUid();e=f[i].getValues();if(!e){continue;}if(d==="primaryValues"||d==="valueAxis"){m=e.length;}else if(d==="color"){g=e.length;n=e.indexOf("MeasureNamesDimension")>=0;}else if(d==="axisLabels"||d==="categoryAxis"){h=e.length;p=e.indexOf("MeasureNamesDimension")>=0;}else if(d==="actualValues"){j=e.length;}else if(d==="valueAxis2"){q=e.length;}else if(d==="categoryAxis2"){k=e.length;}}var r,u;if(["info/dual_horizontal_stacked_combination","info/dual_stacked_combination"].indexOf(t)>=0){r=1;u=1;}else{r=1;u=0;}var w,x;var y={};jQuery.extend(true,y,(v&&v.plotArea)||{},o.properties.plotArea);if(y&&y.dataShape&&y.dataShape.primaryAxis){w=y.dataShape.primaryAxis;x=Math.min(w.length,m);r=0;for(i=0;i<x;++i){if(w[i]==="bar"){r++;}}}if(y&&y.dataShape&&y.dataShape.secondaryAxis){w=y.dataShape.secondaryAxis;x=Math.min(w.length,q);u=0;for(i=0;i<x;++i){if(w[i]==="bar"){u++;}}}var z=r+u===1;if(t==="info/column"||t==="info/bar"){if(!(g>1||(g===1&&!n)||(g===1&&n&&m>1)||(!p&&!n&&m>1))){if(h>1){s=false;}else{c=false;}}}else if(["info/stacked_bar","info/stacked_column","info/100_stacked_bar","info/100_stacked_column","info/waterfall","info/horizontal_waterfall"].indexOf(t)>=0){if(h>1){s=false;}else{c=false;}}else if(["info/stacked_combination","info/horizontal_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_stacked_combination"].indexOf(t)>=0){if(z){if(h>1){s=false;}else{c=false;}}}else if(["info/combination","info/dual_horizontal_combination","info/dual_combination"].indexOf(t)>=0){if(z&&(g===0||(g===1&&n))){if(h>1){s=false;}else{c=false;}}}else if(t==="info/bullet"||t==="info/vertical_bullet"){if(g===0&&j<=1){if(h>1){s=false;}else{c=false;}}}if(t==="info/heatmap"){if(!(b.visible===true||b.visible===false)){b.visible=(h>1);}if(!(a.visible===true||a.visible===false)){a.visible=(k>1);}if(b.shortTickVisible==null&&h>1){b.shortTickVisible=false;}if(a.shortTickVisible==null&&k>1){a.shortTickVisible=false;}}else{if(!(b.visible===true||b.visible===false)){b.visible=c;}if(b.shortTickVisible==null){b.shortTickVisible=s;}}return V;};return R;});
