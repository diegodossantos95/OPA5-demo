sap.gantt.axistime.FullScreenTimeLineOptions=sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY;sap.ui.define(["./AxisTimeStrategyBase","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Locale","sap/ui/core/Core","sap/gantt/config/TimeHorizon","sap/gantt/misc/AxisTime"],function(A,U,F,L,C,T,a){"use strict";var b=A.extend("sap.gantt.axistime.FullScreenStrategy");b.prototype.init=function(){this.setProperty("totalHorizon",sap.gantt.config.DEFAULT_PLAN_HORIZON,true);this.setProperty("visibleHorizon",sap.gantt.config.DEFAULT_PLAN_HORIZON,true);this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.FullScreenTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",0,true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.None,true);};b.prototype.isTimePeriodZoomEnabled=function(){return false;};b.prototype.setMouseWheelZoomType=function(m){jQuery.sap.log.warning("FullScreenStrategy does not support zoom, its zoom type is None and can not be set",null,"FullScreenStrategy.prototype.setMouseWheelZoomType()");return this;};b.prototype.setVisibleHorizon=function(v){this.setTotalHorizon(v);A.prototype.setVisibleHorizon.apply(this,arguments);this.fireRedrawRequest(true,"visibleHorizonUpdated");return this;};b.prototype.syncContext=function(n){var c=false;var r={zoomLevelChanged:false,axisTimeChanged:false};var s=this._calSuitableRateByChartWidth(n);if(s!==undefined){var l=this._oZoom.rate||-1;this._oZoom.rate=s;this.getAxisTime().setZoomRate(this._oZoom.rate);this._adjustRateByBoundary();c=!U.floatEqual(l,this._oZoom.rate);if(c){r.axisTimeChanged=true;}}this._updateTimeLineOption();return r;};b.prototype._adjustRateByBoundary=function(){this._oZoom.rate=Math.max(this._oZoom.rate,this._oZoom.minRate);this._oZoom.rate=Math.min(this._oZoom.rate,this._oZoom.maxRate);};b.prototype._calSuitableRateByChartWidth=function(n){var i=this.getVisibleHorizon(),s;if(i&&i.getStartTime()&&i.getEndTime()){var S=this.calZoomScaleByDate(F.abapTimestampToDate(i.getStartTime()),F.abapTimestampToDate(i.getEndTime()),n);s=this._oZoom.base.scale/S;}return s;};b.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),o=this.getProperty("timeLineOption");var d=this.getAxisTime();if(d){var e=d.timeToView(s);for(i in t){var f=t[i].innerInterval;var g=d.timeToView(jQuery.sap.getObject(f.unit).offset(s,f.span));var r=Math.abs(Math.ceil((g-e)));if(r>=f.range){c=i;break;}}o=c?t[c]:t[i];this.setProperty("timeLineOption",o,true);}};return b;},true);
