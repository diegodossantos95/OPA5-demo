/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control',"./misc/Utility","./config/TimeHorizon"],function(q,l,C,U,T){"use strict";var G=C.extend("sap.gantt.GanttChartBase",{metadata:{"abstract":true,library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},timeZoomRate:{type:"float",defaultValue:1},mode:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},selectionMode:{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard},shapeSelectionMode:{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},baseRowHeight:{type:"int",group:"Appearance",defaultValue:null},svgDefs:{type:"object",defaultValue:null},timeAxis:{type:"object",defaultValue:sap.gantt.config.DEFAULT_TIME_AXIS},modes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_HIERARCHYS},objectTypes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_OBJECT_TYPES},chartSchemes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_CHART_SCHEMES},locale:{type:"object",defaultValue:sap.gantt.config.DEFAULT_LOCALE_CET},shapeDataNames:{type:"sap.gantt.GenericArray",defaultValue:[]},shapes:{type:"object[]",defaultValue:[]},adhocLineLayer:{type:"string",defaultValue:sap.gantt.AdhocLineLayer.Top},tableProperties:{type:"object",defaultValue:{}},ghostAlignment:{type:"string",defaultValue:sap.gantt.dragdrop.GhostAlignment.None}},aggregations:{rows:{type:"sap.ui.core.Control",multiple:true,singularName:"row",bindable:"bindable",visibility:"public"},relationships:{type:"sap.ui.core.Control",multiple:true,bindable:"bindable",visibility:"public"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable",visibility:"public"},axisTimeStrategy:{type:"sap.gantt.axistime.AxisTimeStrategyBase",multiple:false,bindable:"bindable",visibility:"public"},adhocLines:{type:"sap.gantt.AdhocLine",multiple:true,singularName:"adhocLine",bindable:"bindable",visibility:"public"}},events:{ganttChartSwitchRequested:{parameters:{hierarchyKey:{type:"string"}}},splitterResize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"},zoomInfo:{type:"object"}}},horizontalScroll:{parameters:{scrollSteps:{type:"int"},startTime:{type:"string"},endTime:{type:"string"}}},verticalScroll:{parameters:{scrollSteps:{type:"int"}}},chartMouseOver:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDoubleClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartRightClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDragEnter:{parameters:{originEvent:{type:"object"}}},chartDragLeave:{parameters:{originEvent:{type:"object"},draggingSource:{type:"object"}}},rowSelectionChange:{parameters:{originEvent:{type:"object"}}},relationshipSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeDragEnd:{parameters:{originEvent:{type:"object"},sourceShapeData:{type:"object[]"},sourceSvgId:{type:"string"},targetData:{type:"object"},targetSvgId:{type:"string"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}},shapeResizeEnd:{parameters:{shapeUid:{type:"string"},rowObject:{type:"object"},oldTime:{type:"string[]"},newTime:{type:"string[]"}}}}}});G.getMetadata().getAllAggregations()["rows"]._doesNotRequireFactory=true;G.getMetadata().getAllAggregations()["relationships"]._doesNotRequireFactory=true;G.prototype.init=function(){this._iBaseRowHeight=undefined;this.mDefaultTableProperties={rowHeight:0,threshold:100,firstVisibleRow:0,selectionMode:sap.ui.table.SelectionMode.MultiToggle,selectionBehavior:sap.ui.table.SelectionBehavior.Row};};G.prototype.handleExpandChartChange=function(e,c,s){};G.prototype.notifySourceChange=function(){};G.prototype._setLargeDataScrolling=function(L){};G.prototype._getConfiguredRowKeys=function(b){if(!b){b=this.getBindingInfo("rows");}var r;if(b&&b.parameters){r=b.parameters.gantt;}this._configuredRowKeys={rowIdName:r&&r.rowIdName?r.rowIdName:"id",rowTypeName:r&&r.rowTypeName?r.rowTypeName:"type"};return this._configuredRowKeys;};G.prototype.getRowIdName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowIdName;};G.prototype.getRowTypeName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowTypeName;};G.prototype.getRlsIdName=function(){if(!this._configuredRlsKeys){this._getConfiguredRlsKeys();}return this._configuredRlsKeys.rlsIdName;};G.prototype._getConfiguredRlsKeys=function(){var b=this.getBindingInfo("relationships");var c;if(b&&b.parameters){c=b.parameters.gantt;}this._configuredRlsKeys={rlsIdName:c&&c.rlsIdName?c.rlsIdName:"id"};return this._configuredRlsKeys;};G.prototype.getDomSelectorById=function(s){var a=U.attributeEqualSelector("id",s?this.getId()+"-"+s:this.getId());return a;};G.prototype.setTableProperties=function(t){var c=this.getTableProperties();for(var p in t){if(this.mDefaultTableProperties.hasOwnProperty(p)){var m="set"+p[0].toUpperCase()+p.substr(1);var v=t[p];c[p]=v;this._oTT[m](v);}else{q.sap.log.warning("The property of \""+p+"\" is not allowed because property may change the Gantt chart layout!");}}this.setProperty("tableProperties",c);return this;};return G;},true);
