sap.ui.predefine('sap/gantt/AdhocLine',["sap/ui/core/Element"],function(E){"use strict";
var A=E.extend("sap.gantt.AdhocLine",{metadata:{library:"sap.gantt",properties:{stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:1},strokeDasharray:{type:"string"},strokeOpacity:{type:"float",defaultValue:1},timeStamp:{type:"string"},description:{type:"string"}}}});
return A;},true);
sap.ui.predefine('sap/gantt/axistime/AxisTimeStrategyBase',["sap/ui/core/Element","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/misc/RelativeTimeFormatter","sap/gantt/config/TimeHorizon","sap/ui/core/Locale"],function(E,U,F,R,T,L){"use strict";
var A=E.extend("sap.gantt.axistime.AxisTimeStrategyBase",{metadata:{"abstract":true,properties:{totalHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_PLAN_HORIZON},visibleHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_INIT_HORIZON},timeLineOptions:{type:"object"},timeLineOption:{type:"object"},coarsestTimeLineOption:{type:"object"},finestTimeLineOption:{type:"object"},zoomLevels:{type:"int",defaultValue:10},zoomLevel:{type:"int",defaultValue:0},calendarType:{type:"string",defaultValue:sap.ui.core.CalendarType.Gregorian},locale:{type:"object"},mouseWheelZoomType:{type:"sap.gantt.MouseWheelZoomType",defaultValue:sap.gantt.MouseWheelZoomType.FineGranular}},aggregations:{_axisTime:{type:"sap.gantt.misc.AxisTime",multiple:false,visibility:"hidden"}}}});
A.prototype.applySettings=function(){E.prototype.applySettings.apply(this,arguments);this.calZoomBase();return this;};
A.prototype.isTimePeriodZoomEnabled=function(){return true;};
A.prototype.setVisibleHorizon=function(v){this.setProperty("visibleHorizon",this._completeTimeHorizon(v),true);return this;};
A.prototype._completeTimeHorizon=function(v){var r=new T({startTime:this.getVisibleHorizon().getStartTime(),endTime:this.getVisibleHorizon().getEndTime()});if(v){var s=v.getStartTime(),e=v.getEndTime(),d,t=F.abapTimestampToDate(this.getTotalHorizon().getStartTime()),o=F.abapTimestampToDate(this.getTotalHorizon().getEndTime());if(!s&&!e){return r;}var i;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined&&this._nGanttVisibleWidth!==undefined&&this.getAxisTime()){var n=this.getAxisTime().getZoomRate();var a=this._oZoom.base.scale/n;i=this._nGanttVisibleWidth*a;}else{i=F.abapTimestampToDate(r.getEndTime()).getTime()-F.abapTimestampToDate(r.getStartTime()).getTime();}if(!s){d=F.abapTimestampToDate(e);d.setTime(d.getTime()-i);if(d<t){d=t;e=F.dateToAbapTimestamp(new Date(t+i));}s=F.dateToAbapTimestamp(d);}else if(!e){d=F.abapTimestampToDate(s);d.setTime(d.getTime()+i);if(d>o){d=o;s=F.dateToAbapTimestamp(new Date(o-i));}e=F.dateToAbapTimestamp(d);}else{d=F.abapTimestampToDate(s);if(d<t){s=this.getTotalHorizon().getStartTime();}d=F.abapTimestampToDate(e);if(d>o){e=this.getTotalHorizon().getEndTime();}}r.setStartTime(s);r.setEndTime(e);}return r;};
A.prototype.createAxisTime=function(l){var t=this.getTimeLineOption(),v=this.getVisibleHorizon(),o=this.getTotalHorizon();if(!U.judgeTimeHorizonValidity(v,o)){this.setProperty("visibleHorizon",o,true);jQuery.sap.log.warning("Visible horizon is not in total horizon, so convert visible horizon to total horizon",null,"sap.gantt.axistime.AxisTimeStrategyBase.createAxisTime()");}var h=F.getTimeStampFormatter().parse(o.getStartTime());var H=F.getTimeStampFormatter().parse(o.getEndTime());var n=H.valueOf()-h.valueOf();var a=jQuery.sap.getObject(t.innerInterval.unit).offset(h,t.innerInterval.span).valueOf()-h.valueOf();var b=new sap.gantt.misc.AxisTime([h,H],[0,Math.ceil(n*t.innerInterval.range/a)],1,null,null,l,this);this.setAggregation("_axisTime",b,true);};
A.prototype.syncContext=function(n){var r={zoomLevelChanged:false,axisTimeChanged:false};return r;};
A.prototype.updateStopInfo=function(s){return null;};
A.prototype.setTotalHorizon=function(t,s){if(typeof s==="undefined"){s=true;}this.setProperty("totalHorizon",t,s);return this;};
A.prototype.getUpperRowFormatter=function(){var t=this.getTimeLineOption();var l=t.largeInterval;var f;if(l.relativeTime){var o=F.abapTimestampToDate(this.getTotalHorizon().getStartTime());f=new R(o,l.unit,l.relativeTimePrefix);}else{var c=this.getCalendarType(),C=this.getLocale()?this.getLocale():new L(sap.ui.getCore().getConfiguration().getLanguage().toLowerCase());f=sap.ui.core.format.DateFormat.getDateTimeInstance({format:l.format,pattern:l.pattern,style:l.style,calendarType:t.calendarType||c},l.locale?new L(l.locale):C);}return f;};
A.prototype.getLowerRowFormatter=function(){var t=this.getTimeLineOption();var s=t.smallInterval;var f;if(s.relativeTime){var o=F.abapTimestampToDate(this.getTotalHorizon().getStartTime());f=new R(o,s.unit,s.relativeTimePrefix);}else{var c=this.getCalendarType(),C=this.getLocale()?this.getLocale():new L(sap.ui.getCore().getConfiguration().getLanguage().toLowerCase());f=sap.ui.core.format.DateFormat.getDateTimeInstance({format:s.format,pattern:s.pattern,style:s.style,calendarType:c},s.locale?new L(s.locale):C);}return f;};
A.prototype.isLowerRowTickHourSensitive=function(){var t=this.getTimeLineOption();var u=t.innerInterval.unit;var s=t.innerInterval.span;var S=F.getTimeStampFormatter().parse("20000101000000");var e=jQuery.sap.getObject(u).offset(S,s);return(e.getTime()-S.getTime())<=60*60*1000;};
A.prototype.getAxisTime=function(){return this.getAggregation("_axisTime");};
A.prototype.fireRedrawRequest=function(f,r,v){this.fireEvent("_redrawRequest",{forceUpdate:f,reasonCode:r,valueBeforeChange:v});};
A.prototype.updateGanttVisibleWidth=function(n){this._nGanttVisibleWidth=n;};
A.prototype.getGanttVisibleWidth=function(){return this._nGanttVisibleWidth;};
A.prototype.calZoomScale=function(u,s,r){var S=F.getTimeStampFormatter().parse("20000101000000");var e=jQuery.sap.getObject(u).offset(S,s);return this.calZoomScaleByDate(S,e,r);};
A.prototype.calZoomScaleByDate=function(s,e,r){return(e.valueOf()-s.valueOf())/r;};
A.prototype.calZoomBase=function(){var b=this.getTimeLineOption()||this.getFinestTimeLineOption();if(b){var s=this.calZoomScale(b.innerInterval.unit,b.innerInterval.span,b.innerInterval.range);this._oZoom={base:{timeLineOption:b,rate:1,scale:s}};return true;}return false;};
A.prototype.updateVisibleHorizonOnMouseWheelZoom=function(t,s){var z=s<0;var Z=Math.round(Math.abs(s)/100);var m=this.getMouseWheelZoomType();if(m===sap.gantt.MouseWheelZoomType.FineGranular){this.updateVisibleHorizonOnFineGranularMouseWheelZoom(t,z,Z);}else if(m===sap.gantt.MouseWheelZoomType.Stepwise){this.updateVisibleHorizonOnStepWiseMouseWheelZoom(t,z,Z);}};
A.prototype.updateVisibleHorizonOnFineGranularMouseWheelZoom=function(t,z,Z){var v=this.getVisibleHorizon();var V=F.abapTimestampToDate(v.getStartTime());var o=this.getTimeLineOption();var n=jQuery.sap.getObject(o.innerInterval.unit).offset(V,Z*o.innerInterval.span).getTime()-V.getTime();var i=z?-1:1;var N=this.calVisibleHorizonByDelta(i*n,t);this.setVisibleHorizon(N);};
A.prototype.updateVisibleHorizonOnStepWiseMouseWheelZoom=function(t,z,Z){var i=z?-1:1;var a=this.getZoomLevel()-i*Z;if(a>-1&&a<this.getZoomLevels()){if(this._aZoomRate[a]&&!U.floatEqual(this._aZoomRate[a],this._oZoom.rate)){var n=this._aZoomRate[a];var N=this.calVisibleHorizonByRate(n,t);this.setVisibleHorizon(N);}}};
A.prototype.calVisibleHorizonByRate=function(n,a){var b=0;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined&&this._nGanttVisibleWidth!==undefined){var v=F.abapTimestampToDate(this.getVisibleHorizon().getStartTime());var V=F.abapTimestampToDate(this.getVisibleHorizon().getEndTime());var c=V.getTime()-v.getTime();var d=this._oZoom.base.scale/n;var e=this._nGanttVisibleWidth*d;b=e-c;}return this.calVisibleHorizonByDelta(b,a);};
A.prototype.calVisibleHorizonByDelta=function(n,a){var v=this.getVisibleHorizon();if(n!==0){var b=F.abapTimestampToDate(v.getStartTime()).getTime();var c=F.abapTimestampToDate(v.getEndTime()).getTime();var d=c-b;var e=0;var f,g;var h=F.abapTimestampToDate(this.getTotalHorizon().getStartTime()).getTime();var i=F.abapTimestampToDate(this.getTotalHorizon().getEndTime()).getTime();if(n>0&&b<=h){f=0;g=1;e=h;}else if(n>0&&c>=i){f=1;g=0;e=i;}else{if(!a){e=b+d/2;}else{e=a.getTime();}f=(e-b)/d;g=1-f;}var j=d+n;var k=e-f*j;var l=e+g*j;var N,o;if(k<=h){N=this.getTotalHorizon().getStartTime();}else{N=new Date();N.setTime(k);}if(l>=i){o=this.getTotalHorizon().getEndTime();}else{o=new Date();o.setTime(l);}return new T({startTime:N,endTime:o});}return v;};
A.prototype.calMiddleDate=function(s,e){return new Date(s.getTime()+(e.getTime()-s.getTime())/2);};
return A;},true);
sap.ui.predefine('sap/gantt/axistime/StepwiseZoomStrategy',["./AxisTimeStrategyBase","sap/gantt/misc/Format"],function(A,F){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");sap.gantt.axistime.StepwiseTimeLineOptions={"FiveMinutes":{text:r.getText("SWZS_FIVE_MINUTES"),innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,range:32},largeInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,pattern:"ha / MMMM dd, yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,pattern:"mm "}},"FifteenMinutes":{text:r.getText("SWZS_FIFTEEN_MINUTES"),innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,range:48},largeInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,pattern:"ha / MMMM dd, yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,pattern:"mm "}},"Hour":{text:r.getText("SWZS_HOUR"),innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,range:48},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:"MMMM dd, yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,pattern:"HH:mm "}},"SixHours":{text:r.getText("SWZS_SIX_HOURS"),innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,range:64},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:"MMMM dd, yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,pattern:"HH:mm "}},"DayDate":{text:r.getText("SWZS_DATE_1"),innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,range:64},largeInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:"MMM yyyy, 'Week' ww  "},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:sap.ui.getCore().getConfiguration().getRTL()?"dd EEE ":"EEE dd "}},"Date":{text:r.getText("SWZS_DATE_2"),innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,range:32},largeInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:"MMM yyyy, 'Week' ww  "},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:"dd "}},"CWWeek":{text:r.getText("SWZS_WEEK_1"),innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,range:56},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,pattern:"MMM yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:sap.ui.getCore().getConfiguration().getRTL()?"'CW' ww  ":"'CW' ww  "}},"WeekOfYear":{text:r.getText("SWZS_WEEK_2"),innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,range:32},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,pattern:"MMM yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:"ww "}},"Month":{text:r.getText("SWZS_MONTH"),innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,range:48},largeInterval:{unit:sap.gantt.config.TimeUnit.quarter,span:1,pattern:"yyyy QQQ "},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,pattern:"MMM "}},"Quarter":{text:r.getText("SWZS_QUARTER"),innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:3,range:48},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,pattern:"yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:3,pattern:"QQQ "}},"Year":{text:r.getText("SWZS_YEAR"),innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,range:48},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,pattern:"yyyy "},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,pattern:"yyyy "}}};var S=sap.gantt.axistime.StepwiseTimeLineOptions;
var a=A.extend("sap.gantt.axistime.StepwiseZoomStrategy",{metadata:{library:"sap.gantt"}});
a.prototype.init=function(){var t=S.DayDate;this.setProperty("timeLineOption",t,true);this.setProperty("timeLineOptions",S,true);this.setProperty("zoomLevel",this._getIndexOfTimeLineOption(t,S),true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.None,true);this.setProperty("finestTimeLineOption",null,true);this.setProperty("coarsestTimeLineOption",null,true);this.setProperty("zoomLevels",0,true);this._oTotalHorizonBeforeExtension=null;};
a.prototype.applySettings=function(){A.prototype.applySettings.apply(this,arguments);this._updateZoomRateArray();return this;};
a.prototype.createAxisTime=function(l){A.prototype.createAxisTime.apply(this,arguments);this.setZoomLevel(this._getIndexOfTimeLineOption(this.getTimeLineOption(),S));this._Locale=l;return this;};
a.prototype.setVisibleHorizon=function(v){A.prototype.setVisibleHorizon.apply(this,arguments);this.fireRedrawRequest(true,"visibleHorizonUpdated");return this;};
a.prototype.setTotalHorizon=function(t){A.prototype.setTotalHorizon.apply(this,arguments);var o=this.getAxisTime();if(o){o.setTimeRange([F.getTimeStampFormatter().parse(t.getStartTime()),F.getTimeStampFormatter().parse(t.getEndTime())]);var h=F.getTimeStampFormatter().parse(t.getStartTime());var H=F.getTimeStampFormatter().parse(t.getEndTime());var n=H.valueOf()-h.valueOf();var T=this.getTimeLineOption();var b=jQuery.sap.getObject(T.innerInterval.unit).offset(h,T.innerInterval.span).valueOf()-h.valueOf();o.setViewRange([0,Math.ceil((n*T.innerInterval.range/b)/this._aZoomRate[this.getZoomLevel()])]);}return this;};
a.prototype.setZoomLevels=function(z){return this;};
a.prototype.setZoomLevel=function(z){if(z>=0){this.setProperty("zoomLevel",z,true);this.setProperty("timeLineOption",this._getTimeLineOptionByIndex(z),true);if(this._aZoomRate[z]){var o=this.getAxisTime();if(o){o.setZoomRate(this._aZoomRate[z]);}var t=this.getTotalHorizon();if(this._oTotalHorizonBeforeExtension){this.setTotalHorizon(new sap.gantt.config.TimeHorizon({startTime:this._oTotalHorizonBeforeExtension.getStartTime(),endTime:this._oTotalHorizonBeforeExtension.getEndTime()}));}var n=this._updateVisibleHorizon(this.getGanttVisibleWidth());this.setVisibleHorizon(n);}}return this;};
a.prototype.setCoarsestTimeLineOption=function(t){return this;};
a.prototype.setFinestTimeLineOption=function(t){return this;};
a.prototype.setTimeLineOptions=function(t){A.prototype.setTimeLineOptions.apply(this,arguments);this._updateZoomRateArray();return this;};
a.prototype._updateVisibleHorizon=function(n){var w=this._getWidthOfTotalHorizon();if(w<this.getGanttVisibleWidth()){this._extendTotalHorizon(this.getGanttVisibleWidth());}else if(w<n){this._extendTotalHorizon(n);}else{this._extendTotalHorizon(w);}var v=this.getVisibleHorizon();var m=this.calMiddleDate(F.getTimeStampFormatter().parse(v.getStartTime()),F.getTimeStampFormatter().parse(v.getEndTime()));var N=this.calVisibleHorizonByRate(this._aZoomRate[this.getZoomLevel()],m);A.prototype.setVisibleHorizon.call(this,N);return N;};
a.prototype.syncContext=function(n){var o=this.getGanttVisibleWidth();if(n!==o){this._updateVisibleHorizon(n);}this.updateGanttVisibleWidth(n);var R={zoomLevelChanged:true,axisTimeChanged:true};return R;};
a.prototype._updateZoomRateArray=function(){if(this._oZoom){var t=this.getTimeLineOptions();if(t){var i=0;this._aZoomRate=[];for(var j in t){this._aZoomRate[i]=this._oZoom.base.scale/this.calZoomScale(t[j].innerInterval.unit,t[j].innerInterval.span,t[j].innerInterval.range);i++;}}else{this._aZoomRate[0]=1;}}};
a.prototype.updateStopInfo=function(s){this.setProperty("timeLineOption",this.getTimeLineOptions()[s.selectedItem.getKey()],true);this.setZoomLevel(s.index);return this;};
a.prototype._getIndexOfTimeLineOption=function(t,T){var I=-1,o=T;if(!o){o=this.getTimeLineOptions();}for(var i in o){I++;if(t==o[i]){return I;}}return-1;};
a.prototype._getTimeLineOptionByIndex=function(I){var t=this.getTimeLineOptions();var c=0;for(var i in t){if(c===I){return t[i];}c++;}return null;};
a.prototype._getWidthOfTotalHorizon=function(){var t=this.getTotalHorizon();var s=F.getTimeStampFormatter().parse(t.getStartTime());var e=F.getTimeStampFormatter().parse(t.getEndTime());var o=this.getAxisTime();var b=o.timeToView(s);var c=o.timeToView(e);return Math.abs(c-b);};
a.prototype._extendTotalHorizon=function(n){var t=this.getTotalHorizon();var v=this.getVisibleHorizon();if(!this._oTotalHorizonBeforeExtension){this._oTotalHorizonBeforeExtension=new sap.gantt.config.TimeHorizon({startTime:t.getStartTime(),endTime:t.getEndTime()});}var s=F.getTimeStampFormatter().parse(v.getStartTime());var e=F.getTimeStampFormatter().parse(v.getEndTime());var m=this.calMiddleDate(s,e);var T=this.getTimeLineOption();var o=jQuery.sap.getObject(T.innerInterval.unit);var b=this.getAxisTime();var i=b.timeToView(s);var E=b.timeToView(e);var c=1;while(Math.abs(E-i)<n){s=o.offset(m,-c);e=o.offset(m,c);i=b.timeToView(s);E=b.timeToView(e);c++;}t.setStartTime(F.dateToAbapTimestamp(s));t.setEndTime(F.dateToAbapTimestamp(e));this.setTotalHorizon(t);};
return a;},true);
sap.ui.predefine('sap/gantt/drawer/Legend',["sap/gantt/drawer/Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,F){"use strict";
var L=D.extend("sap.gantt.drawer.Legend");
L.prototype._recursiveDraw=function(g,s){var S=g.selectAll("."+s.getId()).data(function(d){var r=[];return r.concat(d);});this._drawPerTag(S,s);};
L.prototype._drawPerTag=function(s,S){var l=S.mChartInstance;if(S.getIsDuration()){S.getTime=function(){return l.TIME_RANGE[0];};S.getEndTime=function(){return l.TIME_RANGE[1];};}else{S.getTime=function(){return l.TIME;};}S.setRowYCenter(l.getScaledLegendHeight()/2);switch(S.getTag()){case"g":this._drawGroup(s,S);break;case"line":this._drawLine(s,S);break;case"rect":this._drawRect(s,S);break;case"text":this._drawText(s,S);break;case"path":this._drawPath(s,S);break;case"image":this._drawImage(s,S);break;case"polygon":this._drawPolygon(s,S);break;case"polyline":this._drawPolyline(s,S);break;case"circle":this._drawCircle(s,S);break;default:break;}this._insertTitle(s,S);};
L.prototype._insertTitle=function(s,S){s.select("title").remove();s.insert("title",":first-child").text(function(d){if(!S.getParent()){return S.getTitle(d);}});};
L.prototype._drawGroup=function(s,S){s.enter().append("g").classed(S.getId(),true).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();var a=S.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i]);}}};
L.prototype._drawLine=function(s,S){var t=this;s.enter().append("line").attr("x1",function(d){return S.getX1(d);}).attr("y1",function(d){return S.getY1(d);}).attr("x2",function(d){return S.getX2(d);}).attr("y2",function(d){return S.getY2(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("fill-Opacity",function(d){return S.getFillOpacity(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawRect=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("rect").classed(S.getId(),true);s.attr("x",function(d){if(l.getLegendSpace!==undefined){if(sap.ui.getCore().getConfiguration().getRTL()){var x=l.getXDomain(),X=x.length;return l.getScaledLegendWidth()*(X-d.xIndex-1)+l.getLegendSpace()*(X-d.xIndex);}return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("rx",function(d){return S.getRx(d);}).attr("ry",function(d){return S.getRy(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){return S.getFillOpacity(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawText=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("text").attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getRowYCenter(d);}).attr("text-anchor","middle").attr("font-size",function(d){return S.getFontSize(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("alignment-baseline","central").attr("font-family",function(d){return S.getFontFamily(d);}).text(S.getText()).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPath=function(s,S){var t=this;s.enter().append("path").attr("d",function(d){return S.getD(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){if(S.getIsClosed()){return S.getFillOpacity(d);}}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawImage=function(s,S){var l=S.mChartInstance;s.enter().append("image").attr("xlink:href",function(d){return S.getImage(d);}).attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolygon=function(s,S){var t=this;s.enter().append("polygon").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolyline=function(s,S){var t=this;s.enter().append("polyline").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawCircle=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("circle").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("cx",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*(d.xIndex+0.5)+l.getLegendSpace()*(d.xIndex+1);}return S.getCx(d);}).attr("cy",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*(d.yIndex+0.5)+l.getLegendSpace()*(d.yIndex+1);}return S.getCy(d);}).attr("r",function(d){return S.getR(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype.determineValue=function(a,s,d){var A=null;if(a==="fill"){A=s.getFill(d);}else if(a==="stroke"){A=s.getStroke(d);}return sap.gantt.ValueSVGPaintServer.normalize(A);};
return L;},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine('sap/gantt/GanttChart',["jquery.sap.global","sap/ui/Device","sap/gantt/GanttChartBase","sap/ui/core/Core","sap/ui/table/TreeTable","sap/ui/table/Row","sap/gantt/misc/Utility","sap/ui/core/theming/Parameters","sap/gantt/shape/SelectedShape","sap/gantt/shape/ext/rls/SelectedRelationship","sap/gantt/drawer/ShapeInRow","sap/gantt/drawer/ShapeCrossRow","sap/gantt/drawer/CursorLine","sap/gantt/drawer/NowLine","sap/gantt/drawer/VerticalLine","sap/gantt/drawer/AdhocLine","sap/gantt/drawer/CalendarPattern","sap/gantt/drawer/ExpandedBackground","sap/gantt/config/TimeAxis","sap/gantt/misc/AxisTime","sap/gantt/misc/AxisOrdinal","sap/gantt/misc/Format","sap/gantt/eventHandler/AutoScrollHandler","sap/gantt/eventHandler/MouseWheelHandler","sap/gantt/eventHandler/TimePeriodZoomHandler","sap/gantt/axistime/AxisTimeStrategyBase","sap/gantt/axistime/ProportionZoomStrategy","sap/gantt/config/TimeHorizon","sap/gantt/misc/ShapeSelectionModel","sap/gantt/misc/ShapeManager","sap/gantt/shape/Group","sap/gantt/eventHandler/ShapeResizeHandler","sap/ui/thirdparty/d3"],function(q,D,G,C,T,R,U,P,S,a,b,c,e,N,V,A,f,E,h,m,n,F,o,M,p,r,s,t,u,v,w,z){"use strict";
var B=G.extend("sap.gantt.GanttChart",{metadata:{aggregations:{_treeTable:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"}}}});
B.prototype.init=function(){G.prototype.init.apply(this,arguments);q.sap.measure.start("GanttChart init","GanttPerf:GanttChart init function");this._oTT=new T(this.getId()+"-table",{visibleRowCountMode:"Auto",minAutoRowCount:1,columnHeaderVisible:false});this._oTT.setUseFlatMode(true);this._bJSONTreeBinding=true;this._oRowStatusMap={};this._oTT._bVariableRowHeightEnabled=true;var d=this;this._oTT._collectRowHeights=function(H){var g=T.prototype._collectRowHeights.apply(this,arguments);if(H){return g;}d._aHeights=g;if(d._aHeights[0]!==undefined&&d._aHeights[0]!==0){d._iInferedBaseRowHeightOnTT=d._aHeights[0];}var j=d.getBaseRowHeight();var k=this.getFirstVisibleRow();var l=d._aHeights.length;var x=j;var y=d._getDrawingData([k,k+l-1]);if(y&&y.length>0){x=y[0].rowSpan*j;}for(var i=0;i<l;i++){var I=this.getContextByIndex(k+i);if(I){var J;if(d._bJSONTreeBinding){J=I.getObject();}else if(d._aFilteredRowData){J=d._aFilteredRowData[i];}var K=J?J.uid:undefined;if(K&&d._oRowStatusMap[K]){d._aHeights[i]=d._oRowStatusMap[K].visibleRowSpan*j;}else{d._aHeights[i]=x;}}else{d._aHeights[i]=j;}}return d._aHeights;};this._oColumn=new sap.ui.table.Column({template:new sap.m.Label()});this._oTT.addColumn(this._oColumn);this.setAggregation("_treeTable",this._oTT);this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this._oTT.attachRowSelectionChange(this._onRowSelectionChange,this);this._oTT.addEventDelegate({onAfterRendering:this._bindScrollLogicForTT},this);this._oTT.addEventDelegate({onAfterRendering:this._initialSvgDrawing},this);this._oShapeInRowDrawer=new b();this._oShapeCrossRowDrawer=new c();this._oCursorLineDrawer=new e();this._oCalendarPatternDrawer=new f();this._oExpandedBackgroundDrawer=new E();this._oAxisOrdinal=undefined;this._aFilteredRowData=undefined;this._oStatusSet=null;this._nLowerRange=0;this._nUpperRange=0;this._oShapeSelection=new u({selectionMode:this.getShapeSelectionMode(),ganttChart:this});this._oShapeManager=new v(this);this._bMouseDown=false;this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;this._lastHoverRowIndex=undefined;this._oChartSchemesConfigMap={};this._oChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._fExtendFactor=0.382;this._setAxisTimeStrategy(new s());this._mTimeouts={};this._bSuppressSyncEvent=false;this._bSuppressSetVisibleHorizon=false;this._oAutoScrollHandler=new o();this._oMouseWheelHandler=new M(this);this._oTimePeriodZoomHandler=new p(this);this._oShapeResizeHandler=new z(this);this.setTableProperties(this.mDefaultTableProperties);q.sap.measure.end("GanttChart init");};
B.prototype.setAxisTimeStrategy=function(d){this._setAxisTimeStrategy(d);this._oStatusSet=null;this._draw(true);return this;};
B.prototype._setAxisTimeStrategy=function(d){this.setAggregation("axisTimeStrategy",d,true);this._createAxisTime(d);d.attachEvent("_redrawRequest",this._onRedrawRequest,this);};
B.prototype._onRedrawRequest=function(d){var g=d.getParameter("forceUpdate");var i=d.getParameter("valueBeforeChange");if(d.getParameter("reasonCode")==="visibleHorizonUpdated"&&i){this._oLastVisibleHorizon=i;}this.redraw(g);};
B.prototype.setTimeAxis=function(d){this.setProperty("timeAxis",d,true);if(d){var g=d.getZoomStrategy();this.setAxisTimeStrategy(new s({totalHorizon:d.getPlanHorizon(),visibleHorizon:d.getInitHorizon(),timeLineOption:g[d.getGranularity()],coarsestTimeLineOption:g[d.getCoarsestGranularity()],finestTimeLineOption:g[d.getFinestGranularity()],timeLineOptions:g}));}else{this.setAxisTimeStrategy(null);}};
B.prototype.setLocale=function(l){this.setProperty("locale",l,true);var d=this.getAxisTime();if(d){d.setLocale(l);this._draw(true);}return this;};
B.prototype.setChartSchemes=function(d){this.setProperty("chartSchemes",d,true);this._oChartSchemesConfigMap={};if(d){for(var i=0;i<d.length;i++){this._oChartSchemesConfigMap[d[i].getKey()]=d[i];}}this._draw(true);return this;};
B.prototype.setObjectTypes=function(O){this.setProperty("objectTypes",O,true);this._oObjectTypesConfigMap={};if(O){for(var i=0;i<O.length;i++){this._oObjectTypesConfigMap[O[i].getKey()]=O[i];}}this._draw(true);return this;};
B.prototype.setSelectionMode=function(d){this.setProperty("selectionMode",d,true);this.setShapeSelectionMode(d);switch(d){case sap.gantt.SelectionMode.Multiple:case sap.gantt.SelectionMode.MultiWithKeyboard:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.MultiToggle});break;case sap.gantt.SelectionMode.None:case sap.gantt.SelectionMode.Single:this.setTableProperties({selectionMode:d});break;}return this;};
B.prototype.setShapeSelectionMode=function(d){this.setProperty("shapeSelectionMode",d,true);this._oShapeSelection.setSelectionMode(d);return this;};
B.prototype.setTableProperties=function(d){G.prototype.setTableProperties.apply(this,arguments);this._oTT.setSelectionBehavior(sap.ui.table.SelectionBehavior.RowOnly);return this;};
B.prototype._createAxisTime=function(d){if(d){d.createAxisTime(this.getLocale());this._nLowerRange=Math.ceil(this.getAxisTime().getViewRange()[0]);this._nUpperRange=Math.ceil(this.getAxisTime().getViewRange()[1]);}};
B.prototype.setShapes=function(d){this.setProperty("shapes",d,true);if(d&&d.length>0){this._oShapeManager.instantiateShapes(d);this._draw(true);}return this;};
B.prototype.setTimeZoomRate=function(d){this.setProperty("timeZoomRate",d,true);var g=this.getAxisTimeStrategy();if(g.onSetTimeZoomRate){g.onSetTimeZoomRate(d);}return this;};
B.prototype.redraw=function(d){if(!this._initHorizonApplied){return;}if(d){this.resetWidthInfo();}this._draw(d);};
B.prototype.resetWidthInfo=function(){this.getAxisTime().setViewOffset(0);this._oStatusSet=null;this._nLowerRange=Math.ceil(this.getAxisTime().getViewRange()[0]);this._nUpperRange=Math.ceil(this.getAxisTime().getViewRange()[1]);};
B.prototype.updateRelationships=function(d){var g=this.getBinding("relationships");if(g){var i=g.getContexts(0,0);if(i&&i.length>0){this._aRelationshipsContexts=i;}}this._prepareRelationshipDataFromModel();};
B.prototype.addRelationship=function(d){q.sap.log.error("The control manages the relationships aggregation. The method \"addRelationship\" cannot be used programmatically!");};
B.prototype.insertRelationship=function(i,d){q.sap.log.error("The control manages the relationships aggregation. The method \"insertRelationship\" cannot be used programmatically!");};
B.prototype.removeRelationship=function(d){q.sap.log.error("The control manages the relationships aggregation. The method \"removeRelationship\" cannot be used programmatically!");};
B.prototype.getRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"getRelationships\" cannot be used programmatically!");};
B.prototype.destroyRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"destroyRelationships\" cannot be used programmatically!");};
B.prototype.indexOfRelationship=function(d){q.sap.log.error("The control manages the relationships aggregation. The method \"indexOfRelationship\" cannot be used programmatically!");};
B.prototype.removeAllRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"removeAllRelationships\" cannot be used programmatically!");};
B.prototype._bindAggregation=function(d,g){if(d=="rows"&&g){var i=this.getModel(g.model);var j=this.getBindingContext(g.model);if(j&&i){g.path=i.resolve(g.path,j);}this._getConfiguredRowKeys(g);this._oTT.bindRows(g);this._bJSONTreeBinding=(i instanceof sap.ui.model.json.JSONModel);}else{return sap.ui.core.Control.prototype._bindAggregation.apply(this,arguments);}};
B.prototype.onBeforeRendering=function(){this._bTableReady=false;this._iSvgHeight=0;this._detachEvents();};
B.prototype._detachEvents=function(){var d=q(this.getDomSelectorById("svg-ctn"));var g=q(this.getDomSelectorById("header"));d.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);g.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);g.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("mouseleave",this._onSvgMouseLeave);d.unbind("mouseenter",this._onSvgMouseEnter);d.unbind("mousedown",this._onSvgMouseDown);d.unbind("mousemove",this._onSvgMouseMove);d.unbind("mouseup",this._onSvgMouseUp);d.unbind("dblclick",this._onSvgDoubleClick);q(document.body).unbind("keydown.ganttKeyboardEvent");if(D.support.touch){d.unbind("touchstart",this._onSvgTouchstart);d.unbind("touchend",this._onSvgTouchend);d.unbind("touchmove",this._onSvgTouchmove);g.unbind("touchstart",this._onSvgTouchstart);g.unbind("touchend",this._onSvgTouchend);g.unbind("touchmove",this._onSvgTouchmove);}this._oTimePeriodZoomHandler.detachEvents();};
B.prototype.onAfterRendering=function(){this._attachEvents();};
B.prototype._attachEvents=function(){var d=q(this.getDomSelectorById("svg-ctn"));var g=q(this.getDomSelectorById("header"));if(D.browser.firefox){d.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));g.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{d.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));g.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}d.bind("mouseenter",this._onSvgMouseEnter.bind(this));d.bind("mouseleave",this._onSvgMouseLeave.bind(this));d.bind("mousedown",this._onSvgMouseDown.bind(this));d.bind("mousemove",this._onSvgMouseMove.bind(this));d.bind("mouseup",this._onSvgMouseUp.bind(this));d.bind("dblclick",this._onSvgDoubleClick.bind(this));q(document.body).bind("keydown.ganttKeyboardEvent",this._onKeyDown.bind(this));if(D.support.touch){d.bind("touchstart",this._onSvgTouchstart.bind(this));d.bind("touchend",this._onSvgTouchend.bind(this));d.bind("touchmove",this._onSvgTouchmove.bind(this));g.bind("touchstart",this._onSvgTouchstart.bind(this));g.bind("touchend",this._onSvgTouchend.bind(this));g.bind("touchmove",this._onSvgTouchmove.bind(this));}this._oTimePeriodZoomHandler.attachEvents();};
B.prototype._getMouseOrTouchPoint=function(d){if(d.targetTouches&&d.targetTouches.length>0){return d.targetTouches[d.targetTouches.length-1];}else if(d.changedTouches&&d.changedTouches.length>0){return d.changedTouches[d.changedTouches.length-1];}return{"pageX":d.pageX,"pageY":d.pageY};};
B.prototype._onTouchScrollStart=function(d){if(D.system.combi||D.system.phone||D.system.tablet){this._aTouchStartPosition=null;this._bIsScrollVertical=null;var g=this._getMouseOrTouchPoint(d);this._aTouchStartPosition=[g.pageX,g.pageY];var i=this.getTTVsbDom();if(i){this._iTouchScrollTop=i.scrollTop;}var H=this.getTTHsbDom();if(H){this._iTouchScrollLeft=H.scrollLeft;}}};
B.prototype._onTouchScroll=function(d){if((D.system.combi||D.system.phone||D.system.tablet)&&this._aTouchStartPosition){var g=this._getMouseOrTouchPoint(d);var i=(g.pageX-this._aTouchStartPosition[0]);var j=(g.pageY-this._aTouchStartPosition[1]);if(this._bIsScrollVertical==null){this._bIsScrollVertical=Math.abs(j)>Math.abs(i);}if(this._bIsScrollVertical){var k=sap.ui.table.SharedDomRef.VerticalScrollBar;var l=this._oTT.getDomRef(k);if(l){var x=this._iTouchScrollTop-j;if(x>0&&x<(this._oTT.getDomRef(k+"-content").clientHeight-l.clientHeight)-1){this._preventBubbleAndDefault(d);}l.scrollTop=x;}}else{var H=sap.ui.table.SharedDomRef.HorizontalScrollBar;var y=this._oTT.getDomRef(H);if(y){var I=this._iTouchScrollLeft-i;if(I>0&&I<(this._oTT.getDomRef(H+"-content").clientWidth-y.clientWidth)-1){this._preventBubbleAndDefault(d);}y.scrollLeft=I;}}this._bScrolling=true;}};
B.prototype._onMouseWheel=function(d){var i=this._oMouseWheelHandler.handleEvent(d);if(i){this.fireEvent("_visibleHorizonUpdate",{reasonCode:"mouseWheelZoom",eventData:{originEvent:d}});}};
B.prototype.syncMouseWheelZoom=function(d){this._bSuppressSyncEvent=true;this._oMouseWheelHandler.handleEvent(d.originEvent);};
B.prototype.handleExpandChartChange=function(d,g,i){i=i?i:this._oTT.getSelectedIndices();if(i.length>0){this._updateRowStatusMap(d,g,i);this._oTT.updateRows();}};
B.prototype.invertRowExpandStatus=function(d,g){d=d?d:this._oTT.getSelectedIndices();if(d.length>0&&g){for(var i=0;i<d.length;i++){var I=d[i];var j=this._ifRowExpanded(I,g);if(j!==null){this._updateRowStatusMap(!j,g,[I]);}}this._oTT.updateRows();}};
B.prototype._ifRowExpanded=function(i,d){var g=this._oTT;var j=g.getBinding();var k=j.getContextByIndex(i);var l=null;if(k){var x=k.getObject();var y=x.uid;var H=this._getRowSpanWithData(x,d),I=H.name;if(y&&this._oRowStatusMap[y]&&this._oRowStatusMap[y][I]){l=true;}else{l=false;}}return l;};
B.prototype._updateRowStatusMap=function(d,g,j){var k=this._oTT;var l=k.getBinding();for(var i=0;i<j.length;i++){var I=j[i];var x=l.getContextByIndex(I);if(x){var y;if(this._bJSONTreeBinding){y=x.getObject();}else{y=this._aFilteredRowData[I].data;}var H=y.uid;if(H){var J=this._getRowSpanWithData(y,g),K=J.name;if(d){if(this._oRowStatusMap[H]){this._oRowStatusMap[H][K]=J;}else{this._oRowStatusMap[H]={};this._oRowStatusMap[H][K]=J;}}else if(!d&&this._oRowStatusMap[H]){delete this._oRowStatusMap[H][K];delete this._oRowStatusMap[H].visibleRowSpan;if(q.isEmptyObject(this._oRowStatusMap[H])){delete this._oRowStatusMap[H];continue;}}this._getDrawingData([I,I]);}}}};
B.prototype.isRowExpanded=function(){var d=!q.isEmptyObject(this._oRowStatusMap);return d;};
B.prototype._getRowSpanWithData=function(d,g){var i=1,j=null,k=null,l=this.getRowTypeName();for(var x=0;x<g.length;x++){var y=g[x];var H;if(this._oChartSchemesConfigMap[y]&&this._oChartSchemesConfigMap[y].getModeKey()){H=this._oChartSchemesConfigMap[y].getModeKey();}else{H=this.getMode();}if(this._oObjectTypesConfigMap[d[l]]&&this._oObjectTypesConfigMap[d[l]].getExpandedChartSchemeKeys().length>0){var I=this._oObjectTypesConfigMap[d[l]].getExpandedChartSchemeKeys();if($.inArray(y,I)>-1){var J=this._collectDataNameForValidChartScheme(y,H);if(J){k=J.drawData;i+=J.rowSpan;j=y;}}}}return{rowSpan:i,name:j,data:k};};
B.prototype._updateTableRowHeights=function(){if(this._aHeights){this._oTT._updateRowHeights(this._aHeights,false);}};
B.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this.resetRowStatusMap();};
B.prototype.resetRowStatusMap=function(){this._oRowStatusMap={};};
B.prototype._collectDataNameForValidChartScheme=function(d,g){if(this._oChartSchemesConfigMap[d]){var i=[];var j=this._oChartSchemesConfigMap[d].getShapeKeys();var k=this._oChartSchemesConfigMap[d].getRowSpan();var l=this._oChartSchemesConfigMap[d].getRowIndexName();var x=this._oShapeManager.mShapeConfig;q.each(j,function(K,y){if(x[y]){var H=x[y].getModeKeys();if((H&&H.length>0&&$.inArray(g,H)>-1)||H.length==0||g==sap.gantt.config.DEFAULT_MODE_KEY){i.push(x[y].getShapeDataName());}}});if(i.length>0&&k>=1){return{"drawData":i,"rowSpan":k,"rowIndexName":l};}}};
B.prototype._composeParameterForClickPosition=function(d){var g=q(this.getDomSelectorById("svg"));var i=this._getMouseXPos(d);var j=this._getSvgCoodinateByDiv(g[0],i,d.pageY);var x=i-g.offset().left||d.offsetX;var y=d.pageY-g.offset().top||d.offsetY;if(!this._oAxisOrdinalOfVisibleRow){return null;}var k=this.getAxisTime().viewToTime(x);var l=this._oAxisOrdinalOfVisibleRow.viewToRowIndex(y,this._getVisibleRowCount())+this._oTT.getFirstVisibleRow();var H=U.getRowDatumByEventTarget(d.target);var L=H?H.objectInfoRef:null;var I=false;var J=this._oAxisOrdinal.viewToElementIndex(y);var K=this._aFilteredRowData[J];if(K&&K.index&&K.index!==0){I=true;}var O={"startTime":k,"svgPoint":j,"leadingRowNum":l,"leadingRowInfo":L,"rowIndex":J,"rowInfo":K,"isExpandedRow":I};return O;};
B.prototype.getAllRowData=function(){var d=this._oTT.getBinding("rows");return this._getDrawingData([0,d.getLength()-1]);};
B.prototype.getAllSelections=function(){var d=this.getSelectedRows();var g=this.getSelectedShapes();var i=this.getSelectedRelationships();var j={"rows":d,"shapes":g,"relationships":i};return j;};
B.prototype.getSelectedRows=function(){var d=[];var g=this._oTT.getSelectedIndices();var k=this.getAllRowData();var l=[];for(var i=0;i<k.length;i++){if(k[i]&&!k[i].parentId){l.push(k[i]);}}for(var j=0;j<g.length;j++){if(g[j]>-1&&g[j]<l.length&&l[g[j]]){d.push(l[g[j]]);}}return d;};
B.prototype.getSelectedShapes=function(){var d=this._oShapeSelection.getSelectedShapeDatum();var g={};d.forEach(function(i){var j=this._oShapeSelection.getRowDatumByShapeUid(i.uid,this),k=U.getShapeDataNameByUid(i.uid);var l=g[k]||[];l.push({"shapeUid":i.uid,"shapeData":i,"objectInfoRef":j});g[k]=l;}.bind(this));return g;};
B.prototype.getSelectedRelationships=function(){return this._oShapeSelection.getSelectedRelationships();};
B.prototype.getRowByShapeUid=function(d){return this._oShapeSelection.getRowDatumByShapeUid(d,this);};
B.prototype.selectShapes=function(i,d){var g=this._oShapeSelection.selectShapes(i,d);if(g){this._drawSelectedShapes();}return this;};
B.prototype.selectByUid=function(d){var g=d;var i=this._oShapeSelection.selectShapeByUid(d,this);if(i){this._drawSelectedShapes();}return this;};
B.prototype.deselectShapes=function(i){var d=this._oShapeSelection.deselectShapes(i);if(d){this._drawSelectedShapes();}return this;};
B.prototype.selectRowsAndShapes=function(d,g){if(!d||d.length===-1){this.deselectShapes();this.deselectRows();return this;}var j=[];var k=U.getRowDatumById(d,this.getId());q.each(k,function(_,x){var y=x.shapeData;for(var i=0;i<y.length;i++){var H=y[i];if(this.isShapeSelectable(H)){j.push(H.__id__);}}}.bind(this));this._oShapeSelection.selectUnderlyingTableRows(d,this._oTT);var l=this._oShapeSelection.selectShapes(j,g);if(l){this._drawSelectedShapes();}return this;};
B.prototype.selectRelationships=function(i,d){var g=U.getShapeDatumById(i,this.getId());var j=this._oShapeSelection.selectRelationships(g,d);if(j){this._drawSelectedShapes();}return this;};
B.prototype.deselectRelationships=function(i){var d=this._oShapeSelection.deselectRelationships(i);if(d){this._drawSelectedShapes();}return this;};
B.prototype.selectRows=function(i,d){this._oShapeSelection.selectUnderlyingTableRows(i,this._oTT,d);return this;};
B.prototype.deselectRows=function(i){this._oShapeSelection.deselectUnderlyingTableRows(i,this._oTT);return this;};
B.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
B.prototype.expand=function(i){this._oTT.expand(i);return this;};
B.prototype.collapse=function(i){this._oTT.collapse(i);return this;};
B.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
B.prototype._onRowSelectionChange=function(d){this.fireRowSelectionChange({originEvent:d});};
B.prototype._selectionChange=function(d,g,i,j){var k=U.getRowDatumByEventTarget(j.target);var l=k?k.objectInfoRef:null;var x=this._oShapeSelection.changeShapeSelection(d,l,g,this._bDragging,this._oShapeResizeHandler.getIsResizing());return x;};
B.prototype._syncTTSelection=function(d){q.sap.measure.start("GanttChart syncTTSelection","GanttPerf:GanttChart syncTTSelection function");var g=d.shiftKey;var i=d.ctrlKey;var j=q(this.getDomSelectorById("svg"))[0];var k=this._getSvgCoodinateByDiv(j,this._getMouseXPos(d),d.pageY);var l=parseInt(this._oAxisOrdinalOfVisibleRow.viewToElementIndex(k.y),10);if(l<0){return false;}var x=this._oTT.getRows();var I,y=d3.select("#"+x[l].getId());if(l<x.length&&y&&y.attr("data-sap-ui-rowindex")){I=this._oTT.getFirstVisibleRow()+parseInt(y.attr("data-sap-ui-rowindex"),10);}var H=this._oTT.getSelectionMode();if(I>=0&&H!==sap.ui.table.SelectionMode.None){if(H===sap.ui.table.SelectionMode.Single){if(!this._oTT.isIndexSelected(I)){this._oTT.setSelectedIndex(I);}else{this._oTT.clearSelection();}}else{i=true;if(g){var J=this._oTT.getSelectedIndex();if(J>=0){if(J<I){this._oTT.addSelectionInterval(J,I);}else{this._oTT.addSelectionInterval(I,J);}}else{this._oTT.setSelectedIndex(I);}}else if(!this._oTT.isIndexSelected(I)){if(i){this._oTT.addSelectionInterval(I,I);}else{this._oTT.setSelectedIndex(I);}}else if(i){this._oTT.removeSelectionInterval(I,I);}else if(this._oTT.getSelectedIndices().length>1){this._oTT.setSelectedIndex(I);}}}q.sap.measure.end("GanttChart syncTTSelection");};
B.prototype._setEventStatus=function(d){switch(d){case"dragEnter":this._bDragStart=true;break;case"mouseDown":this._bMouseDown=true;this._bDragging=false;this._bDragStart=false;this._bScrolling=false;break;case"mouseUp":this._bMouseDown=false;this._bScrolling=false;break;case"shapeDragStart":this._bDragStart=true;break;case"shapeDragging":if(this._bDragStart){this._bDragging=true;}break;case"shapeDragEnd":this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;break;case"dragLeave":this._bDragStart=false;break;default:break;}};
B.prototype._handleShapeDragStart=function(d){var g=q(this.getDomSelectorById("svg"));var j=d3.select(d.target).datum();var k=d.target.getAttribute("class").split(" ")[0];var l=this._oShapeManager.isShapeDraggable(j,k);if(j&&l){var H=this._oShapeSelection.getRowDatumByShapeUid(j.uid,this);if(H){var x=this._getMouseXPos(d)-g.offset().left||d.offsetX;var y=d.pageY-g.offset().top||d.offsetY;var I,J;if(d.target.getAttribute("x")&&d.target.getAttribute("width")){I=parseInt(d.target.getAttribute("x"),10);J=parseInt(d.target.getAttribute("width"),10);}else if(j.startTime){var K=this.getAxisTime().timeToView(F.abapTimestampToDate(j.startTime));var L=this.getAxisTime().timeToView(F.abapTimestampToDate(j.endTime));if(C.getConfiguration().getRTL()){I=L;J=(K-L)>0?(K-L):1;}else{I=K;J=(L-K)>0?(L-K):1;}}else{I=x;J=1;}var O={"x":x,"y":y,"shapeX":I,"shapeWidth":J};var Q=[];Q.push({"shapeData":j,"objectInfo":H});var W=this._oShapeSelection.getSelectedShapeDatum();for(var i=0;i<W.length;i++){if(W[i].uid!==j.uid&&this._oShapeManager.isShapeDraggable(W[i])){Q.push({"shapeData":W[i],"objectInfo":this._oShapeSelection.getRowDatumByShapeUid(W[i].uid,this)});}}this._oDraggingData={"sourceShapeData":Q,"dragStartPoint":O,"sourceSvgId":this.getId(),"targetSvgId":this.getId(),"domObject":this._getDraggingDomObjs(d)};this._setEventStatus("shapeDragStart");q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));}}};
B.prototype._getDraggingDomObjs=function(d){var g=d3.select(d.target)[0][0];var i;if(g.parentElement){i=g.parentElement.getAttribute("class");}else if(g.parentNode){i=g.parentNode.getAttribute("class");}if(i){var j=i.split(" ")[0];if(sap.ui.getCore().byId(j)instanceof sap.gantt.shape.Group){return g.parentNode.childNodes;}}return[g];};
B.prototype._handleShapeDragging=function(d){if(!D.support.touch&&(d.button!==0||d.buttons===0||d.ctrlKey)){return false;}var j=q(this.getDomSelectorById("svg"));var l=Math.abs((this._getMouseXPos(d)-j.offset().left||d.offsetX)-this._oDraggingData.dragStartPoint.x);var x=Math.abs((d.pageY-j.offset().top||d.offsetY)-this._oDraggingData.dragStartPoint.y);if(l>3||x>3){var y=d3.select("#dragDropShadow");var H=y[0];if(this._oDraggingData===undefined){if(!y.empty()){y.remove();}}else{var I=this._oDraggingData.dragStartPoint.shapeX;var J=this._oDraggingData.dragStartPoint.x;if(y.empty()||H===null){this._handleDragWithoutSelection(d);var K=this._oDraggingData.sourceShapeData.length;H=d3.select("body").append("div").attr("id","dragDropShadow");H.classed("sapGanttDraggingShadow",true);var L=[];var O=12;var Q=10;var W=12;for(var i=0;i<this._oDraggingData.domObject.length;i++){var X=d3.select(this._oDraggingData.domObject[i]);if(!X.empty()){var Y=parseInt(X.attr("width"),10);var Z=parseInt(X.attr("height"),10);var _=X.attr("transform");O=Y>O?Y:O;Q=Z>Q?Z:Q;var a1="";if(_){var b1=_.split(")");for(var c1=0;c1<b1.length-1;c1++){if(b1[c1].indexOf("translate")<0){a1=a1+b1[c1]+") ";}}a1.replace("))",")");}var d1=d3.select(this._oDraggingData.domObject[i].cloneNode()).classed("shadow",true).attr("fill-opacity","0.5").attr("x",0).attr("y",0).attr("transform",a1);L.push(d1);}}var g=H.append("svg").attr("id","dragDropShadowSvg").attr("width",O).append("g").attr("id","dragDropShadowSvgGroup");for(var k=0;k<L.length;k++){g.node().appendChild(L[k].node());}g.append("text").attr("x",O/2-W/2).attr("y",Q-W/2+4).attr("fill","blue").attr("font-size",W).text(function(){return K;});}var e1;if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){e1=C.getConfiguration().getRTL()?(d.pageX-this._oDraggingData.dragStartPoint.shapeWidth):d.pageX;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){e1=I+(this._getMouseXPos(d)-J);}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){e1=C.getConfiguration().getRTL()?d.pageX:(d.pageX-this._oDraggingData.dragStartPoint.shapeWidth);}var f1=d.pageY;d3.select("#dragDropShadow").style("left",e1+"px");d3.select("#dragDropShadow").style("top",f1+4+"px");q(document.body).addClass("sapGanttDraggingCursor");this._setEventStatus("shapeDragging");this._handleAutoScroll(d);}}};
B.prototype._handleDragWithoutSelection=function(d){var g=this._oDraggingData.sourceShapeData[0];if(!this._oShapeSelection.isShapeSelected(g.shapeData.uid)){var i=false;if(!d.ctrlKey){this._oDraggingData.sourceShapeData.splice(1,this._oDraggingData.sourceShapeData.length-1);i=this._oShapeSelection.clearAllSelections();}this._oShapeSelection.selectByShapeData(g.shapeData);this._drawSelectedShapes();this.fireShapeSelectionChange({originEvent:d});if(i){this.fireRelationshipSelectionChange({originEvent:d});}}};
B.prototype._handleAutoScroll=function(d){return this._oAutoScrollHandler.autoScroll(this,d);};
B.prototype._handleShapeDragEnd=function(d){this._oAutoScrollHandler.stop();var g=d3.select("#dragDropShadow");if(!g.empty()){g.remove();}if(this._bDragging&&this._oDraggingData!==undefined){var i=this.getId();this._collectDraggingShapeData(this._oDraggingData,d);this.fireShapeDragEnd({originEvent:d,sourceSvgId:this._oDraggingData.sourceSvgId,targetSvgId:i,sourceShapeData:this._oDraggingData.sourceShapeData,targetData:this._oDraggingData.targetData});}q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).removeClass("sapGanttDraggingCursor");this._setEventStatus("shapeDragEnd");};
B.prototype._collectDraggingShapeData=function(d,g){var i=q(this.getDomSelectorById("svg"));var x=parseInt((this._getMouseXPos(g)-i.offset().left||g.offsetX),10);var j=d.dragStartPoint.x;var k=x-parseInt(j,10);var l;if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){l=x;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){l=parseInt(d.dragStartPoint.shapeX,10)+k;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){l=x-parseInt(d.dragStartPoint.shapeWidth,10);}var y=l+parseInt(d.dragStartPoint.shapeWidth,10);var H,I;if(C.getConfiguration().getRTL()===true){H=this.getAxisTime().viewToTime(y).getTime();I=this.getAxisTime().viewToTime(l).getTime();}else{H=this.getAxisTime().viewToTime(l).getTime();I=this.getAxisTime().viewToTime(y).getTime();}var J=this._composeParameterForClickPosition(g);var K=J?J.rowInfo:undefined;d.targetData={"cursorTimestamp":this.getAxisTime().viewToTime(x).getTime(),"shapeTimestamp":{startTime:H,endTime:I},"mouseTimestamp":{startTime:H,endTime:I},"mode":this.getMode(),"objectInfo":K};};
B.prototype.setDraggingData=function(d){this._oDraggingData=d;if(this._oDraggingData!==undefined){this._oDraggingData.targetSvgId=this.getId();q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));this._setEventStatus("dragEnter");}};
B.prototype._onSvgMouseEnter=function(d){if(d.button===0&&d.buttons!==0&&d.target&&(d.target.id===this.getId()+"-svg-ctn"||d.target.id===this.getId()+"-svg"||this._mouseInSvgCtn(d))){this.fireChartDragEnter({originEvent:d});}};
B.prototype._onSvgMouseLeave=function(d){if(d.target&&(d.target.id===this.getId()+"-svg-ctn"||d.target.id===this.getId()+"-svg"||!this._mouseInSvgCtn(d))){if(this._bDragStart&&this._oDraggingData!==undefined){this._handleDragLeave(d);}this._destroyCursorLine();this._handleHoverLeave();}};
B.prototype._mouseInSvgCtn=function(d){var g=q(this.getDomSelectorById("svg-ctn"));var i=g.width()-((C.getConfiguration().getRTL()||(q(this.getTTVsbDom()).css("display")=="none"))?0:q(this.getTTVsbDom()).width());var j=g.height();var k=g.offset();var l=this._getMouseXPos(d)-k.left;var x=(d.pageY||d.clientY)-k.top;if(x>=0&&x<j&&l>=0&&l<i){return true;}return false;};
B.prototype._onSvgMouseDown=function(d){this._prepareSelection(d);this._prepareDragging(d);this._oShapeResizeHandler.handleShapeResize(d);};
B.prototype._onSvgMouseMove=function(d){this._drawCursorLine(d);this._handleHover(d);};
B.prototype._onSvgMouseUp=function(d){if(d.button==2){this._handleRightClick(d);}else if(d.button==0&&!this._bDragging&&this._bMouseDown&&!this._oShapeResizeHandler.getIsResizing()){this._handleSelectionChange(d);}};
B.prototype._onSvgDoubleClick=function(d){if(!this._bDragging&&!d.ctrlKey&&!d.shiftKey&&!this._oShapeResizeHandler.getIsResizing()){var g=this._composeParameterForClickPosition(d);this.fireChartDoubleClick({objectInfo:g?g.rowInfo:undefined,leadingRowInfo:g?g.leadingRowInfo:undefined,timestamp:g?g.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:g?g.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});}};
B.prototype._onSvgTouchstart=function(d){this._prepareSelection(d);this._onTouchScrollStart(d);};
B.prototype._onSvgTouchmove=function(d){this._onTouchScroll(d);};
B.prototype._onSvgTouchend=function(d){if(!this._bScrolling){this._handleSelectionChange(d);}else{this._setEventStatus("mouseUp");}};
B.prototype._onKeyDown=function(d){if(d.which===q.sap.KeyCodes.Z&&this._oTimePeriodZoomHandler.isTimePeriodZoomEnabled()){this._oTimePeriodZoomHandler.invertActiveStatus();}};
B.prototype._preventBubbleAndDefault=function(d){d.preventDefault();d.stopPropagation();};
B.prototype._prepareSelection=function(d){if(!D.support.touch&&d.button!==0){return false;}if(!this._bDragging&&!this._oShapeResizeHandler.getIsResizing()){this._setEventStatus("mouseDown");}};
B.prototype._prepareDragging=function(d){if(d.button==0){if(this._oTimePeriodZoomHandler&&this._oTimePeriodZoomHandler.isActive()){this._oTimePeriodZoomHandler.handleDragStart(d);this._preventBubbleAndDefault(d);}else{var g=d3.select(d.target).data()[0];var i,j;if(d.target.getAttribute("class")){i=d.target.getAttribute("class").split(" ")[0];j=d3.select(d.target).classed("sapUiShapeResizingCursor");}if(!j&&i&&g&&this.isShapeSelectable(g,i)){if(this._bMouseDown){this._handleShapeDragStart(d);}this._preventBubbleAndDefault(d);}}}};
B.prototype.syncTimePeriodZoomStatus=function(d){if(d){this._oTimePeriodZoomHandler.activate(true);}else{this._oTimePeriodZoomHandler.deactivate(true);}};
B.prototype.syncTimePeriodZoomOperation=function(d,g,O){this._oTimePeriodZoomHandler.syncTimePeriodZoomOperation(d,g,O);};
B.prototype._handleRightClick=function(d){var g=this._composeParameterForClickPosition(d);this.fireChartRightClick({objectInfo:g?g.rowInfo:undefined,leadingRowInfo:g?g.leadingRowInfo:undefined,timestamp:g?g.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:g?g.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});};
B.prototype._handleClick=function(d){var g=this._composeParameterForClickPosition(d);this.fireChartClick({objectInfo:g?g.rowInfo:undefined,leadingRowInfo:g?g.leadingRowInfo:undefined,timestamp:g?g.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:g?g.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});};
B.prototype._drawCursorLine=function(d){if(this.getEnableCursorLine()){var g=q(this.getDomSelectorById("svg"));var i=this._getSvgCoodinateByDiv(g[0],this._getMouseXPos(d),d.pageY||d.clientY);this._oCursorLineDrawer.drawSvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"),this.getLocale(),i);}};
B.prototype._destroyCursorLine=function(){if(this.getEnableCursorLine()){this._oCursorLineDrawer.destroySvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"));}};
B.prototype._handleHover=function(d){var g=this._composeParameterForClickPosition(d);var i=g?g.leadingRowNum-this._oTT.getFirstVisibleRow():-1;i=i<0?-1:i;var j=g?g.isExpandedRow:false;var k=d3.select(d.target).data()[0];if(k){var l=d.pageX-q(this.getDomSelectorById("svg")).offset().left||d.offsetX;this._oShapeResizeHandler.checkShapeResizable(k,d.target,g.svgPoint?g.svgPoint.x:l);}if(i>-1&&((k!==undefined&&k.uid!==this._lastHoverShapeUid)||(k===undefined&&this._lastHoverShapeUid!==undefined)||i!==this._lastHoverRowIndex)){this.fireChartMouseOver({objectInfo:g?g.rowInfo:undefined,leadingRowInfo:g?g.leadingRowInfo:undefined,timestamp:g?g.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:g?g.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});if(k!==undefined){this._lastHoverShapeUid=k.uid;}else{this._lastHoverShapeUid=undefined;}}if(i>-1&&i!==this._lastHoverRowIndex){var x=this._oTT;var H=x.getRows()[i];if(H){x.$().find(".sapUiTableRowHvr").trigger("mouseout");if(!j){H.$().trigger("mouseover");}}}if(i!==this._lastHoverRowIndex){this._lastHoverRowIndex=i;}};
B.prototype._handleDragLeave=function(d){this._oDraggingData.targetSvgId=undefined;this._setEventStatus("dragLeave");this.fireChartDragLeave({originEvent:d,draggingSource:this._oDraggingData});};
B.prototype._handleHoverLeave=function(){var d=this._oTT;d.$().find(".sapUiTableRowHvr").trigger("mouseleave");this._lastHoverShapeUid=undefined;this._lastHoverRowIndex=-1;};
B.prototype._handleSelectionChange=function(d){var g=d3.select(d.target).datum();var i;if(d.target.getAttribute("class")){i=d.target.getAttribute("class").split(" ")[0];}var j={};if(g!==undefined&&this.isShapeSelectable(g,i)){var k=d.ctrlKey||(D.os.name===sap.ui.Device.os.OS.MACINTOSH&&d.metaKey);j=this._selectionChange(g,k,d.shiftKey,d);}else{var l=this._composeParameterForClickPosition(d);if(l&&!l.isExpandedRow){if(this.getTableProperties().selectionBehavior!==sap.ui.table.SelectionBehavior.RowSelector){this._syncTTSelection(d);}}else{return null;}if(this.getShapeSelectionMode()!==sap.gantt.SelectionMode.MultiWithKeyboard){j.shapeSelectionChange=this._oShapeSelection.clearShapeSelection();j.relationshipSelectionChange=this._oShapeSelection.clearRelationshipSelection();}}if(j.shapeSelectionChange||j.relationshipSelectionChange){this._drawSelectedShapes();}this._setEventStatus("mouseUp");if(j.shapeSelectionChange){this.fireShapeSelectionChange({originEvent:d});}if(j.relationshipSelectionChange){this.fireRelationshipSelectionChange({originEvent:d});}this._handleClick(d);};
B.prototype._bindScrollLogicForTT=function(){this._bindHorizontalScroll();this._bindVerticalScroll();};
B.prototype._bindHorizontalScroll=function(){this._updateScrollLeft();var d=q(this.getTTHsbDom());d.unbind("scroll.sapUiTableHScroll");d.unbind("scroll.sapUiTableHScrollForGanttChart",this._onHSbScroll);d.bind("scroll.sapUiTableHScrollForGanttChart",q.proxy(this._onHSbScroll,this));};
B.prototype._bindVerticalScroll=function(){var d=q(this.getTTVsbDom());d.unbind("scroll.sapUiTableVScrollForGanttChart",this._onVSbScroll);d.bind("scroll.sapUiTableVScrollForGanttChart",q.proxy(this._onVSbScroll,this));};
B.prototype._getSvgHeight=function(){return this._oTT.$().find(".sapUiTableCCnt").height();};
B.prototype._getRowHeights=function(){return this._aHeights;};
B.prototype.setBaseRowHeight=function(d){this.setProperty("baseRowHeight",d,true);this._oTT.setRowHeight(d);return this;};
B.prototype._setInferedBaseRowHeight=function(d){this._iInferedBaseRowHeight=d;};
B.prototype.getBaseRowHeight=function(){return this._iInferedBaseRowHeight?this._iInferedBaseRowHeight:this._iInferedBaseRowHeightOnTT;};
B.prototype._initialSvgDrawing=function(){if(this.getBaseRowHeight()&&this._iSvgHeight!=this._getSvgHeight()){this._iSvgHeight=this._getSvgHeight();this._bTableReady=true;this._onTTRowUpdate();}};
B.prototype._onHSbScroll=function(d){if(this._initHorizonApplied){var i=this._getHSBScrollLeft();if(!this._bSuppressSetVisibleHorizon){var g=this._getScrollRateByScrollLeft(i);var j=this._getVisibleHorizonByScrollRate(g);this._updateVisibleHorizon(j);}this._bSuppressSetVisibleHorizon=false;if(!this._bSuppressSyncEvent){var k=this.getAxisTimeStrategy();var l=k.getVisibleHorizon();var x=this.getVisibleWidth();this.fireHorizontalScroll({scrollSteps:i,startTime:l.getStartTime(),endTime:l.getEndTime(),visibleWidth:x});}this._bSuppressSyncEvent=false;}};
B.prototype._getScrollRateByScrollLeft=function(i){var H=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar+"-content");var d=H.width();var g=this.getVisibleWidth();var j=0;if(d!==g){if(C.getConfiguration().getRTL()===true&&D.browser.msie){j=(d-i-g)/(d-g);}else if(C.getConfiguration().getRTL()===true&&D.browser.safari){j=(d+i-g)/(d-g);}else{j=i/(d-g);}j=j<0?0:j;j=j>1?1:j;}return j;};
B.prototype._getScrollRateByHorizon=function(d){var g=0;var i=this._nUpperRange-this._nLowerRange;var j=this.getVisibleWidth();if(this._initHorizonApplied&&i!==j){var k;if(C.getConfiguration().getRTL()){k=this.getAxisTime().timeToView(F.abapTimestampToDate(d.getEndTime()),true);g=k/(i-j);}else{k=this.getAxisTime().timeToView(F.abapTimestampToDate(d.getStartTime()),true);g=k/(i-j);}g=g<0?0:g;g=g>1?1:g;}return g;};
B.prototype._getHSBScrollLeftByScrollRate=function(d){var H=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar+"-content");var g=H.width();var i=this.getVisibleWidth();var j=d*(g-i);if(C.getConfiguration().getRTL()&&D.browser.msie){j=g-i-j;}else if(C.getConfiguration().getRTL()&&D.browser.safari){j=0-(g-i-j);}return j;};
B.prototype._getContentScrollLeftByScrollRate=function(d){var g=this._nUpperRange-this._nLowerRange;var i=this.getVisibleWidth();var j=d*(g-i);return j;};
B.prototype._getVisibleHorizonByScrollRate=function(d){var g=this._getContentScrollLeftByScrollRate(d);var i=this.getAxisTimeStrategy().getTotalHorizon();var j;var k={};var l=C.getConfiguration().getRTL();if(d===0){k.startTime=l?undefined:i.getStartTime();k.endTime=l?i.getEndTime():undefined;}else if(d===1){k.startTime=l?i.getStartTime():undefined;k.endTime=l?undefined:i.getEndTime();}else{var x=this.getAxisTime().viewToTime(g,true);k.startTime=l?undefined:x;k.endTime=l?x:undefined;}j=new t(k);return j;};
B.prototype.syncVisibleHorizon=function(d,i){this._bSuppressSyncEvent=true;var g;if(i!==undefined){var j=this.getVisibleWidth();g=U.calculateHorizonByWidth(d,i,j);}else{g=d;}this._updateVisibleHorizon(g);};
B.prototype._onVSbScroll=function(){if(!this._mTimeouts._drawSvg){this.$().find(".sapGanttChartSvg").css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");}this.fireVerticalScroll({scrollSteps:this._oTT.getFirstVisibleRow(),scrollPosition:q(this.getTTVsbDom()).scrollTop()});};
B.prototype._hSbScrollLeft=function(d){var g=q(this.getDomSelectorById("svg-ctn"));var i=q(this.getDomSelectorById("header"));var j;if(C.getConfiguration().getRTL()===true){if(!D.browser.safari){j=this._oStatusSet.aViewBoundary[1]-i.width()-d;if(j<0){j=0;}}else{j=0-d;}}else{j=d;}if(C.getConfiguration().getRTL()===true&&D.browser.firefox){if(Math.abs(g.scrollLeftRTL()-j)>1){g.scrollLeftRTL(j);}if(Math.abs(i.scrollLeftRTL()-j)>1){i.scrollLeftRTL(j);}}else{if(Math.abs(g.scrollLeft()-j)>1){g.scrollLeft(j);}if(Math.abs(i.scrollLeft()-j)>1){i.scrollLeft(j);}}};
B.prototype.jumpToPosition=function(d){if(d instanceof Date){this._updateVisibleHorizon(new t({startTime:d}));}else if(d instanceof Array){this._updateVisibleHorizon(new t({startTime:d[0],endTime:d[1]}));}else if(d===undefined){this._updateVisibleHorizon(this.getAxisTimeStrategy().getTotalHorizon());}};
B.prototype._updateVisibleHorizon=function(d){var g=this.getAxisTimeStrategy();var i=this.getVisibleWidth();g.updateGanttVisibleWidth(i);g.setVisibleHorizon(d);};
B.prototype._onTTRowUpdate=function(){if(this._bTableReady){this._syncSvgHeightWithTT();this._syncSvgDataWithTT();this._draw(true);}};
B.prototype._syncSvgHeightWithTT=function(){var d=this.$().find(".sapGanttChartSvgCtn");d.height(this._getSvgHeight());var g=this.$().find(".sapGanttChartSvg");g.height($(this._oTT.$().find(".sapUiTableCtrlRowScroll:not(.sapUiTableCHT)")).height());};
B.prototype._syncSvgDataWithTT=function(){var d=this._oTT.getBinding("rows");if(!d){return false;}var i=this._oTT.getFirstVisibleRow();var g=this._getVisibleRowCount();this._aFilteredRowData=[];this._aNonVisibleShapeData=[];var _=[];var j=[];var k=[i,i+g-1];var I=this._aRelationshipsContexts&&this._aRelationshipsContexts.length>0;if(I){d.getContexts(0,0);if(i>0){_=this._getDrawingData([0,i-1]);}j=this._getDrawingData([i+g,d.getLength()-1]);d.getContexts(k[0],k[1]);}this._aFilteredRowData=this._getDrawingData(k);this._aNonVisibleShapeData=_.concat(j);var l=this.getBaseRowHeight();if(!l){l=0;}this._oAxisOrdinal=this._createAxisOrdinal(this._aFilteredRowData,l,0);this._cacheObjectPosition(this._aFilteredRowData,this._oAxisOrdinal);this._cacheObjectPosition(_,this._oAxisOrdinal,true);this._cacheObjectPosition(j,this._oAxisOrdinal,false);if(!this._aVisibleRange||this._aVisibleRange[0]!==k[0]||this._aVisibleRange[1]!==k[1]){this._aVisibleRange=k;return true;}return false;};
B.prototype._cacheObjectPosition=function(d,g,l){if(d&&d.length>0){if(l===true){for(var i=0;i<d.length;i++){d[i].y=-100;d[i].rowHeight=g.getViewBandWidth();}}else if(l===false){for(var j=0;j<d.length;j++){d[j].y=g.getViewRange()[1]+100;d[j].rowHeight=g.getViewBandWidth();}}else{var x=[];var y=[];for(var k=0;k<d.length;k++){d[k].y=g.elementToView(d[k].uid);if(k>0){d[k-1].rowHeight=d[k].y-d[k-1].y;}if(d[k].visibleRowSpan){d[k].visibleRowHeight=d[k].visibleRowSpan*g.getViewBandWidth();x.push(d[k].uid);y.push(d[k].visibleRowSpan);}}d[d.length-1].rowHeight=g.getViewRange()[1]-d[d.length-1].y;this._oAxisOrdinalOfVisibleRow=new n(x,y,this.getBaseRowHeight(),0);}}};
B.prototype._prepareRelationshipDataFromModel=function(){this._aRelationships=[];if(this._aRelationshipsContexts){for(var i=0;i<this._aRelationshipsContexts.length;i++){var d=this._aRelationshipsContexts[i].getObject();if(d!==undefined){this._aRelationships.push(d);}}}U.generateUidForRelationship(this._aRelationships,this.getRlsIdName());};
B.prototype._createAxisOrdinal=function(d,i,g){var j=d.map(function(l){return l.uid;});var k=d.map(function(l){if(l.rowSpan){return l.rowSpan;}else{return 1;}});return new n(j,k,i,g);};
B.prototype.getFilteredRowData=function(d){return this._aFilteredRowData;};
B.prototype._getDrawingData=function(d){var g=function(h1,j1,l1,m1){if(!h1[j1]){h1.push({});}if(!h1[j1][l1]){h1[j1][l1]=[];}h1[j1][l1].push(m1);};var i,j,k,l,x,y;var H=this.getRowIdName();var I=this.getRowTypeName();var J=this._oTT.getBinding("rows");var K=this._oTT.getBindingInfo("rows");var L=[];if(J!==undefined){var O=J.getModel();var Q=this.getShapeDataNames();for(i=d[0];i<=d[1];i++){var W=this._oTT.getContextByIndex(i);if(!W){continue;}else{x=W.getObject();if(!x){continue;}}var X=1;y=this._oObjectTypesConfigMap[x[I]]?this._oObjectTypesConfigMap[x[I]].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;if(x[I]){var Y=this._oChartSchemesConfigMap[y];if(Y){X=Y.getRowSpan();}}var Z={"bindingObj":J,"bindingInfo":K,"contextObj":W,"data":x,"id":x[H],"type":x[I],"rowSpan":X,"chartScheme":y,"rowIndex":i,"index":0,"visibleRowSpan":X};L.push(Z);if(!this._bJSONTreeBinding){if(Q&&Q.length>0){for(j=0;j<Q.length;j++){var _;if(typeof Q[j]==="string"){_=Q[j];}else{_=Q[j].name;}var a1=W.getProperty(_);var b1;if(a1){Z.data[_]=[];for(k=0;k<a1.length;k++){var c1=a1[k];if(typeof c1==="string"){b1=O.getData("/"+c1);}else{b1=c1;}Z.data[_].push(b1);}}}}}U.generateRowUid([Z],this._oObjectTypesConfigMap,Q,undefined,H);var d1=x.uid;if(d1&&this._oRowStatusMap[d1]){for(y in this._oRowStatusMap[d1]){var e1;if(this._oChartSchemesConfigMap[y]&&this._oChartSchemesConfigMap[y].getModeKey()&&this._oChartSchemesConfigMap[y].getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY){e1=this._oChartSchemesConfigMap[y].getModeKey();}else{e1=this.getMode();}var f1=this._collectDataNameForValidChartScheme(y,e1);if(f1&&f1.drawData){var g1=0;var h1=[{}];for(j=0;j<f1.drawData.length;j++){if(!x[f1.drawData[j]]){continue;}for(k=0;k<x[f1.drawData[j]].length;k++){var i1=x[f1.drawData[j]][k][f1.rowIndexName];if(i1&&g1<i1){g1=i1;}}}if(g1>0){for(j=0;j<f1.drawData.length;j++){if(!x[f1.drawData[j]]){continue;}for(k=0;k<x[f1.drawData[j]].length;k++){var j1=x[f1.drawData[j]][k][f1.rowIndexName];if(j1){g(h1,j1,f1.drawData[j],x[f1.drawData[j]][k]);}else{for(l=1;l<=g1;l++){g(h1,l,f1.drawData[j],x[f1.drawData[j]][k]);}}}}for(j=1;j<=g1;j++){var k1={"bindingObj":J,"bindingInfo":K,"data":h1[j],"id":x[H],"type":x[I],"parentId":Z.id,"rowSpan":f1.rowSpan,"chartScheme":y,"rowIndex":i,"index":j,"icon":this._oChartSchemesConfigMap[y].getIcon(),"closeIcon":"./image/closeChart.png","name":this._oChartSchemesConfigMap[y].getName()};U.generateRowUid([k1],this._oObjectTypesConfigMap,Q,undefined,H);L.push(k1);Z.visibleRowSpan+=f1.rowSpan;}}}}this._oRowStatusMap[d1].visibleRowSpan=Z.visibleRowSpan;}}}return L;};
B.prototype._prepareVerticalDrawingRange=function(){var d=this._oTT.getBinding("rows").getLength()-1;if(d<0){return[0,-1];}var g=this._oTT.getFirstVisibleRow();var i=g+this._getVisibleRowCount()-1;var j=g;var k=i<d?i:d;return[j,k];};
B.prototype._prepareHorizontalDrawingRange=function(){var d=this._nUpperRange-this._nLowerRange;var g=this.getVisibleWidth();if(!this._oStatusSet){this._updateScrollWidth();}var i=this._getContentScrollLeft();if(this._oStatusSet){if((g>=d||(this._oStatusSet.aViewBoundary[0]<=i-this._oStatusSet.nOffset&&this._oStatusSet.aViewBoundary[1]>=i+g-this._oStatusSet.nOffset))){if(!this._mTimeouts._drawSvg){this._updateScrollLeft();this._scrollSvg();}return false;}}var j=g*(1+this._fExtendFactor*2);var k=i-g*this._fExtendFactor;if(k<this._nLowerRange){j+=k;k=0;}if(k+j>this._nUpperRange){j=this._nUpperRange-k;}this.getAxisTime().setViewOffset(k);if(j<0){return false;}this._oStatusSet={nWidth:j,nOffset:k,nScrollLeft:i,aViewBoundary:[0,j],aTimeBoundary:[this.getAxisTime().viewToTime(0),this.getAxisTime().viewToTime(j)],bRTL:C.getConfiguration().getRTL()};return true;};
B.prototype._draw=function(d){if(!this._bTableReady){return;}var g=this._nUpperRange-this._nLowerRange;if(g<=2){return;}var i=this.getVisibleWidth();if(!i||i<=0||i>document.body.clientWidth){return;}var j=this.getAxisTimeStrategy().syncContext(i);this.fireEvent("_zoomInfoUpdated",j);if(j.axisTimeChanged){this.setProperty("timeZoomRate",this.getAxisTime().getZoomRate(),true);this.resetWidthInfo();}if(!this._prepareHorizontalDrawingRange()&&!d){return;}this._updateTableRowHeights();var k=this;this._mTimeouts._drawSvg=this._mTimeouts._drawSvg||window.setTimeout(function(){k._drawSvg();},0);};
B.prototype.getVisibleWidth=function(){var d=q(this.getDomSelectorById("svg-ctn"));if(!d){return null;}var g=d.width()-((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width());if(!g||g<=0){return null;}return g;};
B.prototype._updateScrollWidth=function(){var d=this._nUpperRange-this._nLowerRange;this._oColumn.setWidth((d-4)+"px");};
B.prototype._updateScrollLeft=function(d){var g=q(this.getTTHsbDom());var i=this._calHSBScrollLeft();var j=this._getHSBScrollLeft(g);if(Math.abs(j-i)>1){this._bSuppressSetVisibleHorizon=!d;if((C.getConfiguration().getRTL()===true&&D.browser.firefox)){g.scrollLeftRTL(i);}else{g.scrollLeft(i);}}else if(this._forceHsbScrollSync(j,i)){this._bSuppressSetVisibleHorizon=!d;this._onHSbScroll();}};
B.prototype._forceHsbScrollSync=function(d,g){if(this._oLastVisibleHorizon){var i=this.getAxisTimeStrategy().getVisibleHorizon();if(i&&(this._oLastVisibleHorizon.getStartTime()!=i.getStartTime()||this._oLastVisibleHorizon.getEndTime()!=i.getEndTime())){this._oLastVisibleHorizon=i;return true;}}return false;};
B.prototype._calHSBScrollLeft=function(){var d=this.getAxisTimeStrategy().getVisibleHorizon();var g=this._getScrollRateByHorizon(d);var i=this._getHSBScrollLeftByScrollRate(g);return i;};
B.prototype._getHSBScrollLeft=function(d){if(!d){d=q(this.getTTHsbDom());}return(C.getConfiguration().getRTL()===true&&D.browser.firefox)?d.scrollLeftRTL():d.scrollLeft();};
B.prototype._scrollSvg=function(){var d=q(this.getDomSelectorById("svg"));var g=q(this.getDomSelectorById("header-svg"));if(Math.abs(this._oStatusSet.nWidth-d.width())>1){d.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width()));}if(Math.abs(this._oStatusSet.nWidth-g.width())>1){g.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width()));}var i=this.getVisibleWidth();var j=this._getContentScrollLeft();if(C.getConfiguration().getRTL()===true&&!D.browser.msie){this._hSbScrollLeft(this._oStatusSet.nOffset-j+this._oStatusSet.nWidth-i);}else{this._hSbScrollLeft(j-this._oStatusSet.nOffset);}};
B.prototype._getContentScrollLeft=function(){var d=this.getAxisTimeStrategy().getVisibleHorizon();var g=this._getScrollRateByHorizon(d);var i=this._getContentScrollLeftByScrollRate(g);return i;};
B.prototype._drawSvg=function(){q.sap.measure.start("GanttChart _drawSvg","GanttPerf:GanttChart _drawSvg function");if(!this._initHorizonApplied){this._prepareHorizontalDrawingRange();this._initHorizonApplied=true;this._updateScrollLeft(true);}else{this._updateScrollLeft();}q(this.getDomSelectorById("svg-ctn")).css("visibility","hidden");this._scrollSvg();q(this.getDomSelectorById("svg-ctn")).css("visibility","visible");this._sUiSizeMode=U.findSapUiSizeClass(this);this._drawCalendarPattern();this._drawHeader();this._drawNowLine();this._drawVerticalLine();this._drawExpandedBackground();this._drawShapes();this._drawSelectedShapes();this._drawAdhocLine();delete this._mTimeouts._drawSvg;this.$().find(".sapGanttChartSvg").css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");this.fireEvent("_shapesUpdated",{aSvg:q(this.getDomSelectorById("svg"))});q.sap.measure.end("GanttChart _drawSvg");};
B.prototype._drawHeader=function(){var g=q(this.getDomRef()).find(".sapGanttChartHeader");var j=g.height();var H=d3.select(q(this.getDomRef()).find(".sapGanttChartHeaderSvg").get(0));H.attr("height",j);var k=j/5*2;var l=j/5*4;var x=j/5*4;var y=this.getAxisTimeStrategy();var L=this.getAxisTime().getTickTimeIntervalLabel(y.getTimeLineOption(),null,[0,this._oStatusSet.nWidth]);H.selectAll("g").remove();var I=H.append("g");I.selectAll("label0").data(L[0]).enter().append("text").classed("sapGanttTimeHeaderSvgText0",true).text(function(d){return d.label;}).attr("x",this._getXwithOffset).attr("y",function(d){return k;}).attr("text-anchor","start");I.selectAll("label1").data(L[1]).enter().append("text").classed("sapGanttTimeHeaderSvgText1",true).text(function(d){return d.label;}).attr("x",this._getXwithOffset).attr("y",function(d){return x;});if((D.browser.msie||D.browser.edge)&&C.getConfiguration().getRTL()){d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText0").each(function(d,i){d3.select(this).attr("transform",function(d){var Q="translate("+(-U.calculateStringLength(d.label)*parseInt($(".sapGanttTimeHeaderSvgText0").css("font-size"),10)/2)+")";return Q;});});d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText1").each(function(d,i){d3.select(this).attr("transform",function(d){var Q="translate("+(-U.calculateStringLength(d.label)*parseInt($(".sapGanttTimeHeaderSvgText1").css("font-size"),10)/2)+")";return Q;});});}var J="";for(var i=0;i<L[1].length;i++){var K=L[1][i];if(K){J+=" M"+" "+(K.value-1/2)+" "+l+" L"+" "+(K.value-1/2)+" "+j;}}var O="";for(var i=0;i<L[0].length;i++){var K=L[0][i];if(K){O+=" M"+" "+(K.value-1/2)+" 0"+" L"+" "+(K.value-1/2)+" "+j/2;}}I.append("path").classed("sapGanttTimeHeaderSvgPath",true).attr("d",J);I.append("path").classed("sapGanttTimeHeaderLargeIntervalSvgPath",true).attr("d",O);};
B.prototype._getXwithOffset=function(d){var O=5;if(C.getConfiguration().getRTL()){return d.value-O;}else{return d.value+O;}};
B.prototype._drawCalendarPattern=function(){var g=d3.select(this.getDomSelectorById("svg"));this._oCalendarPatternDrawer.drawSvg(g,this.getId(),this.getCalendarDef(),this._oStatusSet,this.getBaseRowHeight());};
B.prototype._drawNowLine=function(){this._oNowlineDrawer=new N(this.getAxisTime());var g=d3.select(this.getDomSelectorById("header-svg")),d=d3.select(this.getDomSelectorById("svg"));if(this.getEnableNowLine()){this._oNowlineDrawer.drawSvg(d,g);}else{this._oNowlineDrawer.destroySvg(d,g);}};
B.prototype._drawVerticalLine=function(){this._oVerticalLineDrawer=new V(this.getAxisTime());var g=d3.select(this.getDomSelectorById("svg"));if(this.getEnableVerticalLine()){this._oVerticalLineDrawer.drawSvg(g);}else{this._oVerticalLineDrawer.destroySvg(g);}};
B.prototype._drawAdhocLine=function(){this._oAdhocLineDrawer=new A(this.getAxisTime());var g=d3.select(this.getDomSelectorById("svg"));if(this.getEnableAdhocLine()){this._oAdhocLineDrawer.drawSvg(g,this.getAdhocLines(),this._oStatusSet,this.getAdhocLineLayer());}else{this._oAdhocLineDrawer.destroySvg(g);}};
B.prototype._drawExpandedBackground=function(){var d=d3.select(this.getDomSelectorById("svg"));if(!this._oTT||!this._oTT.getRows()||this._oTT.getRows().length<=0){return;}if(this._aFilteredRowData){var g=this._composeChartSchemeBackgroundConfig();this._oExpandedBackgroundDrawer.drawSvg(d,this._aFilteredRowData,g);}};
B.prototype._composeChartSchemeBackgroundConfig=function(){var d=this._oChartSchemesConfigMap;var g={};if(d){for(var i in d){if(d[i].getHaveBackground()){g[i]=d[i].getBackgroundClass();}}}return g;};
B.prototype._drawShapes=function(){var d=d3.select(this.getDomSelectorById("svg"));var g=this._oShapeManager.getAllShapeInstances();var j=this._oShapeManager.mShapeInstance;if(this._aFilteredRowData&&g&&g.length>0){this._oShapeManager.collectDataForAllShapeInstances(this._aFilteredRowData,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);var k=this.getAxisTime();var l=this._oShapeCrossRowDrawer.generateRelationshipDataSet(d,j,this._aNonVisibleShapeData,this.getShapeDataNames(),this._aRelationships,k,this._oAxisOrdinal);for(var i=0;i<g.length;i++){var x=g[i];switch(x.getCategory(null,k,this._oAxisOrdinal)){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(d,x,k,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:x.dataSet=this._oShapeManager.isRelationshipDisplayable(x)?l:[];this._oShapeCrossRowDrawer.drawSvg(d,x,k,this._oAxisOrdinal);break;default:break;}}}};
B.prototype.getShapeInstance=function(d){return this._oShapeManager.mShapeInstance[d];};
B.prototype._drawSelectedShapes=function(){var d=d3.select(this.getDomSelectorById("svg"));var g=this._oShapeManager.mShapeInstance;this._oShapeManager.collectDataForSelectedShapes(this._oShapeSelection,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);var i=this.getAxisTime();var j=this._oShapeCrossRowDrawer.generateRelationshipDataSet(d,g,this._aNonVisibleShapeData,this.getShapeDataNames(),this._oShapeSelection.getSelectedRelationships(),i,this._oAxisOrdinal);for(var k in g){var l=g[k].getAggregation("selectedShape");var x=l.getCategory(null,this._oAxisTime,this._oAxisOrdinal);switch(x){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(d,l,i,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:l.dataSet=j;this._oShapeCrossRowDrawer.drawSvg(d,l,i,this._oAxisOrdinal);break;default:break;}}};
B.prototype._getSvgCoodinateByDiv=function(d,x,y){var g=d.createSVGPoint();g.x=x;g.y=y;g=g.matrixTransform(d.getScreenCTM().inverse());g.svgHeight=d.height.baseVal.value;g.svgId=this.getId()+"-svg";return g;};
B.prototype.isShapeSelectable=function(d,g){return this._oShapeManager.isShapeSelectable(d,g);};
B.prototype.getAxisOrdinal=function(){return this._oAxisOrdinal;};
B.prototype.getAxisTime=function(){return this.getAxisTimeStrategy().getAxisTime();};
B.prototype.ondblclick=function(d){return null;};
B.prototype.onclick=function(d){return null;};
B.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
B.prototype.setFirstVisibleRow=function(i){this.setTableProperties({firstVisableRow:i});return this;};
B.prototype._getVisibleRowCount=function(){return this._oTT.getVisibleRowCount()+1;};
B.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}};
B.prototype.exit=function(){this._detachEvents();this._cleanUpTimers();};
B.prototype._cleanUpTimers=function(){for(var k in this._mTimeouts){if(this._mTimeouts[k]){clearTimeout(this._mTimeouts[k]);this._mTimeouts[k]=undefined;}}};
B.prototype.getTTHsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);};
B.prototype.getTTVsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);};
B.prototype._getMouseXPos=function(d){if(D.browser.edge){return d.clientX;};return d.pageX;};
return B;},true);
sap.ui.predefine('sap/gantt/GanttChartBase',['jquery.sap.global','./library','sap/ui/core/Control',"./misc/Utility","./config/TimeHorizon"],function(q,l,C,U,T){"use strict";
var G=C.extend("sap.gantt.GanttChartBase",{metadata:{"abstract":true,library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},timeZoomRate:{type:"float",defaultValue:1},mode:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},selectionMode:{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard},shapeSelectionMode:{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},baseRowHeight:{type:"int",group:"Appearance",defaultValue:null},svgDefs:{type:"object",defaultValue:null},timeAxis:{type:"object",defaultValue:sap.gantt.config.DEFAULT_TIME_AXIS},modes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_HIERARCHYS},objectTypes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_OBJECT_TYPES},chartSchemes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_CHART_SCHEMES},locale:{type:"object",defaultValue:sap.gantt.config.DEFAULT_LOCALE_CET},shapeDataNames:{type:"sap.gantt.GenericArray",defaultValue:[]},shapes:{type:"object[]",defaultValue:[]},adhocLineLayer:{type:"string",defaultValue:sap.gantt.AdhocLineLayer.Top},tableProperties:{type:"object",defaultValue:{}},ghostAlignment:{type:"string",defaultValue:sap.gantt.dragdrop.GhostAlignment.None}},aggregations:{rows:{type:"sap.ui.core.Control",multiple:true,singularName:"row",bindable:"bindable",visibility:"public"},relationships:{type:"sap.ui.core.Control",multiple:true,bindable:"bindable",visibility:"public"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable",visibility:"public"},axisTimeStrategy:{type:"sap.gantt.axistime.AxisTimeStrategyBase",multiple:false,bindable:"bindable",visibility:"public"},adhocLines:{type:"sap.gantt.AdhocLine",multiple:true,singularName:"adhocLine",bindable:"bindable",visibility:"public"}},events:{ganttChartSwitchRequested:{parameters:{hierarchyKey:{type:"string"}}},splitterResize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"},zoomInfo:{type:"object"}}},horizontalScroll:{parameters:{scrollSteps:{type:"int"},startTime:{type:"string"},endTime:{type:"string"}}},verticalScroll:{parameters:{scrollSteps:{type:"int"}}},chartMouseOver:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDoubleClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartRightClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDragEnter:{parameters:{originEvent:{type:"object"}}},chartDragLeave:{parameters:{originEvent:{type:"object"},draggingSource:{type:"object"}}},rowSelectionChange:{parameters:{originEvent:{type:"object"}}},relationshipSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeDragEnd:{parameters:{originEvent:{type:"object"},sourceShapeData:{type:"object[]"},sourceSvgId:{type:"string"},targetData:{type:"object"},targetSvgId:{type:"string"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}},shapeResizeEnd:{parameters:{shapeUid:{type:"string"},rowObject:{type:"object"},oldTime:{type:"string[]"},newTime:{type:"string[]"}}}}}});
G.getMetadata().getAllAggregations()["rows"]._doesNotRequireFactory=true;G.getMetadata().getAllAggregations()["relationships"]._doesNotRequireFactory=true;
G.prototype.init=function(){this._iBaseRowHeight=undefined;this.mDefaultTableProperties={rowHeight:0,threshold:100,firstVisibleRow:0,selectionMode:sap.ui.table.SelectionMode.MultiToggle,selectionBehavior:sap.ui.table.SelectionBehavior.Row};};
G.prototype.handleExpandChartChange=function(e,c,s){};
G.prototype.notifySourceChange=function(){};
G.prototype._setLargeDataScrolling=function(L){};
G.prototype._getConfiguredRowKeys=function(b){if(!b){b=this.getBindingInfo("rows");}var r;if(b&&b.parameters){r=b.parameters.gantt;}this._configuredRowKeys={rowIdName:r&&r.rowIdName?r.rowIdName:"id",rowTypeName:r&&r.rowTypeName?r.rowTypeName:"type"};return this._configuredRowKeys;};
G.prototype.getRowIdName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowIdName;};
G.prototype.getRowTypeName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowTypeName;};
G.prototype.getRlsIdName=function(){if(!this._configuredRlsKeys){this._getConfiguredRlsKeys();}return this._configuredRlsKeys.rlsIdName;};
G.prototype._getConfiguredRlsKeys=function(){var b=this.getBindingInfo("relationships");var c;if(b&&b.parameters){c=b.parameters.gantt;}this._configuredRlsKeys={rlsIdName:c&&c.rlsIdName?c.rlsIdName:"id"};return this._configuredRlsKeys;};
G.prototype.getDomSelectorById=function(s){var a=U.attributeEqualSelector("id",s?this.getId()+"-"+s:this.getId());return a;};
G.prototype.setTableProperties=function(t){var c=this.getTableProperties();for(var p in t){if(this.mDefaultTableProperties.hasOwnProperty(p)){var m="set"+p[0].toUpperCase()+p.substr(1);var v=t[p];c[p]=v;this._oTT[m](v);}else{q.sap.log.warning("The property of \""+p+"\" is not allowed because property may change the Gantt chart layout!");}}this.setProperty("tableProperties",c);return this;};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainer',["./library","sap/ui/core/Control","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/Orientation","./legend/LegendContainer","./control/Toolbar","./control/AssociateContainer","./config/TimeHorizon","./misc/Utility"],function(l,C,S,a,O,L,T,A,b,U){"use strict";
var G=C.extend("sap.gantt.GanttChartContainer",{metadata:{library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},svgDefs:{type:"object",defaultValue:null},modes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_HIERARCHYS},containerLayouts:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_LAYOUTS},containerLayoutKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},sliderStep:{type:"int",defautValue:undefined},maxNumOfGanttCharts:{type:"int",defaultValue:3}},aggregations:{legendContainer:{type:"sap.gantt.legend.LegendContainer",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},ganttCharts:{type:"sap.gantt.GanttChartBase",multiple:true,visibility:"public",singularName:"ganttChart",bindable:"bindable"},_toolbar:{type:"sap.gantt.control.Toolbar",multiple:false,visibility:"hidden"}},events:{ganttChartChangeRequested:{parameters:{action:{type:"string"},ganttChartIndex:{type:"int"},hierarchyKey:{type:"string"},oldHierarchyKey:{type:"string"},containerLayoutKey:{type:"string"}}},customSettingChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}}}}});
G.prototype.init=function(){jQuery.sap.measure.start("GanttChartContainer Init","GanttPerf:GanttChartContainer Init function");this._bInitHorizonApplied=false;this._oToolbar=new T({type:sap.gantt.control.ToolbarType.Global,sourceId:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY});this.setAggregation("_toolbar",this._oToolbar);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachZoomStopChange(this._onToolbarZoomStopChange,this);this._oToolbar.attachSettingsChange(this._onToolbarSettingsChange,this);this._oToolbar.data("holder",this);this._oSplitter=new S({width:"100%",height:"100%",orientation:O.Vertical});this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT;jQuery.sap.measure.end("GanttChartContainer Init");};
G.prototype.applySettings=function(s,o){var r=C.prototype.applySettings.apply(this,arguments);if(this.getContainerLayouts()&&this.getContainerLayoutKey()){this.switchOrientation(null,true);}return r;};
G.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
G.prototype.setTimeZoomRate=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomRate(t);}return this;};
G.prototype.setTimeZoomStop=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomStop(t);}return this;};
G.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
G.prototype.setHierarchies=function(h){this.setProperty("hierarchies",h);this._oToolbar.setHierarchies(h);this._oHierarchyConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oHierarchyConfigMap[h[i].getKey()]=h[i];}}return this;};
G.prototype.setContainerLayouts=function(c){this.setProperty("containerLayouts",c);this._oToolbar.setContainerLayouts(c);this._oContainerLayoutConfigMap={};if(c){for(var i=0;i<c.length;i++){this._oContainerLayoutConfigMap[c[i].getKey()]=c[i];}}if(this.getContainerLayoutKey()){this.switchOrientation(null,true);}return this;};
G.prototype.setEnableCursorLine=function(e){this.setProperty("enableCursorLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableCursorLine(e);}this.getAggregation("_toolbar").setEnableCursorLine(e);return this;};
G.prototype.setEnableNowLine=function(e){this.setProperty("enableNowLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableNowLine(e);}this.getAggregation("_toolbar").setEnableNowLine(e);return this;};
G.prototype.setEnableVerticalLine=function(e){this.setProperty("enableVerticalLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableVerticalLine(e);}this.getAggregation("_toolbar").setEnableVerticalLine(e);return this;};
G.prototype.setEnableAdhocLine=function(e){this.setProperty("enableAdhocLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableAdhocLine(e);}this.getAggregation("_toolbar").setEnableAdhocLine(e);return this;};
G.prototype.setEnableTimeScrollSync=function(e){this.setProperty("enableTimeScrollSync",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].detachHorizontalScroll(this._onGanttChartHSBScroll,this);if(e){g[i].attachHorizontalScroll(this._onGanttChartHSBScroll,this);}}this.getAggregation("_toolbar").setEnableTimeScrollSync(e);return this;};
G.prototype.setContainerLayoutKey=function(c){if(this.getProperty("containerLayoutKey")===c){return this;}this.setProperty("containerLayoutKey",c);this._oToolbar.setSourceId(c);if(this.getContainerLayouts()){this.switchOrientation(null,true);}return this;};
G.prototype.setLegendContainer=function(o){this.setAggregation("legendContainer",o);if(o){this._oToolbar.setLegend(new A({content:o.getId()}));}return this;};
G.prototype.addGanttChart=function(g,r){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.addAggregation("ganttCharts",g);this._insertGanttChart(g,r);}};
G.prototype.insertGanttChart=function(g,i){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.insertAggregation("ganttCharts",g,i);this._insertGanttChart(g,false,i);}};
G.prototype.removeGanttChart=function(g){this._removeGanttChart(g);this.removeAggregation("ganttCharts",g);};
G.prototype.removeAllGanttCharts=function(){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){this._removeGanttChart(g[i]);}this.removeAllAggregation("ganttCharts");};
G.prototype._insertGanttChart=function(g,r,i){jQuery.sap.measure.start("GanttChartContainer _insertGanttChart","GanttPerf:GanttChartContainer _insertGanttChart function");if(!g){return;}var R=true;var s="30%";var f=this.getGanttCharts()[0];if(this._oSplitter.getContentAreas().length>0){R=false;var F=f._oSplitter;if(F&&F.getContentAreas().length>0){var o=F.getContentAreas()[0].getLayoutData();s=o?o.getSize():s;}}g.setSelectionPanelSize(s);g.getAxisTimeStrategy().setZoomLevel(this._oToolbar.getZoomLevel());g.getAxisTimeStrategy().setZoomLevels(this._oToolbar.getZoomLevels());g.getAxisTimeStrategy().setTimeLineOption(f.getAxisTimeStrategy().getTimeLineOption());g.getAxisTimeStrategy().setVisibleHorizon(f.getAxisTimeStrategy().getVisibleHorizon());var c=new A({content:g.getId(),layoutData:new a({size:"auto"})});if(i!==0&&!i){this._oSplitter.addContentArea(c);}else{this._oSplitter.insertContentArea(c,i);}this._adjustSplitterLayoutData(R,r);this._oSplitter.triggerResize(true);if(this.getEnableTimeScrollSync()){g.attachHorizontalScroll(this._onGanttChartHSBScroll,this);}g.attachEvent("_visibleHorizonUpdate",this._onGanttChartVisibleHorizonUpdate,this);g.attachEvent("_timePeriodZoomStatusChange",this._onGanttChartTimePeriodZoomStatusChange,this);g.attachEvent("_timePeriodZoomOperation",this._onGanttChartTimePeriodZoomOperation,this);g.attachSplitterResize(this._onViewSplitterResize,this);g.attachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);g.attachChartDragEnter(this._onChartDragEnter,this);g.attachChartDragLeave(this._onChartDragLeave,this);g.attachShapeDragEnd(this._onShapeDragEnd,this);g.attachTreeTableToggleEvent(this._onTreeTableToggle,this);g.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);jQuery.sap.measure.end("GanttChartContainer _insertGanttChart");};
G.prototype._onGanttChartVisibleHorizonUpdate=function(e){if(!this.getEnableTimeScrollSync()){var p=e.getParameters();var g=this.getGanttCharts();var s;if(p.reasonCode==="mouseWheelZoom"){s="syncMouseWheelZoom";}if(s){for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i][s](p.eventData);}}}};
G.prototype._onGanttChartTimePeriodZoomStatusChange=function(e){var p=e.getParameters();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncTimePeriodZoomStatus(p.isActive);}};
G.prototype._onGanttChartTimePeriodZoomOperation=function(e){var t=this.getEnableTimeScrollSync();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}var o=this._oSplitter.getOrientation();g[i].syncTimePeriodZoomOperation(e,t,o);}};
G.prototype._adjustSplitterLayoutData=function(r,R){if(r){this._setSelectionPanelLayoutByConfiguration();}var c=this._oSplitter.getContentAreas();var t=this;if(c){c.forEach(function(o,i){if(o.getLayoutData()){if(i%2==0){var d=Math.floor(1/c.length*100);var s=o.getLayoutData().getSize();if(R){s=t.getConfiguredGanttChartLayoutSize(t.getGanttCharts()[i]);}else{s=d+"%";}if(s=="auto"||(R&&(s=="100%"||c.length==1))){o.getLayoutData().setSize(d+"%");}else{o.getLayoutData().setSize(s);}}else{if(o.getLayoutData().getSize()!=="auto"){o.getLayoutData().setSize("auto");}}}});}};
G.prototype.getConfiguredGanttChartLayoutSize=function(g){var c=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];var s="auto";if(c){var d=c.getGanttChartLayouts();if(d){for(var i=0;i<d.length;i++){if(d[i]&&g&&d[i].getHierarchyKey()===g.getHierarchyKey()){s=d[i].getGanttChartSize()?d[i].getGanttChartSize():s;break;}}}}return s;};
G.prototype.getConfiguredSelectionPanelLayoutSize=function(){var s="30%";var c=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];if(c){var d=c.getSelectionPanelSize();s=(d&&d!=="auto")?d:s;}return s;};
G.prototype._setSelectionPanelLayoutByConfiguration=function(r){var s=this.getConfiguredSelectionPanelLayoutSize();var g=this.getGanttCharts();if(g&&s){g.forEach(function(o,i){o.setSelectionPanelSize(s);});}};
G.prototype._removeGanttChart=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o._oAC);this._adjustSplitterLayoutData();this._oSplitter.triggerResize(true);o.detachHorizontalScroll(this._onGanttChartHSBScroll,this);o.detachSplitterResize(this._onViewSplitterResize,this);o.detachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);o.detachChartDragEnter(this._onChartDragEnter,this);o.detachChartDragLeave(this._onChartDragLeave,this);o.detachShapeDragEnd(this._onShapeDragEnd,this);o.detachTreeTableToggleEvent(this._onTreeTableToggle,this);}};
G.prototype.onBeforeRendering=function(){this._detachEvents();this._oToolbar.setEnableTimeScrollSync(this.getEnableTimeScrollSync());this._oToolbar.setEnableCursorLine(this.getEnableCursorLine());this._oToolbar.setEnableNowLine(this.getEnableNowLine());this._oToolbar.setEnableVerticalLine(this.getEnableVerticalLine());var g=this.getGanttCharts();for(var i=0;i<g.length;i++){var o=g[i];o.setEnableCursorLine(this.getEnableCursorLine());o.setEnableNowLine(this.getEnableNowLine());o.setEnableVerticalLine(this.getEnableVerticalLine());}};
G.prototype._detachEvents=function(){};
G.prototype.onAfterRendering=function(){this._attachEvents();};
G.prototype._attachEvents=function(){};
G.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachZoomStopChange(this._onToolbarZoomStopChange,this);this._oToolbar.detachSettingsChange(this._onToolbarSettingsChange,this);};
G.prototype._onGanttChartHSBScroll=function(e){var p=e.getParameters();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(new b({startTime:p.startTime,endTime:p.endTime}),p.visibleWidth);}};
G.prototype._onViewSplitterResize=function(e){if(this._oSplitter.getOrientation()===O.Vertical){this._syncSelectionPanelSizeBetweenViews(e);}};
G.prototype._onZoomInfoUpdated=function(e){var s=e.getSource();var z=e.getParameter("zoomLevelChanged");if(z){this._oToolbar.updateZoomLevel(s.getAxisTime().getZoomStrategy().getZoomLevel());}};
G.prototype._syncSelectionPanelSizeBetweenViews=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()&&g.length>1){continue;}var s=e.getParameter("newSizes")[0];var c=e.getParameter("newSizes")[1];if(s>=0&&(s+c)!==0){var d=(100*s/(s+c)).toFixed(0);g[i].setSelectionPanelSize(d+"%",true);}}};
G.prototype._onGanttChartSwitchRequested=function(e){e.getSource().notifySourceChange();this.fireGanttChartChangeRequested({action:"switchGanttChart",hierarchyKey:e.getParameter("hierarchyKey"),oldHierarchyKey:e.getParameter("oldHierarchyKey"),oldMode:e.getParameter("oldMode"),ganttChartIndex:this.getGanttCharts().indexOf(e.getSource())});};
G.prototype._onTreeTableToggle=function(e){this.fireTreeTableToggleEvent({rowIndex:e.getParameter("rowIndex"),rowContext:e.getParameter("rowContext"),expanded:e.getParameter("expanded")});};
G.prototype._onToolbarLayoutChange=function(e){var E=e.getParameter("id");var o=e.getParameter("value");switch(E){case"orientation":this.switchOrientation(o);break;case"add":this.fireGanttChartChangeRequested({action:"addGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:this.getGanttCharts().length});break;case"less":this.fireGanttChartChangeRequested({action:"lessGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:o.ganttChartIndex});break;default:break;}};
G.prototype._onToolbarSourceChange=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].notifySourceChange();}this.setContainerLayoutKey(e.getParameter("id"));this.fireGanttChartChangeRequested({action:"switchContainerLayout",containerLayoutKey:e.getParameter("id")});};
G.prototype._onToolbarExpandChartChange=function(e){var E=e.getParameter("isExpand"),c=e.getParameter("expandedChartSchemes");var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].handleExpandChartChange(E,c,null);}};
G.prototype._onToolbarZoomStopChange=function(e){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy().updateStopInfo({index:e.getParameter("index"),selectedItem:e.getParameter("selectedItem")});});};
G.prototype._onChartDragEnter=function(e){var s=e.getParameter("originEvent");var g=e.getSource();if(s.button===0&&s.buttons!==0&&this._oDraggingSource!==undefined){g.setDraggingData(this._oDraggingSource);this._oDraggingSource=undefined;}else{this._oDraggingSource=undefined;g.setDraggingData(this._oDraggingSource);}};
G.prototype._onChartDragLeave=function(e){var p=e.getParameters();if(p.draggingSource!==undefined){this._oDraggingSource=p.draggingSource;}else{this._oDraggingSource=undefined;}};
G.prototype._onShapeDragEnd=function(e){this._oDraggingSource=undefined;this.getGanttCharts().forEach(function(i){var c=i.getAggregation("_chart");if(c&&c._setEventStatus){c._setEventStatus("shapeDragEnd");}});};
G.prototype._onToolbarSettingsChange=function(e){var p=e.getParameters();for(var i=0;i<p.length;i++){switch(p[i].id){case sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:if(this.getEnableTimeScrollSync()!==p[i].value){this.setEnableTimeScrollSync(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:if(this.getEnableCursorLine()!==p[i].value){this.setEnableCursorLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY:if(this.getEnableNowLine()!==p[i].value){this.setEnableNowLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:if(this.getEnableVerticalLine()!==p[i].value){this.setEnableVerticalLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY:if(this.getEnableAdhocLine()!==p[i].value){this.setEnableAdhocLine(p[i].value);}break;default:this.fireCustomSettingChange(p[i]);}}};
G.prototype.switchOrientation=function(o,r){var s=this._oSplitter.getOrientation()===O.Horizontal?O.Vertical:O.Horizontal;s=o?o:s;if(r){var c=this.getContainerLayoutKey();if(this._oContainerLayoutConfigMap[c]){s=this._oContainerLayoutConfigMap[c].getOrientation();}}this._oSplitter.setOrientation(s);this._adjustSplitterLayoutData(r,r);this._oSplitter.triggerResize(true);return this;};
G.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
G.prototype.selectShapes=function(g,I,c){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectShapes(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectShapes(I,c)){r=true;}}}return r;};
G.prototype.deselectShapes=function(g,i){var c=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<this.getGanttCharts().length){o=this.getGanttCharts()[g];r=o.deselectShapes(i);}else{for(var d in c){o=c[d];if(o.deselectShapes(i)){r=true;}}}return r;};
G.prototype.selectRelationships=function(g,I,c){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRelationships(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRelationships(I,c)){r=true;}}}return r;};
G.prototype.deselectRelationships=function(g,I){var c=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<c.length){o=c[g];r=o.deselectRelationships(I);}else{for(var i=0;i<c.length;i++){o=c[i];if(o.deselectRelationships(I)){r=true;}}}return r;};
G.prototype.selectRows=function(g,I,c){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRows(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRows(I,c)){r=true;}}}return r;};
G.prototype.deselectRows=function(g,I){var r=false,c=this.getGanttCharts(),o;if(g!=undefined&&g<c.length){o=c[g];r=o.deselectRows(I);}else{for(var i=0;i<c.length;i++){o=c[i];if(o.deselectRows(I)){r=true;}}}return r;};
G.prototype.selectRowsAndShapes=function(g,I,c){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRowsAndShapes(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRowsAndShapes(I,c)){r=true;}}}return r;};
G.prototype.getSelectedShapes=function(g){var r=[],c=this.getGanttCharts(),o,s;if(g!=undefined&&g<c.length){o=c[g];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":g,"selectedShapes":s});}}else{for(var i=0;i<c.length;i++){o=c[i];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":i,"selectedShapes":s});}}}return r;};
G.prototype.getSelectedRows=function(g){var r=[],c=this.getGanttCharts(),o,R;if(g!=undefined&&g<c.length){o=c[g];R=o.getSelectedRows();if(R!==undefined&&R.length>0){r.push({"ganttChartIndex":g,"selectedRows":R});}}else{for(var i=0;i<c.length;i++){o=c[i];R=o.getSelectedRows();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRows":R});}}}return r;};
G.prototype.getSelectedRelationships=function(g){var r=[],c=this.getGanttCharts(),o,R;if(g!=undefined&&g<c.length){o=c[g];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":g,"selectedRelationships":R});}}else{for(var i=0;i<c.length;i++){o=c[i];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRelationships":R});}}}return r;};
G.prototype.getAllSelections=function(g){var r=[],c=this.getGanttCharts(),o,s;if(g!=undefined&&g<c.length){o=c[g];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":g,"allSelection":s});}}else{for(var i=0;i<c.length;i++){o=c[i];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":i,"allSelection":s});}}}return r;};
G.prototype.exit=function(){this._detachEvents();this._oToolbar.destroy();this._oSplitter.destroy();};
["addCustomToolbarItem","insertCustomToolbarItem","removeCustomToolbarItem","indexOfCustomToolbarItem","removeAllCustomToolbarItems","destroyCustomToolbarItems","getCustomToolbarItems"].forEach(function(m){G.prototype[m]=function(){return this._oToolbar[m].apply(this._oToolbar,arguments);};});return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainerRenderer',['sap/ui/core/theming/Parameters',"sap/gantt/misc/Utility"],function(P,U){"use strict";var G={};
G.render=function(r,g){jQuery.sap.measure.start("GanttChartContainerRenderer render","GanttPerf:GanttChartContainerRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChartContainer");r.writeClasses();r.write(">");jQuery.sap.measure.start("GanttChartContainerRenderer renderPaintServer","GanttPerf:GanttChartContainerRenderer renderPaintServer part");this.renderSvgDefs(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderPaintServer");jQuery.sap.measure.start("GanttChartContainerRenderer renderToolbar","GanttPerf:GanttChartContainerRenderer renderToolbar part");this.renderToolbar(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderToolbar");jQuery.sap.measure.start("GanttChartContainerRenderer renderGanttCharts","GanttPerf:GanttChartContainerRenderer renderGanttCharts part");this.renderGanttCharts(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderGanttCharts");r.write("</div>");jQuery.sap.measure.end("GanttChartContainerRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef' tabindex='-1' focusable='false'");r.addClass("sapGanttInvisiblePaintServer");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderToolbar=function(r,g){r.renderControl(g._oToolbar);};
G.renderGanttCharts=function(r,g){r.write("<div");r.addClass("sapGanttViewContainer");r.writeClasses();r.addStyle("width",g.getWidth());var s=g.getHeight();if(g._oToolbar.getAllToolbarItems().length>0){var c=U.findSapUiSizeClass();var t=(c==="sapUiSizeCompact"||c==="sapUiSizeCondensed")?"32px":"48px";s="calc("+s+" - "+t+")";}r.addStyle("height",s);r.writeStyles();r.write(">");r.renderControl(g._oSplitter);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartRenderer',[],function(){"use strict";var G={};
G.render=function(r,g){jQuery.sap.measure.start("GanttChartRenderer render","GanttPerf:GanttChartRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChart");r.writeClasses();r.write(">");jQuery.sap.measure.start("GanttChartRenderer renderPaintServer","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderSvgDefs(r,g);jQuery.sap.measure.end("GanttChartRenderer renderPaintServer");jQuery.sap.measure.start("GanttChartRenderer renderChartHeader","GanttPerf:GanttChartRenderer renderChartHeader part");this.renderChartHeader(r,g);jQuery.sap.measure.end("GanttChartRenderer renderChartHeader");jQuery.sap.measure.start("GanttChartRenderer renderChartBody","GanttPerf:GanttChartRenderer renderChartBody part");this.renderChartBody(r,g);jQuery.sap.measure.end("GanttChartRenderer renderChartBody");r.write("</div>");jQuery.sap.measure.end("GanttChartRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderChartHeader=function(r,g){r.write("<div id='"+g.getId()+"-header'");r.addClass("sapGanttChartHeader");r.writeClasses();var b=g.getBaseRowHeight();var u=sap.gantt.misc.Utility.findSapUiSizeClass(g);var e=u==="sapUiSizeCozy"?52:36;var t=b+e;if(b>0){r.addStyle("height",t+"px");}r.writeStyles();r.write(">");r.write("<svg id='"+g.getId()+"-header-svg'");r.addClass("sapGanttChartHeaderSvg");r.writeClasses();if(b>0){r.addStyle("height",t+"px");}r.writeStyles();r.write("></svg>");r.write("</div>");};
G.renderChartBody=function(r,g){r.write("<div id='"+g.getId()+"-tt'");r.addClass("sapUiTableHScr");r.addClass("sapGanttChartTT");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("flex","1 1 auto");r.writeStyles();r.write(">");jQuery.sap.measure.start("GanttChartRenderer renderSvgDiv","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderBodySvg(r,g);jQuery.sap.measure.end("GanttChartRenderer renderSvgDiv");r.renderControl(g.getAggregation("_treeTable"));r.write("</div>");};
G.renderBodySvg=function(r,g){r.write("<div id='"+g.getId()+"-svg-ctn'");r.addClass("sapGanttChartSvgCtn");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-svg'");r.addClass("sapGanttChartSvg");r.writeClasses();r.addStyle("height","100%");r.writeStyles();r.write(">");r.write("</svg>");r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTable',["sap/ui/core/Core","sap/ui/Device","sap/gantt/GanttChartBase","sap/ui/table/Column","sap/ui/table/TreeTable","sap/ui/core/ScrollBar","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/gantt/GanttChart","sap/gantt/control/Cell","sap/gantt/control/Toolbar","sap/gantt/control/AssociateContainer","sap/gantt/drawer/SelectionPanel","sap/gantt/misc/Utility","sap/gantt/misc/AxisOrdinal","sap/gantt/eventHandler/MouseWheelHandler","sap/ui/thirdparty/d3"],function(C,D,G,a,T,S,b,c,d,e,f,A,g,U,h,M){"use strict";
var j=G.extend("sap.gantt.GanttChartWithTable",{metadata:{properties:{cellCallback:{type:"object"},fixedColumnCount:{type:"int"}},aggregations:{customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},columns:{type:"sap.ui.table.Column",multiple:true,visibility:"public",singularName:"column"},_selectionPanel:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"},_chart:{type:"sap.gantt.GanttChart",multiple:false,visibility:"hidden"}}}});
j.prototype.init=function(){G.prototype.init.apply(this,arguments);jQuery.sap.measure.start("GanttChartWithTable Init","GanttPerf:GanttChartWithTable Init function");this._oGanttChart=new d();this.setAggregation("_chart",this._oGanttChart);this._oGanttChartCnt=new A({enableRootDiv:true,content:this._oGanttChart});this._oTC=this._oGanttChart._oTT;var t=this;this._oTT=new T({visibleRowCountMode:"Auto",minAutoRowCount:1});this._oTT._bVariableRowHeightEnabled=true;this._oTT._collectRowHeights=function(H){var k=T.prototype._collectRowHeights.apply(this,arguments);if(H){return k;}t._aHeights=k;var B=t._aHeights[0];var F=this.getFirstVisibleRow();var r=t._aHeights.length;var m=B;var s=t._oGanttChart._getDrawingData([F,F+r-1]);if(s&&s.length>0){m=s[0].rowSpan*B;}for(var i=0;i<r;i++){var o=this.getContextByIndex(F+i);if(o){var l=o.getObject();var u=l?l.uid:undefined;if(u&&t._oGanttChart._oRowStatusMap[u]){t._aHeights[i]=t._oGanttChart._oRowStatusMap[u].visibleRowSpan*B;}else{t._aHeights[i]=m;}}else{t._aHeights[i]=B;}}return t._aHeights;};this._oTT._updateTableContent=function(){sap.ui.table.TreeTable.prototype._updateTableContent.apply(this,arguments);var r=this.getRows(),R=t._getRowHeights();if(!R){return;}var i=this.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr");var k=this.$().find(".sapUiTableRowHdr");for(var I=0;I<r.length;I++){var l=r[I].$(),m=i.filter(":eq("+I+")"),n=k.filter(":eq("+I+")"),H=R[I]||0;var B=t._oGanttChart.getBaseRowHeight();var o=H/B>1;l.toggleClass('sapGanttExpandedRow',o);m.toggleClass('sapGanttExpandedRow',o);n.toggleClass('sapGanttExpandedRow',o);}};this._oTT.addEventDelegate({onAfterRendering:this._bindVerticalScrollForTT},this);this._oTT.attachToggleOpenState(function(E){t.fireTreeTableToggleEvent({rowIndex:E.getParameter("rowIndex"),rowContext:E.getParameter("rowContext"),expanded:E.getParameter("expanded")});});this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this.setAggregation("_selectionPanel",this._oTT);this._oToolbar=new f({type:sap.gantt.control.ToolbarType.Local,sourceId:sap.gantt.config.DEFAULT_HIERARCHY_KEY});this._oToolbar.data("holder",this);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachExpandTreeChange(this._onToolbarExpandTreeChange,this);this._oToolbar.attachModeChange(this._onToolbarModeChange,this);this._oTT.addExtension(this._oToolbar);this._oSelectionPanelCnt=new A({enableRootDiv:true,content:this._oTT,layoutData:new c({size:"30%"})});this._oSplitter=new b({width:"100%",height:"100%",orientation:sap.ui.core.Orientation.Horizontal,contentAreas:[this._oSelectionPanelCnt,this._oGanttChartCnt]}).addStyleClass("sapGanttViewSplitterH");this._oSplitter.attachResize(this._onSplitterResize,this);this._oGanttChart.attachHorizontalScroll(this._onChartHSbScroll,this);this._oGanttChart.attachVerticalScroll(this._onChartVSbScroll,this);this._oGanttChart.attachRowSelectionChange(this._onRowSelectionChange,this);this._oGanttChart.attachShapeSelectionChange(this._onShapeSelectionChange,this);this._oGanttChart.attachChartMouseOver(this._onChartMouseOver,this);this._oGanttChart.attachRelationshipSelectionChange(this._onRelationshipSelectionChange,this);this._oGanttChart.attachChartClick(this._onClick,this);this._oGanttChart.attachChartDoubleClick(this._onDoubleClick,this);this._oGanttChart.attachChartRightClick(this._onRightClick,this);this._oGanttChart.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);this._oGanttChart.attachEvent("_shapesUpdated",this._onShapesUpdated,this);this._oGanttChart.attachChartDragEnter(this._onChartDragEnter,this);this._oGanttChart.attachChartDragLeave(this._onChartDragLeave,this);this._oGanttChart.attachShapeDragEnd(this._onShapeDragEnd,this);this._oGanttChart.attachEvent("_visibleHorizonUpdate",this._onGanttChartVisibleHorizonUpdate,this);this._oGanttChart.attachEvent("_timePeriodZoomStatusChange",this._onGanttChartTimePeriodZoomStatusChange,this);this._oGanttChart.attachEvent("_timePeriodZoomOperation",this._onGanttChartTimePeriodZoomOperation,this);this._oGanttChart.attachShapeResizeEnd(this._onShapeResizeEnd,this);this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oSelectionPanelDrawer=new g();this._oGanttChartSchemesConfigMap={};this._oGanttChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._oShapesConfigMap={};this._oMouseWheelHandler=new M(this);jQuery.extend(this.mDefaultTableProperties,{fixedColumnCount:0,showColumnVisibilityMenu:false});this.setTableProperties(this.mDefaultTableProperties);jQuery.sap.measure.end("GanttChartWithTable Init");};
j.prototype.setFixedColumnCount=function(F){this.setTableProperties({fixedColumnCount:F});return this;};
j.prototype.getFixedColumnCount=function(){return this.getTableProperties().fixedColumnCount;};
j.prototype.setTimeAxis=function(t){this.setProperty("timeAxis",t,true);this._oGanttChart.setTimeAxis(t);return this;};
j.prototype.setMode=function(m){this.setProperty("mode",m);this._oGanttChart.setMode(m);this._oToolbar.setMode(m);return this;};
j.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oGanttChart.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
j.prototype.setSelectionMode=function(s){this.setProperty("selectionMode",s);switch(s){case sap.gantt.SelectionMode.Multiple:case sap.gantt.SelectionMode.MultiWithKeyboard:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.MultiToggle,selectionBehavior:sap.ui.table.SelectionBehavior.Row});break;case sap.gantt.SelectionMode.Single:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.Single,selectionBehavior:sap.ui.table.SelectionBehavior.Row});break;case sap.gantt.SelectionMode.None:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.None,selectionBehavior:sap.ui.table.SelectionBehavior.RowOnly});break;}this._oGanttChart.setSelectionMode(s);return this;};
j.prototype.setShapeSelectionMode=function(s){this.setProperty("shapeSelectionMode",s);this._oGanttChart.setShapeSelectionMode(s);return this;};
j.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
j.prototype.setHierarchyKey=function(H){this.setProperty("hierarchyKey",H);this._oGanttChart.setProperty("hierarchyKey",H);this._oToolbar.setSourceId(H);this._hierarchyChange();return this;};
j.prototype.setHierarchies=function(H){this.setProperty("hierarchies",H);this._oToolbar.setHierarchies(H);this._oGanttChart.setHierarchies(H);this._oHierarchyConfigMap={};if(H){for(var i=0;i<H.length;i++){this._oHierarchyConfigMap[H[i].getKey()]=H[i];}}this._hierarchyChange();return this;};
j.prototype.setCalendarDef=function(o){this.setAggregation("calendarDef",o);var p=o.getBindingInfo("defs");if(p){p.templateShareable=true;}this._oGanttChart.setCalendarDef(o.clone());return this;};
j.prototype.setAdhocLineLayer=function(l){this.setProperty("adhocLineLayer",l);this._oGanttChart.setAdhocLineLayer(l);return this;};
j.prototype.addAdhocLine=function(o){this._oGanttChart.addAdhocLine(o);return this;};
j.prototype.insertAdhocLine=function(o,i){this._oGanttChart.insertAdhocLine(o,i);return this;};
j.prototype.removeAdhocLine=function(o){return this._oGanttChart.removeAdhocLine(o);};
j.prototype.getAdhocLines=function(){return this._oGanttChart.getAdhocLines();};
j.prototype.removeAllAdhocLines=function(){return this._oGanttChart.removeAllAdhocLines();};
j.prototype.setUseFlatMode=function(F){this._oTT.setUseFlatMode(F);return this;};
j.prototype._hierarchyChange=function(o){var H=this.getHierarchyKey();if(H&&this._oHierarchyConfigMap[H]){if(this._oHierarchyConfigMap[H].getColumns()&&this._oHierarchyConfigMap[H].getColumns().length>0){this._buildColumnFromCellCallback();}var m=this.getMode();if(m===sap.gantt.config.DEFAULT_MODE_KEY&&this._oHierarchyConfigMap[this.getHierarchyKey()]){m=this._oHierarchyConfigMap[this.getHierarchyKey()].getActiveModeKey();}this.setMode(m);}};
j.prototype._buildColumnFromCellCallback=function(){this._oTT.removeAllColumns();var H,k;H=this._oHierarchyConfigMap[this.getHierarchyKey()];if(H){k=H.getColumns();}if(k){for(var i=0;i<k.length;i++){var o=new a({label:k[i].getTitle(),sortProperty:k[i].getSortAttribute(),filterProperty:k[i].getFilterAttribute(),width:k[i].getWidth(),template:new e({cellCallback:this.getCellCallback(),columnConfig:k[i]}).data("rowTypeName",this.getRowTypeName())});this._oTT.addColumn(o);}}};
j.prototype.setObjectTypes=function(o){this.setProperty("objectTypes",o,true);this._oGanttChart.setObjectTypes(o);this._oObjectTypesConfigMap={};if(o){for(var i=0;i<o.length;i++){this._oObjectTypesConfigMap[o[i].getKey()]=o[i];}}return this;};
j.prototype.setChartSchemes=function(k){this.setProperty("chartSchemes",k,true);this._oGanttChart.setChartSchemes(k);this._oGanttChartSchemesConfigMap={};if(k){for(var i=0;i<k.length;i++){this._oGanttChartSchemesConfigMap[k[i].getKey()]=k[i];}}return this;};
j.prototype.setShapeDataNames=function(s){this.setProperty("shapeDataNames",s);this._oGanttChart.setShapeDataNames(s);return this;};
j.prototype.setLocale=function(l){this.setProperty("locale",l,true);this._oGanttChart.setLocale(l);return this;};
j.prototype.setShapes=function(s){this.setProperty("shapes",s,true);this._oGanttChart.setShapes(s);this._oShapesConfigMap={};if(s){for(var i=0;i<s.length;i++){this._oShapesConfigMap[s[i].getKey()]=s[i];}}return this;};
j.prototype.setSvgDefs=function(s){this.setProperty("svgDefs",s);this._oGanttChart.setSvgDefs(s);return this;};
j.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E);this._oGanttChart.setEnableCursorLine(E);this._oToolbar.setEnableCursorLine(E);return this;};
j.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E);this._oGanttChart.setEnableNowLine(E);this._oToolbar.setEnableNowLine(E);return this;};
j.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E);this._oGanttChart.setEnableVerticalLine(E);this._oToolbar.setEnableVerticalLine(E);return this;};
j.prototype.setEnableAdhocLine=function(E){this.setProperty("enableAdhocLine",E);this._oGanttChart.setEnableAdhocLine(E);this._oToolbar.setEnableAdhocLine(E);return this;};
j.prototype.setTimeZoomRate=function(t){this.setProperty("timeZoomRate",t,true);this._oGanttChart.setTimeZoomRate(t);return this;};
j.prototype.setAxisTimeStrategy=function(o){this._oGanttChart.setAxisTimeStrategy(o);return this;};
j.prototype.getAxisTimeStrategy=function(){return this._oGanttChart.getAxisTimeStrategy();};
j.prototype.addRelationship=function(r){this._oGanttChart.addRelationship(r);};
j.prototype.insertRelationship=function(i,r){this._oGanttChart.insertRelationship(i,r);};
j.prototype.removeRelationship=function(r){this._oGanttChart.removeRelationship(r);};
j.prototype.getRelationships=function(){this._oGanttChart.getRelationships();};
j.prototype.destroyRelationships=function(){this._oGanttChart.destroyRelationships();};
j.prototype.indexOfRelationship=function(r){this._oGanttChart.indexOfRelationship(r);};
j.prototype.removeAllRelationships=function(){this._oGanttChart.removeAllRelationships();};
j.prototype.updateRelationships=function(r){this._oGanttChart.updateRelationships(r);};
j.prototype.setSelectionPanelSize=function(s,i){this.setProperty("selectionPanelSize",s,i);this._oSelectionPanelCnt.setLayoutData(new c({size:s}));return this;};
j.prototype.addColumn=function(o){this._oTT.addColumn(o);};
j.prototype.insertColumn=function(o,i){this._oTT.insertColumn(o,i);};
j.prototype.removeColumn=function(o){this._oTT.removeColumn(o);};
j.prototype.removeAllColumns=function(){this._oTT.removeAllColumns();};
j.prototype.getColumns=function(){return this._oTT.getColumns();};
j.prototype.setGhostAlignment=function(s){this.setProperty("ghostAlignment",s);this._oGanttChart.setGhostAlignment(s);return this;};
j.prototype._bindAggregation=function(n,B){var m,o;if(n=="rows"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindRows(B);this._oGanttChart.bindRows(B);this._oTC.updateRows=this._updateRows.bind(this);}else if(n=="relationships"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oGanttChart.bindRelationships(B);}else if(n=="columns"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindColumns(B);}else{return sap.ui.core.Control.prototype._bindAggregation.apply(this,arguments);}};
j.prototype.setTableProperties=function(t){G.prototype.setTableProperties.apply(this,arguments);this._oGanttChart.setTableProperties(t);return this;};
j.prototype._updateRows=function(r){if(r!==sap.ui.table.TableUtils.RowsUpdateReason.VerticalScroll&&(this._oTC.getFirstVisibleRow()===this._oTT.getFirstVisibleRow()||r===sap.ui.model.ChangeReason.Filter||r===sap.ui.model.ChangeReason.Sort)){sap.ui.table.Table.prototype.updateRows.apply(this._oTT,arguments);}sap.ui.table.Table.prototype.updateRows.apply(this._oTC,arguments);};
j.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachExpandTreeChange(this._onToolbarExpandTreeChange,this);};
j.prototype.onAfterRendering=function(){this._attachEvents();};
j.prototype.onBeforeRendering=function(){if(this._oToolbar.getAllToolbarItems().length===0){this._oTT.removeExtension(this._oToolbar);}else if(this._oTT.getExtension().length==0){this._oTT.addExtension(this._oToolbar);}};
j.prototype._attachEvents=function(){var o={onAfterRendering:this._syncGanttTablesDomEvents};this._oTT.removeEventDelegate(o);this._oTT.addEventDelegate(o,this);this._oTC.removeEventDelegate(o);this._oTC.addEventDelegate(o,this);this._appendMaskSvg();var i=this.$().find(this.getDomSelectorById("spm-svg-table"));if(D.browser.firefox){i.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));i.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{i.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));i.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}};
j.prototype._onMouseWheel=function(E){this._oMouseWheelHandler.handleEvent(E);};
j.prototype._onRowSelectionChange=function(E){this.fireRowSelectionChange({originEvent:E.getParameter("originEvent")});this._oTT._oSelection.fireSelectionChanged();};
j.prototype._onChartMouseOver=function(E){var p=E.getParameters();this.fireChartMouseOver({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
j.prototype._onShapeSelectionChange=function(E){this.fireShapeSelectionChange({originEvent:E.getParameter("originEvent")});};
j.prototype._onRelationshipSelectionChange=function(E){this.fireRelationshipSelectionChange({originEvent:E.getParameter("originEvent")});};
j.prototype._onClick=function(E){var p=E.getParameters();this.fireChartClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
j.prototype._onDoubleClick=function(E){var p=E.getParameters();this.fireChartDoubleClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
j.prototype._onRightClick=function(E){var p=E.getParameters();this.fireChartRightClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
j.prototype._onChartDragEnter=function(E){this.fireChartDragEnter({originEvent:E.getParameter("originEvent")});};
j.prototype._onChartDragLeave=function(E){this.fireChartDragLeave({originEvent:E.getParameter("originEvent"),draggingSource:E.getParameter("draggingSource")});};
j.prototype._onShapeDragEnd=function(E){var p=E.getParameters();this.fireShapeDragEnd({originEvent:p.originEvent,sourceShapeData:p.sourceShapeData,targetData:p.targetData,sourceSvgId:p.sourceSvgId,targetSvgId:p.targetSvgId});};
j.prototype._onShapeResizeEnd=function(E){var p=E.getParameters();this.fireShapeResizeEnd({shapeUid:p.shapeUid,rowObject:p.rowObject,oldTime:p.oldTime,newTime:p.newTime});};
j.prototype._onGanttChartVisibleHorizonUpdate=function(E){this.fireEvent("_visibleHorizonUpdate",E.getParameters());};
j.prototype._onGanttChartTimePeriodZoomStatusChange=function(E){this.fireEvent("_timePeriodZoomStatusChange",E.getParameters());};
j.prototype._onGanttChartTimePeriodZoomOperation=function(E){this.fireEvent("_timePeriodZoomOperation",E.getParameters());};
j.prototype.syncTimePeriodZoomStatus=function(i){this._oGanttChart.syncTimePeriodZoomStatus(i);};
j.prototype.syncTimePeriodZoomOperation=function(E,t,o){this._oGanttChart.syncTimePeriodZoomOperation(E,t,o);};
j.prototype.syncMouseWheelZoom=function(E){this._oGanttChart.syncMouseWheelZoom(E);};
j.prototype._onChartHSbScroll=function(E){this.fireHorizontalScroll(E.getParameters());};
j.prototype.syncVisibleHorizon=function(t,v){this._oGanttChart.syncVisibleHorizon(t,v);};
j.prototype._onChartVSbScroll=function(E){var i=jQuery(this.getTTVsbDom());var k=jQuery(this.getTCVsbDom());if(this.sScrollSource===null||this.sScrollSource!=="GanttChartWithTable"){this.sScrollSource="GanttChart";window.requestAnimationFrame(function(){i.scrollTop(k.scrollTop());});}else{this.sScrollSource=null;}this.fireVerticalScroll({scrollSteps:this._oTC.getFirstVisibleRow(),scrollPosition:jQuery(this.getTCVsbDom()).scrollTop()});};
j.prototype._drawSvg=function(){this._appendMaskSvg();this._updateMaskSvg();this._updateTableRowHeights();this._drawSelectionPanel();};
j.prototype._onZoomInfoUpdated=function(E){var p=E.getParameters();if(p.axisTimeChanged){this.setProperty("timeZoomRate",this._oGanttChart.getAxisTime().getZoomRate(),true);}this.fireEvent("_zoomInfoUpdated",p);};
j.prototype._onShapesUpdated=function(E){this.fireEvent("_shapesUpdated",{aSvg:E.getParameter("aSvg")});};
j.prototype._bindVerticalScrollForTT=function(){var i=jQuery(this.getTTVsbDom());i.unbind("scroll.sapUiTableVScrollForGanttChartWithTable",this._onSelectionPanelVSbScroll);i.bind("scroll.sapUiTableVScrollForGanttChartWithTable",jQuery.proxy(this._onSelectionPanelVSbScroll,this));};
j.prototype._onSelectionPanelVSbScroll=function(){var i=jQuery(this.getTTVsbDom());var k=jQuery(this.getTCVsbDom());if(this.sScrollSource===null||this.sScrollSource!=="GanttChart"){this.sScrollSource="GanttChartWithTable";window.requestAnimationFrame(function(){k.scrollTop(i.scrollTop());});}else{this.sScrollSource=null;}this._applyTransform();};
j.prototype._applyTransform=function(){this.$().find(this.getDomSelectorById("spm-svg-table")).css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");};
j.prototype._onSplitterResize=function(E){var p=E.getParameters();this._oGanttChart._draw();this.fireSplitterResize(p);};
j.prototype._onToolbarSourceChange=function(E){var o=this.getHierarchyKey();var i=this.getMode();this.setHierarchyKey(E.getParameter("id"));this.notifySourceChange();this.fireGanttChartSwitchRequested({hierarchyKey:E.getParameter("id"),oldHierarchyKey:o,oldMode:i});};
j.prototype._onToolbarExpandChartChange=function(E){var i=E.getParameter("isExpand"),k=E.getParameter("expandedChartSchemes");this.handleExpandChartChange(i,k,null);};
j.prototype._onToolbarExpandTreeChange=function(E){var s=E.getParameter("action");if(s){var k=this._oTT.getSelectedIndices();for(var i=k.length-1;i>-1;i--){this._oTT[s](k[i]);k=this._oTT.getSelectedIndices();}}};
j.prototype._onToolbarModeChange=function(E){var B=this.getBinding("mode");if(B){B.setValue(E.getParameter("mode"));}this.setMode(E.getParameter("mode"));};
j.prototype.handleExpandChartChange=function(E,i,s){s=s?s:this._oTT.getSelectedIndices();this._oGanttChart.handleExpandChartChange(E,i,s);};
j.prototype.invertRowExpandStatus=function(s,i){if(s&&s.length>0&&i){this._oGanttChart.invertRowExpandStatus(s,i);}};
j.prototype._updateTableRowHeights=function(){var t=this._oTT;var H=this._getRowHeights();if(!H){return;}t._updateRowHeights(H,false);};
j.prototype._getRowHeights=function(){return this._aHeights;};
j.prototype.setBaseRowHeight=function(n){this.setProperty("baseRowHeight",n);this._oTT.setRowHeight(n);return this._oGanttChart.setBaseRowHeight(n);};
j.prototype.getBaseRowHeight=function(){return this._oGanttChart.getBaseRowHeight();};
j.prototype._onTTRowUpdate=function(){var i=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));if(this._oGanttChart.isRowExpanded()){var k=this._oTT.$();i.height(k.find(".sapUiTableCCnt").height());i.show();var l=i.find(".sapGanttSPMaskSvg");l.height(k.find(".sapUiTableCtrlCnt").height());this._drawSvg();}else{i.hide();}this._adjustGanttInferredRowHeight();this._oTT._updateTableContent();this._adjustChartHeaderHeight();};
j.prototype._adjustChartHeaderHeight=function(){var i=this._oTT.$().find(".sapUiTableExt");var k=this._oTT.$().find(".sapUiTableColHdrCnt");var l=i.outerHeight()+k.height()+2;var m=this._oGanttChart.$().find(".sapGanttChartHeader");m.height(l);m.css("min-height",l);var n=this._oGanttChart.$().find(".sapGanttChartHeaderSvg");n.height(l);n.css("min-height",l);};
j.prototype._adjustGanttInferredRowHeight=function(){var H=this._getRowHeights();var F=this.getFirstVisibleRow();var s=this._oGanttChart._getDrawingData([F,F]);if(H&&H.length>0&&s&&s.length>0){var B=H[0]/s[0].visibleRowSpan;var p=this._oGanttChart._iInferedBaseRowHeight;if(B!==p){this._oGanttChart._setInferedBaseRowHeight(B);if(p===undefined){this._oTC.updateRows();}}}};
j.prototype._syncGanttTablesDomEvents=function(E){var s=E.srcControl,t=s.getId()===this._oTT.getId()?this._oTC:this._oTT;s.$().find(".sapUiTableRowHdr, .sapUiTableTr").hover(function(E){var i=jQuery(E.currentTarget).data("sapUiRowindex");t.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr.sapUiTableTr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");},function(E){t.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr.sapUiTableTr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").removeClass("sapUiTableRowHvr");});};
j.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}if(this._oTC._setLargeDataScrolling){this._oTC._setLargeDataScrolling(!!l);}};
j.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
j.prototype.jumpToPosition=function(o){this._oGanttChart.jumpToPosition(o);};
j.prototype.selectShapes=function(i,k){return this._oGanttChart.selectShapes(i,k);};
j.prototype.deselectShapes=function(i){return this._oGanttChart.deselectShapes(i);};
j.prototype.selectRelationships=function(i,k){return this._oGanttChart.selectRelationships(i,k);};
j.prototype.deselectRelationships=function(i){return this._oGanttChart.deselectRelationships(i);};
j.prototype.selectRows=function(i,k){return this._oGanttChart.selectRows(i,k);};
j.prototype.deselectRows=function(i){return this._oGanttChart.deselectRows(i);};
j.prototype.selectRowsAndShapes=function(i,I){return this._oGanttChart.selectRowsAndShapes(i,I);};
j.prototype.getAllSelections=function(){return this._oGanttChart.getAllSelections();};
j.prototype.getSelectedShapes=function(){var s=this._oGanttChart.getSelectedShapes();return s;};
j.prototype.getSelectedRows=function(){var s=this._oGanttChart.getSelectedRows();return s;};
j.prototype.getSelectedRelationships=function(){var s=this._oGanttChart.getSelectedRelationships();return s;};
j.prototype.setDraggingData=function(o){this._oGanttChart.setDraggingData(o);};
j.prototype.getRowByShapeUid=function(s){return this._oGanttChart.getRowByShapeUid(s);};
j.prototype._drawSelectionPanel=function(){var t=this._oTT.$().find(".sapUiTableRowHdrScr").width();var v=this._getVisibleRowData();if(v!==undefined){this._oSelectionPanelDrawer.drawSvg(d3.select(this.getDomSelectorById("spm-svg-table")),v,t,this);this.$().find(this.getDomSelectorById("spm-svg-table")).css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");}};
j.prototype._getVisibleRowData=function(){var F=this._oTT.getFirstVisibleRow();var v=this.getVisibleRowCount()+1;var V=this._oGanttChart._getDrawingData([F,F+v-1]);var B=this._oGanttChart.getBaseRowHeight();var p=0;for(var i=0;i<V.length;i++){var s=V[i];s.rowHeight=s.rowSpan*B;s.y=p;p+=s.rowHeight;}return V;};
j.prototype._appendMaskSvg=function(){var i=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));var k=this._oTT.$();if(i.length==0){i=$("<div id='"+this.getId()+"-spm-svg-table-ctn' class='sapGanttChartSPMSvgCtn' >"+"<svg id='"+this.getId()+"-spm-svg-table' class='sapGanttSPMaskSvg'>"+"</svg>"+"</div>");k.parent().append(i);}};
j.prototype._updateMaskSvg=function(){var i=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));var k=this._oTT.$();i.height(k.find(".sapUiTableCCnt").height());i.width($(document).width());i.css("top",this._oGanttChart.$().find(".sapGanttChartHeader").height()+1);i.css("min-width",k.find("table").css("min-width"));var l=i.find(".sapGanttSPMaskSvg");l.width(i.width());l.height(k.find(".sapUiTableCtrlCnt").height());};
j.prototype.getAxisOrdinal=function(){return this._oGanttChart.getAxisOrdinal();};
j.prototype.getAxisTime=function(){return this._oGanttChart.getAxisTime();};
j.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
j.prototype.expand=function(r){this._oTT.expand(r);return this;};
j.prototype.collapse=function(r){this._oTT.collapse(r);return this;};
j.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
j.prototype.setSelectedIndex=function(r){this._oTT.setSelectedIndex(r);return this;};
j.prototype.getSelectedIndex=function(){return this._oTT.getSelectedIndex();};
j.prototype.getFirstVisibleRow=function(){return this.getTableProperties().firstVisibleRow;};
j.prototype.setFirstVisibleRow=function(r){this.setTableProperties({firstVisibleRow:r});return this;};
j.prototype.getRows=function(){return this._oTT.getRows();};
j.prototype.exit=function(){this._detachToolbarEvents();this._oSplitter.destroy();};
j.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this._oGanttChart.notifySourceChange();};
j.prototype.autoResizeColumn=function(k){if(k>=0&&jQuery.isNumeric(k)){this._oTT.autoResizeColumn(k);}else{for(var i=this._oTT.getColumns().length;i>=0;i--){this._oTT.autoResizeColumn(i);}}};
j.prototype._autoResizeColumn=function(){if(this._oHierarchyConfigMap[this.getHierarchyKey()].getAutoResizeColumn()){this.autoResizeColumn();}};
j.prototype.redraw=function(H){this._oGanttChart.redraw(H);};
j.prototype.selectByUid=function(u){this._oGanttChart.selectByUid(u);};
j.prototype.getTTHsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);};
j.prototype.getTTVsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);};
j.prototype.getTCVsbDom=function(){return this._oGanttChart.getTTVsbDom();};
["addCustomToolbarItem","insertCustomToolbarItem","removeCustomToolbarItem","indexOfCustomToolbarItem","removeAllCustomToolbarItems","destroyCustomToolbarItems","getCustomToolbarItems"].forEach(function(m){j.prototype[m]=function(){return this._oToolbar[m].apply(this._oToolbar,arguments);};});return j;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTableRenderer',['sap/ui/core/theming/Parameters','sap/gantt/misc/Utility'],function(P,U){"use strict";var G={};
G.render=function(r,g){r.write("<div");r.writeControlData(g);r.addClass("sapUiTableHScr");r.addClass("sapGanttChartWithTable");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.write(">");this._setTableColumnHeaderHeight(g);r.renderControl(g._oSplitter);r.write("</div>");};
G._setTableColumnHeaderHeight=function(g){var h=g._oToolbar.getAllToolbarItems().length===0;if(h){var m=U.findSapUiSizeClass(g),H=jQuery.sap.endsWith(sap.ui.getCore().getConfiguration().getTheme(),"hcb"),i=0,p=H?4:2;if(m==="sapUiSizeCozy"){i=parseInt(P.get("_sap_gantt_Gantt_HeaderHeight"),10)-p;}else{i=parseInt(P.get("_sap_gantt_Gantt_CompactHeaderHeight"),10)-p;}g._oTT.setColumnHeaderHeight(i);}};
return G;},true);
sap.ui.predefine('sap/gantt/config/ChartScheme',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var C=E.extend("sap.gantt.config.ChartScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},name:{type:"string",defaultValue:null},rowSpan:{type:"int",defaultValue:1},icon:{type:"sap.ui.core.URI",defaultValue:null},modeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},haveBackground:{type:"boolean",defaultValue:false},backgroundClass:{type:"string"},shapeKeys:{type:"string[]",defaultValue:[]},rowIndexName:{type:"string",defaultValue:"rowIndex"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ColumnAttribute',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var C=E.extend("sap.gantt.config.ColumnAttribute",{metadata:{properties:{objectTypeKey:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ContainerLayout',['jquery.sap.global','sap/ui/core/Element','sap/ui/core/Orientation'],function(q,E,O){"use strict";
var C=E.extend("sap.gantt.config.ContainerLayout",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},text:{type:"string",defaultValue:sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("XLST_SINGLE_LAYOUT")},orientation:{type:"sap.ui.core.Orientation",defaultValue:O.Vertical},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},ganttChartLayouts:{type:"object[]",defaultValue:[]}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ExpandChart',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var a=E.extend("sap.gantt.config.ExpandChart",{metadata:{properties:{icon:{type:"sap.ui.core.URI",defaultValue:null},isExpand:{type:"boolean",defaultValue:null},chartSchemeKeys:{type:"string[]",defaultValue:[]}}}});
return a;},true);
sap.ui.predefine('sap/gantt/config/ExpandChartGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var E=T.extend("sap.gantt.config.ExpandChartGroup",{metadata:{properties:{expandCharts:{type:"object[]",defaultValue:[]},enableRichType:{type:"boolean"},showArrowText:{type:"boolean"}}}});
return E;},true);
sap.ui.predefine('sap/gantt/config/GanttChartLayout',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var G=E.extend("sap.gantt.config.GanttChartLayout",{metadata:{properties:{ganttChartSize:{type:"sap.ui.core.CSSSize",defaultValue:null},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY}}}});
return G;},true);
sap.ui.predefine('sap/gantt/config/Hierarchy',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var H=E.extend("sap.gantt.config.Hierarchy",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},text:{type:"string",defaultValue:"Default Hierarchy"},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY},columns:{type:"object[]"},expandedLevels:{type:"string[][]"}}}});
H.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setText(this._oRb.getText("XLST_DEFAULT_HIE"));};
return H;},true);
sap.ui.predefine('sap/gantt/config/HierarchyColumn',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var H=E.extend("sap.gantt.config.HierarchyColumn",{metadata:{properties:{key:{type:"string",defaultValue:null},title:{type:"string",defaultValue:null},contentType:{type:"string",defaultValue:null},sortAttribute:{type:"string",defaultValue:null},filterAttribute:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null},attributes:{type:"object[]",defaultValue:[]},width:{type:"sap.ui.core.CSSSize"}}}});
return H;},true);
sap.ui.predefine('sap/gantt/config/LayoutGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var L=T.extend("sap.gantt.config.LayoutGroup",{metadata:{properties:{enableRichStyle:{type:"boolean",defaultValue:true},}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Locale',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var L=E.extend("sap.gantt.config.Locale",{metadata:{properties:{timeZone:{type:"string",defaultValue:"UTC"},utcdiff:{type:"string",defaultValue:"000000"},utcsign:{type:"string",defaultValue:"+"},dstHorizons:{type:"object[]",defaultValue:[]}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Mode',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var M=E.extend("sap.gantt.config.Mode",{metadata:{properties:{key:{type:"string",defaultValue:null},text:{type:"string",defaultValue:null},icon:{type:"sap.ui.core.URI",defaultValue:null},activeIcon:{type:"sap.ui.core.URI"}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ModeGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var M=T.extend("sap.gantt.config.ModeGroup",{metadata:{properties:{modeKeys:{type:"string[]",defaultValue:[]}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ObjectType',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var O=E.extend("sap.gantt.config.ObjectType",{metadata:{properties:{key:{type:"string",defaultValue:null},description:{type:"string",defaultValue:null},mainChartSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MAIN_CHART_SCHEME_KEY},expandedChartSchemeKeys:{type:"string[]",defaultValue:[]}}}});
return O;},true);
sap.ui.predefine('sap/gantt/config/SettingGroup',["./ToolbarGroup","./SettingItem"],function(T,S){"use strict";
var a=T.extend("sap.gantt.config.SettingGroup",{
library:"sap.gantt",
metadata:{properties:{items:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS}}}
});
return a;},true);
sap.ui.predefine('sap/gantt/config/SettingItem',["sap/ui/core/Element","./ToolbarGroup"],function(E,T){"use strict";
var S=E.extend("sap.gantt.config.SettingItem",{
library:"sap.gantt",
metadata:{properties:{checked:{type:"boolean",defaultValue:false},key:{type:"string",defaultValue:null},displayText:{type:"string",defaultValue:null}}}
});
return S;},true);
sap.ui.predefine('sap/gantt/config/Shape',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var S=E.extend("sap.gantt.config.Shape",{metadata:{properties:{key:{type:"string",defaultValue:null},shapeClassName:{type:"string",defaultValue:null},shapeDataName:{type:"string",defaultValue:null},modeKeys:{type:"string[]",defaultValue:[]},level:{type:"string",defaultValue:null},shapeProperties:{type:"object",defaultValue:sap.gantt.config.DEFAULT_EMPTY_OBJECT},groupAggregation:{type:"object[]"},clippathAggregation:{type:"object[]"},selectedClassName:{type:"string",defaultValue:null},switchOfCheckBox:{type:"string",defaultValue:"noShow"},resizeShadowClassName:{type:"string",defaultValue:null}}}});
S.prototype.hasShapeProperty=function(p){return this.getShapeProperties().hasOwnProperty(p);};
S.prototype.getShapeProperty=function(p){return this.getShapeProperties()[p];};
return S;},true);
sap.ui.predefine('sap/gantt/config/TimeAxis',["jquery.sap.global","sap/ui/core/Element"],function(q,E){"use strict";
var T=E.extend("sap.gantt.config.TimeAxis",{metadata:{library:"sap.gantt",properties:{planHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_PLAN_HORIZON},initHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_INIT_HORIZON},zoomStrategy:{type:"object",defaultValue:sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY},granularity:{type:"string",defaultValue:"4day"},finestGranularity:{type:"string",defaultValue:"5min"},coarsestGranularity:{type:"string",defaultValue:"1month"},rate:{type:"float",defaultValue:1}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeHorizon',['jquery.sap.global','sap/ui/core/Element',"sap/gantt/misc/Format"],function(q,E,F){"use strict";
var T=E.extend("sap.gantt.config.TimeHorizon",{metadata:{library:"sap.gantt",properties:{startTime:{type:"string",group:"Misc",defaultValue:undefined},endTime:{type:"string",group:"Misc",defaultValue:undefined}}}});
T.prototype.setStartTime=function(s){this.setProperty("startTime",this._convertTimestamp(s));};
T.prototype.setEndTime=function(e){this.setProperty("endTime",this._convertTimestamp(e));};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeZoomGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";var Z=sap.gantt.config.ZoomControlType;
var a=T.extend("sap.gantt.config.TimeZoomGroup",{metadata:{properties:{showZoomSlider:{type:"boolean",defaultValue:true},showZoomButtons:{type:"boolean",defaultValue:true},zoomControlType:{type:"sap.gantt.config.ZoomControlType",defaultValue:sap.gantt.config.ZoomControlType.SliderWithButtons},stepCountOfSlider:{type:"int",defaultValue:10},infoOfSelectItems:{type:"object[]"}}}});
a.prototype.getZoomControlType=function(){var d=Z.SliderWithButtons;var c=this.getProperty("zoomControlType");if(c==d){return this._getZoomControlTypeByDeprecatedProperties();}return c;};
a.prototype._getZoomControlTypeByDeprecatedProperties=function(){var s=this.getShowZoomSlider();var S=this.getShowZoomButtons();if(s&&S){return Z.SliderWithButtons;}if(s&&!S){return Z.SliderOnly;}if(!s&&S){return Z.ButtonsOnly;}if(!s&&!S){return Z.None;}return Z.SliderWithButtons;};
return a;},true);
sap.ui.predefine('sap/gantt/config/ToolbarGroup',['jquery.sap.global','sap/ui/core/Element',"sap/m/OverflowToolbarPriority"],function(q,E,O){"use strict";
var T=E.extend("sap.gantt.config.ToolbarGroup",{metadata:{properties:{position:{type:"string",defaultValue:null},overflowPriority:{type:"sap.m.OverflowToolbarPriority",defaultValue:O.Low},buttonType:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:sap.m.ButtonType.Default}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/ToolbarScheme',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var T=E.extend("sap.gantt.config.ToolbarScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},sourceSelect:{type:"object",defaultValue:null},layout:{type:"object",defaultValue:null},customToolbarItems:{type:"object",defaultValue:null},expandChart:{type:"object",defaultValue:null},expandTree:{type:"object",defaultValue:null},timeZoom:{type:"object",defaultValue:null},legend:{type:"object",defaultValue:null},settings:{type:"object",defaultValue:null},mode:{type:"object",defaultValue:null},toolbarDesign:{type:"string",defaultValue:sap.m.ToolbarDesign.Auto}}}});
T.prototype.setTimeZoom=function(t){var o=t;if(!(o instanceof sap.gantt.config.TimeZoomGroup)){o=new sap.gantt.config.TimeZoomGroup();o.setOverflowPriority(t.getOverflowPriority());o.setPosition(t.getPosition());}this.setProperty("timeZoom",o);return this;};
return T;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainer',["sap/ui/core/Control","sap/ui/core/Core"],function(C,a){"use strict";
var A=C.extend("sap.gantt.control.AssociateContainer",{metadata:{properties:{enableRootDiv:{type:"boolean",defaultValue:false}},associations:{content:{type:"sap.ui.core.Control",multiple:false}}}});
A.prototype.setContent=function(c){this.setAssociation("content",c);if(c){var o=typeof(c)==="string"?a.byId(c):c;o._oAC=this;}return this;};
return A;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainerRenderer',[],function(){"use strict";var A={};
A.render=function(r,c){if(c.getEnableRootDiv()){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLayoutBG");r.writeClasses();r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("overFlow","hidden");r.writeStyles();r.write(">");}r.renderControl(sap.ui.getCore().byId(c.getContent()));if(c.getEnableRootDiv()){r.write("</div>");}};
return A;},true);
sap.ui.predefine('sap/gantt/control/Cell',["sap/ui/core/Control","sap/m/Label","sap/ui/model/Context"],function(C,L,a){"use strict";
var b=C.extend("sap.gantt.control.Cell",{metadata:{properties:{cellCallback:{type:"object"},columnConfig:{type:"object"}}}});
b.prototype.setColumnConfig=function(c){this.setProperty("columnConfig",c);if(c){var A=c.getAttributes();if(A&&A.length>0){this._oMapAttributes={};A.forEach(function(o){this._oMapAttributes[o.getObjectTypeKey()]=o.getAttribute();}.bind(this));}}return this;};
b.prototype.createCellContent=function(c){var o=this.getCellCallback();if(o&&o.createCellContent){return o.createCellContent(c);}return new L();};
b.prototype.updateCellContent=function(c,o,A,O,d){var e=this.getCellCallback();if(e&&e.updateCellContent){e.updateCellContent(c,o,A,O,d);}else{c.setText(o.getProperty(A));}};
b.prototype._updateTableCell=function(c,o,$,A){if(!o){return;}if(!(o instanceof a)){o=o.context;}if(!this._oAttributeControl){this._oAttributeControl=this.createCellContent(this.getColumnConfig());}this._oContext=o;var r=this.data("rowTypeName");r=r?r:"type";var O=o.getProperty(r);if(this._oMapAttributes){this.updateCellContent(this._oAttributeControl,o,this._oMapAttributes[O],O,this.getColumnConfig());}else{this.updateCellContent(this._oAttributeControl,o,this.getColumnConfig().getAttribute(),O,this.getColumnConfig());}if(this.bOutput){var R=sap.ui.getCore().createRenderManager(),d=this._oAttributeControl.getRenderer();d.render(R,this._oAttributeControl);if($&&$.length>0){R.flush(this.getDomRef(),false,false);}R.destroy();}};
b.prototype.getContentToRender=function(){return this._oAttributeControl;};
b.prototype.getAccessibilityInfo=function(){var i=this.getContentToRender();return i&&i.getAccessibilityInfo?i.getAccessibilityInfo():null;};
return b;},true);
sap.ui.predefine('sap/gantt/control/CellRenderer',[],function(){"use strict";var C={};
C.render=function(r,c){var o=c.getContentToRender();r.write("<div");r.writeControlData(c);r.write(">");if(o){r.renderControl(o);}r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/gantt/control/Toolbar',["sap/ui/core/Control","sap/ui/core/Core","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbarPriority","sap/m/ToolbarSpacer","sap/m/FlexBox","sap/m/FlexDirection","sap/m/FlexJustifyContent","sap/m/Button","sap/m/ButtonType","sap/m/SegmentedButton","sap/m/Select","sap/ui/core/Item","sap/m/ViewSettingsDialog","sap/m/ViewSettingsCustomTab","sap/m/PlacementType","sap/m/CheckBox","sap/ui/core/Orientation","./AssociateContainer","sap/gantt/legend/LegendContainer","sap/gantt/misc/Utility","sap/m/Slider","sap/m/Popover"],function(C,a,O,b,c,T,F,d,e,B,f,S,g,h,V,j,P,k,l,A,L,U,n,o){"use strict";
var p=C.extend("sap.gantt.control.Toolbar",{metadata:{properties:{width:{type:"CSSSize",defaultValue:"100%"},height:{type:"CSSSize",defaultValue:"100%"},type:{type:"string",defaultValue:sap.gantt.control.ToolbarType.Global},sourceId:{type:"string"},zoomLevel:{type:"int",defaultValue:0},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},modes:{type:"object[]",defaultValue:[sap.gantt.config.DEFAULT_MODE]},mode:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemes:{type:"object[]",defaultValue:[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME,sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME]},hierarchies:{type:"object[]",defaultValue:[sap.gantt.config.DEFAULT_HIERARCHY]},containerLayouts:{type:"object[]",defaultValue:[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT,sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT]}},aggregations:{legend:{type:"sap.ui.core.Control",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem"},_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"}},events:{sourceChange:{parameters:{id:{type:"string"}}},layoutChange:{parameters:{id:{type:"string"},value:{type:"string"}}},expandChartChange:{parameters:{action:{type:"string"},expandedChartSchemes:{type:"[]"}}},expandTreeChange:{parameters:{action:{type:"string"}}},zoomStopChange:{parameters:{index:{type:"int"},selectedItem:{type:"sap.ui.core.Item"}}},settingsChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},modeChange:{parameters:{mode:{type:"string"}}}}}});
p.ToolbarItemPosition={Left:"Left",Right:"Right"};
p.prototype.init=function(){this._oToolbar=new O({width:"auto",design:sap.m.ToolbarDesign.Auto});this.setAggregation("_toolbar",this._oToolbar,true);this._bClearCustomItems=true;this._resetToolbarInfo();this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT;this._oZoomSlider=null;this._oSelect=null;this._iLiveChangeTimer=-1;this._aTimers=[];this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");};
p.prototype._resetToolbarInfo=function(){this._oItemConfiguration={Left:[],Right:[]};this._oAllItems={Left:[],Right:[]};if(this._bClearCustomItems){this._aCustomItems=[];this._iCustomItemInsertIndex=-1;}};
p.prototype.applySettings=function(s,i){if(this.getSourceId()&&this.getType()){this._resetAllCompositeControls();}var r=C.prototype.applySettings.apply(this,arguments);return r;};
p.prototype.onAfterRendering=function(){if(this._oVHButton&&jQuery("#"+this._oVHButton.getId())[0]){jQuery("#"+this._oVHButton.getId()).attr("aria-label",this._oRb.getText("TLTP_SWITCH_GANTTCHART"));}};
p.prototype.setLegend=function(i){this.setAggregation("legend",i);if(!this._oLegendPop){this._oLegendPop=new o({placement:P.Bottom,showArrow:false,showHeader:false});}if(i){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(i);this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());}};
p.prototype.updateZoomLevel=function(z){if(z>=0){if(this._oZoomSlider){this._oZoomSlider.setValue(z);}if(this._oSelect){this._oSelect.setSelectedItem(this._oSelect.getItems()[z]);}this.setZoomLevel(z);}};
p.prototype.setZoomLevel=function(z,i){this.setProperty("zoomLevel",z,i);if(this._oToolbarScheme&&!isNaN(z)&&this._oZoomInButton&&this._oZoomOutButton&&this._oToolbarScheme.getTimeZoom()){var m=this._oToolbarScheme.getTimeZoom().getStepCountOfSlider()-1,M=0;if(z===m){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else if(z===M){this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(false);}else{this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(true);}}};
p.prototype.setMode=function(m){this.setProperty("mode",m);if(this._oModeSegmentButton){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[m]);}return this;};
p.prototype.setHierarchies=function(H){this.setProperty("hierarchies",H,true);this._oHierarchyConfigMap={};if(H){for(var i=0;i<H.length;i++){this._oHierarchyConfigMap[H[i].getKey()]=H[i];}}this._resetAllCompositeControls();return this;};
p.prototype.setContainerLayouts=function(m){this.setProperty("containerLayouts",m,true);this._oContainerLayoutConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oContainerLayoutConfigMap[m[i].getKey()]=m[i];}}this._resetAllCompositeControls();return this;};
p.prototype.setModes=function(m){this.setProperty("modes",m,true);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
p.prototype.setToolbarDesign=function(t){this._oToolbar.setDesign(t);return this;};
p.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t,true);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}this._resetAllCompositeControls();return this;};
p.prototype.setSourceId=function(s){this.setProperty("sourceId",s,true);this._resetAllCompositeControls();return this;};
p.prototype.setType=function(t){this.setProperty("type",t,true);this._resetAllCompositeControls();return this;};
p.prototype.addCustomToolbarItem=function(i){if(this._iCustomItemInsertIndex==-1){this._oToolbar.insertContent(i,0);this._iCustomItemInsertIndex++;}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex+1);this._iCustomItemInsertIndex++;}this._aCustomItems.push(i);return this;};
p.prototype.insertCustomToolbarItem=function(i,I){var m=this._aCustomItems.length;if(I>=m){I=m;}if(this._iCustomItemInsertIndex===-1){this._oToolbar.insertContent(i,0);this._aCustomItems.push(i);}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex-this._aCustomItems.length+1+I);this._aCustomItems.splice(I,0,i);}this._iCustomItemInsertIndex++;return this;};
p.prototype.removeCustomToolbarItem=function(v){if(this._aCustomItems.length===0){return this._aCustomItems;}if((typeof v)==="number"){var i=this._aCustomItems.length;var r=v>i?i:v;this._oToolbar.removeContent(this._iCustomItemInsertIndex-i+r+1);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(r,1);}else if(v){this._oToolbar.removeContent(v);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(jQuery.inArray(v,this._aCustomItems),1);}};
p.prototype.getCustomToolbarItems=function(){return this._aCustomItems.slice(0);};
p.prototype.destroyCustomToolbarItems=function(){var i=this.removeAllCustomToolbarItems();i.forEach(function(m){m.destroy();});return i;};
p.prototype.removeAllCustomToolbarItems=function(){var r=[];for(var i=0;i<this._aCustomItems.length;i++){r.push(this._oToolbar.removeContent(this._aCustomItems[i]));}this._iCustomItemInsertIndex=this._iCustomItemInsertIndex-this._aCustomItems.length;this._aCustomItems.splice(0,this._aCustomItems.length);return r;};
p.prototype._resetAllCompositeControls=function(){this._determineToolbarSchemeConfig(this.getSourceId());this._destroyCompositeControls();if(!this._sToolbarSchemeKey){return;}this._resolvePositions();var i,q,s=p.ToolbarItemPosition.Left,r=p.ToolbarItemPosition.Right;var t=this._oItemConfiguration[s];for(i=0;i<t.length;i++){if(t[i]){this._createCompositeControl(s,i,t[i]);}}var R=this._oItemConfiguration[r];for(i=R.length-1;i>=0;i--){if(R[i]){this._createCompositeControl(r,i,R[i]);}}var u=function(q){if(jQuery.isArray(q)){for(var m=0;m<q.length;m++){this._oToolbar.addContent(q[m]);}}else if(q){this._oToolbar.addContent(q);}};for(i=0;i<this._oAllItems[s].length;i++){q=this._oAllItems[s][i];u.call(this,q);}if(this._oAllItems[s].length!==0||this._oAllItems[r].length!==0){this._oToolbar.addContent(new T());}for(i=0;i<this._oAllItems[r].length;i++){q=this._oAllItems[r][i];u.call(this,q);}};
p.prototype.getAllToolbarItems=function(){return this._oToolbar.getContent();};
p.prototype._determineToolbarSchemeConfig=function(s){this._sToolbarSchemeKey=null;if(this.getType()===sap.gantt.control.ToolbarType.Global&&this._oContainerLayoutConfigMap[s]){this._sToolbarSchemeKey=this._oContainerLayoutConfigMap[s].getToolbarSchemeKey();this._sInitMode=this.getMode()!=sap.gantt.config.DEFAULT_MODE_KEY?this.getMode():this._oContainerLayoutConfigMap[s].getActiveModeKey();}else if(this.getType()===sap.gantt.control.ToolbarType.Local&&this._oHierarchyConfigMap[s]){this._sToolbarSchemeKey=this._oHierarchyConfigMap[s].getToolbarSchemeKey();this._sInitMode=this.getMode()!=sap.gantt.config.DEFAULT_MODE_KEY?this.getMode():this._oHierarchyConfigMap[s].getActiveModeKey();}if(this._oToolbarScheme==this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey]){this._bClearCustomItems=false;}else{this._oToolbarScheme=this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey];this._bClearCustomItems=true;}if(this._oToolbarScheme&&this._oToolbarScheme.getProperty("toolbarDesign")){this.setToolbarDesign(this._oToolbarScheme.getProperty("toolbarDesign"));}};
p.prototype._destroyCompositeControls=function(){var i=this._oToolbar.removeAllContent();this._resetToolbarInfo();};
p.prototype._resolvePositions=function(){if(this._oToolbarScheme){jQuery.each(this._oToolbarScheme.getMetadata().getAllProperties(),function(m){if(m!=="key"&&m!=="toolbarDesign"){var q=this._oToolbarScheme.getProperty(m);if(q){var r=this._parsePosition(q.getPosition());this._oItemConfiguration[r.position][r.idx]=$.extend({},{groupId:m},q);}}}.bind(this));var s=this._oItemConfiguration;var i=Object.keys(s);i.forEach(function(m){var q=s[m],r=[];var t=Object.keys(q).sort();t.forEach(function(u,v){r.push(q[u]);});s[m]=r;});}};
p.prototype._parsePosition=function(s){return{position:s.toUpperCase().substr(0,1)==="L"?p.ToolbarItemPosition.Left:p.ToolbarItemPosition.Right,idx:parseInt(s.substr(1,s.length-1),10)};};
p.prototype._createCompositeControl=function(s,i,G){var v;switch(G.groupId){case"sourceSelect":v=this._genSourceSelectGroup(G);break;case"layout":v=this._genLayoutGroup(G);break;case"expandChart":v=this._genExpandChartGroup(G);break;case"expandTree":v=this._genExpandTreeGroup(G);break;case"customToolbarItems":v=this._genCustomToolbarItemGroup(s,G);break;case"mode":v=this._genModeButtonGroup(G);break;case"timeZoom":v=this._genTimeZoomGroupControls(G);break;case"legend":v=this._genLegend(G);break;case"settings":v=this._genSettings(G);break;default:break;}if(v){this._oAllItems[s]=this._oAllItems[s].concat(v);}};
p.prototype._genSourceSelectGroup=function(G){var s=this.getSourceId();var t=this;var i;this._oSourceSelectBox=new g({layoutData:new b({priority:G.getOverflowPriority()}),width:"200px",change:function(E){var q=E.getParameter("selectedItem");var r=q.oSourceConfig;t.fireSourceChange({id:q.getKey(),config:r});}});switch(this.getType()){case sap.gantt.control.ToolbarType.Global:i=this.getContainerLayouts();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_GLOBAL_HIERARCHY_RESOURCES"));break;case sap.gantt.control.ToolbarType.Local:i=this.getHierarchies();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_LOCAL_HIERARCHY_RESOURCES"));break;default:return null;}var m;for(var I=0;I<i.length;I++){m=new h({key:i[I].getKey(),text:i[I].getText()});m.oSourceConfig=i[I];this._oSourceSelectBox.addItem(m);if(m.getKey()===s){this._oSourceSelectBox.setSelectedItem(m);}}return this._oSourceSelectBox;};
p.prototype._genLayoutGroup=function(G){if(this.getType==="LOCAL"){return null;}var t=this,H=this.getHierarchies(),m,i;this._oAddGanttChartSelect=new g({icon:"sap-icon://add",type:sap.m.SelectType.IconOnly,autoAdjustWidth:true,maxWidth:"50px",tooltip:this._oRb.getText("TLTP_ADD_GANTTCHART"),forceSelection:false,layoutData:new b({priority:G.getOverflowPriority()}),change:function(q){if(q.getParameter("selectedItem")){var r=t.data("holder");if(r.getGanttCharts().length<r.getMaxNumOfGanttCharts()){if(!t._oLessGanttChartSelect.getEnabled()){t._oLessGanttChartSelect.setEnabled(true);if(t._oVHButton){t._oVHButton.setEnabled(true);}}if(r.getGanttCharts().length==r.getMaxNumOfGanttCharts()-1){this.setEnabled(false);}t.fireLayoutChange({id:"add",value:{hierarchyKey:q.getParameter("selectedItem").getKey(),hierarchyConfig:q.getParameter("selectedItem").data("hierarchyConfig")}});}if(r.getGanttCharts().length>r.getMaxNumOfGanttCharts()){this.setEnabled(false);}}}});if(H&&H.length>0){for(i=0;i<H.length;i++){m=new h({text:H[i].getText(),key:H[i].getKey()});m.data("hierarchyConfig",H[i]);this._oAddGanttChartSelect.addItem(m);}}var E=this._oContainerLayoutConfigMap[this.getSourceId()].getGanttChartLayouts().length>1?true:false;this._oLessGanttChartSelect=new g({icon:"sap-icon://less",type:sap.m.SelectType.IconOnly,tooltip:this._oRb.getText("TLTP_REMOVE_GANTTCHART"),maxWidth:"50px",autoAdjustWidth:true,forceSelection:false,enabled:E,layoutData:new b({priority:G.getOverflowPriority()}),change:function(q){if(q.getParameter("selectedItem")){var r=t.data("holder");if(r.getGanttCharts().length<=r.getMaxNumOfGanttCharts()){if(!t._oAddGanttChartSelect.getEnabled()){t._oAddGanttChartSelect.setEnabled(true);}}t.fireLayoutChange({id:"less",value:{hierarchyKey:q.getParameter("selectedItem").getKey(),hierarchyConfig:q.getParameter("selectedItem").data("hierarchyConfig"),ganttChartIndex:q.getParameter("selectedItem").data("ganttChartIndex")}});var u=q.getSource().getSelectedItem();if(u){u.setText("");}if(r.getGanttCharts().length==1){this.setEnabled(false);if(t._oVHButton){t._oVHButton.setEnabled(false);}}}}});this._oLessGanttChartSelect.addEventDelegate({onclick:this._fillLessGanttChartSelectItem},this);var I=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===l.Vertical?"sap-icon://resize-vertical":"sap-icon://resize-horizontal";var s=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===l.Vertical?this._oRb.getText("TLTP_ARRANGE_GANTTCHART_VERTICALLY"):this._oRb.getText("TLTP_ARRANGE_GANTTCHART_HORIZONTALLY");this._oVHButton=new B({icon:I,tooltip:s,type:G.getButtonType(),layoutData:new b({priority:G.getOverflowPriority()}),press:function(q){switch(this.getIcon()){case"sap-icon://resize-vertical":this.setIcon("sap-icon://resize-horizontal");this.setTooltip(t._oRb.getText("TLTP_ARRANGE_GANTTCHART_HORIZONTALLY"));t.fireLayoutChange({id:"orientation",value:l.Horizontal});break;case"sap-icon://resize-horizontal":this.setIcon("sap-icon://resize-vertical");this.setTooltip(t._oRb.getText("TLTP_ARRANGE_GANTTCHART_VERTICALLY"));t.fireLayoutChange({id:"orientation",value:l.Vertical});break;default:break;}}});this._oLayoutButton=[this._oAddGanttChartSelect,this._oLessGanttChartSelect,this._oVHButton];return this._oLayoutButton;};
p.prototype._fillLessGanttChartSelectItem=function(){var G=this.data("holder").getGanttCharts(),I;this._oLessGanttChartSelect.removeAllItems();if(G&&G.length>0){for(var i=0;i<G.length;i++){I=new h({text:this._oHierarchyConfigMap[G[i].getHierarchyKey()].getText(),key:G[i].getHierarchyKey()});I.data("hierarchyConfig",this._oHierarchyConfigMap[G[i].getHierarchyKey()]);I.data("ganttChartIndex",i);this._oLessGanttChartSelect.insertItem(I,i);}}};
p.prototype._genExpandChartGroup=function(G){this._aChartExpandButtons=[];var m=function(s){this.fireExpandChartChange({isExpand:s.getSource().data("isExpand"),expandedChartSchemes:s.getSource().data("chartSchemeKeys")});};var E=G.getExpandCharts(),q;for(var i=0;i<E.length;i++){var r=E[i];q=new B({icon:r.getIcon(),tooltip:r.getTooltip(),layoutData:new b({priority:G.getOverflowPriority()}),press:m.bind(this),type:G.getButtonType(),customData:[new sap.ui.core.CustomData({key:"isExpand",value:r.getIsExpand()}),new sap.ui.core.CustomData({key:"chartSchemeKeys",value:r.getChartSchemeKeys()})]});if(G.getShowArrowText()){q.setText(r.getIsExpand()?"":"");}this._aChartExpandButtons.push(q);}return this._aChartExpandButtons;};
p.prototype._genCustomToolbarItemGroup=function(s,G){if(this._iCustomItemInsertIndex===-1){if(s==p.ToolbarItemPosition.Left){var t=this._oAllItems[s].length;this._iCustomItemInsertIndex=t-1;}else{var t=this._oAllItems[p.ToolbarItemPosition.Left].length+1+this._oAllItems[s].length;this._iCustomItemInsertIndex=t-1;}}return this._aCustomItems;};
p.prototype._genExpandTreeGroup=function(G){var t=this;this._oTreeGroup=[new B({icon:"sap-icon://expand",tooltip:this._oRb.getText("TLTP_EXPAND"),type:G.getButtonType(),layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){t.fireExpandTreeChange({action:"expand"});}}),new B({icon:"sap-icon://collapse",tooltip:this._oRb.getText("TLTP_COLLAPSE"),layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){t.fireExpandTreeChange({action:"collapse"});}})];return this._oTreeGroup;};
p.prototype._genModeButtonGroup=function(G){var m=function(E){var s=E.getParameter("button");this.fireModeChange({mode:s.data("mode")});};this._oModeSegmentButton=new S({select:m.bind(this)});this._oModeButtonMap={};var J=function(i,M){if(this._oModesConfigMap[M]){var q=new B({icon:this._oModesConfigMap[M].getIcon(),activeIcon:this._oModesConfigMap[M].getActiveIcon(),type:G.getButtonType(),tooltip:this._oModesConfigMap[M].getText(),layoutData:new b({priority:G.getOverflowPriority()}),customData:[new sap.ui.core.CustomData({key:"mode",value:M})]});this._oModeButtonMap[M]=q;this._oModeSegmentButton.addButton(q);}};jQuery.each(G.getModeKeys(),J.bind(this));if(this._sInitMode){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[this._sInitMode]);}return this._oModeSegmentButton;};
p.prototype._genTimeZoomGroupControls=function(G){var t=this;var z=G.getZoomControlType(),r=[],s,Z,m,q;var u=new b({priority:G.getOverflowPriority()});var v=function(E,H){jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=-1;var J=this.getZoomLevel();this.setZoomLevel(E,true);if(J===E){return;}this.fireZoomStopChange({index:E,selectedItem:H});jQuery.sap.log.debug("Toolbar Zoom Stop index is changed, zoomLevel is: "+E);};if(z===sap.gantt.config.ZoomControlType.None){return r;}else if(z===sap.gantt.config.ZoomControlType.Select){var w=[],I=this._oToolbarScheme.getTimeZoom().getInfoOfSelectItems();if(I.length>0){if(I[0]instanceof h){w=I;}else{for(var i=0;i<I.length;i++){var x=new h({key:I[i].key,text:I[i].text});w.push(x);}}}s=new g({items:w,layoutData:u,change:function(E){var s=E.getSource();var H=s.getSelectedItem();var J=s.indexOfItem(H);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,t,v,[J,H]);}});this._oSelect=s;r.push(s);}else{var y=this._oToolbarScheme.getTimeZoom().getStepCountOfSlider();if(this.data("holder")&&this.data("holder").getSliderStep()){y=this.data("holder").getSliderStep();}if(z!==sap.gantt.config.ZoomControlType.ButtonsOnly){Z=new n({width:"200px",layoutData:u,max:y-1,value:this.getZoomLevel(),min:0,step:1,liveChange:function(E){var H=parseInt(E.getParameter("value"),10);jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,v,[H]);}.bind(this)});}if(z!==sap.gantt.config.ZoomControlType.SliderOnly){var D=function(E){return function(H){var J=parseInt(E?this._oZoomSlider.stepUp(1).getValue():this._oZoomSlider.stepDown(1).getValue(),10);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,v,[J]);};};m=new sap.m.Button({icon:"sap-icon://zoom-in",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_IN"),layoutData:u.clone(),press:D(true).bind(this)});q=new B({icon:"sap-icon://zoom-out",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_OUT"),layoutData:u.clone(),press:D(false).bind(this)});}if(q){r.push(q);this._oZoomOutButton=q;}if(Z){r.push(Z);this._oZoomSlider=Z;}if(m){r.push(m);this._oZoomInButton=m;}}return r;};
p.prototype._genLegend=function(G){if(!this._oLegendPop){this._oLegendPop=new o({placement:P.Bottom,showArrow:false,showHeader:false});}if(this.getLegend()){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(this.getLegend());}this._oLegendButton=new B({icon:"sap-icon://legend",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SHOW_LEGEND"),layoutData:new b({priority:G.getOverflowPriority(),closeOverflowOnInteraction:false}),press:function(E){this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());var i=this._oLegendPop;if(i.isOpen()){i.close();}else{i.openBy(this._oLegendButton);}}.bind(this)});return this._oLegendButton;};
p.prototype._genSettings=function(G){var s=G.getItems()||[];var t=this;var m=s.map(function(i){return new k({name:i.getKey(),text:i.getDisplayText(),tooltip:i.getTooltip(),selected:i.getChecked()}).addStyleClass("sapUiSettingBoxItem");});this._aOldSettingState=m.map(function(i){return i.getSelected();});var r=function(m){for(var i=0;i<m.length;i++){switch(m[i].getName()){case sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY:m[i].setSelected(this.getEnableNowLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:m[i].setSelected(this.getEnableCursorLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:m[i].setSelected(this.getEnableVerticalLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY:m[i].setSelected(this.getEnableAdhocLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:m[i].setSelected(this.getEnableTimeScrollSync());break;default:break;}}}.bind(this);this._oSettingsBox=new F({direction:d.Column,items:m}).addStyleClass("sapUiSettingBox");this._oSettingsDialog=new V({title:this._oRb.getText("SETTINGS_DIALOG_TITLE"),customTabs:[new j({content:this._oSettingsBox})],confirm:function(){var q=this._oSettingsBox.getItems();var u=[];for(var i=0;i<q.length;i++){u.push({id:q[i].getName(),value:q[i].getSelected()});t._aOldSettingState[i]=q[i].getSelected();}this.fireSettingsChange(u);}.bind(this),cancel:function(){r(m);}});this._oSettingsButton=new B({icon:"sap-icon://action-settings",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_CHANGE_SETTINGS"),layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){this._oSettingsDialog.open();}.bind(this)});return this._oSettingsButton;};
p.prototype.getToolbarSchemeKey=function(){return this._sToolbarSchemeKey;};
p.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY,E);}return this;};
p.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,E);}return this;};
p.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,E);}return this;};
p.prototype.setEnableTimeScrollSync=function(E){this.setProperty("enableTimeScrollSync",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,E);}return this;};
p.prototype._setSettingItemProperties=function(s,m){var q=this._oSettingsBox.getItems();for(var i=0;i<q.length;i++){if(q[i].getName()===s){q[i].setSelected(m);break;}}};
p.prototype.exit=function(){if(this._oLegendPop){this._oLegendPop.destroy(false);}if(this._oSettingsPop){this._oSettingsPop.destroy(false);}};
p.prototype._calcOffsetForLegendPopover=function(){var i=0,m=65;var q=1;var z=1;var r=window.devicePixelRatio||1;r=Math.round(r*100)/100;if(sap.ui.Device.browser.name==="ie"){z=Math.round((screen.deviceXDPI/screen.logicalXDPI)*100)/100;}else if(sap.ui.Device.browser.name==="cr"){z=Math.round((window.outerWidth/window.innerWidth)*100)/100;}else{z=r;}if(z!==1){if(z<1||(z-1)%1===0){m+=m*(z-1)*0.1;}else{m=85;}r=Math.round(r*10)/10;if(z<1){q=r+Math.floor((1-z)*10)/10;}else if(z<=1.1){q=Math.round(z*10)/10*r;}else{q=r-Math.floor((z-1.1)*10)/10;}}if(a.getConfiguration().getRTL()===true){i=140;}else{var s=this._oLegendPop.getContent();if(s&&s.length>0){var t=sap.ui.getCore().byId(s[0].getContent());i=Math.round((m-parseInt(t.getWidth(),10))*q);}}return i;};
p.prototype.getZoomLevels=function(){if(this._oToolbarScheme){var t=this._oToolbarScheme.getTimeZoom();if(t){switch(t.getZoomControlType()){case sap.gantt.config.ZoomControlType.Select:return t.getTextsOfSelect()||0;case sap.gantt.config.ZoomControlType.None:return-1;default:return t.getStepCountOfSlider();}}}return-1;};
return p;},true);
sap.ui.predefine('sap/gantt/control/ToolbarRenderer',[],function(){"use strict";var T={};
T.render=function(r,t){var n=t.getAllToolbarItems().length;r.write("<div");r.writeControlData(t);r.addClass("sapGanttToolbar");if(n==0){r.addClass("sapGanttSkipToolbar");}r.writeClasses();r.write(">");r.renderControl(t.getAggregation("_toolbar"));r.write("</div>");};
return T;},true);
sap.ui.predefine('sap/gantt/def/DefBase',["sap/ui/core/Element"],function(E){"use strict";
var D=E.extend("sap.gantt.def.DefBase",{metadata:{"abstract":true,properties:{defString:{type:"string",defaultValue:null},refString:{type:"string",defaultValue:null}}}});
D.prototype.getRefString=function(){var d=this.getProperty("refString");return d?d:"url(#"+this.generateRefId()+")";};
D.prototype.generateRefId=function(){return this.getId();};
return D;},true);
sap.ui.predefine('sap/gantt/def/SvgDefs',["sap/ui/base/ManagedObject",'sap/ui/core/Element'],function(M,E){"use strict";
var S=E.extend("sap.gantt.def.SvgDefs",{metadata:{aggregations:{defs:{type:"sap.gantt.def.DefBase",multiple:true,visibility:"public",singularName:"def",bindable:"bindable"}}}});
S.prototype.getDefString=function(){var r="<defs id='"+this.getId()+"'>",d=this.getDefs();if(d&&d.length>0){d.forEach(function(D,i){r+=D.getDefString();});}return r+"</defs>";};
S.prototype.getDefNode=function(){var r={"id":this.getId(),"defNodes":[]};var d=this.getDefs();for(var i=0;i<d.length;i++){r.defNodes.push(d[i].getDefNode());}return r;};
return S;},true);
sap.ui.predefine('sap/gantt/def/cal/Calendar',["../DefBase","sap/gantt/misc/Format"],function(D,F){"use strict";
var C=D.extend("sap.gantt.def.cal.Calendar",{metadata:{properties:{key:{type:"string",defaultValue:"calendar"},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#e5e5e5"}},aggregations:{timeIntervals:{type:"sap.gantt.def.cal.TimeInterval",multiple:true,singularName:"timeInterval",bindable:"bindable"}}}});
C.prototype.getDefNode=function(){var t=this.getTimeIntervals();var s=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent()._oStatusSet:null;var v=s?s.aViewBoundary:null;var T=s?s.aTimeBoundary:null;var f=t;if(T&&s){f=t.filter(function(o){var a=F.abapTimestampToDate(o.getStartTime());var e=F.abapTimestampToDate(o.getEndTime());if(s.bRTL===true){return(e<T[0]&&e>T[1])||(a>T[1]&&a<T[0]);}else{return(e<T[1]&&e>T[0])||(a>T[0]&&a<T[1]);}});}var w=(v&&v.length>1)?(v[1]-v[0]):1;var p={id:this.generateRefId(),x:0,y:0,width:w,timeIntervals:[]};for(var i=0;i<f.length;i++){var I=f[i].getDefNode();I.fill=this.getBackgroundColor();p.timeIntervals.push(I);}return p;};
C.prototype.generateRefId=function(){var i=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent().getId():"";return i+"_"+this.getKey();};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/CalendarDefs',["sap/gantt/def/SvgDefs"],function(S){"use strict";
var C=S.extend("sap.gantt.def.cal.CalendarDefs",{});
C.prototype.getRefString=function(c){var i="";if(this.getParent()&&this.getParent().getId()){i=this.getParent().getId();}return"url(#"+i+"_"+c+")";};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/TimeInterval',["../DefBase","sap/gantt/misc/Format","sap/ui/core/Core"],function(D,F,C){"use strict";
var T=D.extend("sap.gantt.def.cal.TimeInterval",{metadata:{properties:{startTime:{type:"string",group:"Misc",defaultValue:null},endTime:{type:"string",group:"Misc",defaultValue:null}}}});
T.prototype.setStartTime=function(s){this.setProperty("startTime",this._convertTimestamp(s));return this;};
T.prototype.setEndTime=function(e){this.setProperty("endTime",this._convertTimestamp(e));return this;};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
T.prototype.getDefNode=function(){var a=(this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().getParent())?this.getParent().getParent().getParent().getAxisTime():null;var s;var w;if(a){if(C.getConfiguration().getRTL()===true){s=a.timeToView(F.abapTimestampToDate(this.getEndTime()));w=a.timeToView(F.abapTimestampToDate(this.getStartTime()))-s;}else{s=a.timeToView(F.abapTimestampToDate(this.getStartTime()));w=a.timeToView(F.abapTimestampToDate(this.getEndTime()))-s;}}return{x:s,y:0,width:w};};
return T;},true);
sap.ui.predefine('sap/gantt/def/filter/MorphologyFilter',["../DefBase"],function(D){"use strict";
var M=D.extend("sap.gantt.def.filter.MorphologyFilter",{metadata:{properties:{operator:{type:"string",defaultValue:sap.gantt.def.filter.MorphologyOperator.Dilate},radius:{type:"string",defaultValue:"2,1"},colorMatrix:{type:"string",defaultValue:sap.gantt.def.filter.ColorMatrixValue.AllToWhite}}}});
M.prototype.getDefString=function(){return"<filter id='"+this.getId()+"'>"+"<feMorphology in='SourceAlpha' result='morphed' operator='"+this.getOperator()+"' radius='"+this.getRadius()+"'/>"+"<feColorMatrix in='morphed' result='recolored' type='matrix' values='"+this.getColorMatrix()+"'/>"+"<feMerge>"+"<feMergeNode in='recolored'/>"+"<feMergeNode in='SourceGraphic'/>"+"</feMerge>"+"</filter>";};
return M;},true);
sap.ui.predefine('sap/gantt/def/gradient/LinearGradient',["../DefBase"],function(D){"use strict";
var L=D.extend("sap.gantt.def.gradient.LinearGradient",{metadata:{properties:{x1:{type:"string",defaultValue:"0"},y1:{type:"string",defaultValue:"0"},x2:{type:"string",defaultValue:"100"},y2:{type:"string",defaultValue:"15"}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
L.prototype.getDefString=function(){var r="<linearGradient id='"+this.getId()+"' x1='"+this.getX1()+"' y1='"+this.getY1()+"' x2='"+this.getX2()+"' y2='"+this.getY2()+"'>";var s=this.getStops();for(var i=0;i<s.length;i++){r=r.concat(s[i].getDefString());}r=r.concat("</linearGradient>");return r;};
return L;},true);
sap.ui.predefine('sap/gantt/def/gradient/RadialGradient',["../DefBase"],function(D){"use strict";
var R=D.extend("sap.gantt.def.gradient.RadialGradient",{metadata:{properties:{cx:{type:"float",defaultValue:400},cy:{type:"float",defaultValue:200},r:{type:"float",defaultValue:300},fx:{type:"float",defaultValue:400},fy:{type:"float",defaultValue:200}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
return R;},true);
sap.ui.predefine('sap/gantt/def/gradient/Stop',["../DefBase"],function(D){"use strict";
var S=D.extend("sap.gantt.def.gradient.Stop",{metadata:{properties:{offSet:{type:"string",defaultValue:"5%"},stopColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#FFFFFF"}}}});
S.prototype.getDefString=function(){return"<stop id='"+this.getId()+"' offset='"+this.getOffSet()+"' stop-color='"+this.getStopColor()+"' />";};
return S;},true);
sap.ui.predefine('sap/gantt/def/pattern/BackSlashPattern',["./PatternBase"],function(P){"use strict";
var B=P.extend("sap.gantt.def.pattern.BackSlashPattern",{metadata:{properties:{path:{type:"string"},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}});
B.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M").concat(t/4).concat(",").concat(a/4*5).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0,0").concat(" ");s=s.concat("l").concat(t).concat(",").concat(a).concat(" ");s=s.concat("M").concat(t/4*5).concat(",").concat(a/4).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
B.prototype.getDefString=function(){return"<pattern class='pattern' id='"+this.getId()+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+(this.getTileHeight()+4)+"' stroke-width='"+this.getStrokeWidth()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return B;},true);
sap.ui.predefine('sap/gantt/def/pattern/PatternBase',["../DefBase"],function(D){"use strict";
var P=D.extend("sap.gantt.def.pattern.PatternBase",{metadata:{"abstract":true,properties:{tileWidth:{type:"int",defaultValue:8},tileHeight:{type:"int",defaultValue:8},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#fff"},backgroundFillOpacity:{type:"float",defaultValue:"1"}}}});
return P;},true);
sap.ui.predefine('sap/gantt/def/pattern/SlashPattern',["./PatternBase"],function(P){"use strict";
var S=P.extend("sap.gantt.def.pattern.SlashPattern",{
library:"sap.gantt",
metadata:{properties:{path:{type:"string",defaultValue:null},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}
});
S.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M-").concat(t/4).concat(",").concat(a/4).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0").concat(",").concat(a).concat(" ");s=s.concat("l").concat(t).concat(",-").concat(a).concat(" ");s=s.concat("M").concat(t/4*3).concat(",").concat(a/4*5).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
S.prototype.getDefString=function(){return"<pattern class='pattern' id='"+this.getId()+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/AdhocLine',["sap/ui/core/Core","sap/gantt/misc/Utility","./Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(C,U,D,F){"use strict";
var A=D.extend("sap.gantt.drawer.AdhocLine",{constructor:function(a){this.oAxisTime=a;}});
A.prototype.drawSvg=function(g,a,s,l){if(!a||a.length==0){return;}var v=C.getConfiguration().getRTL()?s.aTimeBoundary[1]:s.aTimeBoundary[0],V=C.getConfiguration().getRTL()?s.aTimeBoundary[0]:s.aTimeBoundary[1];var b=a.filter(function(d,I){var h=F.abapTimestampToDate(d.getTimeStamp());if(v<=h&&h<=V){return true;}return false;});g.selectAll(".sapGanttChartAdhocLine").remove();if(b.length==0){return;}var c=jQuery(g.node()),i=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());if(l===sap.gantt.AdhocLineLayer.Top){g.append("g").classed("sapGanttChartAdhocLine",true);}else if(l===sap.gantt.AdhocLineLayer.Bottom){var o=document.createElementNS(d3.ns.prefix.svg,"g");o.setAttribute("class","sapGanttChartAdhocLine");var w=U.attributeEqualSelector("id",g.attr("id"));var e=jQuery(w).find(".sapGanttChartCalendar");var B=jQuery(w).find(".sapGanttChartRowBackground");if(e.length>0){e.after(o);}else if(B.length>0){B.after(o);}else{g.insert("g",":first-child").classed("sapGanttChartAdhocLine",true);}}var o=g.select(".sapGanttChartAdhocLine");var f=o.selectAll(".sapGanttChartAdhocTimestamp").data(b);var t=this;f.enter().append("line").classed("sapGanttChartAdhocTimestamp",true).attr("x1",function(d){return t.oAxisTime.timeToView(F.abapTimestampToDate(d.getTimeStamp()));}).attr("y1",function(d){return 0;}).attr("x2",function(d){return t.oAxisTime.timeToView(F.abapTimestampToDate(d.getTimeStamp()));}).attr("y2",function(d){return i;}).attr("stroke",function(d){return d.getStroke();}).attr("stroke-width",function(d){return d.getStrokeWidth();}).attr("stroke-dasharray",function(d){return d.getStrokeDasharray();}).attr("stroke-opacity",function(d){return d.getStrokeOpacity();});f.selectAll("title").remove();f.insert("title",":first-child").text(function(d){return d.getDescription();});};
A.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartAdhocLine").remove();}};
return A;},true);
sap.ui.predefine('sap/gantt/drawer/CalendarPattern',["sap/ui/core/Core","sap/gantt/misc/Format","sap/ui/core/format/DateFormat","sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(C,F,D,a,U){"use strict";
var b=a.extend("sap.gantt.drawer.CalendarPattern");
b.prototype.drawSvg=function(s,p,P,S,B){this._oStatusSet=S;if(P&&P.getDefNode()&&P.getDefNode().defNodes){var c=P.getDefNode();var e=p+"-calendardefs";var w=U.attributeEqualSelector("id",e);if(!(d3.select(w).empty())){jQuery(w).remove();}var f=this._oStatusSet.aViewBoundary[1]-this._oStatusSet.aViewBoundary[0];if(f<0){f=this._oStatusSet.aViewBoundary[0]-this._oStatusSet.aViewBoundary[1];}var g={height:B,width:f};var h=s.select(w);if(h.empty()){h=s.insert("defs",":first-child").attr("id",e);}var i=h.selectAll(".calendarPattern").data(c.defNodes);i.enter().append("pattern").attr("class","calendarPattern").attr("id",function(d){return d.id;}).attr("patternUnits","userSpaceOnUse").attr("x",0).attr("y",0).attr("width",g.width).attr("height",g.height);i.exit().remove();var j=i.selectAll("rect").data(function(){return this.parentNode.__data__.timeIntervals;});j.enter().append("rect");j.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).attr("width",function(d){return d.width;}).attr("height",g.height).attr("fill",function(d){return d.fill;});j.exit().remove();}};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/CursorLine',["sap/ui/core/Core","sap/ui/Device","sap/gantt/misc/Format","sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(C,D,F,a,U){"use strict";
var b=a.extend("sap.gantt.drawer.CursorLine");
b.prototype.drawSvg=function(s,S,l,c){this._oLocale=l;var i=jQuery(U.attributeEqualSelector("id",c.svgId)).offset().left;var A=[];s.each(function(d,e){var o=jQuery(this),f=o.offset();A.push({x:c.x+i-f.left,y:c.y,svgId:o.attr("id"),svgHeight:o.height()});});var t=this;S.each(function(d,e){var h=t._createHeaderTopG(d3.select(this));t._drawHeaderLabel(h,A[e]);});s.each(function(d,e){var B=t._createBodyTopG(d3.select(this));t._drawCursorLine(B,A[e]);});};
b.prototype._createBodyTopG=function(s){var B=s.selectAll(".cursorline-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});B.enter().append("g").classed("cursorline-top",true);B.exit().remove();return B;};
b.prototype._drawCursorLine=function(g,s){var p=g.selectAll("path").data(function(d){return[{svgHeight:d.svgHeight,x:s.x,y:s.y}];});p.enter().append("path").classed("sapGanttCursorLineBody",true);p.attr("d",function(d){return"M"+d.x+",0v"+d.svgHeight+"h1h-1";});p.exit().remove();};
b.prototype._createHeaderTopG=function(s){var h=s.selectAll(".cursorline-header-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});h.enter().append("g").classed("cursorline-header-top",true);h.exit().remove();return h;};
b.prototype._drawHeaderLabel=function(g,s){var t=this;var A=this._getAxisTime(s.svgId);var r=g.selectAll("rect").data(function(d){return[{svgHeight:d.svgHeight,svgId:d.svgId,x:s.x,y:s.y}];});r.enter().append("rect").classed("sapGanttCursorLineHeader",true);r.attr("width",function(d){return 64;}).attr("height",function(d){return d.svgHeight>80?30:25;}).attr("x",function(d){return d.x-parseFloat(r.attr('width'))/2;}).attr("y",function(d){return d.svgHeight-parseFloat(r.attr('height'))-5;});r.exit().remove();var T=g.selectAll("text").data(function(d){return[{x:parseFloat(r.attr('x'))+parseFloat(r.attr('width')/2),y:parseFloat(r.attr('y'))+parseFloat(r.attr('height')/2)}];});T.enter().append("text").classed("sapGanttCursorLineLabel",true);T.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).text(function(d){return t._getTimeLabel(F.dateToAbapTimestamp(A.viewToTime(d.x)),t._oLocale,A);});if(D.browser.msie){T.attr("dy",".35em");}T.exit().remove();};
b.prototype.destroySvg=function(s,S){s.selectAll(".cursorline-top").remove();S.selectAll(".cursorline-header-top").remove();};
b.prototype._getAxisTime=function(e){var w=U.attributeEqualSelector("id",e);var $=jQuery(w);var A=null;if($&&$.control()){A=$.control()[0].getAxisTime();}return A;};
b.prototype._getTimeLabel=function(t,l,A){var L=F._convertUTCToLocalTime(t,l),z=A.getZoomStrategy();return z.getLowerRowFormatter().format(L);};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/Drawer',["sap/ui/base/Object"],function(O){"use strict";
var D=O.extend("sap.gantt.drawer.Drawer",{metadata:{"abstract":true}});
return D;},true);
sap.ui.predefine('sap/gantt/drawer/ExpandedBackground',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D,U,C){"use strict";
var E=D.extend("sap.gantt.drawer.ExpandedBackground");
E.prototype.drawSvg=function(s,d,c){if(!d){return null;}var e=[];for(var i=0;i<d.length;i++){if((d[i].index&&d[i].index!==0)||c.hasOwnProperty(d[i].chartScheme)){e.push(d[i]);}}var b=s.selectAll(".sapGanttChartRowBackground").remove();b=s.insert("g",":first-child").classed("sapGanttChartRowBackground",true);var S=b.selectAll(".expandedRow").data(e);S.enter().append("g").classed("expandedRow",true);S.exit().remove();if(!S.empty()){var a=jQuery(s.node()).width();this._drawExpandedBackground(s,a,c);}};
E.prototype._drawExpandedBackground=function(s,w,c){s.selectAll(".expandedRow").selectAll("rect").remove();s.selectAll(".expandedRow").append("rect").attr("x",function(d){return 0;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",function(d){return"100%";}).attr("class",function(d){var b=c[d.chartScheme];if(b&&b!==""){return b;}else{return"sapGanttExpandChartCntBG";}});s.selectAll(".expandedRow").selectAll("path").remove();s.selectAll(".expandedRow").append("path").classed("sapGanttExpandChartLine",true).attr("d",function(d){return"M0 "+(d.y-1)+" H"+(w-1);});};
return E;},true);
sap.ui.predefine('sap/gantt/drawer/NowLine',["sap/gantt/misc/Utility","./Drawer","sap/ui/thirdparty/d3"],function(U,D){"use strict";var l=8;
var N=D.extend("sap.gantt.drawer.NowLine",{constructor:function(a){this.oAxisTime=a;}});
N.prototype.drawSvg=function(g,G){this.destroySvg(g,G);var n=this.oAxisTime.getNowLabel()[0].value;var c=jQuery(g.node()).width();if(n>c){return;}var C=g,o=G;var s={x:n,y:jQuery(G.node()).height()};this._drawHeaderTriangle(s,o);this._drawBodyStaightLine(s,C);};
N.prototype._drawHeaderTriangle=function(s,p){var h=l/2,t=Math.sqrt(l*l-h*h);var T=[s,{x:s.x-h,y:s.y-t},{x:s.x+h,y:s.y-t},s];var L=d3.svg.line().x(function(d){return d.x;}).y(function(d){return d.y;}).interpolate("linera");p.append("g").classed("sapGanttNowLineHeaderSvgPath",true).append("path").attr("d",L(T));};
N.prototype._drawBodyStaightLine=function(s,p){var n=p.selectAll(".sapGanttNowLineBodySvgLine").data(function(){var w=jQuery(window).height();return[{x1:s.x,y1:0,x2:s.x,y2:s.y+w}];});n.enter().append("g").classed("sapGanttNowLineBodySvgLine",true);var o=n.selectAll("g").data(function(d){return[d];});o.enter().append("line");o.attr("x1",function(d){return d.x1;}).attr("y1",function(d){return d.y1;}).attr("x2",function(d){return d.x2;}).attr("y2",function(d){return d.y2;});o.exit().remove();};
N.prototype.destroySvg=function(g,G){if(g&&G){g.selectAll(".sapGanttNowLineBodySvgLine").remove();G.selectAll(".sapGanttNowLineHeaderSvgPath").remove();}};
return N;},true);
sap.ui.predefine('sap/gantt/drawer/SelectionPanel',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/Device","sap/ui/thirdparty/d3"],function(D,U,C,I,a){"use strict";
var S=D.extend("sap.gantt.drawer.SelectionPanel");
S.prototype.drawSvg=function(t,d,T,g){if(!d){return;}this._oGanttChartWithTable=g;var e=[];for(var i=0;i<d.length;i++){if(d[i].index&&d[i].index!==0){e.push(d[i]);}}var b=t.selectAll(".sapGanttSelectionPanel");if(b.empty()){b=t.append("g").classed("sapGanttSelectionPanel",true);}if(!b.empty()){var c=$(t.node()).width();var o=g._oGanttChart._composeChartSchemeBackgroundConfig();this._drawExpandedBackground(b,c,T,e,o);this._drawExpandedContent(b,c,T,e);}};
S.prototype._drawExpandedBackground=function(s,t,T,b,c){var h=s.selectAll(".sapGanttExpandChartHeader").data(b);h.enter().append("rect").classed("sapGanttExpandChartHeader",true);h.attr("x",function(){return C.getConfiguration().getRTL()?t-T+1:2;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",T-2).attr("class",function(d){var f=c?c[d.chartScheme]:undefined;if(f&&f!==""){return"sapGanttExpandChartHeader "+f;}else{return"sapGanttExpandChartHeader sapGanttExpandChartHeaderBG";}});h.exit().remove();var e=s.selectAll(".sapGanttExpandChartCnt").data(b);e.enter().append("rect").classed("sapGanttExpandChartCnt",true);e.attr("x",function(){return C.getConfiguration().getRTL()?2:T+1;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",t-T-3).attr("class",function(d){var f=c?c[d.chartScheme]:undefined;if(f&&f!==""){return"sapGanttExpandChartCnt "+f;}else{return"sapGanttExpandChartCnt sapGanttExpandChartCntBG";}});e.exit().remove();var B=s.selectAll("path.sapGanttExpandChartLine").data(b);B.enter().append("path").classed("sapGanttExpandChartLine",true);B.attr("d",function(d){return"M0 "+(d.y-1)+" H"+(t-1);});B.exit().remove();};
S.prototype._drawExpandedContent=function(s,t,T,b){var g=this._getLevelIndentByShape;var c=[];for(var i=0;i<b.length;i++){if(b[i].index===1){var e=[];e.push(b[i]);c.push(e);}}s.selectAll("g").remove();var f=s.selectAll("g").data(c);f.enter().append("g").classed("sapGanttExpandChartContent",true);f.exit().remove();var h=f.selectAll(".sapGanttExpandChartIcon").data(function(d){return d;});h.enter().append(function(d){if(I.isIconURI(d.icon)){return document.createElementNS(d3.ns.prefix.svg,"text");}return document.createElementNS(d3.ns.prefix.svg,"image");}).classed("sapGanttExpandChartIcon",true).classed("iconFont",function(d){return I.isIconURI(d.icon);}).classed("iconImage",function(d){return!(I.isIconURI(d.icon));});f.selectAll(".iconImage").attr("xlink:href",function(d){return d.icon;}).attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-17:g(d)+T;}).attr("y",function(d){return d.y+4.25;}).attr("width",16).attr("height",16);f.selectAll(".iconFont").attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d):g(d)+T;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo(d.icon);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo(d.icon);if(o){return o.fontFamily;}}).attr("font-size","16px");h.exit().remove();var j=f.selectAll("sapGanttExpandChartText").data(function(d){return d;});j.enter().append("text").classed("sapGanttExpandChartText",true);j.attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-26:g(d)+T+27;}).attr("y",function(d){return d.y+16.5;}).attr("font-size",function(d){return"0.75em";}).text(function(d){return d.name;}).attr("text-anchor",(a.browser.msie||a.browser.edge)&&C.getConfiguration().getRTL()?"end":"start");j.exit().remove();var k=this;var l=f.selectAll(".sapGanttExpandChartCloseButton").data(function(d){return d;});l.enter().append("text").classed("sapGanttExpandChartCloseButton",true);l.attr("x",function(d){var p,P=jQuery(this).prev("text");if(P&&P.length>0){var B=P[0].getBoundingClientRect();if(B&&B.width>0){p=B.width;}else{p=P[0].clientWidth;}}if(isNaN(p)||p==null||p==0){p=60;}var m=C.getConfiguration().getRTL()?t-T-g(d)-p-37:g(d)+T+p+35;return m;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.fontFamily;}}).attr("font-size","14px").attr("font-weight","bolder").on("click",function(d){var B=k._oGanttChartWithTable._oTT.getBinding("rows");var r=B.getContexts(0,B.getLength());var R=k._oGanttChartWithTable.getRowIdName();for(var i=0;i<r.length;i++){var o=r[i].getProperty();if(o&&d.id&&o[R]===d.id){k._oGanttChartWithTable.handleExpandChartChange(false,[d.chartScheme],[i]);}}});l.select("title").remove();l.insert("title",":first-child").text(function(d){return sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("TLTP_CLOSE");});l.exit().remove();};
S.prototype._getLevelIndentByShape=function(s){var f=13;var m=17;var i=25;var h=0;if(s&&s.bindingObj&&s.bindingObj._aRowIndexMap&&s.rowIndex&&s.rowIndex<s.bindingObj._aRowIndexMap.length){h=s.bindingObj._aRowIndexMap[s.rowIndex].level;}if(isNaN(h)||h==null){h=0;}return m*h+i+f;};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeCrossRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(D,U){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeCrossRow");
S.prototype.drawSvg=function(s,o,a,A){this._oAxisTime=a;this._oAxisOrdinal=A;var b=s.select("."+o.getId()+"-top");if(b.empty()){b=s.append("g").classed(o.getId()+"-top",true);}var r=[];for(var i in o.dataSet){r.push(o.dataSet[i].shapeData[0]);}var c=b.selectAll("."+o.getId()).data(r);this._drawPath(c,o);this._drawInsertTitle(c,o);};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o,t))?true:false;}).classed("enableSelected",function(d){return o.getEnableSelection(d,f(this,o,t))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o,t));}).attr("fill",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFill(d,f(this,o,t));}}).attr("stroke",function(d){return o.getStroke(d,f(this,o,t));}).attr("stroke-width",function(d){return o.getStrokeWidth(d,f(this,o,t));}).attr("stroke-dasharray",function(d){return o.getStrokeDasharray(d,f(this,o,t));}).attr("fill-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFillOpacity(d,f(this,o,t));}}).attr("stroke-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getStrokeOpacity(d,f(this,o,t));}});this.addDataAttributes(s);s.exit().remove();};
S.prototype._drawInsertTitle=function(s,o){var f=this._findObjectInfo;var t=this;s.select("title").remove();s.insert("title",":first-child").each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();if(sap.ui.Device.browser.msie){var l=o.getTitle(d,f(this,o)).split("\n");for(var i=0;i<l.length;i++){a.append("tspan").classed("sapGanttTooltipLine",true).text(l[i]);}}else{a.text(o.getTitle(d,f(this,o)));}});};
S.prototype._findObjectInfo=function(n,s,t,i){var r=n.__data__;var R=r;if(i){R=r.data.rawData;}var a={from:{objectInfo:R.fromObject.objectInfoRef?R.fromObject.objectInfoRef:R.fromObject,shapeRawData:R.fromShapeRawData},to:{objectInfo:R.toObject.objectInfoRef?R.toObject.objectInfoRef:R.toObject,shapeRawData:R.toShapeRawData}};return a;};
S.prototype.destroySvg=function(s,o){};
S.prototype.generateRelationshipDataSet=function(s,o,n,a,r,A,b){var R=r;var c=[];if(R!==undefined&&R.length>0){var d;var e;for(e in o){if(o[e].getCategory(null,A,b)===sap.gantt.shape.ShapeCategory.Relationship){d=o[e];break;}}if(d){var f={};for(e in o){if(o[e].dataSet&&o[e].dataSet!=""&&o[e].mShapeConfig.getShapeDataName()!=sap.gantt.shape.ShapeCategory.Relationship){U.generateObjectPathToObjectMap(o[e].dataSet,f,null);}}U.generateObjectPathToObjectMap(n,f,null);var g;var h;for(var i=0;i<R.length;i++){g=R[i];h=g;var j=d.getFromObjectPath(h,null);var k=f[j+"-"+d.getFromExpandRowIndex(h,null)];if(!k){continue;}var t=d.getToObjectPath(h,null);var l=f[t+"-"+d.getToExpandRowIndex(h,null)];if(!l){continue;}var m=d.getFromShapeId(h,null);var p=d.getFromDataId(h,null);var F=o[m].mShapeConfig.getShapeDataName();var q=this._findShapeDataFromRowObjectByShapeDataName(k,p,F);if(!q){continue;}var u=d.getToShapeId(h,null);var v=d.getToDataId(h,null);var T=o[u].mShapeConfig.getShapeDataName();var w=this._findShapeDataFromRowObjectByShapeDataName(l,v,T);if(!w){continue;}h.fromObject=k;h.toObject=l;h.fromShapeRawData=q;h.toShapeRawData=w;var x={"shapeData":[g]};c.push(x);}}}return c;};
S.prototype._findShapeDataFromRowObjectByShapeDataName=function(r,s,a){var o,b;if(r.shapeData){b=r.shapeData;}else if(r.data&&r.data[a]){b=r.data[a];}else if(r.data){return r.data;}else{b=r;}for(var i=0;i<b.length;i++){if(b[i].__id__!==undefined&&b[i].__id__==s){o=b[i];break;}}if(o==undefined&&b.length>0){o=b[0];}return o;};
S.prototype.addDataAttributes=function(s){s.attr("data-sap-gantt-shape-id",function(d){return d.__id__;});};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeInRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,U,F){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeInRow",{});
S.prototype.drawSvg=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;var c=s.select("."+o.getId()+"-top");if(c.empty()){c=s.append("g").classed(o.getId()+"-top",true);}if(sap.ui.getCore().byId(o.getId()).getMetadata().getName()==="sap.gantt.shape.cal.Calendar"){c.classed("sapGanttChartCalendar",true);}var r=o.getId()+"-row";var R=c.selectAll("."+r).data(o.dataSet);R.enter().append("g").classed(r,true);R.attr("data-sap-gantt-row-id",function(d){return d.objectInfoRef.id;});R.exit().remove();if(!R.empty()){this._recursiveDraw(R,o);}};
S.prototype.drawResizeShadow=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;if(o){var r=s.select(".resizingShadow");if(r.empty()){r=s.append("g").classed("resizingShadow",true);}var R=r.select("."+o.getId()+"-resize");if(R.empty()){R=r.append("g").classed(o.getId()+"-resize",true);}var c=R.data(o.dataSet);c.exit().remove();if(!c.empty()){this._recursiveDraw(c,o);}}};
S.prototype._recursiveDraw=function(g,s,a){var t=this;var b=g.selectAll("."+s.getId()).data(function(d){return t._bindRowData(d,a,this,s);});this._drawPerTag(b,s);this._drawInsertTitle(g,s);};
S.prototype._bindRowData=function(d,s,n,o){var v=this._oStatusSet&&this._oStatusSet.aViewBoundary?this._oStatusSet.aViewBoundary:undefined;var a=o.getIsBulk();var f,i;if(d){var r=[];if(d.shapeData){if(!(d.shapeData instanceof Array)){r=r.concat(d.shapeData);}else{for(i=0;i<d.shapeData.length;i++){if(d.shapeData[i]){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d.shapeData[i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r=r.concat(d.shapeData[i]);}}}}else if(s&&d[s]){if(d[s].length){for(i=0;i<d[s].length;i++){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d[s][i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r.push(d[s][i]);}}else{r.push(d[s]);}}else if(d){r=r.concat(d);}if(o.filterValidData&&(r.length>0)){r=o.filterValidData(r,d.objectInfoRef);}return r;}};
S.prototype._filterDataVisibleRange=function(f){var a=this._oAxisTime;var A=this._oAxisOrdinal;var v=f.aViewRange;var i=f.oShape.getIsDuration(f.dShapeData);if(i){var s=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));var e=a.timeToView(F.abapTimestampToDate(f.oShape.getEndTime(f.dShapeData,undefined,a,A,f.objectInfo)));if(this._oStatusSet.bRTL===true){return(e>v[1])||(s<v[0]);}else{return(e<v[0])||(s>v[1]);}}else{var t=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));return(t>v[1])||(t<v[0]);}return false;};
S.prototype._drawPerTag=function(s,o){switch(o.getTag()){case"g":this._drawGroup(s,o);break;case"line":this._drawLine(s,o);break;case"rect":this._drawRect(s,o);break;case"text":this._drawText(s,o);break;case"path":this._drawPath(s,o);break;case"clippath":this._drawClipPath(s,o);break;case"image":this._drawImage(s,o);break;case"polygon":this._drawPolygon(s,o);break;case"polyline":this._drawPolyline(s,o);break;case"circle":this._drawCircle(s,o);break;case"defs":this._drawDefinitions(s,o);break;default:break;}if(o.getParent()===null){this.addDataAttributes(s);}};
S.prototype._drawGroup=function(s,o){var f=this._findObjectInfo;s.enter().append("g").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;});s.exit().remove();var a=o.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i],a[i].mShapeConfig.getShapeDataName());}}};
S.prototype._drawLine=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("line").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x1",function(d){return o.getX1(d,f(this,o));}).attr("y1",function(d){return o.getY1(d,f(this,o));}).attr("x2",function(d){return o.getX2(d,f(this,o));}).attr("y2",function(d){return o.getY2(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawRect=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("rect").classed(o.getId(),true);s.classed(o.getHtmlClass(),function(d){return o.getHtmlClass(d,f(this,o))?true:false;}).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).classed("enableClone",function(d){return o.getEnableDnD(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("rx",function(d){return o.getRx(d,f(this,o));}).attr("ry",function(d){return o.getRy(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("clip-path",function(d){return o.getClipPath(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawText=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("text").classed(o.getId(),true);s.classed("sapGanttShapeSvgText",true).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("text-anchor",function(d){return o.getTextAnchor(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));}).text(function(d){return o.getText(d,f(this,o));}).each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();var O=f(this,o);var n=o.getWrapWidth(d,O);var b=o.getTruncateWidth(d,O);if(b>-1){t._textTruncate(d,a,b,o.getEllipsisWidth(d,O));}else if(n>-1){t._textWrap(d,this,n,o.getWrapDy(d,O));}});s.exit().remove();};
S.prototype._textTruncate=function(d,s,n,a){var b=s.node().getComputedTextLength();if(b>n){var t=s.text().trim(),c,e;if(a>-1&&a<n){e=true;c=n-a;}else{e=false;c=n;}var f=this._getTextTruncatCountByBinarySearch(s,b,c,t);t=t.slice(0,f).trim();s.text(t);if(e){if(sap.ui.Device.browser.name==="cr"){s.append("tspan").text("...").attr("textLength",s.node().getComputedTextLength()).attr("lengthAdjust","spacingAndGlyphs");}else{s.append("tspan").text("...").attr("textLength",a).attr("lengthAdjust","spacingAndGlyphs");}}}};
S.prototype._getTextTruncatCountByBinarySearch=function(s,n,a,t){var b=0;if(a>0&&t.length>0){var c=Math.round(a/Math.ceil(n/t.length));var d,e,f;if(c<1){d=c;e=c+1;f=c+2;}else if(c==t.length){d=c-2;e=c-1;f=c;}else{d=c-1;e=c;f=c+1;}var g=s[0][0].getSubStringLength(0,e);var h=s[0][0].getSubStringLength(0,f);var i=s[0][0].getSubStringLength(0,d);if(g==a||(g<a&&h>a)){b=e;}else if(h==a){b=f;}else if(i==a||(i<a&&g>a)){b=d;}else{var j=1,k=t.length;if(h<a){j=f;}else if(i>a){k=d-1;}while(j<=k){e=Math.floor(j+(k-j)/2);g=s[0][0].getSubStringLength(0,e);h=s[0][0].getSubStringLength(0,e+1);if(g==a||(g<a&&h>a)){b=e;break;}else if(g>a){k=e-1;}else{j=e+1;}}}}return(b>=0&&b<=t.length)?b:0;};
S.prototype._textWrap=function(d,s,n,a){};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawClipPath=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.selectAll("clipPath").remove();s.append("clipPath").attr("id",function(d){return o.getHtmlClass(d,f(this,o));}).append("path").attr("d",function(d){return o.getPaths()[0].getD(d,f(this,o));});s.exit().remove();};
S.prototype._drawImage=function(s,o){var f=this._findObjectInfo;s.enter().append("image").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("xlink:href",function(d){return o.getImage(d,f(this,o));}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolygon=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("polygon").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolyline=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("polyline").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawCircle=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("circle").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("cx",function(d){return o.getCx(d,f(this,o));}).attr("cy",function(d){return o.getCy(d,f(this,o));}).attr("r",function(d){return o.getR(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawDefinitions=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.each(function(d,i){jQuery(this).empty();var h=o.getContent(d,f(this));var x="<svg xmlns='"+d3.ns.prefix.svg+"'>"+h+"</svg>";this.appendChild(jQuery(x)[0].firstChild);});s.exit().remove();};
S.prototype._drawInsertTitle=function(g,s){var f=this._findObjectInfo;var a=g.selectAll("."+s.getId()+".hasTitle");a.select("title").remove();a.insert("title",":first-child").each(function(d){var o=d3.select(this);o.selectAll("tspan").remove();if(sap.ui.Device.browser.msie){var l=s.getTitle(d,f(this,s)).split("\n");for(var i=0;i<l.length;i++){o.append("tspan").classed("sapGanttTooltipLine",true).text(l[i]);}}else{o.text(s.getTitle(d,f(this,s)));}});};
S.prototype._findObjectInfo=function(n,s,i){var t=n;while(!t.__data__.objectInfoRef){t=t.parentNode;}return t.__data__.objectInfoRef;};
S.prototype.addDataAttributes=function(s){s.attr("data-sap-gantt-shape-id",function(d){return d.__id__;});};
S.prototype.destroySvg=function(s,o){};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/TimePeriodZoomRectangle',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D){"use strict";
var T=D.extend("sap.gantt.drawer.TimePeriodZoomRectangle");
T.prototype.drawSvg=function(s,x,h){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();s.append("rect").classed("sapGanttChartTimePeriodZoomRectangle",true).attr("x",function(){return x;}).attr("y",function(){return 0;}).attr("height",function(){return h;});};
T.prototype.updateSvg=function(s,S,e){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").attr("x",function(){return S;}).attr("width",function(){return e-S;});};
T.prototype.destroySvg=function(s){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();};
return T;},true);
sap.ui.predefine('sap/gantt/drawer/VerticalLine',["sap/gantt/misc/Utility","./Drawer","sap/ui/thirdparty/d3"],function(U,D){"use strict";
var V=D.extend("sap.gantt.drawer.VerticalLine",{constructor:function(a){this.oAxisTime=a;}});
V.prototype.drawSvg=function(g){var c=jQuery(g.node()),C=c.width(),a=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());var z=this.oAxisTime.getZoomStrategy();var t=this.oAxisTime.getTickTimeIntervalLabel(z.getTimeLineOption(),null,[0,C]);var T=t[1];var p="";for(var i=0;i<T.length;i++){p+=" M"+" "+(T[i].value-1/2)+" 0"+" L"+" "+(T[i].value-1/2)+" "+(a);}if(p){g.selectAll(".sapGanttChartVerticalLine").remove();var $=jQuery(g.select("rect").node());var s=$.attr("class")?$.attr("class").split(" ")[0]:"";if(sap.ui.getCore().byId(s)&&sap.ui.getCore().byId(s).getMetadata().getName()==="sap.gantt.shape.ext.RowBackgroundRectangle"){g.select("g").append("g").classed("sapGanttChartVerticalLine",true).append("path").attr("d",p);}else{g.insert("g",":first-child").classed("sapGanttChartVerticalLine",true).append("path").attr("d",p);}}};
V.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartVerticalLine").remove();}};
return V;},true);
sap.ui.predefine('sap/gantt/eventHandler/AutoScrollHandler',['jquery.sap.global','sap/ui/core/Element',"sap/ui/core/Core"],function(q,E,C){"use strict";
var A=E.extend("sap.gantt.eventHandler.AutoScrollHandler",{metadata:{properties:{horizontalThreshold:{type:"int",defaultValue:50},verticalThreshold:{type:"int",defaultValue:50},horizontalScrollStep:{type:"int",defaultValue:50},verticalScrollStep:{type:"int",defaultValue:50},delayInMillis:{type:"int",defaultValue:200}}}});
A.prototype.autoScroll=function(g,e){this.stop();var $=q(g.getDomSelectorById("svg-ctn"));var a=g._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar);var b=g._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar);if($.offset()){var s=$.offset().left;var S=s+$.width();var i=$.offset().top;var c=$.offset().top+$.height();var h=this.getHorizontalThreshold();var v=this.getVerticalThreshold();var H=this.getHorizontalScrollStep();var V=this.getVerticalScrollStep();var d=this.getDelayInMillis();if(e.pageX-s>0&&e.pageX-s<h){g._destroyCursorLine();this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){if(C.getConfiguration().getRTL()){a.scrollLeftRTL(a.scrollLeftRTL()-H);}else{a.scrollLeft(a.scrollLeft()-H);}});return"scrollLeft";}else if(S-e.pageX>0&&S-e.pageX<h){g._destroyCursorLine();this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){if(C.getConfiguration().getRTL()){a.scrollLeftRTL(a.scrollLeftRTL()+H);}else{a.scrollLeft(a.scrollLeft()+H);}});return"scrollRight";}else if(e.pageY-i>0&&e.pageY-i<(v-4)){this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){b.scrollTop(b.scrollTop()-V);});return"scrollTop";}else if(c-e.pageY>0&&c-e.pageY<(v+4)){this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){b.scrollTop(b.scrollTop()+V);});return"scrollBottom";}}};
A.prototype.stop=function(){q.sap.clearIntervalCall(this._iAutoScrollTimeout);};
return A;},true);
sap.ui.predefine('sap/gantt/eventHandler/MouseWheelHandler',["jquery.sap.global","sap/ui/Device","sap/ui/base/Object"],function(q,D,B){"use strict";
var M=B.extend("sap.gantt.eventHandler.MouseWheelHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._lastCalledMouseWheelZoom=0;this._iMouseWheelZoomTimer=undefined;}});
M.prototype.handleEvent=function(e){var o=e.originalEvent;var i=o.shiftKey;var I=o.ctrlKey;var s=this._getScrollDelta(o);var b=false;if(i){if(I){b=this._handleZoom(e,s);}else{this._handleHScroll(e,s);}}else{this._handleVScroll(e,s);}return b;};
M.prototype._getScrollDelta=function(e){var s=0;if(D.browser.firefox){s=e.detail;}else{s=e.deltaY||e.deltaX;}return s;};
M.prototype._handleZoom=function(e,s){var o=e.originalEvent;var z=this._oSourceChart.getAxisTimeStrategy();var i=false;if(z.getMouseWheelZoomType()!==sap.gantt.MouseWheelZoomType.None){var Z=s<0;if((!Z&&z.getZoomLevel()>0)||(Z&&z.getZoomLevel()<z.getZoomLevels()-1)){if(this._oSourceChart._destroyCursorLine){this._oSourceChart._destroyCursorLine();}var t=(!this._iMouseWheelZoomTimer&&(Date.now()-this._lastCalledMouseWheelZoom>100))?0:100;if(t===0){this._updateVisibleHorizon(o,s);}else{this._iMouseWheelZoomTimer=this._iMouseWheelZoomTimer||q.sap.delayedCall(t,this,this._updateVisibleHorizon,[o,s]);}i=true;}this._preventBubbleAndDefault(e);}return i;};
M.prototype._updateVisibleHorizon=function(e,s){this._lastCalledMouseWheelZoom=Date.now();var z=this._oSourceChart.getAxisTimeStrategy();var $=q(this._oSourceChart.getDomSelectorById("svg"));if($){var m=(D.browser.edge?e.clientX:e.pageX)-$.offset().left||e.offsetX;var t=z.getAxisTime().viewToTime(m);z.updateVisibleHorizonOnMouseWheelZoom(t,s);}this._iMouseWheelZoomTimer=undefined;};
M.prototype._handleHScroll=function(e,s){var h=this._oSourceChart.getTTHsbDom();var S=false;var b=s>0;if(h){if(b){S=Math.round(h.scrollLeft)===h.scrollWidth-h.clientWidth;}else{S=h.scrollLeft===0;}if(!S){this._preventBubbleAndDefault(e);h.scrollLeft+=s;}}};
M.prototype._handleVScroll=function(e,s){var v=this._oSourceChart.getTTVsbDom();var S=false;var b=s>0;if(v){if(b){S=Math.round(v.scrollTop)===v.scrollHeight-v.clientHeight;}else{S=v.scrollTop===0;}if(!S){this._preventBubbleAndDefault(e);var r=s/this._oSourceChart.getBaseRowHeight();if(r>1){r=Math.floor(r);}v.scrollTop+=r*this._getScrollingPixelsForRow();}}};
M.prototype._getScrollingPixelsForRow=function(){var t=this._oSourceChart._oTT;if(t){var v=t.getVisibleRowCount();var s=Math.max(1,v-t.getFixedRowCount()-t.getFixedBottomRowCount());var r=this._oSourceChart.getBaseRowHeight();var V=s*r;var b=t.getBinding("rows").getLength();var T=Math.max(b,v+1);var i=T*r;var a=Math.max(1,i-V-this._getRowHeightsDelta());var m;if(v>b){m=b;}else{m=Math.max(0,b-v-1);}return Math.ceil(a/Math.max(1,m));}return 0;};
M.prototype._getRowHeightsDelta=function(){var t=this._oSourceChart._oTT;if(t){var i=t.getBinding("rows").getLength();var v=t.getVisibleRowCount();var e=this._oSourceChart.getBaseRowHeight()*v;var r=this._oSourceChart._getRowHeights();if(v>i){r=r.slice(0,i);}var R=r.reduce(function(a,b){return a+b;},0)-e;if(R>0){R=Math.ceil(R);}return Math.max(0,R);}return 0;};
M.prototype._preventBubbleAndDefault=function(e){e.preventDefault();e.stopPropagation();};
return M;},true);
sap.ui.predefine('sap/gantt/eventHandler/ShapeResizeHandler',["jquery.sap.global","sap/ui/Device","sap/ui/base/Object","sap/gantt/misc/ShapeManager","sap/gantt/misc/Format","sap/ui/core/Core","sap/gantt/misc/Utility","sap/gantt/drawer/ShapeInRow"],function(q,D,B,S,F,C,U,a){"use strict";
var b=B.extend("sap.gantt.eventHandler.ShapeResizeHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._bResizing=false;this._oResizingData=undefined;this._oShapeManager=c._oShapeManager;this._oSourceChartId=this._oSourceChart.getId();this._oShapeInRowDrawer=new a();this._DEFAULT_RESIZE_CURSOR_SHOWING_THRESHOLD=15;this._DEFAULT_MOUSE_MOVE_PIXEL=3;this._TIMESTAMP_START_TIME_KEY="time";this._TIMESTAMP_END_TIME_KEY="endTime";}});
b.prototype.getIsResizing=function(){return this._bResizing;};
b.prototype.getResizingData=function(){return this._oResizingData;};
b.prototype.handleShapeResize=function(e){if(e.button===0){var s=d3.select(e.target).datum();if(e.target.getAttribute("class")&&s){var c=e.target.getAttribute("class").split(" ")[0];if(d3.select(e.target).classed("sapUiShapeResizingCursor")&&this._oShapeManager.isShapeResizable(s,c)&&this._oShapeManager.isShapeDuration(s,c)){this._handleShapeResizeStart(e);this._preventBubbleAndDefault(e);}}}};
b.prototype._handleShapeResizeStart=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=d3.select(e.target).datum();if(c){var r=U.getRowDatumByShapeUid(c.uid,this._oSourceChart.getId());if(r){r.y=this._oSourceChart._oAxisOrdinal.elementToView(r.uid);var x=e.pageX-s.offset().left||e.offsetX;var t=this._getTopShapeInstance(c,e.target.getAttribute("class").split(" ")[0]);var d,f;if(t){if(C.getConfiguration().getRTL()===true){d=t.getEndTime(c);f=t.getTime(c);}else{d=t.getTime(c);f=t.getEndTime(c);}}var o={"shapeData":c,"objectInfoRef":r};this._oResizingData={"oShapeData":o,"aOldTime":[d,f],"resizeStartPointX":x,"topShapeInstance":t};q(document.body).unbind("mousemove.shapeResizing");q(document.body).unbind("mouseup.shapeResizing");q(document.body).bind("mousemove.shapeResizing",this._handleShapeResizing.bind(this));q(document.body).bind("mouseup.shapeResizing",this._handleShapeResizeEnd.bind(this));}}};
b.prototype.checkShapeResizable=function(s,t,p){if(s&&t&&p){q(t).removeClass("sapUiShapeResizingCursor");var c=t.getAttribute("class")?t.getAttribute("class").split(" ")[0]:undefined;if(c.indexOf("__")<0){return;}if(this._oShapeManager.isShapeResizable(s,c)){var h,d,e;var o=this._getShapeInstance(s,c);if(o){var f=o.getTime(s);var E=o.getEndTime(s);d=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(f));e=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(E));h=Math.abs(e-p)<Math.abs(d-p)?Math.abs(e-p):Math.abs(d-p);}if(h<=this._DEFAULT_RESIZE_CURSOR_SHOWING_THRESHOLD){q(t).addClass("sapUiShapeResizingCursor");}else{q(t).removeClass("sapUiShapeResizingCursor");}}}};
b.prototype._preventBubbleAndDefault=function(e){e.preventDefault();e.stopPropagation();};
b.prototype._handleShapeResizing=function(e){if(!D.support.touch&&(e.button!==0||e.buttons===0||e.ctrlKey)){return false;}var s=q(this._oSourceChart.getDomSelectorById("svg"));var d=Math.abs((e.pageX-s.offset().left||e.offsetX)-this._oResizingData.resizeStartPointX);if(d>this._DEFAULT_MOUSE_MOVE_PIXEL){if(this._oResizingData!==undefined){this._updateResizingShapeData(e);this._bResizing=true;this._oSourceChart._oAutoScrollHandler.autoScroll(this._oSourceChart,e);}}};
b.prototype._updateResizingShapeData=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=e.pageX-s.offset().left||e.offsetX;var r=this._calculateResizedNewTime(c);this._drawResizingShadow(r);};
b.prototype._parseShapeTimeProperty=function(s,A){var p;if(s.mShapeConfig.hasShapeProperty(A)){var c=s.mShapeConfig.getShapeProperty(A);if(typeof c==="string"&&c.charAt(0)==="{"&&c.charAt(c.length-1)==="}"){p=c.substring(1,c.length-1);}}return p;};
b.prototype._drawResizingShadow=function(r){var s=d3.select(this._oSourceChart.getDomSelectorById("svg"));if(r){var c=q.extend(true,{},this._oResizingData.oShapeData.shapeData);var o=this._oResizingData.topShapeInstance.getAggregation("resizeShadowShape");var d=this._parseShapeTimeProperty(o,this._TIMESTAMP_START_TIME_KEY);var e=this._parseShapeTimeProperty(o,this._TIMESTAMP_END_TIME_KEY);var n,N;if(C.getConfiguration().getRTL()===true){n=r[1];N=r[0];}else{n=r[0];N=r[1];}if(c[d]){c[d]=n;}if(c[e]){c[e]=N;}var f={"objectInfoRef":this._oResizingData.oShapeData.objectInfoRef};f.shapeData=c;o.dataSet=[f];this._oShapeInRowDrawer.drawResizeShadow(s,o,this._oSourceChart.getAxisTime(),this._oSourceChart._oAxisOrdinal,this._oSourceChart._oStatusSet);}};
b.prototype._calculateResizedNewTime=function(c){var r=[];var n,N;var o=this._oResizingData.aOldTime[0];var d=this._oResizingData.aOldTime[1];var e=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(o));var f=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(d));var i=undefined;if(this._oResizingData.isLeftSideClick!==undefined&&this._oResizingData.isLeftSideClick!==null){i=this._oResizingData.isLeftSideClick;}else{i=Math.abs(this._oResizingData.resizeStartPointX-e)<Math.abs(this._oResizingData.resizeStartPointX-f)?true:false;this._oResizingData.isLeftSideClick=i;}if(i){N=d;if(c>=f){n=d;}else{n=F.dateToAbapTimestamp(this._oSourceChart.getAxisTime().viewToTime(c));}}else{n=o;if(c<=e){N=o;}else{N=F.dateToAbapTimestamp(this._oSourceChart.getAxisTime().viewToTime(c));}}r=[n,N];return r;};
b.prototype._getShapeInstance=function(s,c){var m=this._oShapeManager.getShapeInstance(s,c);if(m){if(m.getId()===c){return m;}else if(m.getShapes()){var d=m.getShapes();for(var i=0;i<d.length;i++){if(d[i].getId()===c){return d[i];}}}}else{var t=C.byId(c).getParent();if(t){return t;}}return undefined;};
b.prototype._getTopShapeInstance=function(s,c){var m=this._oShapeManager.getShapeInstance(s,c);if(m){return m;}else{var t=C.byId(c).getParent();if(t){return t;}}return undefined;};
b.prototype._handleShapeResizeEnd=function(e){this._oSourceChart._oAutoScrollHandler.stop();var r=d3.selectAll(".resizingShadow");if(!r.empty()){r.remove();}if(this._bResizing&&this._oResizingData!==undefined){this._collectResizingShapeData(e);this._oSourceChart.fireShapeResizeEnd({shapeUid:this._oResizingData.oShapeData.shapeData.uid,rowObject:this._oResizingData.oShapeData.objectInfoRef,oldTime:this._oResizingData.aOldTime,newTime:this._oResizingData.aNewTime});}q(document.body).unbind("mousemove.shapeResizing");q(document.body).unbind("mouseup.shapeResizing");q(e.target).removeClass("sapUiShapeResizingCursor");this._bResizing=false;this._oResizingData=undefined;};
b.prototype._collectResizingShapeData=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=e.pageX-s.offset().left||e.offsetX;var r=this._calculateResizedNewTime(c);var n,N;if(C.getConfiguration().getRTL()===true){n=r[1];N=r[0];}else{n=r[0];N=r[1];}this._oResizingData.aNewTime=[n,N];};
return b;},true);
sap.ui.predefine('sap/gantt/eventHandler/TimePeriodZoomHandler',["jquery.sap.global","sap/ui/base/Object","sap/gantt/misc/Format","sap/gantt/config/TimeHorizon","sap/gantt/drawer/TimePeriodZoomRectangle","sap/ui/core/Orientation","sap/gantt/misc/Utility"],function(q,B,F,T,a,O,U){"use strict";
var b=B.extend("sap.gantt.eventHandler.TimePeriodZoomHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._oTimePeriodZoomRectangleDrawer=new a();this._bActive=false;this._bLocked=false;this._bMouseOnSvg=false;this._bEnableSetVisibleHorizon=false;this._sAutoScrollDirection=undefined;}});
b.prototype.activate=function(s){this._bActive=true;var $=q(this._oSourceChart.getDomSelectorById("svg-ctn"));$.css("cursor","crosshair");if(!s){this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.deactivate=function(s){this._bActive=false;var $=q(this._oSourceChart.getDomSelectorById("svg-ctn"));$.css("cursor","auto");if(!s){this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.invertActiveStatus=function(){if(this._bActive){this.deactivate();}else{this.activate();}};
b.prototype.fireActiveStatusChangeEvent=function(A){this._oSourceChart.fireEvent("_timePeriodZoomStatusChange",{isActive:A});};
b.prototype.isTimePeriodZoomEnabled=function(){var A=this._oSourceChart.getAxisTimeStrategy();return A.isTimePeriodZoomEnabled()&&this._bMouseOnSvg;};
b.prototype.isActive=function(){return this._bActive;};
b.prototype.handleDragStart=function(e,s){var g=this._oSourceChart;this._bLocked=true;this._bEnableSetVisibleHorizon=true;this.oStartEvent=e;this.oStartTime=this._caculateEventTime(e);this.createRectangle(this.oStartTime);var G=q(g.getDomSelectorById("svg"));G.unbind("mousemove.timePeriodZoomDragDrop");q(document.body).unbind("mouseup.timePeriodZoomDragDrop");g.detachHorizontalScroll(this.handleAutoScroll,this);G.bind("mousemove.timePeriodZoomDragDrop",this.handleDragging.bind(this));q(document.body).bind("mouseup.timePeriodZoomDragDrop",this.handleDragEnd.bind(this));g.attachHorizontalScroll(this.handleAutoScroll,this);if(!s){this._bMouseOnSvg=true;g.fireEvent("_timePeriodZoomOperation",{type:"dragStart",dragStartTime:this.oStartTime,originalEvent:e});}};
b.prototype.createRectangle=function(d){var g=this._oSourceChart;var D=g.getAxisTime().timeToView(d);var s=d3.select(g.getDomSelectorById("svg"));var r=q(g.getDomSelectorById("svg-ctn")).height();this._oTimePeriodZoomRectangleDrawer.drawSvg(s,D,r);};
b.prototype.handleDragging=function(e,s){var g=this._oSourceChart;var d=this._caculateEventTime(e);this.updateRectangle(this.oStartTime,d);if(!s){var D=g._handleAutoScroll(e);if(D){this._sAutoScrollDirection=D;}g.fireEvent("_timePeriodZoomOperation",{type:"dragging",dragStartTime:this.oStartTime,draggingTime:d,originalEvent:e});}};
b.prototype.updateRectangle=function(d,D){var g=this._oSourceChart;var i=g.getAxisTime().timeToView(d);var c=g.getAxisTime().timeToView(D);var s=d3.select(g.getDomSelectorById("svg"));if(c>i){this._oTimePeriodZoomRectangleDrawer.updateSvg(s,i,c);}else{this._oTimePeriodZoomRectangleDrawer.updateSvg(s,c,i);}};
b.prototype.handleDragEnd=function(e,s){var g=this._oSourceChart;g._oAutoScrollHandler.stop();this._bLocked=false;this.deactivate();this._sAutoScrollDirection=undefined;this.destoryRectangle();var d;if(this._bEnableSetVisibleHorizon){var D=g.getAxisTime().timeToView(this.oStartTime);var i=this._caculateXPosition(e);d=this._caculateEventTime(e);var E=d;var o=5;if(Math.abs(i-D)>o){var S=this.oStartTime;if(E.getTime()<S.getTime()){var t=S;S=E;E=t;}var c=new T({startTime:S,endTime:E});g.syncVisibleHorizon(c);}}var G=q(g.getDomSelectorById("svg"));G.unbind("mousemove.timePeriodZoomDragDrop");q(document.body).unbind("mouseup.timePeriodZoomDragDrop");g.detachHorizontalScroll(this.handleAutoScroll,this);if(!s){var v=g.getVisibleWidth();g.fireEvent("_timePeriodZoomOperation",{type:"dragEnd",dragStartTime:this.oStartTime,dragEndTime:d,visibleWidth:v,originalEvent:e});this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.destoryRectangle=function(){var g=this._oSourceChart;var s=d3.select(g.getDomSelectorById("svg"));this._oTimePeriodZoomRectangleDrawer.destroySvg(s);};
b.prototype.handleAutoScroll=function(e){if(this._bMouseOnSvg){var g=this._oSourceChart;var p=e.getParameters();var t;if(this._sAutoScrollDirection==="scrollLeft"){var v=F.abapTimestampToDate(p.startTime);t=v.getTime()-this.oStartTime.getTime();}else if(this._sAutoScrollDirection==="scrollRight"){var V=F.abapTimestampToDate(p.endTime);t=V.getTime()-this.oStartTime.getTime();}g.fireEvent("_timePeriodZoomOperation",{type:"autoScroll",timeBias:t,originalEvent:e});}};
b.prototype.attachEvents=function(){var g=q(this._oSourceChart.getDomSelectorById("svg"));g.bind("mouseenter.timePeriodZoomDragDrop",this.handleMouseEnter.bind(this));g.bind("mouseleave.timePeriodZoomDragDrop",this.handleMouseLeave.bind(this));};
b.prototype.detachEvents=function(){var g=q(this._oSourceChart.getDomSelectorById("svg"));g.unbind("mouseenter.timePeriodZoomDragDrop");g.unbind("mouseleave.timePeriodZoomDragDrop");};
b.prototype.handleMouseEnter=function(e){this._bMouseOnSvg=true;this._bLocked=true;this.setEnableSetVisibleHorizon(true);};
b.prototype.handleMouseLeave=function(e){this._bMouseOnSvg=false;this._oSourceChart._oAutoScrollHandler.stop();this._bLocked=false;this.setEnableSetVisibleHorizon(false);};
b.prototype.setEnableSetVisibleHorizon=function(e,s){this._bEnableSetVisibleHorizon=e;if(!s){var g=this._oSourceChart;g.fireEvent("_timePeriodZoomOperation",{type:"enableSetVisibleHorizon",enable:e});}};
b.prototype.calculateTargetVisibleHorizonByTimeBias=function(t){var o;var c;if(t!==undefined){var g=this._oSourceChart;var d=g.getAxisTimeStrategy().getTotalHorizon();c=new Date();c.setTime(this.oStartTime.getTime()+t);if(t<0){var e=F.abapTimestampToDate(d.getStartTime());if(c.getTime()<e.getTime()){c=e;this.oStartTime.setTime(c.getTime()-t);}o=new T({startTime:c});}else{var f=F.abapTimestampToDate(d.getEndTime());if(c.getTime()>f.getTime()){c=f;this.oStartTime.setTime(c.getTime()-t);}o=new T({startTime:undefined,endTime:c});}}return o;};
b.prototype.calculateTargetVisibleHorizon=function(e,s){var t;if(e.dragEndTime){var g=this._oSourceChart;var A=g.getAxisTimeStrategy();var o=A.getVisibleHorizon();var G=g.getVisibleWidth();var d=e.dragStartTime.getTime();var D=e.dragEndTime.getTime();var S;if(s){S=d<D?e.dragStartTime:e.dragEndTime;}else{S=F.abapTimestampToDate(A.getVisibleHorizon().getStartTime());}t=U.calculateHorizonByWidth(o,e.visibleWidth,G,S);}return t;};
b.prototype.syncTimePeriodZoomOperation=function(e,t,o){var g=this._oSourceChart;var p=e.getParameters();if(o===O.Vertical){if(p.type==="dragStart"){this.handleDragStart(p.originalEvent,true);}else if(p.type==="dragging"){this.handleDragging(p.originalEvent,true);}else if(p.type==="dragEnd"){this.handleDragEnd(p.originalEvent,true);}else if(p.type==="enableSetVisibleHorizon"){this.setEnableSetVisibleHorizon(p.enable,true);}else if(p.type==="autoScroll"){if(!t){var c=this.calculateTargetVisibleHorizonByTimeBias(p.timeBias);if(c){g.syncVisibleHorizon(c);}}}}else if(o===O.Horizontal){if(p.type==="dragStart"&&t){this.createRectangle(p.dragStartTime);}else if(p.type==="dragging"&&t){this.updateRectangle(p.dragStartTime,p.draggingTime);}else if(p.type==="dragEnd"){if(t){this.destoryRectangle();}var c=this.calculateTargetVisibleHorizon(p,t);if(c){g.syncVisibleHorizon(c);}}}};
b.prototype._caculateXPosition=function(e){var g=this._oSourceChart;var m=g._getMouseXPos(e);var s=q(g.getDomSelectorById("svg"));if(s.offset()){var x=m-s.offset().left||e.offsetX;}else{return m;}return x;};
b.prototype._caculateEventTime=function(e){var g=this._oSourceChart;var x=this._caculateXPosition(e);return g.getAxisTime().viewToTime(x);};
return b;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegend',["sap/ui/core/Control","./LegendBase","sap/gantt/drawer/Legend"],function(C,L,a){"use strict";
var D=L.extend("sap.gantt.legend.DimensionLegend",{metadata:{properties:{shape:{type:"sap.gantt.config.Shape"},xDimension:{type:"string"},yDimension:{type:"string"},xDomain:{type:"any[]",defaultValue:[]},yDomain:{type:"any[]",defaultValue:[]},exclude:{type:"any[][]",defaultValue:[]},legendSpace:{type:"float",defaultValue:8}}}});
D.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oDimensionLegendDrawer=new a();};
D.prototype.applySettings=function(){var r=C.prototype.applySettings.apply(this,arguments);this._modifyDimensionFunction();return r;};
D.prototype._modifyDimensionFunction=function(){var x=this.getXDimension(),y=this.getYDimension();this._oShapeInstance._oLegend=this;this._oShapeInstance._sXDimension=x;this._oShapeInstance._sYDimension=y;this._oShapeInstance["get"+this._capitalFirst(x)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sXDimension)){return this._configFirst(this._sXDimension,d);}if(d.xIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getXDomain()[d.xIndex];};this._oShapeInstance["get"+this._capitalFirst(y)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sYDimension)){return this._configFirst(this._sYDimension,d);}if(d.yIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getYDomain()[d.yIndex];};};
D.prototype._capitalFirst=function(o){return o.charAt(0).toUpperCase()+(o.length>1?o.slice(1):"");};
D.prototype.onAfterRendering=function(){if(this._oShapeInstance){var s=d3.select("#"+this.getId()+"-svg");var l=this._drawDimensionLegend(s,this._oShapeInstance);s.attr("width",l.width+"px");s.attr("height",l.height+"px");var p=d3.select("#"+this.getId()+"-dimension-path");var P=this._drawDimensionPath(p,this._oShapeInstance);p.attr("width",l.width+"px");p.attr("height",P.height+"px");p.style("top",l.height+"px");var t=d3.select("#"+this.getId()+"-dimension-text");this._drawDimensionText(t,this._oShapeInstance);t.style(sap.ui.getCore().getConfiguration().getRTL()?"right":"left",l.width+"px");t.attr("height",l.height+P.height+this.getLegendSpace()*2+"px");d3.select("#"+this.getId()).style("height",l.height+P.height+this.getLegendSpace()*2+"px");}};
D.prototype.setShape=function(s){this.setProperty("shape",s);if(s){this._oShapeInstance=this._instantShape([s])[0];}return this;};
D.prototype._drawDimensionLegend=function(s,S){var x=this.getXDomain();var d=this._prepareData(S);var r=s.selectAll("."+S.getId()+"-row").data(d);r.enter().append("g").classed(S.getId()+"-row",true);r.exit().remove();if(!r.empty()){this._oDimensionLegendDrawer._recursiveDraw(r,S);}var l={};var i=x.length;if(i>0){l.width=this.getScaledLegendWidth()*i+this.getLegendSpace()*(i+1);l.height=this.getScaledLegendHeight()*d.length+this.getLegendSpace()*(d.length+1);}return l;};
D.prototype._prepareData=function(s){var r=[],x=this.getXDimension(),y=this.getYDimension(),X=this.getXDomain(),Y=this.getYDomain(),e=this.getExclude();this.aXDimension=[];this.aYDimension=[];var t=this,l;jQuery.each(X,function(i,v){l={};l.xIndex=i;l.yIndex=-1;t.aXDimension.push(s.getLegend(l));});this.aReversedXDimension=jQuery.extend(true,[],this.aXDimension);this.aReversedXDimension.reverse();jQuery.each(Y,function(i,v){l={};l.xIndex=-1;l.yIndex=i;t.aYDimension.push(s.getLegend(l));});jQuery.each(Y,function(b,o){var R=[];jQuery.each(X,function(c,d){var E=false;jQuery.each(e,function(i,f){if((d==f[0])&&(o==f[1])){E=true;return false;}});if(!E){var l={};l.xIndex=c;l.yIndex=b;l[x]=d;l[y]=o;l.xName=t.aXDimension[c];l.yName=t.aYDimension[b];R.push(l);}});if(R.length>0){r.push(R);}});return r;};
D.prototype._drawDimensionPath=function(s,S){var x=this.getXDomain(),X=x.length,t=this;var p=s.selectAll(".dimension-path").data(x);p.enter().append("path").attr("d",function(d,i){var w=t.getScaledLegendWidth();var h=t.getScaledLegendHeight();var b=0,c=c=h*(X-1-i)+t.getLegendSpace()*(X-i),e=w*(X-1-i)+t.getLegendSpace()*(X-i);if(sap.ui.getCore().getConfiguration().getRTL()){b=w*(X-1-i)+t.getLegendSpace()*(X-i)+w/2;e=-e;}else{b=w*i+t.getLegendSpace()*(i+1)+w/2;}return"M"+b+" 0 v"+c+" h"+e;}).attr("fill","none");p.exit().remove();var P={};P.height=0;if(X>0){P.height=this.getScaledLegendHeight()*X+this.getLegendSpace()*(X-1);}return P;};
D.prototype._drawDimensionText=function(s,S){var b=this.aYDimension.concat(this.aReversedXDimension);var x=this.aYDimension.length;var t=this;var T=s.selectAll(".dimension-text").data(b);T.enter().append("text").attr("x",function(d){if(sap.ui.getCore().getConfiguration().getRTL()){return 100;}return 0;}).attr("y",function(d,i){return t.getScaledLegendHeight()*i+t.getLegendSpace()*(i+1)+parseInt(t.getFontSize(),10)/2+t.getScaledLegendHeight()/2-2;}).text(function(d){return d;}).attr("font-size",t.getFontSize()+"px").attr("font-style",function(d,i){return i<x?"normal":"italic";}).attr("text-anchor",sap.ui.Device.browser.name==="ie"&&sap.ui.getCore().getConfiguration().getRTL()?"end":"start");T.select("title").remove();T.insert("title",":first-child").text(function(d){return d;});T.exit().remove();};
return D;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegendRenderer',[],function(P){"use strict";var D={};
D.render=function(r,l){jQuery.sap.measure.start("DimensionLegendRenderer render","GanttPerf:DimensionLegendRenderer render function");r.write("<div");r.writeControlData(l);r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("position","relative");r.writeStyles();r.write(">");this.renderSvgDefs(r,l);r.write("<div");r.addStyle("float",sap.ui.getCore().getConfiguration().getRTL()?"right":"left");r.writeStyles();r.write(">");r.write("<svg");r.writeAttribute("id",l.getId()+"-svg");r.writeClasses();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg>");r.write("<svg");r.writeAttribute("id",l.getId()+"-dimension-path");r.addClass("sapGanttDimensionLegendPath");r.writeClasses();r.addStyle("position","absolute");r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"right":"left","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write("</svg>");r.write("</div>");r.write("<div><svg");r.writeAttribute("id",l.getId()+"-dimension-text");r.addClass("sapGanttDimensionLegendText");r.writeClasses();r.addStyle("position","absolute");r.addStyle("width","100px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg></div>");r.write("</div>");jQuery.sap.measure.end("DimensionLegendRenderer render");};
D.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg id='"+l.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return D;},true);
sap.ui.predefine('sap/gantt/legend/LegendBase',["sap/ui/core/Control","sap/gantt/shape/cal/Calendar","sap/gantt/misc/Utility","sap/gantt/misc/Format","../misc/AxisTime"],function(C,a,U,F,A){"use strict";
var L=C.extend("sap.gantt.legend.LegendBase",{metadata:{abstract:true,properties:{svgDefs:{type:"sap.gantt.def.SvgDefs",defaultValue:null},legendWidth:{type:"float",defaultValue:32},legendHeight:{type:"float",defaultValue:32},fontSize:{type:"int",defaultValue:16}}}});
L.prototype.TIME_RANGE=["20160101000000","20160103000000"];L.prototype.TIME="20160102000000";
L.prototype.init=function(){this._aTimeRange=[F.getTimeStampFormatter().parse(this.TIME_RANGE[0]),F.getTimeStampFormatter().parse(this.TIME_RANGE[1])];};
L.prototype.getAxisTime=function(){return this._oAxisTime;};
L.prototype.onBeforeRendering=function(){this._sUiSizeMode=U.findSapUiSizeClass();this._aViewRange=[0,this.getScaledLegendWidth()];this._oAxisTime=new A(this._aTimeRange,this._aViewRange);};
L.prototype.getScaledLegendWidth=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendWidth());};
L.prototype.getScaledLegendHeight=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendHeight());};
L.prototype._instantShape=function(s){var r=[];for(var i=0;i<s.length;i++){if(s[i].getShapeClassName()){var S=this._instantiateCustomerClass(s[i].getShapeClassName(),i,s[i]);if(s[i].getClippathAggregation()&&s[i].getClippathAggregation()instanceof Array){var p=this._instantShape(s[i].getClippathAggregation());for(var j=0;j<p.length;j++){S.addPath(p[j]);}}else if(s[i].getGroupAggregation()&&s[i].getGroupAggregation()instanceof Array){var b=this._instantShape(s[i].getGroupAggregation());for(var k=0;k<b.length;k++){S.addShape(b[k]);}}if(this._isProperShape(S)){r.push(S);}}}return r;};
L.prototype._isProperShape=function(s){if(s instanceof sap.gantt.shape.cal.Calendar){jQuery.sap.log.warning("Calendar is not proper shape","key '"+s.mShapeConfig.getKey()+"'","ListLegend");return false;}else if(s.getTag()=="clippath"){return false;}else{return true;}};
L.prototype._instantiateCustomerClass=function(c,s,S){var b=jQuery.sap.getObject(c);if(!b){jQuery.sap.require(c);b=jQuery.sap.getObject(c);}var o=new b();o.mShapeConfig=S;o.mChartInstance=this;return o;};
L.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
return L;},true);
sap.ui.predefine('sap/gantt/legend/LegendContainer',["sap/ui/core/Control","sap/m/NavContainer","sap/m/Page","sap/m/List","sap/m/StandardListItem"],function(C,N,P,L,S){"use strict";
var a=C.extend("sap.gantt.legend.LegendContainer",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"}},aggregations:{legendSections:{type:"sap.m.Page",multiple:true,visibility:"public",singularName:"legendSection"}}}});
a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._sTitle=this._oRb.getText("LEGEND_TITLE");this._oNavContainer=new N({width:this.getWidth(),height:this.getHeight()});this._oInitNavPage=new P({title:this._oRb.getText("LEGEND_TITLE"),content:[new L()]});this._aLegendSections=[];};
a.prototype.setWidth=function(w){this.setProperty("width",w,true);this._oNavContainer.setWidth(w);return this;};
a.prototype.setHeight=function(h){this.setProperty("height",h,true);this._oNavContainer.setHeight(h);return this;};
a.prototype.addLegendSection=function(l){if(l){if(this._aLegendSections.length==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(this._aLegendSections.length!==0){l.setShowNavButton(true);}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].addItem(o);}this._aLegendSections.push(l);this._oNavContainer.addPage(l);}return this;};
a.prototype.insertLegendSection=function(l,i){if(l){var m=this._aLegendSections.length;if(m==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(m!==0){l.setShowNavButton(true);}if(i>=m){i=m;}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].insertItem(o,i);}this._oNavContainer.insertPage(l,i+1);this._aLegendSections.splice(i,0,l);}return this;};
a.prototype.indexOfLegendSection=function(l){var i=jQuery.inArray(l,this._aLegendSections);return i;};
a.prototype.removeLegendSection=function(p){var r;if((typeof p)==="number"){this._oNavContainer.removePage(p+1);this._oInitNavPage.getContent()[0].removeItem(p);r=this._aLegendSections.splice(p+1,1);}else if(p){this._oInitNavPage.getContent()[0].removeItem(jQuery.inArray(p,this._oNavContainer.getPages())-1);this._oNavContainer.removePage(p);r=this._aLegendSections.splice(jQuery.inArray(p,this._aLegendSections),1);}if(this._aLegendSections.length==1){if(this._oNavContainer.getCurrentPage()==this._oInitNavPage){this._oNavContainer.to(this._aLegendSections[0]);}this._aLegendSections[0].setShowNavButton(false);}return r;};
a.prototype.removeAllLegendSection=function(){var r=this._aLegendSections.splice(0,this._aLegendSections.length);this._oInitNavPage.getContent()[0].removeAllItems();this._oNavContainer.removeAllPages();return r;};
a.prototype.getLegendSections=function(){var p=this._oNavContainer.getPages();var t=this;return p.filter(function(v){if(v.getTitle()!==t._sTitle){return true;}});};
a.prototype.getNavigationPage=function(){return this._oInitNavPage;};
a.prototype.getNavigationItems=function(){return this._oInitNavPage.getContent()[0].getItems();};
a.prototype.getCurrentLegendSection=function(){return this._oNavContainer.getCurrentPage();};
a.prototype._onNavToLegendSection=function(e){var l=e.getSource().getTitle();for(var i=0;i<this._aLegendSections.length;i++){if(l==this._aLegendSections[i].getTitle()){this._oNavContainer.to(this._aLegendSections[i]);}}};
a.prototype._onNavBack=function(e){this._oNavContainer.to(this._oInitNavPage);};
return a;});
sap.ui.predefine('sap/gantt/legend/LegendContainerRenderer',[],function(){"use strict";var L={};
L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLegend");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height","100%");r.writeStyles();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/legend/ListLegendRenderer',["sap/ui/core/theming/Parameters"],function(P){"use strict";var L={};
L.render=function(r,l){jQuery.sap.measure.start("ListLegendRenderer render","GanttPerf:ListLegendRenderer render function");var s=l._aShapeInstance,a=l.getScaledLegendWidth(),b=l.getScaledLegendHeight();r.write("<div");r.writeControlData(l);r.addClass("sapGanttLL");r.write(">");jQuery.sap.measure.start("ListLegendRenderer renderPaintServer","GanttPerf:ListLegendRenderer renderPaintServer part");this.renderSvgDefs(r,l);jQuery.sap.measure.end("ListLegendRenderer renderPaintServer");for(var i=0;i<s.length;i++){var c=s[i].getLegend();r.write("<div");r.writeAttributeEscaped("title",c);r.addClass("sapGanttLLItem");r.writeClasses();r.addStyle("height",b+"px");r.addStyle("line-height",b+"px");r.writeStyles();r.write(">");if(l._aCheckBoxes[i]){if(s[i].mShapeConfig.getSwitchOfCheckBox()=="noShow"){l._aCheckBoxes[i].addStyleClass("noShowCheckBox");}r.renderControl(l._aCheckBoxes[i]);}r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-"+i);r.addClass("sapGanttLLSvg");r.addStyle("width",a+"px");r.writeStyles();r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);if(l._aCheckBoxes.length==0){r.addClass("NoCheckBox");}r.writeClasses();r.write("></svg>");r.write("<div");r.writeAttribute("id",l.getId()+"-txt-"+i);r.addClass("sapGanttLLItemTxt");r.writeClasses();r.addStyle("font-size",l.getFontSize()+"px");r.writeStyles();r.write(">");if(c){r.writeEscaped(c);}r.write("</div>");r.write("</div>");}r.write("</div>");jQuery.sap.measure.end("ListLegendRenderer render");};
L.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-psdef");r.addClass("sapGanttLLSvgDefs");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return L;},true);
sap.ui.predefine('sap/gantt/library',['jquery.sap.global','sap/ui/core/library','sap/gantt/misc/Utility','sap/ui/base/DataType'],function(q,l,U,D){"use strict";sap.ui.getCore().initLibrary({name:"sap.gantt",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m"],types:["sap.gantt.control.ToolbarType","sap.gantt.SelectionMode","sap.gantt.shape.ShapeCategory","sap.gantt.def.filter.MorphologyOperator","sap.gantt.def.filter.ColorMatrixValue","sap.gantt.shape.ext.rls.RelationshipType","sap.gantt.config.ZoomControlType","sap.gantt.GenericArray","sap.gantt.dragdrop.GhostAlignment"],interfaces:["sap.gantt.GanttChartBase"],controls:["sap.gantt.control.Toolbar","sap.gantt.GanttChart","sap.gantt.GanttChartWithTable","sap.gantt.GanttChartContainer"],elements:["sap.gantt.config.TimeHorizon","sap.gantt.config.TimeAxis","sap.gantt.config.ToolbarGroup","sap.gantt.config.Mode","sap.gantt.config.ModeGroup","sap.gantt.config.LayoutGroup","sap.gantt.config.ExpandChart","sap.gantt.config.ExpandChartGroup","sap.gantt.config.TimeZoomGroup","sap.gantt.config.ToolbarScheme","sap.gantt.config.Hierarchy","sap.gantt.config.HierarchyColumn","sap.gantt.config.ColumnAttribute","sap.gantt.config.GanttChartLayout","sap.gantt.config.ContainerLayout","sap.gantt.config.SettingItem","sap.gantt.config.SettingGroup","sap.gantt.config.ObjectType","sap.gantt.config.ChartScheme","sap.gantt.config.Locale","sap.gantt.config.Shape","sap.gantt.def.SvgDefs","sap.gantt.axistime.AxisTimeStrategyBase","sap.gantt.AdhocLine"],noLibraryCSS:false,version:"1.50.5"});this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");sap.gantt.SelectionMode={MultiWithKeyboard:"MultiWithKeyboard",Multiple:"Multiple",Single:"Single",None:"None"};sap.gantt.AdhocLineLayer={Top:"TOP",Bottom:"BOTTOM"};sap.gantt.control.ToolbarType={Global:"GLOBAL",Local:"LOCAL"};sap.gantt.ValueSVGPaintServer=D.createType('sap.gantt.ValueSVGPaintServer',{isValid:function(v){var V=sap.m.ValueCSSColor.isValid(v);if(!V){V=/(?:url\(['|"]?)(.*?)(?:['|"]?\))|^[@|#](.*?)$|initial|transparent|none|inherit/.test(v);}return V;}},D.getType('string'));sap.gantt.ValueSVGPaintServer.setNormalizer(function(v){q.sap.require("sap.ui.core.theming.Parameters");if(!v){return v;}if(v.substr(0,1)==="@"){v=v.substring(1);}var r=sap.ui.core.theming.Parameters.get(v)||v;return r;});sap.gantt.shape.ShapeCategory={InRowShape:"inRowShape",Relationship:"relationship"};sap.gantt.def.filter.MorphologyOperator={Dilate:"dilate",Erode:"erode"};sap.gantt.def.filter.ColorMatrixValue={AllToWhite:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0",AllToBlack:"-1 0 0 0 0, 0 -1 0 0 0, 0 0 -1 0 0, 0 0 0 1 0"};sap.gantt.shape.ext.rls.RelationshipType={FinishToFinish:0,FinishToStart:1,StartToFinish:2,StartToStart:3};sap.gantt.config.ZoomControlType={SliderWithButtons:"sliderWithButtons",SliderOnly:"sliderOnly",ButtonsOnly:"buttonsOnly",Select:"select",None:"none"};sap.gantt.config.TimeUnit={minute:"d3.time.minute",hour:"d3.time.hour",day:"d3.time.day",week:"d3.time.week",month:"d3.time.month",year:"d3.time.year"};sap.gantt.config.DEFAULT_PLAN_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-31536000000),endTime:new Date((new Date()).getTime()+31536000000)});sap.gantt.config.DEFAULT_INIT_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-2628000000),endTime:new Date((new Date()).getTime()+2628000000)});var u=sap.ui.getCore().getConfiguration().getRTL()?".M.d":"d.M.";sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY={"5min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,pattern:"HH:mm"}},"10min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,pattern:"HH:mm"}},"15min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,pattern:"HH:mm"}},"30min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,pattern:"HH:mm"}},"1hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,pattern:"HH:mm"}},"2hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,pattern:"HH:mm"}},"4hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,pattern:"HH:mm"}},"6hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,pattern:"HH:mm"}},"12hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,pattern:"HH:mm"}},"1day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:u}},"2day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,pattern:u}},"4day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,pattern:u}},"1week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:u}},"2week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,pattern:u}},"1month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,pattern:u}},"2month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,pattern:u}},"4month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,pattern:"MMMM"}},"6month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,pattern:"MMMM"}},"1year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,pattern:"MMMM"}},"2year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,pattern:"MMMM"}},"5year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,pattern:"MMMM"}}};sap.gantt.config.DEFAULT_TIME_AXIS=new sap.gantt.config.TimeAxis();sap.gantt.config.DEFAULT_MODE_KEY="sap_mode";sap.gantt.config.DEFAULT_MODE=new sap.gantt.config.Mode({key:sap.gantt.config.DEFAULT_MODE_KEY,text:this._oRb.getText("TLTP_DEFAULT"),icon:"sap-icon://status-positive"});sap.gantt.config.DEFAULT_MODES=[sap.gantt.config.DEFAULT_MODE];sap.gantt.config.DEFAULT_CHART_SCHEME_KEY="sap_main";sap.gantt.config.DEFAULT_CHART_SCHEME=new sap.gantt.config.ChartScheme({key:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY,name:"Default",rowSpan:1});sap.gantt.config.DEFAULT_CHART_SCHEMES=[sap.gantt.config.DEFAULT_CHART_SCHEME];sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY="sap_object";sap.gantt.config.DEFAULT_OBJECT_TYPE=new sap.gantt.config.ObjectType({key:sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY,description:"Default",mainChartSchemeKey:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY});sap.gantt.config.DEFAULT_OBJECT_TYPES=[sap.gantt.config.DEFAULT_OBJECT_TYPE];sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY="sap_enableNowLine";sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_NOW_LINE"),tooltip:this._oRb.getText("TLTP_NOW_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY="sap_enableCursorLine";sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_CURSOR_LINE"),tooltip:this._oRb.getText("TLTP_CURSOR_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY="sap_enableVerticalLine";sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY="sap_enableAdhocLine";sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_VERTICAL_LINE"),tooltip:this._oRb.getText("TLTP_VERTICAL_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_ADHOC_LINE"),tooltip:this._oRb.getText("TLTP_ADHOC_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY="sap_enableTimeScrollSync";sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,checked:true,displayText:this._oRb.getText("XCKL_TIME_SCROLL_SYNC"),tooltip:this._oRb.getText("TLTP_TIME_SCROLL_SYNC")});sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS=[sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC];sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY="sap_empty_toolbar";sap.gantt.config.EMPTY_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High})});sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY="sap_container_toolbar";sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High}),timeZoom:new sap.gantt.config.TimeZoomGroup({position:"R2",overflowPriority:sap.m.OverflowToolbarPriority.NeverOverflow}),settings:new sap.gantt.config.SettingGroup({position:"R1",overflowPriority:sap.m.OverflowToolbarPriority.Low,items:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY="sap_ganttchart_toolbar";sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L2",overflowPriority:sap.m.OverflowToolbarPriority.High}),expandTree:new sap.gantt.config.ToolbarGroup({position:"L3",overflowPriority:sap.m.OverflowToolbarPriority.Low})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_HIERARCHY_KEY="sap_hierarchy";sap.gantt.config.DEFAULT_HIERARCHY=new sap.gantt.config.Hierarchy();sap.gantt.config.DEFAULT_HIERARCHYS=[sap.gantt.config.DEFAULT_HIERARCHY];sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY="sap_container_layout_single";sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY,text:this._oRb.getText("XLST_SINGLE_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY="sap_container_layout_dual";sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY,text:this._oRb.getText("XLST_DUAL_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY}),new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_LAYOUTS=[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT,sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT];sap.gantt.config.DEFAULT_LOCALE_CET=new sap.gantt.config.Locale({timeZone:"CET",utcdiff:"000000",utcsign:"+"});sap.gantt.config.DEFAULT_EMPTY_OBJECT={};sap.gantt.DIMENSION_LEGEND_NIL="NIL";sap.gantt.MouseWheelZoomType={FineGranular:"FineGranular",Stepwise:"Stepwise",None:"None"};sap.gantt.GenericArray=D.createType('sap.gantt.GenericArray',{isValid:function(v){if(typeof v==="string"||v instanceof String){return true;}if(Array.isArray(v)){for(var i=0;i<v.length;i++){if(!(typeof v[i]==="string"||v[i]instanceof String||typeof v[i]==="object")){return false;}}return true;}return false;},parseValue:function(v){if(v){if(Array.isArray(v)){return v;}else if(typeof v==="string"){var V;if(v.indexOf("[")>-1&&v.indexOf("{")>-1){v=v.replace(/\'/g,"\"");V=JSON.parse(v);}else{if(v.indexOf("[")>-1){var r=/^\[(.*)\]$/g;var m=r.exec(v);if(m){v=m[1];}}V=v.split(",");for(var i=0;i<V.length;i++){V[i]=V[i].trim();}}return V;}}return v;}},D.getType("any"));sap.gantt.dragdrop.GhostAlignment={Start:"Start",None:"None",End:"End"};return sap.gantt;});
sap.ui.predefine('sap/gantt/misc/AxisOrdinal',["sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(){"use strict";var A=function(a,s,n,b,c,d,e,f){this.elementArray=a;this.scaleArray=s;this.padding=sap.gantt.misc.Utility.assign(f,0);this.zoomRate=sap.gantt.misc.Utility.assign(d,1);this.zoomOrigin=sap.gantt.misc.Utility.assign(e,0);this.viewRangeStart=sap.gantt.misc.Utility.assign(b,0);this.viewBandWidth=n;this.viewRangeEnd=c;this.scale=d3.scale.ordinal();this._createScale();};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype._createScale=function(){if(typeof(this.viewBandWidth)!=="undefined"){this.viewRangeEnd=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeRoundBands(this._calculateViewRangeByViewBandWidth());}else if(typeof(this.viewRangeEnd)!=="undefined"){this.viewBandWidth=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);}else{}};
A.prototype._calculateInternalValuesByElements=function(){var v=[];for(var i=0;i<this.scaleArray.length;i++){var a=this.elementArray[i]+this.CONSTANT.C_SEPARATOR;for(var j=0;j<this.scaleArray[i];j++){v.push(a+j);}}return v;};
A.prototype._calculateViewRangeByViewBandWidth=function(){var v=0;for(var i=0;i<this.scaleArray.length;i++){v+=this.scaleArray[i]*this.viewBandWidth;}return[this.viewRangeStart,this.viewRangeStart+v];};
A.prototype.elementToView=function(e){return(this.scale(e+this.CONSTANT.C_SEPARATOR+0)+this.padding-this.zoomOrigin)*this.zoomRate;};
A.prototype.viewToElement=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return undefined;}return r;};
A.prototype.viewToElementIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return-1;}return h;};
A.prototype.viewToBandIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var i=this._calculateInternalValuesByElements();var h=0;var t=i.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(i[m]);if(c<a){t=m-1;}else{h=m;}}var r=this.scale(i[h]);if(c<r+this.padding||c>=r+this.scale.rangeBand()){return-1;}return h;};
A.prototype.viewToRowIndex=function(v,m){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var a=this._calculateViewRangeByViewBandWidth();if(c<=a[1]&&c>=a[0]){return this.viewToElementIndex(v);}else if(jQuery.isNumeric(m)&&m>this.elementArray.length){var b=parseInt((v-a[1]-a[0])/this.viewBandWidth,10);var r=b+this.elementArray.length;h=r;}else{return-1;}return h;};
A.prototype.setElements=function(e,s){this.elementArray=e;this.scaleArray=s;this._createScale();return this;};
A.prototype.getElementArray=function(){return this.elementArray;};
A.prototype.getScaleArray=function(){return this.scaleArray;};
A.prototype.setViewRangeStart=function(v){this.viewBandWidth=undefined;this.viewRangeStart=sap.gantt.misc.Utility.assign(v,0);this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.setViewRangeEnd=function(v){this.viewBandWidth=undefined;this.viewRangeEnd=v;this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.getViewRange=function(){var v=this.scale.rangeExtent();return[(v[0]-this.zoomOrigin)*this.zoomRate,(v[1]-this.zoomOrigin)*this.zoomRate];};
A.prototype.setViewBandWidth=function(v){this.viewRangeEnd=undefined;this.viewBandWidth=v;this.scale.rangeRoundBands(this._calculateViewRangeByViewBandWidth());return this;};
A.prototype.getViewBandWidth=function(){return this.scale.rangeBand()*this.zoomRate;};
A.prototype.setZoomRate=function(z){this.zoomRate=sap.gantt.misc.Utility.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=sap.gantt.misc.Utility.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.clone=function(){return new A(this.elementArray.slice(0),this.scaleArray.slice(0),this.viewBandWidth,this.viewRangeStart,this.viewRangeEnd,this.zoomRate,this.zoomOrigin,this.padding);};
return A;},true);
sap.ui.predefine('sap/gantt/misc/AxisTime',["sap/ui/base/Object","sap/ui/core/Core","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/axistime/ProportionZoomStrategy"],function(B,C,U,F,P){"use strict";var A=function(t,v,z,a,b,l,Z){this.scale=d3.time.scale().domain(t).range(v).clamp(false);this.timeRange=t;this.viewRange=v;this.zoomRate=U.assign(z,1);this.zoomOrigin=U.assign(a,0);this.viewOffset=U.assign(b,0);this.locale=l;if(l&&l.getUtcdiff()){var f=F.getTimeStampFormatter();this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}this._oZoomStrategy=Z?Z:new P();};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype.timeToView=function(t,i){if(C.getConfiguration().getRTL()!==true){return Math.round((this.scale(t)-this.zoomOrigin)*this.zoomRate-(i?0:this.viewOffset));}else{return Math.round(this.viewRange[1]*this.zoomRate-(((this.scale(t)+this.zoomOrigin)*this.zoomRate)+(i?0:this.viewOffset)));}};
A.prototype.viewToTime=function(v,i){if(C.getConfiguration().getRTL()!==true){return this.scale.invert((v+(i?0:this.viewOffset))/this.zoomRate+this.zoomOrigin);}else{return this.scale.invert(this.viewRange[1]-(v+(i?0:this.viewOffset))/this.zoomRate-this.zoomOrigin);}};
A.prototype.setTimeRange=function(t){this.timeRange=t;this.scale.domain(t);return this;};
A.prototype.getTimeRange=function(){return this.scale.domain();};
A.prototype.setViewRange=function(v){this.viewRange=v;this.scale.range(v);return this;};
A.prototype.getViewRange=function(){var r=this.scale.range();return[Math.round((r[0]-this.zoomOrigin)*this.zoomRate-this.viewOffset),Math.round((r[1]-this.zoomOrigin)*this.zoomRate-this.viewOffset)];};
A.prototype.getZoomStrategy=function(){return this._oZoomStrategy;};
A.prototype.setZoomRate=function(z){this.zoomRate=U.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=U.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.setViewOffset=function(v){this.viewOffset=U.assign(v,0);return this;};
A.prototype.getViewOffset=function(){return this.viewOffset;};
A.prototype.setLocale=function(l){this.locale=l;if(l&&l.getUtcdiff()){var f=F.getTimeStampFormatter();this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}return this;};
A.prototype.getLocale=function(){return this.locale;};
A.prototype.clone=function(){return new A([new Date(this.timeRange[0].valueOf()),new Date(this.timeRange[1].valueOf())],this.viewRange.slice(0),this.zoomRate,this.zoomOrigin,this.viewOffset,this.locale);};
A.prototype.getCurrentTickTimeIntervalLevel=function(){var t=this._oZoomStrategy.getTimeLineOption(),T=this._oZoomStrategy.getTimeLineOptions(),i=0;for(var a in T){if(T[a]===t){return i;}i++;}};
A.prototype.getCurrentTickTimeIntervalKey=function(){var t=this._oZoomStrategy.getTimeLineOption(),T=this._oZoomStrategy.getTimeLineOptions();for(var a in T){if(T[a]===t){return a;}}};
A.prototype.getNowLabel=function(){var d=new Date();var u=new Date(d.getTime()+(d.getTimezoneOffset()*60000));var v=this.timeToView(u);var l=d3.time.second.offset(u,this.timeZoneOffset);return[{"date":l,"value":Math.round(v)}];};
A.prototype.getTickTimeIntervalLabel=function(l,t,v){var i,p,a,b=null;if(this.locale&&this.locale.getDstHorizons().length>0){b=this.locale.getDstHorizons();}var f=F.getTimeStampFormatter();var c=[];if(b){for(i=0;i<b.length;i++){c[i]={};p=b[i].getStartTime();a=b[i].getEndTime();c[i].startDate=f.parse(p);c[i].endDate=f.parse(a);}}var e=this.timeZoneOffset?[d3.time.second.offset(this.timeRange[0],this.timeZoneOffset),d3.time.second.offset(this.timeRange[1],this.timeZoneOffset)]:this.timeRange;var g=new sap.gantt.misc.AxisTime(e,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null);var h=null;var j=null;var k=null;var m=null;var n=null;var o=null;var q=null;var r=[];var u=[];var w=null;if(t){o=this.timeZoneOffset?d3.time.second.offset(t[0],this.timeZoneOffset):t[0];q=this.timeZoneOffset?d3.time.second.offset(t[1],this.timeZoneOffset):t[1];h=this.timeZoneOffset?[d3.time.second.offset(t[0],this.timeZoneOffset),d3.time.second.offset(t[1],this.timeZoneOffset)]:t;j=[this.timeToView(t[0]),this.timeToView(t[1])];if(c&&c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,false);}else if(v){o=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[0]),this.timeZoneOffset):this.viewToTime(v[0]);q=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[1]),this.timeZoneOffset):this.viewToTime(v[1]);h=[o,q];j=v;if(c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,false);}else{o=e[0];q=e[1];h=e;j=this.viewRange;if(c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,e);}u=w.viewRangeSet;k=w.visibleScale;m=w.dstScale;n=w.normalScale;var x=[];var y,z,D,E;var G={unit:this._oZoomStrategy.getTimeLineOption().largeInterval.unit,span:this._oZoomStrategy.getTimeLineOption().largeInterval.span};var H={unit:this._oZoomStrategy.getTimeLineOption().smallInterval.unit,span:this._oZoomStrategy.getTimeLineOption().smallInterval.span};var I,J;if(G){var K=[];var L=[];var M=[];if(!(k instanceof Array)){if(sap.ui.getCore().getConfiguration().getLanguage().toLowerCase()==="de"&&G.unit===sap.gantt.config.TimeUnit.week){K[0]=k.ticks(jQuery.sap.getObject("d3.time.monday").range,G.span);}else{K[0]=k.ticks(jQuery.sap.getObject(G.unit).range,G.span);}}else{for(I=0;I<m.length;I++){L[I]=m[I].ticks(jQuery.sap.getObject(G.unit).range,G.span);M[I]=n[I].ticks(jQuery.sap.getObject(G.unit).range,G.span);}for(I=0;I<k.length;I++){K[I]=k[I].ticks(jQuery.sap.getObject(G.unit).range,G.span);}}var N=[];if(K[0]!==null){for(I=0;I<K.length;I++){for(J=0;J<K[I].length;J++){y=K[I][J];D=g.timeToView(y);E=this._oZoomStrategy.getUpperRowFormatter().format(y);N.push({"date":y,"value":Math.round(D),"label":E});}}}if(L[0]!==null){for(I=0;I<L.length;I++){for(J=0;J<L[I].length;J++){y=L[I][J];z=M[I][J];D=g.timeToView(d3.time.second.offset(y.getTime(),-60*60));E=this._oZoomStrategy.getUpperRowFormatter().format(y);N.push({"date":y,"value":Math.round(D),"label":E});}}}x.push(N);}else{x.push([]);}if(H){var O=[];var Q=[];var R=[];if(!(k instanceof Array)){if(sap.ui.getCore().getConfiguration().getLanguage().toLowerCase()==="de"&&H.unit===sap.gantt.config.TimeUnit.week){R[0]=k.ticks(jQuery.sap.getObject("d3.time.monday").range,H.span);}else{R[0]=k.ticks(jQuery.sap.getObject(H.unit).range,H.span);}}else{for(I=0;I<m.length;I++){O[I]=m[I].ticks(jQuery.sap.getObject(H.unit).range,H.span);Q[I]=n[I].ticks(jQuery.sap.getObject(H.unit).range,H.span);}for(I=0;I<k.length;I++){R[I]=k[I].ticks(jQuery.sap.getObject(H.unit).range,H.span);}}var S=[];if(R[0]){for(I=0;I<R.length;I++){for(J=0;J<R[I].length;J++){y=R[I][J];var T;var V=false;if(c.length){for(var d=0;d<c.length;d++){if(y.getTime()===c[d].startDate.getTime()){T=d3.time.second.offset(y.getTime(),60*60);if((J===R[I].length-1)&&this._oZoomStrategy.isLowerRowTickHourSensitive()){V=true;}}if((J===R[I].length-1)&&(y.getTime()===d3.time.second.offset(c[d].endDate.getTime(),60*60).getTime())){T=d3.time.second.offset(y.getTime(),-60*60);}}}D=g.timeToView(y);if(V){break;}else if(T){E=this._oZoomStrategy.getLowerRowFormatter().format(T);T=null;}else{E=this._oZoomStrategy.getLowerRowFormatter().format(y);}S.push({"date":y,"value":Math.round(D),"label":E});}}}if(O[0]){for(I=0;I<O.length;I++){for(J=0;J<O[I].length;J++){y=O[I][J];z=Q[I][J];var W;var X=false;if((J===O[I].length-1)&&this._oZoomStrategy.isLowerRowTickHourSensitive()){if(r.length>0){for(var Y=0;Y<r.length;Y++){if((!r[Y].haveDST)&&(z.getTime()===r[Y].range[0].getTime())){X=true;}}}}if(c.length){for(var s=0;s<c.length;s++){if(y.getTime()===c[s].startDate.getTime()){W=d3.time.second.offset(y.getTime(),60*60);}if((J===O[I].length-1)&&(y.getTime()===d3.time.second.offset(c[s].endDate.getTime(),60*60).getTime())){W=d3.time.second.offset(y.getTime(),-60*60);}}}if(!this._oZoomStrategy.isLowerRowTickHourSensitive()){D=g.timeToView(d3.time.second.offset(y.getTime(),-60*60));}else{D=g.timeToView(z);}if(X){break;}else if(W){E=this._oZoomStrategy.getLowerRowFormatter().format(W);W=null;}else{E=this._oZoomStrategy.getLowerRowFormatter().format(y);}S.push({"date":y,"value":Math.round(D),"label":E});}}}x.push(S);}else{x.push([]);}return x;};
A.prototype._calculateScale=function(a,v,b,c,l){var d=null;var e=[];var n=[];if(a.length){d=[];var f=0;var g=0;for(var t=0;t<a.length;t++){v[t]=[this.timeToView(a[t].range[0]),this.timeToView(a[t].range[1])];if(a[t].haveDST){e[f]=new sap.gantt.misc.AxisTime(a[t].dstRange,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;n[f]=new sap.gantt.misc.AxisTime(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;f++;}else{d[g]=new sap.gantt.misc.AxisTime(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;g++;}}}else if(l){d=new sap.gantt.misc.AxisTime(l,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;}else{d=new sap.gantt.misc.AxisTime(b,c,this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;}var r={"viewRangeSet":v,"visibleScale":d,"dstScale":e,"normalScale":n};return r;};
A.prototype._calculateTimeRange=function(d,s,e,a){if(d.length){var b=s;var c=e;var f=[];var g=[];var h,i;h=d[0].startDate;i=d[0].endDate;this._calculateRangeItem(h,i,b,c,f,g);if(d.length>1){for(var j=1;j<d.length;j++){if(f.length){var r=[];for(var k in f){r.push(f[k]);}f=[];for(var t=0;t<r.length;t++){h=d[j].startDate;i=d[j].endDate;b=r[t].range[0];c=r[t].range[1];this._calculateRangeItem(h,i,b,c,f,g);}}}}for(var l in g){a.push(g[l]);}for(var m in f){a.push(f[m]);}}};
A.prototype._calculateRangeItem=function(d,a,s,e,t,b){var r=null;if(s<d){if(e<a){if(e>d){r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,e];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,a];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else if(s>=d){if(s<a){if(e<=a){r={};r.haveDST=true;r.range=[s,e];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=true;r.range=[s,a];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}};
return A;},true);
sap.ui.predefine('sap/gantt/misc/Format',["sap/ui/core/format/DateFormat","sap/ui/thirdparty/d3"],function(D){"use strict";var F=function(){throw new Error();};F._oDefaultDateTimeFormat=D.getDateTimeInstance();
F.abapTimestampToDate=function(t){if(typeof t==="string"){var d=new Date(t.substr(0,4),parseInt(t.substr(4,2),0)-1,t.substr(6,2),t.substr(8,2),t.substr(10,2),t.substr(12,2));if(!jQuery.isNumeric(d.getTime())){d=new Date(t);}return d;}else if(jQuery.type(t)==="date"){return t;}return null;};
F.dateToAbapTimestamp=function(d){if(d){return""+d.getFullYear()+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+(d.getDate()<10?"0":"")+d.getDate()+(d.getHours()<10?"0":"")+d.getHours()+(d.getMinutes()<10?"0":"")+d.getMinutes()+(d.getSeconds()<10?"0":"")+d.getSeconds();}return"";};
F.abapTimestampToTimeLabel=function(t,l){var a=sap.gantt.misc.Format._convertUTCToLocalTime(t,l);var L=sap.gantt.misc.Format._oDefaultDateTimeFormat.format(a);return L;};
F.relativeTimeToAbsolutTime=function(i,I,a,b){i=i!==undefined?i:0;I=I!==undefined?I:0;a=a!==undefined?a:0;b=b!==undefined?b:0;var B=this.abapTimestampToDate("20120101000000");var t=new Date();t.setTime(B.getTime()+b*1000+a*60*1000+I*3600*1000+i*24*3600*1000);return t;};
F.absolutTimeToRelativeTime=function(t){var b=this.abapTimestampToDate("20120101000000");var m=t.getTime()-b.getTime();var i=Math.floor(m/(24*3600*1000));var r=m%(24*3600*1000);var I=Math.floor(r/(3600*1000));r=r%(3600*1000);var a=Math.floor(r/(60*1000));r=r%(60*1000);var c=Math.floor(r/1000);var R={intervalDays:i,intervalHours:I,intervalMinutes:a,intervalSecond:c};return R;};
F._convertUTCToLocalTime=function(t,l){var a=0;if(l&&l.getUtcdiff()){var f=this.getTimeStampFormatter();a=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){a=-a;}}var u=sap.gantt.misc.Format.abapTimestampToDate(t);var b=d3.time.second.offset(u,a);var d=l.getDstHorizons();if(d.length>0){for(var i=0;i<d.length;i++){var s=sap.gantt.misc.Format.abapTimestampToDate(d[i].getStartTime());var e=sap.gantt.misc.Format.abapTimestampToDate(d[i].getEndTime());if(b>=s&&b<=e){b=d3.time.second.offset(b,60*60);}}}return b;};
F.getTimeStampFormatter=function(){return d3.time.format("%Y%m%d%H%M%S");};
return F;},true);
sap.ui.predefine('sap/gantt/misc/RelativeTimeFormatter',[],function(){"use strict";var R=function(b,u,p){this.oBaseTime=b;this.sUnit=u;this.sPrefix=p;this.iIntervalMillisecond=jQuery.sap.getObject(u).offset(b,1).getTime()-b.getTime();};
R.prototype.format=function(d){var t;var s=Math.floor((d.getTime()-this.oBaseTime.getTime())/this.iIntervalMillisecond)+1;t=this.sPrefix+" "+s;return t;};
return R;},true);
sap.ui.predefine('sap/gantt/misc/ShapeManager',["jquery.sap.global","sap/ui/base/EventProvider","./Utility"],function(q,E,U){"use strict";
var S=E.extend("sap.gantt.misc.ShapeManager",{constructor:function(g){E.apply(this);this.mShapeElementIds={};this.mShapeConfig={};this.mShapeInstance={};this.aShapeInstance=[];this.oGantt=g;}});
S.prototype.instantiateShapes=function(s){this.mShapeConfig={};for(var i=0;i<s.length;i++){this.mShapeConfig[s[i].getKey()]=s[i];}this.aShapeInstance=this.recursiveInstantiateShapes(this.mShapeConfig);q.each(this.aShapeInstance,function(k,o){this.mShapeInstance[o.mShapeConfig.getKey()]=o;}.bind(this));};
S.prototype.getAllShapeInstances=function(){return this.aShapeInstance;};
S.prototype.getSelectedShapeInstance=function(s,o){var a=null;var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var b=s.getSelectedClassName();if(!b){if(c===sap.gantt.shape.ShapeCategory.Relationship){b="sap.gantt.shape.ext.rls.SelectedRelationship";}else{b="sap.gantt.shape.SelectedShape";}}a=this.instantiateShapeClass(b);return a;};
S.prototype.recursiveInstantiateShapes=function(s,p){var i=[],o;for(var K in s){var a=p?p:K;var I=p?p+"_"+K:K;var b=s[K];var c=b.getShapeClassName();if(c){o=this.instantiateShapeClass(c);this.setSpecialProperty(o,b);this.setShapeElementId(I,a,o.getId());if(!p){var d=this.getSelectedShapeInstance(b,o);this.setSpecialProperty(d,b);o.setAggregation("selectedShape",d);I=a+"_selected"+a;this.setShapeElementId(I,undefined,d.getId());this._createResizeShadowShape(b,o,a+"_resizeShadow"+a);}var e=b.getGroupAggregation();if(e&&e instanceof Array){var A=this.recursiveInstantiateShapes(e,a);for(var k=0;k<A.length;k++){o.addShape(A[k]);}}var f=b.getClippathAggregation();if(f&&f instanceof Array){var P=this.recursiveInstantiateShapes(f,a);for(var j=0;j<P.length;j++){o.addPath(P[j]);}}}i.push(o);}if(!p){this.sortByShapeLevelAccendingly(i);}return i;};
S.prototype.setSpecialProperty=function(s,o){s.mShapeConfig=o;s.mChartInstance=this.oGantt;s.dataSet=[];};
S.prototype.sortByShapeLevelAccendingly=function(i){i.sort(function(s,o){var l=s.mShapeConfig.getLevel(),L=o.mShapeConfig.getLevel();var a=q.isNumeric(l)?l:99;var b=q.isNumeric(L)?L:99;return b-a;});};
S.prototype.instantiateShapeClass=function(s){var C=q.sap.getObject(s);if(!C){q.sap.require(s);C=q.sap.getObject(s);}var o=new C();if(!o){q.sap.log.error("shapeClassName:"+s+" can't be instantiated");q.sap.log.warning("shapeClassName:"+s+" fallback to sap.gantt.shape.Shape");o=new sap.gantt.shape.Shape();}return o;};
S.prototype.isShapeSelectable=function(s,e){return this.getShapePropertyValue("enableSelection",s,e);};
S.prototype.isShapeResizable=function(s,e){return this.getShapePropertyValue("enableResize",s,e);};
S.prototype.isShapeDuration=function(s,e){return this.getShapePropertyValue("isDuration",s,e);};
S.prototype.getShapePropertyValue=function(p,s,e){var i,v;if(s){i=this.getShapeInstance(s,e)||sap.ui.getCore().byId(e);var m="get"+p.substr(0,1).toUpperCase()+p.substr(1);v=i[m](s);}return v;};
S.prototype.isShapeDraggable=function(s,e){return this.getShapePropertyValue("enableDnD",s,e);};
S.prototype.setShapeElementId=function(i,s,a){this.mShapeElementIds[i]={"shapeElementId":a,"shapeKey":s};};
S.prototype.getShapeInstance=function(s,a){var c={};if(a){c=this._getShapeElementConfig(a);}else{var b=U.getShapeDataNameByUid(s.uid);for(var d in this.mShapeInstance){var e=this.mShapeInstance[d].mShapeConfig.getShapeDataName();if(b===e){c=this.mShapeElementIds[d];break;}}}return this.mShapeInstance[c?c.shapeKey:null];};
S.prototype._getShapeElementConfig=function(s){for(var a in this.mShapeElementIds){var c=this.mShapeElementIds[a];if(c.shapeElementId===s){return c;}}return null;};
S.prototype.collectDataForSelectedShapes=function(s,o,c){var m=this.mShapeInstance;for(var a in m){var b=m[a];var d=b.mShapeConfig.getShapeDataName();var e=b.getAggregation("selectedShape");var C=e.getCategory(null,this.oGantt.getAxisTime(),this.oGantt._oAxisOrdinal);e.dataSet=[];if(C===sap.gantt.shape.ShapeCategory.Relationship){var f=s.getSelectedRelationships();e.dataSet.push({"shapeData":f});}else{var g=s.getSelectedShapeDatum();for(var i=0;i<g.length;i++){var h=g[i];if(U.getShapeDataNameByUid(h.uid)!==d){continue;}var r=U.getRowDatumByShapeUid(h.uid,this.oGantt.getId());var v=s.isSelectedShapeVisible(h.uid,this.oGantt.getId());if(r&&v&&this.isShapeSelectable(h,b.getId())&&this.isShapeDisplayableInRow(r,a,o,c)){e.dataSet.push({"objectInfoRef":r,"shapeData":[h]});}}}}};
S.prototype.collectDataForAllShapeInstances=function(r,o,c){var j=true;var s=this.mShapeInstance;for(var a in s){var b=s[a];var d;var B=b.mShapeConfig.getShapeDataName();b.dataSet=[];if(b._attributeNameBindingMap){b._attributeNameBindingMap=undefined;}for(var i=0;i<r.length;i++){var R=r[i];if(!B){b.dataSet.push({"objectInfoRef":R,"shapeData":R.data});continue;}var D=this.isShapeDisplayableInRow(R,a,o,c);if(!D){continue;}if(j){d=R.data[B];}else if(B===R.shapeName){d=R.shapeData;}else{continue;}if(d){b.dataSet.push({"objectInfoRef":R,"shapeData":d});}}}};
S.prototype.isShapeDisplayableInRow=function(r,s,o,c){var C;if(r.chartScheme){C=r.chartScheme;}else{C=o[r.type]?o[r.type].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;}var a=c[C];if(a===undefined){return false;}var b=a.getShapeKeys();var m=a.getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY?a.getModeKey():this.oGantt.getMode();var d=this.mShapeConfig;if((C!==sap.gantt.config.DEFAULT_CHART_SCHEME_KEY&&b.indexOf(s)===-1)||(m!==sap.gantt.config.DEFAULT_MODE_KEY&&d[s].getModeKeys()&&d[s].getModeKeys().length>0&&d[s].getModeKeys().indexOf(m)<0)||!r.data){return false;}return true;};
S.prototype.isRelationshipDisplayable=function(s){var m=this.mShapeConfig;var a=s.mShapeConfig.getKey();var b=m[a]?m[a].getModeKeys():[];if(q.inArray(this.oGantt.getMode(),b)===-1&&this.oGantt.getMode()!==sap.gantt.config.DEFAULT_MODE_KEY){return false;}return true;};
S.prototype.getResizeShadowShapeInstance=function(s,o){var r=null;var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var R=s.getResizeShadowClassName();if(!R||R===""){if(c===sap.gantt.shape.ShapeCategory.InRowShape){R="sap.gantt.shape.ResizeShadowShape";}else{return null;}}r=this.instantiateShapeClass(R);return r;};
S.prototype._createResizeShadowShape=function(s,o,r){var R=this.getResizeShadowShapeInstance(s,o);if(R){this.setSpecialProperty(R,s);o.setAggregation("resizeShadowShape",R);this.setShapeElementId(r,undefined,R.getId());}};
return S;});
sap.ui.predefine('sap/gantt/misc/ShapeSelectionModel',["jquery.sap.global","sap/ui/base/ManagedObject","sap/gantt/misc/Utility"],function(q,M,U){"use strict";
var S=M.extend("sap.gantt.misc.ShapeSelectionModel",{
constructor:function(i,s){M.apply(this,arguments);this.aSelectedRelationships=[];this.mSelectedShapes={"uid":[],"shapes":[]};},
metadata:{properties:{"selectionMode":{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard}},associations:{"ganttChart":{type:"sap.gantt.GanttChart",multiple:false}}}
});
var D={Row:"Row",Shape:"Shape"};
S.prototype.clearAllSelections=function(){var c=this.clearShapeSelection();var r=this.clearRelationshipSelection();return c&&r;};
S.prototype.clearShapeSelection=function(){if(this.mSelectedShapes.uid.length===0){return false;}this.mSelectedShapes.uid=[];return true;};
S.prototype.clearRelationshipSelection=function(){if(this.aSelectedRelationships.length===0){return false;}this.aSelectedRelationships=[];return true;};
S.prototype.getSelectedShapeDatum=function(){var d=[];var l=this.mSelectedShapes.uid.length;for(var i=0;i<l;i++){var u=this.mSelectedShapes.uid[i];var o=this.getShapeDatumByShapeUid(u);if(o){d.push(o);}}return d;};
S.prototype.getSelectedRelationships=function(){return this.aSelectedRelationships;};
S.prototype.isShapeSelected=function(s){return q.inArray(s,this.mSelectedShapes.uid)===-1?false:true;};
S.prototype.isRelationshipSelected=function(u){return this.aSelectedRelationships.some(function(s){return s.uid===u;});};
S.prototype.isSelectedShapeVisible=function(s,c){var a=U.getIdByUid(s);var d=U.getShapeDatumById(a,c);return d.some(function(i){return i.uid===s;});};
S.prototype.changeShapeSelection=function(s,r,c,d,R){var b,a;if(this.getSelectionMode()===sap.gantt.SelectionMode.None){return{shapeSelectionChange:false,relationshipSelectionChange:false};}var i=(U.getShapeDataNameByUid(s.uid)===sap.gantt.shape.ShapeCategory.Relationship);var m=(c&&this.getSelectionMode()===sap.gantt.SelectionMode.MultiWithKeyboard)||this.getSelectionMode()===sap.gantt.SelectionMode.Multiple;if(m){if(i){if(this.isRelationshipSelected(s.uid)){a=this.deselectRelationship(s.uid);}else{a=this.selectRelationship(s);}}else{if(this.isShapeSelected(s.uid)&&!d&&!R){b=this.deselectShape(s.uid);}else{b=this.selectByShapeData(s);}}}else{if(i){if(!this.isRelationshipSelected(s.uid)){a=this.clearRelationshipSelection();b=this.clearShapeSelection();a=this.selectRelationship(s)?true:a;}}else{if(!this.isShapeSelected(s.uid)&&!d&&!R){a=this.clearRelationshipSelection();b=this.clearShapeSelection();b=this.selectByShapeData(s)?true:b;}}}return{shapeSelectionChange:b,relationshipSelectionChange:a};};
S.prototype.selectByShapeData=function(s){if(!s||this.isShapeSelected(s.uid)){return false;}this.mSelectedShapes.uid.push(s.uid);return true;};
S.prototype.selectShapeByUid=function(u){var r;if(u&&u.length>0){for(var i=0;i<u.length;i++){r=r||this.selectByShapeData(this.getShapeDatumByShapeUid(u[i]));}}return r;};
S.prototype.deselectShape=function(s){var i=q.inArray(s,this.mSelectedShapes.uid);if(i>=0){this.mSelectedShapes.uid.splice(i,1);}else{return false;}return true;};
S.prototype.selectShapes=function(s,e){if(!s||s.length===0){return this.clearShapeSelection();}var u;if(e){u=this.clearShapeSelection();}var a=this._getShapeDatumForSelection(s);for(var j=0;j<a.length;j++){u=this.selectByShapeData(a[j])?true:u;}return u;};
S.prototype.deselectShapes=function(I){if(!I||I.length===0){return this.clearShapeSelection();}var u;var s=this.getSelectedShapeDatum();for(var i=0;i<s.length;i++){var o=s[i];if(q.inArray(o.__id__,I)>=0){u=this.deselectShape(o.uid)?true:u;}}return u;};
S.prototype.selectRelationship=function(r){if(this.isRelationshipSelected(r.uid)){return false;}this.aSelectedRelationships.push(r);return true;};
S.prototype.deselectRelationship=function(r){var t=this;var u=q.each(this.aSelectedRelationships,function(i,a){if(a.uid===r){t.aSelectedRelationships.splice(i,1);return true;}});return u?true:false;};
S.prototype.selectRelationships=function(r,e){if(!r||r.length===0){return this.clearRelationshipSelection();}var u;if(e){u=this.clearRelationshipSelection();}for(var i=0;i<r.length;i++){u=this.selectRelationship(r[i])?true:u;}return u;};
S.prototype.deselectRelationships=function(i){if(!i||i.length===0){return this.clearRelationshipSelection();}else{var u;for(var j in this.aSelectedRelationships){var r=this.aSelectedRelationships[j];if(q.inArray(r.id,i)>=0){u=this.deselectRelationship(r.uid)?true:u;}}return u;}};
S.prototype.selectUnderlyingTableRows=function(i,t,e){var T=t.getSelectedIndices();if(e&&T.length>0){t.clearSelection();}var r=this._getRowDatumForSelection(i,t);for(var I=0;I<r.length;I++){var R=r[I];var s=this.getSelectionMode();if(s===sap.gantt.SelectionMode.Multiple||s===sap.gantt.SelectionMode.MultiWithKeyboard){t.addSelectionInterval(R.rowIndex,R.rowIndex);}else{t.setSelectedIndex(R.rowIndex);}}};
S.prototype.deselectUnderlyingTableRows=function(i,t){if(!i||i.length===0){t.clearSelection();return;}var r=this._getRowDatumForSelection(i,t);for(var I=0;I<r.length;I++){var R=r[I];t.removeSelectionInterval(R.rowIndex,R.rowIndex);}};
S.prototype.getShapeDatumByShapeUid=function(s){return this._getDatumByUid(s,D.Shape);};
S.prototype.getRowDatumByShapeUid=function(s){return this._getDatumByUid(s,D.Row);};
S.prototype._getDatumByUid=function(s,d){var g=this._getGanttChart();var o;if(D.Shape===d){o=U.getShapeDatumByShapeUid(s,g.getId());}else{o=U.getRowDatumByShapeUid(s,g.getId());}if(o){return o;}var r,a;var b=U.getShapeDataNameByUid(s);var j=(g._oTT.getBinding("rows").getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding");var R=U.getChartSchemeByShapeUid(s);var A=g.getAllRowData();q.each(A,function(k,v){var c=v;if(R===""||R===c.chartScheme){if(j&&c.data[b]){for(var i=0;i<c.data[b].length;i++){if(c.data[b][i].uid===s){r=c;a=c.data[b][i];return false;}}}else if(c.data.uid===s){r=c;a=c.data;return false;}}});if(d===D.Shape){return a;}return r;};
S.prototype._getRowDatumForSelection=function(i,t){var r=i?i:[],R=U.getRowDatumRefById(r,t.getParent().getId()),m=R.length===r.length;if(!m){var I=this._lookupInvisibleDatum(r,R,D.Row);R=R.concat(I);}return R;};
S.prototype._getShapeDatumForSelection=function(i){var g=this._getGanttChart();var s=i?i:[];var a=U.getShapeDatumById(s,g.getId()),m=a.length===s.length;if(!m){var I=this._lookupInvisibleDatum(s,a,D.Shape);a=a.concat(I);}return a;};
S.prototype._lookupInvisibleDatum=function(I,f,d){var a=this._getInvisibleIds(I,f,d);var b=[];if(a.length>0){var g=this._getGanttChart(),s=g.getShapeDataNames();var A=g.getAllRowData();var l=function(r,c){var R=null;q.each(s,function(j,o){var e;if(typeof o==="string"){e=o;}else{e=o.name;}var h=r.data[e];if(h){q.each(h,function(k,i){if(i.__id__==c){R=i;return false;}});if(R){return false;}}});return R;};var L=function(c,t){var r=null;q.each(A,function(i,R){if(t===D.Shape){r=l(R,c);if(r){return false;}}else{if(R.id==c){r=R;return false;}}});return r;};b=a.map(function(i){return L(i,d);});}return b;};
S.prototype._getInvisibleIds=function(i,f,d){var F=f.map(function(o){if(d===D.Shape){return o.__id__;}return o.id;});return i.filter(function(I){return q.inArray(I,F)===-1;});};
S.prototype._getGanttChart=function(){return sap.ui.getCore().byId(this.getGanttChart());};
return S;});
sap.ui.predefine('sap/gantt/misc/Utility',["sap/gantt/misc/Format","sap/gantt/config/TimeHorizon"],function(F,T){"use strict";var U={};
U.assign=function(i,d){if(typeof(i)!==typeof(d)){return d;}else if((typeof i==="undefined")||i===null){return d;}else{return i;}};
U.assignDeep=function(i,d){if(!i&&!d){return null;}else if(i&&!d){return i;}else if(!i&&d){return d;}else if(typeof(i)==="object"&&typeof(d)==="object"){var r=i;for(var a in d){if(typeof(r[a])!=="boolean"&&!r[a]){r[a]=d[a];}else if(typeof(d[a])==="object"&&typeof(r[a])==="object"){r[a]=this.assignDeep(r[a],d[a]);}}return r;}else{return i;}};
U.generateRowUid=function(d,o,s,p,r){jQuery.each(d,function(k,v){v.uid=v.id;if(p){v.uid=p+"|"+v.uid;}else if(v.bindingObj&&v.bindingObj.findNode){var n=v.bindingObj.findNode(v.rowIndex);while(n.parent&&n.level>0){n=n.parent;v.uid=n.context.getObject()[r]+"|"+v.uid;}}var a=(v.index===undefined)?-1:v.index;var c=(v.chartScheme===undefined)?"":v.chartScheme;v.uid="PATH:"+v.uid+"|SCHEME:"+c+"["+a+"]";v.data.uid=v.uid;for(var i=0;i<s.length;i++){var D,b;if(typeof s[i]==="string"){D=s[i];b="id";}else{D=s[i].name;b=s[i].idName?s[i].idName:"id";}if(D in v.data){for(var j=0;j<v.data[D].length;j++){var e=v.data[D][j];if(e[b]===undefined){e[b]=jQuery.sap.uid();}e.uid=v.uid+"|DATA:"+D+"["+e[b]+"]";e.__id__=e[b];}}}});};
U.getChartSchemeByShapeUid=function(s){return U.parseUid(s).chartScheme||"";};
U.generateUidForRelationship=function(d,r){var s="relationship";var D="PATH:DUMMY|SCHEME:DUMMY[0]";for(var i=0;i<d.length;i++){if(d[i][r]===undefined){d[i][r]=jQuery.sap.uid();}d[i].uid=D+"|DATA:"+s+"["+d[i][r]+"]";d[i].__id__=d[i][r];}};
U.generateObjectPathToObjectMap=function(d,m,p){var r;for(var i in d){var o=d[i],a,b;if(o.objectInfoRef){a=o.objectInfoRef.id;o=o.objectInfoRef;}else{a=o.id;}if(p&&p!=""){a=p.concat(".").concat(a);}b=a.concat("-").concat(U.parseUid(o.uid).rowIndex);m[b]=o;if(o.children&&o.children.length>0){r=this.generateObjectPathToObjectMap(o.children,m,a);}}return r;};
U.getShapeDataNameByUid=function(s){return U.parseUid(s).shapeDataName;};
U.getIdByUid=function(u,r){return r?U.parseUid(u).rowId:U.parseUid(u).shapeId;};
U.parseUid=function(u){var r=/(PATH:(.+)\|SCHEME:(.*?\[-?\d+\]))(?:\|DATA:(.+)\[(.*)\])?$/g;var m=r.exec(u);var a={};if(m){var c=m[3];if(c){var R=c.match(/\[-?\d+\]/)[0].slice(1,-1);c=c.replace(/\[-?\d+\]/,"");}var s=m[1],b=m[2],d=b.split("|"),e=d[d.length-1];a={rowId:e,rowPath:b,rowUid:s,chartScheme:c,shapeDataName:m[4],shapeId:m[5],rowIndex:R};}return a;};
U.scaleBySapUiSize=function(m,n){switch(m){case"sapUiSizeCozy":return n*1.5;case"sapUiSizeCondensed":return n*0.78;default:return n;}};
U.findSapUiSizeClass=function(c){var a,b;if(c){a=c.$();}else{a=jQuery("body");}if(a){b=a.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");if(b.hasClass("sapUiSizeCondensed")){return"sapUiSizeCondensed";}else if(b.hasClass("sapUiSizeCompact")){return"sapUiSizeCompact";}else if(b.hasClass("sapUiSizeCozy")){return"sapUiSizeCozy";}}};
U.floatEqual=function(v,V){return Math.abs(v-V)<0.0001;};
U.calculateStringLength=function(s){var l=0;if(s.match("[\u4E00-\u9FFF]")===null){l=s.length;}else{l=s.length+s.match(/[\u4E00-\u9FFF]/g).length;}return l;};
U.judgeTimeHorizonValidity=function(v,t){var V=F.abapTimestampToDate(v.getStartTime()).getTime(),o=F.abapTimestampToDate(v.getEndTime()).getTime(),a=F.abapTimestampToDate(t.getStartTime()).getTime(),b=F.abapTimestampToDate(t.getEndTime()).getTime();return(V-a>=0)&&(b-o>=0);};
U.getShapeDatumById=function(i,c){return U.getDatumById(i,"sap-gantt-shape-id",c);};
U.getRowDatumById=function(i,c){return U.getDatumById(i,"sap-gantt-row-id",c)||[];};
U.getRowDatumRefById=function(i,c){return U.getRowDatumById(i,c).map(function(I){return I.objectInfoRef;});};
U.getRowDatumByShapeUid=function(s,c){var p=this.parseUid(s),r=p.rowUid,R=p.rowId;var d=null;var a=this.getRowDatumById(R,c);var f=a.filter(function(d){return d.objectInfoRef.uid.indexOf(r)>=0;});if(f.length>0){d=f[0].objectInfoRef;}return d;};
U.getShapeDatumByShapeUid=function(s,c){var p=this.parseUid(s),S=p.shapeId,r=p.rowUid;var a=this.getShapeDatumById(S,c);var f=a.filter(function(d){return d.uid.indexOf(r)>=0;});return f[0];};
U.getRowDatumByEventTarget=function(t){var d=null;var a=jQuery(t).closest("g[data-sap-gantt-row-id]");if(a.length){d=d3.select(a.get(0)).datum();}return d;};
U.getDatumById=function(i,a,c){var p=i?i:"";var I=p;if(typeof p==="string"){I=[p];}var d=[];I.forEach(function(b){var s=["[id='",c,"']"," [data-",a,"='",b,"']"].join("");$(s).each(function(_,e){var f=d3.select(e),n=f.datum();var g=d.some(function(o){var O=o.uid||o.objectInfoRef.uid,N=n.uid||n.objectInfoRef.uid;return O===N;});if(!g){d.push(n);}});});return jQuery.sap.unique(d);};
U.attributeEqualSelector=function(a,v){return"["+a+"="+"'"+v+"'"+"]";};
U.calculateHorizonByWidth=function(o,O,c,C){var a=F.abapTimestampToDate(o.getStartTime());var b=F.abapTimestampToDate(o.getEndTime());var r=Math.abs(a.getTime()-b.getTime())/O;var s;if(C){s=C;}else{s=a;}var e=new Date();e.setTime(s.getTime()+c*r);var d=new T({startTime:s,endTime:e});return d;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/Circle',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.Circle",{metadata:{properties:{tag:{type:"string",defaultValue:"circle"},cx:{type:"float"},cy:{type:"float"},r:{type:"float",defaultValue:5}}}});
C.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
C.prototype.getCx=function(d,r){if(this.mShapeConfig.hasShapeProperty("cx")){return this._configFirst("cx",d);}return this.getRotationCenter(d,r)[0];};
C.prototype.getCy=function(d,r){if(this.mShapeConfig.hasShapeProperty("cy")){return this._configFirst("cy",d);}return this.getRowYCenter(d,r);};
C.prototype.getR=function(d){return this._configFirst("r",d,true);};
C.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ClipPath',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.ClipPath",{metadata:{properties:{tag:{type:"string",defaultValue:"clippath"}},aggregations:{paths:{type:"sap.gantt.shape.Path",multiple:true,singularName:"path"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/shape/Definitions',["sap/gantt/shape/Shape"],function(S){"use strict";
var D=S.extend("sap.gantt.shape.Definitions",{metadata:{properties:{tag:{type:"string",defaultValue:"defs"},childTagName:{type:"string"},content:{type:"string",defaultValue:""},referenceId:{type:"string"}}}});
D.prototype.getChildTagName=function(d,r){if(this.mShapeConfig.hasShapeProperty("childTagName")){return this._configFirst("childTagName",d);}};
D.prototype.getContent=function(d,r){if(this.mShapeConfig.hasShapeProperty("content")){return this._configFirst("content",d);}return null;};
D.prototype.getReferenceId=function(d,r){return this.getParentReferenceId(d,r);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/Group',["sap/gantt/shape/Shape"],function(S){"use strict";
var G=S.extend("sap.gantt.shape.Group",{metadata:{properties:{tag:{type:"string",defaultValue:"g"},RLSAnchors:{type:"object"}},aggregations:{shapes:{type:"sap.gantt.shape.Shape",multiple:true,singularName:"shape"}}}});
G.prototype.getRLSAnchors=function(d,r){return this._configFirst("RLSAnchors",d);};
G.prototype.genReferenceId=function(d,r){return this._configFirst("referenceId",d);};
return G;},true);
sap.ui.predefine('sap/gantt/shape/Image',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var I=S.extend("sap.gantt.shape.Image",{metadata:{properties:{tag:{type:"string",defaultValue:"image"},image:{type:"string"},x:{type:"float"},y:{type:"float"},width:{type:"float",defaultValue:20},height:{type:"float",defaultValue:20}}}});
I.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_IMAGE"));};
I.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n,a=this.getAxisTime();if(C.getConfiguration().getRTL()){if(this.getIsDuration(d,r)===true){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}return(n?n:0)-this.getWidth(d,r)/2;};
I.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
I.prototype.getImage=function(d){return this._configFirst("image",d);};
I.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
I.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return I;},true);
sap.ui.predefine('sap/gantt/shape/Line',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(S,U,F){"use strict";
var L=S.extend("sap.gantt.shape.Line",{metadata:{properties:{tag:{type:"string",defaultValue:"line"},isDuration:{type:"boolean",defaultValue:true},x1:{type:"float"},y1:{type:"float"},x2:{type:"float"},y2:{type:"float"}}}});
L.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_LINE"));};
L.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}return this.getAxisTime().timeToView(F.abapTimestampToDate(this.getTime(d,r)));};
L.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}return this.getAxisTime().timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));};
L.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"stroke-dasharray":this.getStrokeDasharray(d,r),"fill-opacity":this.getFillOpacity(d,r),"stroke-opacity":this.getStrokeOpacity(d,r)};return i+this.getInlineStyle(s);};
return L;},true);
sap.ui.predefine('sap/gantt/shape/Path',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Path",{metadata:{properties:{tag:{type:"string",defaultValue:"path"},isClosed:{type:"boolean",defaultValue:false},fill:{type:"string",defaultValue:"none"},d:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PATH"));};
P.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var c=this._getCenter(d,r),i=this.getIsDuration(d,r),m=this.mChartInstance.getSapUiSizeClass();var n=U.scaleBySapUiSize(m,7.5);if(i){var e=this._getCenter(d,r,true);n=(e[0]-c[0])/2;}D="M "+c[0]+" "+c[1]+" c 0,"+-n+" "+n+","+-n+" "+n+",0 c 0,"+n+" "+n+","+n+" "+n+",0";}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Path shape generated invalid d: "+D+" from the given data: "+d);return null;}};
P.prototype.getIsClosed=function(d){return this._configFirst("isClosed",d);};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"stroke-dasharray:":this.getStrokeDasharray(d,r)};if(this.getIsClosed(d,r)){s["fill-opacity"]=this.getFillOpacity(d,r);s["stroke-opacity"]=this.getStrokeOpacity(d,r);}return i+this.getInlineStyle(s);};
P.prototype.isValid=function(d){return!!d&&d.indexOf("NaN")===-1&&d.indexOf("undefined")===-1&&d.indexOf("null")===-1;};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polygon',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polygon",{metadata:{properties:{tag:{type:"string",defaultValue:"polygon"},points:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_POLYGON"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var m=this.mChartInstance.getSapUiSizeClass();var c=this.getRotationCenter(d,r),n=U.scaleBySapUiSize(m,8),a=U.scaleBySapUiSize(m,4),b=U.scaleBySapUiSize(m,4*Math.sqrt(3)),R=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)){R.push([c[0]-b,c[1]-a].join(","));R.push([c[0],c[1]-n].join(","));R.push([c[0]+b,c[1]-a].join(","));R.push([c[0]+b,c[1]+a].join(","));R.push([c[0],c[1]+n].join(","));R.push([c[0]-b,c[1]+a].join(","));}return R.join(" ");};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polyline',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polyline",{metadata:{properties:{tag:{type:"string",defaultValue:"polyline"},fill:{type:"string",defaultValue:"none"},points:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r),R=[];var m=this.mChartInstance.getSapUiSizeClass();if(c&&c.length===2){R.push([c[0]-15,c[1]].join(","));R.push([c[0]-10,c[1]].join(","));R.push([c[0]-5,c[1]-U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+5,c[1]+U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+10,c[1]].join(","));R.push([c[0]+15,c[1]].join(","));}return R.join(" ");};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Rectangle',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var R=S.extend("sap.gantt.shape.Rectangle",{metadata:{properties:{tag:{type:"string",defaultValue:"rect"},isDuration:{type:"boolean",defaultValue:true},x:{type:"float"},y:{type:"float"},width:{type:"float"},height:{type:"float",defaultValue:15},rx:{type:"string",defaultValue:"0"},ry:{type:"string",defaultValue:"0"}}}});
R.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RECTANGLE"));};
R.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getAxisTime();if(C.getConfiguration().getRTL()){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){jQuery.sap.log.warning("Cannot get start time or end time from shape data: "+d+", please check whether the attribute name");return 0;}return n;};
R.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d,true);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
R.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var a=this.getAxisTime();var n,s=a.timeToView(F.abapTimestampToDate(this.getTime(d,r))),e=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));if(!jQuery.isNumeric(s)||!jQuery.isNumeric(e)){return 0;}if(C.getConfiguration().getRTL()){n=s-e;}else{n=e-s;}if(n===0||n<0){n=1;}return n;};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
R.prototype.getRx=function(d){return this._configFirst("rx",d);};
R.prototype.getRy=function(d){return this._configFirst("ry",d);};
R.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"stroke-dasharray":this.getStrokeDasharray(d,r),"fill-opacity":this.getFillOpacity(d,r),"stroke-opacity":this.getStrokeOpacity(d,r)};return i+this.getInlineStyle(s);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ResizeShadowShape',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,U,F,C){"use strict";
var R=P.extend("sap.gantt.shape.ResizeShadowShape",{metadata:{properties:{height:{type:"int",defaultValue:15}}}});
R.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
R.prototype.getD=function(d,o){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,o);x=this.getParent().getX(d,o)-s/2;y=this.getParent().getY(d,o)-s/2;a=x+this.getParent().getWidth(d,o)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,o);x=this.getParent().getX1(d,o)-s/2;y=this.getParent().getY1(d,o)-s/2;a=this.getParent().getX2(d,o)+s;b=this.getParent().getY2(d,o)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,o);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,o);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,o);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,o);n=this.getParent().getCy(d,o);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,o);s=this.getStrokeWidth(d,o);var f=this.getParent().getTime(d,o);var g=this.getParent().getEndTime(d,o);var A=this.getParent().getAxisTime();var h=this.getHeight(d)+e;if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,o)-h/2-s/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("ResizeShadowShape generated invalid d: "+p+" from the given data: "+d);return null;}};
R.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
R.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
R.prototype.getEnableSelection=function(d,r){return false;};
R.prototype.getStroke=function(d,r){return"red";};
R.prototype.getFill=function(d,r){return"none";};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/SelectedShape',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,U,F,C){"use strict";
var S=P.extend("sap.gantt.shape.SelectedShape",{metadata:{properties:{fill:{type:"string",defaultValue:"none"},fillOpacity:{type:"float",defaultValue:0},strokeOpacity:{type:"float",defaultValue:0},height:{type:"int",defaultValue:15}}}});
S.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
S.prototype.getD=function(d,R){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,R);x=this.getParent().getX(d,R)-s/2;y=this.getParent().getY(d,R)-s/2;a=x+this.getParent().getWidth(d,R)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,R);x=this.getParent().getX1(d,R)-s/2;y=this.getParent().getY1(d,R)-s/2;a=this.getParent().getX2(d,R)+s;b=this.getParent().getY2(d,R)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,R);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,R);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,R);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,R);n=this.getParent().getCy(d,R);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,R);s=this.getStrokeWidth(d,R);var f=this.getParent().getTime(d,R);var g=this.getParent().getEndTime(d,R);var A=this.getParent().getAxisTime();var h=this.getHeight(d);if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,R)-h/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("SelectedShape generated invalid d: "+p+" from the given data: "+d);return null;}};
S.prototype.getStroke=function(d,r){return"red";};
S.prototype.getFill=function(d,r){return"none";};
S.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
S.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
S.prototype.getEnableDnD=function(d,r){return false;};
S.prototype.getEnableSelection=function(d,r){return false;};
S.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Shape',["sap/ui/core/Element","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core","sap/ui/core/format/NumberFormat"],function(E,U,F,C,N){"use strict";
var S=E.extend("sap.gantt.shape.Shape",{metadata:{"abstract":true,properties:{tag:{type:"string"},category:{type:"string",defaultValue:sap.gantt.shape.ShapeCategory.InRowShape},htmlClass:{type:"string"},isDuration:{type:"boolean",defaultValue:false},time:{type:"string"},endTime:{type:"string"},title:{type:"string"},ariaLabel:{type:"string"},xBias:{type:"float",defaultValue:0},yBias:{type:"float",defaultValue:0},fill:{type:"sap.gantt.ValueSVGPaintServer"},strokeOpacity:{type:"float",defaultValue:1},fillOpacity:{type:"float",defaultValue:1},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:0},strokeDasharray:{type:"string"},clipPath:{type:"string"},transform:{type:"string"},filter:{type:"string"},enableDnD:{type:"boolean",defaultValue:false},enableSelection:{type:"boolean",defaultValue:true},enableResize:{type:"boolean",defaultValue:false},rowYCenter:{type:"float",defaultValue:7.5},rotationCenter:{type:"float[]"},rotationAngle:{type:"float"},isBulk:{type:"boolean",defaultValue:false},arrayAttribute:{type:"string"},timeFilterAttribute:{type:"string"},endTimeFilterAttribute:{type:"string"},legend:{type:"string"}},aggregations:{selectedShape:{type:"sap.gantt.shape.SelectedShape",multiple:false},resizeShadowShape:{type:"sap.gantt.shape.ResizeShadowShape",multiple:false}}}});
S.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_SHAPE"));this.mShapeConfig=null;this.mChartInstance=null;};
var v={};sap.ui.getCore().attachThemeChanged(function(){v={};});
S.prototype.getTag=function(d){return this._configFirst("tag",d);};
S.prototype.getCategory=function(d){return this._configFirst("category",d);};
S.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
S.prototype.getIsDuration=function(d){return this._configFirst("isDuration",d);};
S.prototype.getTime=function(d){return this._configFirst("time",d);};
S.prototype.getEndTime=function(d){return this._configFirst("endTime",d);};
S.prototype.getTitle=function(d){return this._configFirst("title",d);};
S.prototype.getAriaLabel=function(d){return this._configFirst("ariaLabel",d);};
S.prototype.getXBias=function(d){if(C.getConfiguration().getRTL()===true){return 0-this._configFirst("xBias",d);}else{return this._configFirst("xBias",d);}};
S.prototype.getYBias=function(d){return this._configFirst("yBias",d,true);};
S.prototype.getFill=function(d,r){return this._configFirst("fill",d);};
S.prototype.getStrokeOpacity=function(d){return this._configFirst("strokeOpacity",d);};
S.prototype.getFillOpacity=function(d){return this._configFirst("fillOpacity",d);};
S.prototype.getStroke=function(d){return this._configFirst("stroke",d);};
S.prototype.getStrokeWidth=function(d){return this._configFirst("strokeWidth",d,true);};
S.prototype.getStrokeDasharray=function(d){return this._configFirst("strokeDasharray",d);};
S.prototype.getClipPath=function(d){return this._configFirst("clipPath",d);};
S.prototype.getTransform=function(d,r){if(this.mShapeConfig.hasShapeProperty("transform")){return this._configFirst("transform",d);}var R=[];this._translate(d,r,R);this._rotate(d,r,R);if(R.length>0){return R.join(" ");}};
S.prototype._rotate=function(d,r,R){var c=this.getRotationCenter(d,r),n=this.getRotationAngle(d,r);if(c&&c.length===2&&n){R.push("rotate("+n+" "+c[0]+" "+c[1]+")");}};
S.prototype._translate=function(d,r,R){var n=this.getXBias(d,r),a=this.getYBias(d,r);if(n||a){n=n?n:0;a=a?a:0;R.push("translate("+n+" "+a+")");}};
S.prototype.getFilter=function(d){return this._configFirst("filter",d);};
S.prototype.getEnableDnD=function(d){return this._configFirst("enableDnD",d);};
S.prototype.getEnableSelection=function(d){return this._configFirst("enableSelection",d);};
S.prototype.getEnableResize=function(d){return this._configFirst("enableResize",d);};
S.prototype.getRotationAngle=function(d){return this._rtlRotation(this._configFirst("rotationAngle",d));};
S.prototype._rtlRotation=function(n){if(n>0||n<0){if(C.getConfiguration().getRTL()){return 360-n;}else{return n;}}};
S.prototype.getRowYCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rowYCenter")){return this._configFirst("rowYCenter",d);}if(r){return r.y+r.rowHeight/2;}else{return this.getProperty("rowYCenter");}};
S.prototype.getRotationCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rotationCenter")){return this._configFirst("rotationCenter",d);}return this._getCenter(d,r);};
S.prototype._getCenter=function(d,r,e){var a=this.getAxisTime();var t=e?this.getEndTime(d,r):this.getTime(d,r);if(!t){return undefined;}var n=a.timeToView(F.abapTimestampToDate(t));if(!n&&!n==0){n=a.timeToView(0);}var b=this.getRowYCenter(d,r);return[n,b];};
S.prototype.getIsBulk=function(d){return this._configFirst("isBulk",d);};
S.prototype.getArrayAttribute=function(d){return this._configFirst("arrayAttribute",d);};
S.prototype.getTimeFilterAttribute=function(d){return this._configFirst("timeFilterAttribute",d);};
S.prototype.getEndTimeFilterAttribute=function(d){return this._configFirst("endTimeFilterAttribute",d);};
S.prototype.getLegend=function(d){return this._configFirst("legend",d);};
S.prototype._configFirst=function(a,d,s){var p=null;if(this.mShapeConfig.hasShapeProperty(a)){var c=this.mShapeConfig.getShapeProperty(a);if(typeof c==="string"){p=this._formatting(d,a,c);}else{p=c;}}else{p=this.getProperty(a);}if(s&&this.mChartInstance){var m=this.mChartInstance.getSapUiSizeClass();p=U.scaleBySapUiSize(m,p);}return p;};
S.prototype.getStyle=function(d,r){var s={"stroke":this.determineValueColor(this.getStroke(d,r)),"stroke-width":this.getStrokeWidth(d,r)};return this.getInlineStyle(s);};
S.prototype.getAxisTime=function(){var a=null;if(this.mChartInstance){a=this.mChartInstance.getAxisTime();}return a;};
S.prototype.getInlineStyle=function(s){return Object.keys(s).reduce(function(i,a){if(s[a]!==undefined&&s[a]!==null&&s[a]!==""){i+=(a+":"+s[a]+"; ");}return i;},"");};
S.prototype.determineValueColor=function(p){var f=v[p];if(!f&&p){f=sap.gantt.ValueSVGPaintServer.normalize(p);v[p]=f;}return f;};
S.prototype.getShapeViewBoundary=function(){var s=this.mChartInstance._oStatusSet;if(s&&s.aViewBoundary){return s.aViewBoundary;}return null;};
S.prototype._formatting=function(d,a,A){if(!A){return"";}this._attributeNameBindingMap=this._attributeNameBindingMap||{};if(!this._attributeNameBindingMap[a]){this._attributeNameBindingMap[a]=this._resolveAttributeMap(A);}return this._formatFromResolvedAttributeMap(d,a);};
S.prototype._resolveAttributeMap=function(a){var r=[];var m=a.match(/[^\{\}]*(\{.*?\})?/g);m.pop();m.forEach(function(V,i,A){var o={},s=V.split("{");if(s[0].length>0){o.leadingText=s[0];}if(s[1]){s=s[1].split("}")[0].split(":");if(s[0].length>0){o.attributeName=s[0].trim().split("/");}if(s[1]){o.attributeType=s[1].trim();}}r.push(o);});return r;};
S.prototype._formatFromResolvedAttributeMap=function(d,a){var A=this._attributeNameBindingMap[a],r=[],p,V;if(A){A.forEach(function(P,i){p=P.leadingText;if(P.attributeName){V=d;P.attributeName.forEach(function(s,i){V=V[s];});if(p){p=p+this._formatValue(V,P.attributeType);}else{p=this._formatValue(V,P.attributeType);}}r.push(p);}.bind(this));}if(r.length===1){return r[0];}return r.join("");};
S.prototype._formatValue=function(a,t){var r=a;switch(t){case"Number":r=this._formatNumber(a);break;case"Timestamp":var l=this.mChartInstance.getLocale();if(l){r=F.abapTimestampToTimeLabel(a,l);}break;default:if(r===undefined||r===null){r="";}break;}return r;};
S.prototype._formatNumber=function(n,d){var r="";if(d!==undefined){r=N.getFloatInstance({minFractionDigits:d,maxFractionDigits:d}).format(n);}else{r=N.getFloatInstance().format(n);}return r;};
S.prototype.getParentReferenceId=function(d,r){if(this.mShapeConfig.hasShapeProperty("referenceId")){return this._configFirst("referenceId",d);}if(this.getParent()&&this.getParent().genReferenceId){return this.getParent().genReferenceId(d,r);}};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Text',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var T=S.extend("sap.gantt.shape.Text",{metadata:{properties:{tag:{type:"string",defaultValue:"text"},text:{type:"string"},x:{type:"float"},y:{type:"float"},fontSize:{type:"int",defaultValue:10},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string"},wrapWidth:{type:"float",defaultValue:-1},wrapDy:{type:"float",defaultValue:20},truncateWidth:{type:"float",defaultValue:-1},ellipsisWidth:{type:"float",defaultValue:12}}}});
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var t=this.getTime(d,r);var a=this.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(x)){x=a.timeToView(0).toFixed(1);}return x;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)+this.getFontSize(d,r)/2;};
T.prototype.getText=function(d){return this._configFirst("text",d);};
T.prototype.getTextAnchor=function(d){return this._configFirst("textAnchor",d);};
T.prototype.getFontSize=function(d){return this._configFirst("fontSize",d,true);};
T.prototype.getFontFamily=function(d){return this._configFirst("fontFamily",d,true);};
T.prototype.getWrapWidth=function(d){return this._configFirst("wrapWidth",d);};
T.prototype.getWrapDy=function(d){return this._configFirst("wrapDy",d);};
T.prototype.getTruncateWidth=function(d){return this._configFirst("truncateWidth",d);};
T.prototype.getEllipsisWidth=function(d){return this._configFirst("ellipsisWidth",d);};
T.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"font-size":this.getFontSize(d,r)+"px;","fill":this.determineValueColor(this.getFill(d,r)),"font-family":this.getFontFamily(d,r)};return i+this.getInlineStyle(s);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/cal/Calendar',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var C=R.extend("sap.gantt.shape.cal.Calendar",{metadata:{properties:{isBulk:{type:"boolean",defaultValue:true},enableSelection:{type:"boolean",defaultValue:false},calendarName:{type:"string",defaultValue:"nwt"}}}});
C.prototype.init=function(){R.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CALENDAR"));};
C.prototype.getCalendarName=function(d){return this._configFirst("calendarName",d);};
C.prototype.getIsBulk=function(d){if(this.mShapeConfig.isBulk){return this._configFirst("isBulk",d);}return true;};
C.prototype.getEnableSelection=function(d){if(this.mShapeConfig.enableSelection){return this._configFirst("enableSelection",d);}return false;};
C.prototype.getX=function(d){if(this.mShapeConfig.x){return this._configFirst("x",d);}return this.mChartInstance._oStatusSet.aViewBoundary[0];};
C.prototype.getY=function(d,r){if(this.mShapeConfig.y){return this._configFirst("y",d);}return r.y;};
C.prototype.getWidth=function(d){if(this.mShapeConfig.width){return this._configFirst("width",d);}var s=this.mChartInstance._oStatusSet;if(s){return s.aViewBoundary[1]-s.aViewBoundary[0];}else{return 0;}};
C.prototype.getHeight=function(d,r){if(this.mShapeConfig.height){return this._configFirst("height",d);}return r.rowHeight;};
C.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c=this.getCalendarName(d,r);var p=this.mChartInstance.getCalendarDef();if(p){return p.getRefString(c);}};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Chevron',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,U,F,C){"use strict";
var a=P.extend("sap.gantt.shape.ext.Chevron",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:true},headLength:{type:"float",defaultValue:5},tailLength:{type:"float",defaultValue:5},height:{type:"float",defaultValue:15}}}});
a.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CHEVRON"));};
a.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getHeight(d,r);var b=this.getHeadLength(d,r),c=this.getTailLength(d,r),A=this.getAxisTime();var e=A.timeToView(F.abapTimestampToDate(this.getTime(d,r)));var f=A.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));var g=this.getRowYCenter(d,r);D=this.getDString({nStartOriginalX:e,nEndOriginalX:f,nTailLength:c,nHeadLength:b,nHeight:n,nRowYCenter:g});}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Chevron shape generated invalid d: "+D+" from the given data: "+d);return null;}};
a.prototype.getDString=function(c){var n=c.nHeight/2;if(this._isRTL){var b=c.nStartOriginalX-c.nEndOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX-1):(c.nStartOriginalX-c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l "+c.nTailLength+" -"+n+" l -"+b+" "+0+" l -"+c.nHeadLength+" "+n+" l "+c.nHeadLength+" "+n+" l "+b+" "+0+" z";}else{var b=c.nEndOriginalX-c.nStartOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX+1):(c.nStartOriginalX+c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l -"+c.nTailLength+" -"+n+" l "+b+" "+0+" l "+c.nHeadLength+" "+n+" l -"+c.nHeadLength+" "+n+" l -"+b+" "+0+" z";}return r;};
a.prototype.getHeadLength=function(d){return this._configFirst("headLength",d,true);};
a.prototype.getTailLength=function(d){return this._configFirst("tailLength",d,true);};
a.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Cursor',["sap/gantt/shape/Path"],function(P){"use strict";
var C=P.extend("sap.gantt.shape.ext.Cursor",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},length:{type:"float",defaultValue:10},width:{type:"float",defaultValue:5},pointHeight:{type:"float",defaultValue:5}}}});
C.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CURSOR"));};
C.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getPointHeight(d,r);var a=this.getWidth(d,r);var b=this.getLength(d,r);var c=b/2;var e=this.getRotationCenter(d,r);if(e&&e.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+e.join(" ")+" m "+-c+" "+-(a+n)/2+" l "+b+" 0 l 0 "+a+" l -"+c+" "+n+" l -"+c+" -"+n+" z";}}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Cursor shape generated invalid d: "+D+" from the given data: "+d);return null;}};
C.prototype.getLength=function(d){return this._configFirst("length",d,true);};
C.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
C.prototype.getPointHeight=function(d){return this._configFirst("pointHeight",d,true);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Diamond',["sap/gantt/shape/Path"],function(P){"use strict";
var D=P.extend("sap.gantt.shape.ext.Diamond",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},verticalDiagonal:{type:"float",defaultValue:12},horizontalDiagonal:{type:"float",defaultValue:12}}}});
D.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_DIAMOND"));};
D.prototype.getD=function(d,r){var s;if(this.mShapeConfig.hasShapeProperty("d")){s=this._configFirst("d",d);}else{var h=this.getVerticalDiagonal(d,r)/2;var a=this.getHorizontalDiagonal(d,r)/2;var c=this.getRotationCenter(d,r);if(c&&c.length===2&&jQuery.isNumeric(h)&&jQuery.isNumeric(a)){s="M "+c.join(" ")+" m "+-a+" 0"+" l "+a+" -"+h+" l "+a+" "+h+" l -"+a+" "+h+" z";}}if(this.isValid(s)){return s;}else{jQuery.sap.log.warning("Diamond shape generated invalid d: "+s+" from the given data: "+d);return null;}};
D.prototype.getVerticalDiagonal=function(d){return this._configFirst("verticalDiagonal",d,true);};
D.prototype.getHorizontalDiagonal=function(d){return this._configFirst("horizontalDiagonal",d,true);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/ext/Iconfont',["sap/gantt/shape/Text","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core","sap/ui/core/IconPool"],function(T,U,F,C,I){"use strict";
var a=T.extend("sap.gantt.shape.ext.Iconfont",{metadata:{properties:{name:{type:"string"},collectionName:{type:"string"}}}});
a.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}var n=this.getName(d,r),c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.content;}};
a.prototype.getName=function(d){return this._configFirst("name",d);};
a.prototype.getCollectionName=function(d){return this._configFirst("collectionName",d);};
a.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d);}var n=this.getName(d,r);var c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.fontFamily;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Pentangle',["sap/gantt/shape/Polygon","sap/gantt/misc/Utility"],function(P,U){"use strict";
var a=P.extend("sap.gantt.shape.ext.Pentangle",{metadata:{properties:{radius:{type:"float",defaultValue:10},radius2:{type:"float",defaultValue:undefined}}}});
a.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PENTANGLE"));};
a.prototype.getRadius=function(d){return this._configFirst("radius",d,true);};
a.prototype.getRadius2=function(d,r){if(this.mShapeConfig.hasShapeProperty("radius2")){return this._configFirst("radius2",d,true);}var D=this.getProperty("radius2");if(D||D===0){var m=this.mChartInstance.getSapUiSizeClass();return U.scaleBySapUiSize(m,D);}else{return this.calRadius2ByGoldenRatio(this.getRadius(d,r));}};
a.prototype.calRadius2ByGoldenRatio=function(n){return n*Math.cos(2*Math.PI/5)/Math.cos(Math.PI/5);};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r);var n=this.getRadius(d,r);var b=this.getRadius2(d,r);var p=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(b)){p=this._generatePentaclePoints(c,n,b);}return p.join("");};
a.prototype._generatePentaclePoints=function(c,n,b){var p={},d=[],e=Math.PI/5,f=0;for(var i=0;i<10;i++){f=e*i;p.x=this._getPointX(c[0],(i%2==0)?n:b,f);p.y=this._getPointY(c[1],(i%2==0)?n:b,f);d.push(" "+p.x+","+p.y);}return d;};
a.prototype._getPointX=function(n,b,c){return n+(b*Math.sin(c));};
a.prototype._getPointY=function(n,b,c){return n-(b*Math.cos(c));};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/TextRepeat',["sap/gantt/shape/Definitions","sap/ui/core/Core","sap/gantt/misc/Format"],function(D,C,F){"use strict";
var T=D.extend("sap.gantt.shape.ext.TextRepeat",{metadata:{properties:{childTagName:{type:"string",defaultValue:"pattern"},x:{type:"float"},y:{type:"float"},width:{type:"float"},height:{type:"float",defaultValue:15},dx:{type:"string"},dy:{type:"string"},text:{type:"string"},fontSize:{type:"int"},fontFamily:{type:"string"}}}});
T.prototype.getChildTagName=function(d,r){if(this.mShapeConfig.hasShapeProperty("childTagName")){return this._configFirst("childTagName",d);}return'pattern';};
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getAxisTime();if(C.getConfiguration().getRTL()){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){return 0;}return n;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return 0;};
T.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}return 0;};
T.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return 0;};
T.prototype.getDx=function(d,r){if(this.mShapeConfig.hasShapeProperty("dx")){return this._configFirst("dx",d);}return"0";};
T.prototype.getDy=function(d,r){if(this.mShapeConfig.hasShapeProperty("dy")){return this._configFirst("dy",d);}return"0";};
T.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}return"";};
T.prototype.getContent=function(d,r){if(this.mShapeConfig.hasShapeProperty("content")){return this._configFirst("content",d);}var c=this.getChildTagName(d,r);return"<"+c+" id='"+this.getReferenceId(d,r)+"' patternUnits='userSpaceOnUse'"+" width="+this.getWidth(d,r)+" height="+this.getHeight(d,r)+" x="+this.getX(d,r)+" y="+this.getY(d,r)+"><text dx="+this.getDx(d,r)+" dy="+this.getDy(d,r)+" font-size="+this.getFontSize(d,r)+" font-family='"+this.getFontFamily(d,r)+"'>"+this.getText(d,r)+"</text></"+c+">";};
T.prototype.getFontSize=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontSize")){return this._configFirst("fontSize",d,true);}return 12;};
T.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d,true);}return"";};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/Triangle',["sap/gantt/shape/Path"],function(P){"use strict";
var T=P.extend("sap.gantt.shape.ext.Triangle",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},base:{type:"float",defaultValue:10},height:{type:"float",defaultValue:10},distanceOfyAxisHeight:{type:"float",defaultValue:5}}}});
T.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_TRIANGLE"));};
T.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getBase(d,r);var a=this.getHeight(d,r);var b=this.getDistanceOfyAxisHeight(d,r);var c=this.getHeight(d,r)/2;var C=this.getRotationCenter(d,r);if(C&&C.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+C.join(" ")+" m 0 "+c+" l -"+b+" 0 l "+b+" -"+a+" l "+Number(n-b)+" "+a+" l -"+Number(n-b)+" 0 z";}}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Triangle shape generated invalid d: "+D+" from the given data: "+d);return null;}};
T.prototype.getBase=function(d){return this._configFirst("base",d,true);};
T.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
T.prototype.getDistanceOfyAxisHeight=function(d){return this._configFirst("distanceOfyAxisHeight",d,true);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/Relationship',["sap/gantt/shape/Path","sap/ui/core/Core"],function(P,C){"use strict";
var R=P.extend("sap.gantt.shape.ext.rls.Relationship",{metadata:{properties:{htmlClass:{type:"string",defaultValue:"relationshipLine"},category:{type:"string",defaultValue:sap.gantt.shape.ShapeCategory.Relationship},isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:false},stroke:{type:"string",defaultValue:"#000000"},fill:{type:"string",defaultValue:"#000000"},type:{type:"sap.gantt.shape.ext.rls.RelationshipType",defaultValue:sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish},fromObjectPath:{type:"string"},fromExpandRowIndex:{type:"int",defaultValue:0},fromShapeId:{type:"string"},fromDataId:{type:"string"},toObjectPath:{type:"string"},toExpandRowIndex:{type:"int",defaultValue:0},toShapeId:{type:"string"},toDataId:{type:"string"},showStart:{type:"boolean",defaultValue:false},showEnd:{type:"boolean",defaultValue:true},lShapeforTypeFS:{type:"boolean",defaultValue:true},minXLen:{type:"float",defaultValue:10},arrowSideLength:{type:"float",defaultValue:5}},aggregations:{selectedShape:{type:"sap.gantt.shape.ext.rls.SelectedRelationship",multiple:false}}}});
R.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RELATIONSHIP"));};
R.prototype.getType=function(d){return this._configFirst("type",d);};
R.prototype.getFromObjectPath=function(d){return this._configFirst("fromObjectPath",d);};
R.prototype.getFromExpandRowIndex=function(d){return d.hasOwnProperty("fromExpandRowIndex")?this._configFirst("fromExpandRowIndex",d):this.getProperty("fromExpandRowIndex");};
R.prototype.getFromShapeId=function(d){return this._configFirst("fromShapeId",d);};
R.prototype.getFromDataId=function(d){return this._configFirst("fromDataId",d);};
R.prototype.getToObjectPath=function(d){return this._configFirst("toObjectPath",d);};
R.prototype.getToExpandRowIndex=function(d){return d.hasOwnProperty("toExpandRowIndex")?this._configFirst("toExpandRowIndex",d):this.getProperty("toExpandRowIndex");};
R.prototype.getToShapeId=function(d){return this._configFirst("toShapeId",d);};
R.prototype.getToDataId=function(d){return this._configFirst("toDataId",d);};
R.prototype.getLShapeforTypeFS=function(d){return this._configFirst("lShapeforTypeFS",d);};
R.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
R.prototype.getShowStart=function(d){return this._configFirst("showStart",d);};
R.prototype.getShowEnd=function(d){return this._configFirst("showEnd",d);};
R.prototype.getD=function(d,r){var s=this.getShowEnd(d,r);var a=this.getShowStart(d,r);var x,y,b,c;var t;try{t=window.parseInt(this.getType(d,r));}catch(e){jQuery.sap.log.warning("invalid relationship type");}var l=this.getLShapeforTypeFS(d,r);var f=this.getFromShapeId(d,r.from.objectInfo);var F=this.mChartInstance.getShapeInstance(f);var p=F.getRLSAnchors(r.from.shapeRawData,r.from.objectInfo);var T=this.getToShapeId(d,r.from.objectInfo);var o=this.mChartInstance.getShapeInstance(T);var g=o.getRLSAnchors(r.to.shapeRawData,r.to.objectInfo);if(this._isRTL){if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.startPoint.x;y=p.startPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.startPoint.x;y=p.startPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.endPoint.x;y=p.endPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.endPoint.x;y=p.endPoint.y;b=g.endPoint.x;c=g.endPoint.y;}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.endPoint.x;y=p.endPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.endPoint.x;y=p.endPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.startPoint.x;y=p.startPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.startPoint.x;y=p.startPoint.y;b=g.startPoint.x;c=g.startPoint.y;}var S="";if(a){var h=this._calculateSquareCoordinate(t,x,y);S=S.concat("M").concat(h[0].x).concat(",").concat(h[0].y).concat(" ");var m=h.length;for(var i=1;i<m;i++){S=S.concat("L").concat(h[i].x).concat(",").concat(h[i].y).concat(" ");}}var n=this._calculateLineCoordinate(l,t,x,b,y,c,r.from.objectInfo,g.startPoint.height);S=S.concat("M").concat(n[0].x).concat(",").concat(n[0].y).concat(" ");var q=n.length;for(var j=0;j<q;j++){S=S.concat("L").concat(n[j].x).concat(",").concat(n[j].y).concat(" ");S=S.concat("M").concat(n[j].x).concat(",").concat(n[j].y).concat(" ");}if(s){var u=this._calculateArrowCoordinate(l,t,x,b,y,c,g.startPoint.height);var v=u.length;for(var k=0;k<v;k++){S=S.concat("L").concat(u[k].x).concat(",").concat(u[k].y).concat(" ");}}S=S.concat("Z");if(this.isValid(S)){return S;}else{jQuery.sap.log.warning("Relationship shape generated invalid d: "+S+" from the given data: "+d);return null;}};
R.prototype._calculateSquareCoordinate=function(t,x,y){var s=[];if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(this._isRTL){s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}else{s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}}else if(this._isRTL){s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}else{s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}var o=[];var a=s.length;for(var i=0;i<a;){o[o.length]={"x":s[i++],"y":s[i++]};}return o;};
R.prototype._calculateLineCoordinate=function(l,t,x,a,y,b,f,s){var d=[];var r,c;if(y===b){d=d.concat([x,y,a,b]);}else{var k=this.getMinXLen();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){if(this._isRTL){d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}else{d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(l){if(this._isRTL){if(x>a){if(y<b){b=b-s/2;}else{b=b+s/2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x<=a){if(y<b){b=b-s/2-2;}else{b=b+s/2+2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(this._isRTL){if(x-k>a){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x+k<=a){if(this.getShowEnd()){var e=this.getArrowSideLength();k=(x+k+e>a)?Math.abs(k-e):k;}d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){if(x<a-k){d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(x>=a+k){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}else{d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}}}var o=[];var g=d.length;for(var i=0;i<g;){o[o.length]={"x":d[i++],"y":d[i++]};}return o;};
R.prototype._calculateArrowCoordinate=function(l,t,x,a,y,b,s){var c=[];var d=this.getArrowSideLength();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(l){if(this._isRTL){if(x>a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a+d/2,b-d*Math.pow(3,1/2)/2,a-d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d/2,b+d*Math.pow(3,1/2)/2,a-d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(x<=a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a-d/2,b-d*Math.pow(3,1/2)/2,a+d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d/2,b+d*Math.pow(3,1/2)/2,a+d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}var o=[];var e=c.length;for(var i=0;i<e;){o[o.length]={"x":c[i++],"y":c[i++]};}return o;};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/SelectedRelationship',["sap/gantt/shape/ext/rls/Relationship"],function(R){"use strict";
var S=R.extend("sap.gantt.shape.ext.rls.SelectedRelationship",{metadata:{properties:{stroke:{type:"string"},strokeWidth:{type:"int"}}}});
S.prototype.getStroke=function(d){return"red";};
S.prototype.getFill=function(d){return"red";};
S.prototype.getStrokeWidth=function(d){return 2;};
return S;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcBorderPath',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/Path"],function(U,F,P){"use strict";
var a=P.extend("sap.gantt.shape.ext.ubc.UbcBorderPath",{});
a.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
a.prototype.getD=function(d,r){var p="";if(this.mShapeConfig.hasShapeProperty("d")){p=this._configFirst("d",d);}else{var b=d.drawData?d.drawData:d.period;if(b.length>0){var m=this._getMaxTotalRevised(d);var c=this._getMaxY(d,r);var e=r.rowHeight-1;var A=this.getAxisTime();for(var i=0;i<b.length;i++){var x,f,y,g;x=A.timeToView(F.abapTimestampToDate(b[i].start_date)).toFixed(1);if(i<b.length-1){f=A.timeToView(F.abapTimestampToDate(b[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(b[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){x=A.timeToView(0).toFixed(1);}y=c-b[i].demand/m*e;y=y.toFixed(1);if(y<r.y){y=r.y;}if(i<b.length-1){g=c-b[i+1].demand/m*e;}else{f=A.timeToView(F.abapTimestampToDate(b[i].start_date)).toFixed(1);g=c-b[i].demand/m*e;}g=g.toFixed(1);if(g<r.y){g=r.y;}p+=" M "+x+" "+y+"L"+f+" "+y;p+=" M "+f+" "+y+"L"+f+" "+g;}}}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("UbcBorderPath shape generated invalid d: "+p+" from the given data: "+d);return null;}};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"blue";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
a.prototype._getMaxY=function(d,r){var t=r.y;var b=r.rowHeight-1;var m=t+b;return m;};
a.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var b=m+this._getmaxExceedCap(d);return b;};
a.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
a.prototype._getmaxExceedCap=function(d){var m=this._getMaxTotal(d);var b=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){b=this._configFirst("maxExceedCapacity",d);}return m*b/100;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcOverCapacityZonePolygon',["sap/gantt/misc/Utility","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcOverCapacityZonePolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}};
b.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
b.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var v=this.getShapeViewBoundary();if(v){o=v[0]+","+r.y+" "+(v[1]-v[0])+","+r.y+" "+(v[1]-v[0])+","+(r.y+r.rowHeight)+" "+v[0]+","+(r.y+r.rowHeight);return o;}};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcPolygon',["sap/gantt/misc/Utility","sap/gantt/shape/Polygon"],function(U,P){"use strict";
var a=P.extend("sap.gantt.shape.ext.ubc.UbcPolygon",{metadata:{"abstract":true}});
a.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
a.prototype._getMaxY=function(d,r){var t=r.y;var b=r.rowHeight-1;var m=t+b;return m;};
a.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
a.prototype._getmaxExceedCap=function(d,t){var m;if(t){m=t;}else{m=this._getMaxTotal(d);}var b=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){b=this._configFirst("maxExceedCapacity",d);}return m*b/100;};
a.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var b=this._getmaxExceedCap(d,m)+m;return b;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcShortageCapacityPolygon',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,F,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcShortageCapacityPolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
b.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
b.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var t=r.y;var c=this._getMaxTotalRevised(d);var e=r.rowHeight-1;var f=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<f.length;i++){var p=f[i];var x,g;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<f.length-1){g=A.timeToView(F.abapTimestampToDate(f[i+1].start_date)).toFixed(1);}else{g=A.timeToView(F.abapTimestampToDate(f[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(g)){g=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var h=m;if(p.demand>p.supply){if(p.demand/c>1){h=t;}else{h=m-p.demand/c*e;}}h=h.toFixed(1);o+=x+","+h+" ";o+=g+","+h+" ";if(i===f.length-1){o+=x+","+h+" ";o+=x+","+m+" ";}}return o;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcTooltipRectangle',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/Rectangle"],function(U,F,R){"use strict";
var a=R.extend("sap.gantt.shape.ext.ubc.UbcTooltipRectangle",{});
a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");};
a.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
a.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);if(!jQuery.isNumeric(x)){x=this.axisTime.timeToView(0).toFixed(1);}return x;};
a.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
a.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var w,s,e;var A=this.getAxisTime();s=A.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);e=A.timeToView(F.abapTimestampToDate(d.end_date)).toFixed(1);if(!jQuery.isNumeric(s)){s=this.axisTime.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(e)){e=this.axisTime.timeToView(0).toFixed(1);}w=(e-s>0)?(e-s):(s-e);if((w===0)||!jQuery.isNumeric(w)){w=1;}return w;};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight-1;};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
a.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var b=this._oRb.getText("TLTP_CAPACITY",[d.supply,d.demand]);if(d.demand>d.supply){b+=this._oRb.getText("TLTP_OVER_CAPACITY",[d.demand-d.supply]);}return b;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUnderCapacityZonePolygon',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,F,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcUnderCapacityZonePolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#40d44c";};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var c=this._getMaxTotalRevised(d);var e=r.rowHeight-1;var f=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<f.length;i++){var p=f[i];var x,g;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<f.length-1){g=A.timeToView(F.abapTimestampToDate(f[i+1].start_date)).toFixed(1);}else{g=A.timeToView(F.abapTimestampToDate(f[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(g)){g=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var h=m-p.supply/c*e;h=h.toFixed(1);o+=x+","+h+" ";o+=g+","+h+" ";if(i===f.length-1){o+=x+","+h+" ";o+=x+","+m+" ";}}return o;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUsedPolygon',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,F,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcUsedPolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#CAC7BA";};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var u="";var m=this._getMaxY(d,r);var c=this._getMaxTotalRevised(d);var e=r.rowHeight-1;var f=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<f.length;i++){var p=f[i];var x,g;var h;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<f.length-1){g=A.timeToView(F.abapTimestampToDate(f[i+1].start_date)).toFixed(1);}else{g=A.timeToView(F.abapTimestampToDate(f[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(g)){g=A.timeToView(0).toFixed(1);}if(i===0){u+=x+","+m+" ";}if(p.demand>=p.supply){h=m-p.supply/c*e;}else{h=m-p.demand/c*e;}h=h.toFixed(1);u+=x+","+h+" ";u+=g+","+h+" ";if(i===f.length-1){u+=x+","+h+" ";u+=x+","+m+" ";}}return u;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UtilizationBarChart',["sap/gantt/shape/Group","sap/gantt/misc/Format"],function(G,F){"use strict";
var U=G.extend("sap.gantt.shape.ext.ubc.UtilizationBarChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.filterValidData=function(d){if(!d){return[];}var f=[];for(var i=0;i<d.length;i++){var a=this.getIsBulk(d[i]);var A=this.getArrayAttribute(d[i]);var t=this.getTimeFilterAttribute(d[i]);var e=this.getEndTimeFilterAttribute(d[i]);var T=this.mChartInstance._oStatusSet.aTimeBoundary;var o=jQuery.extend(true,{},d[i]);if(a&&A&&t&&e){var s=null;var b=null;var S=this.getShapes();var c=[];for(var j=0;j<S.length;j++){var g=S[j].mShapeConfig.getShapeDataName();if(g&&(jQuery.inArray(g,c)==-1)){c.push(g);}}for(var h in o){if((jQuery.type(o[h])=="object")&&o[h][A]&&o[h][A].length>0){s=this._binarySearchElement(T[0],o[h][A],t,e);b=this._binarySearchElement(T[1],o[h][A],t,e,s);if(s!==null&&b!==null&&s<=b){s=s>=1?s-1:s;o[h].drawData=o[h][A].slice(s,b+2);for(var k=0;k<c.length;k++){if(h!==c[k]&&(jQuery.type(o[c[k]])=="array")&&o[c[k]].length>0){o[c[k]]=o[c[k]].slice(s,b+1);}}}break;}}}f.push(o);}return f;};
U.prototype._binarySearchElement=function(v,a,t,e,l){var b=0;var h=a.length-1;if(l&&l<h){b=l;}var m;while(b<=h){m=Math.floor((b+h)/2);var s=F.abapTimestampToDate(a[m][t]);var c=F.abapTimestampToDate(a[m][e]);if(!c){c=s;}if(s<=v&&v<=c){return m;}else if(c<v){b=m+1;}else if(s>v){h=m-1;}}return m;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcBorderPath',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(P,U,F){"use strict";
var a=P.extend("sap.gantt.shape.ext.ulc.UlcBorderPath",{});
a.prototype.getD=function(d,r){var b="";if(this.mShapeConfig.hasShapeProperty("d")){b=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var c=A.timeToView(F.abapTimestampToDate(d.values[i].to));var e=d.values[i].value;if(isNaN(e)){e=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(e>(100+m)){e=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(e/(100+m));var l=r.y+r.rowHeight;b=b+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+c+" "+y+(d.values[i].lastOne?" L "+c+" "+l:"");}}}if(this.isValid(b)){return b;}else{jQuery.sap.log.warning("UlcBorderPath shape generated invalid d: "+b+" from the given data: "+d);return null;}};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);return u[d.dimension].color;}};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipPath',["sap/gantt/shape/ClipPath"],function(C){"use strict";
var U=C.extend("sap.gantt.shape.ext.ulc.UlcClipPath",{});
U.prototype.getHtmlClass=function(d,r){if(this.mShapeConfig.hasShapeProperty("htmlClass")){return this._configFirst("htmlClass",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return n+"_"+d.id+"_"+d.dimension;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipingPath',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(P,U,F){"use strict";
var a=P.extend("sap.gantt.shape.ext.ulc.UlcClipingPath",{});
a.prototype.getD=function(d,r){var b="";if(this.mShapeConfig.hasShapeProperty("d")){b=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var c=A.timeToView(F.abapTimestampToDate(d.values[i].to));var e=d.values[i].value;if(isNaN(e)){e=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(e>(100+m)){e=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(e/(100+m));var l=r.y+r.rowHeight;b=b+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+c+" "+y+(d.values[i].lastOne?" L "+c+" "+l:"");}}}if(this.isValid(b)){return b;}else{jQuery.sap.log.warning("UlcClipingPath shape generated invalid d: "+b+" from the given data: "+d);return null;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcDimension',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UlcDimension",{});
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcMiddleLine',["sap/gantt/shape/Line"],function(L){"use strict";
var U=L.extend("sap.gantt.shape.ext.ulc.UlcMiddleLine",{});
U.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[0];}return 0;};
U.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*(50+m)/(100+m);};
U.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[1];}return 0;};
U.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d);}return this.getY1(d,r);};
U.prototype.getStrokeDasharray=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeDasharray")){return this._configFirst("strokeDasharray",d);}return"5,5";};
U.prototype.getStroke=function(d){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
U.prototype.getStrokeWidth=function(d){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverCapacityZoneRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverCapacityZoneRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}return"#F6F6F6";};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverClipRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcRectangle',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var U=R.extend("sap.gantt.shape.ext.ulc.UlcRectangle",{metadata:{"abstract":true}});
U.prototype.getFill=function(){return R.prototype.getFill.apply(this,arguments)||"transparent";};
U.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var v=this.getShapeViewBoundary();if(v){return v[0];}return 0;};
U.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
U.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var v=this.getShapeViewBoundary();if(v){return v[1]-v[0];}return 0;};
U.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight*m/(100+m);};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcTooltipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(U,a,F,C){"use strict";
var b=U.extend("sap.gantt.shape.ext.ulc.UlcTooltipRectangle",{});
b.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var c="";var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);}if(d){for(var e in u){if(d[u[e].ratioAttribute]||d[u[e].ratioAttribute]===0){if(d[u[e].ratioAttribute].previous!==undefined){c+=u[e].name+"\t"+d[u[e].ratioAttribute].previous+"-"+d[u[e].ratioAttribute].next+"%"+"\n";}else{c+=u[e].name+"\t"+d[u[e].ratioAttribute].value+"%"+"\n";}}}}return c;};
b.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var A=this.getAxisTime();if(C.getConfiguration().getRTL()){return A.timeToView(F.abapTimestampToDate(d.to));}else{return A.timeToView(F.abapTimestampToDate(d.from));}};
b.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var A=this.getAxisTime();if(C.getConfiguration().getRTL()){return Math.abs(A.timeToView(F.abapTimestampToDate(d.from))-A.timeToView(F.abapTimestampToDate(d.to)));}else{return Math.abs(A.timeToView(F.abapTimestampToDate(d.to))-A.timeToView(F.abapTimestampToDate(d.from)));}};
b.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight;};
b.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
b.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcUnderClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcUnderClipRectangle",{});
a.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*m/(100+m);};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight-r.rowHeight*m/(100+m);};
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#F2F2F2";};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0.3;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0.3;};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UtilizationLineChart',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UtilizationLineChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
return U;},true);
jQuery.sap.registerPreloadedModules({
"name":"sap/gantt/library-preload",
"version":"2.0",
"modules":{
	"sap/gantt/manifest.json":'{\n  "_version": "1.2.0",\n  "sap.app": {\n    "_version": "1.2.0",\n    "id": "sap.gantt",\n    "type": "library",\n    "embeds": [],\n    "applicationVersion": {\n      "version": "1.50.5"\n    },\n    "title": "UI5 library: sap.gantt",\n    "description": "UI5 library: sap.gantt",\n    "ach": "CA-UI5-CTR-GNT",\n    "resources": "resources.json",\n    "offline": true\n  },\n  "sap.ui": {\n    "_version": "1.1.0",\n    "technology": "UI5",\n    "supportedThemes": [\n      "base",\n      "sap_belize",\n      "sap_belize_hcb",\n      "sap_belize_hcw",\n      "sap_belize_plus",\n      "sap_bluecrystal",\n      "sap_hcb"\n    ]\n  },\n  "sap.ui5": {\n    "_version": "1.1.0",\n    "dependencies": {\n      "minUI5Version": "1.50",\n      "libs": {\n        "sap.ui.core": {\n          "minVersion": "1.50.0"\n        },\n        "sap.ui.layout": {\n          "minVersion": "1.50.0"\n        },\n        "sap.ui.table": {\n          "minVersion": "1.50.0"\n        },\n        "sap.m": {\n          "minVersion": "1.50.0"\n        }\n      }\n    }\n  }\n}',
	"sap/gantt/axistime/FullScreenStrategy.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
sap.gantt.axistime.FullScreenTimeLineOptions=sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY;sap.ui.define(["./AxisTimeStrategyBase","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Locale","sap/ui/core/Core","sap/gantt/config/TimeHorizon","sap/gantt/misc/AxisTime"],function(A,U,F,L,C,T,a){"use strict";
var b=A.extend("sap.gantt.axistime.FullScreenStrategy");
b.prototype.init=function(){this.setProperty("totalHorizon",sap.gantt.config.DEFAULT_PLAN_HORIZON,true);this.setProperty("visibleHorizon",sap.gantt.config.DEFAULT_PLAN_HORIZON,true);this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.FullScreenTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",0,true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.None,true);};
b.prototype.isTimePeriodZoomEnabled=function(){return false;};
b.prototype.setMouseWheelZoomType=function(m){jQuery.sap.log.warning("FullScreenStrategy does not support zoom, its zoom type is None and can not be set",null,"FullScreenStrategy.prototype.setMouseWheelZoomType()");return this;};
b.prototype.setVisibleHorizon=function(v){this.setTotalHorizon(v);A.prototype.setVisibleHorizon.apply(this,arguments);this.fireRedrawRequest(true,"visibleHorizonUpdated");return this;};
b.prototype.syncContext=function(n){var c=false;var r={zoomLevelChanged:false,axisTimeChanged:false};var s=this._calSuitableRateByChartWidth(n);if(s!==undefined){var l=this._oZoom.rate||-1;this._oZoom.rate=s;this.getAxisTime().setZoomRate(this._oZoom.rate);this._adjustRateByBoundary();c=!U.floatEqual(l,this._oZoom.rate);if(c){r.axisTimeChanged=true;}}this._updateTimeLineOption();return r;};
b.prototype._adjustRateByBoundary=function(){this._oZoom.rate=Math.max(this._oZoom.rate,this._oZoom.minRate);this._oZoom.rate=Math.min(this._oZoom.rate,this._oZoom.maxRate);};
b.prototype._calSuitableRateByChartWidth=function(n){var i=this.getVisibleHorizon(),s;if(i&&i.getStartTime()&&i.getEndTime()){var S=this.calZoomScaleByDate(F.abapTimestampToDate(i.getStartTime()),F.abapTimestampToDate(i.getEndTime()),n);s=this._oZoom.base.scale/S;}return s;};
b.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),o=this.getProperty("timeLineOption");var d=this.getAxisTime();if(d){var e=d.timeToView(s);for(i in t){var f=t[i].innerInterval;var g=d.timeToView(jQuery.sap.getObject(f.unit).offset(s,f.span));var r=Math.abs(Math.ceil((g-e)));if(r>=f.range){c=i;break;}}o=c?t[c]:t[i];this.setProperty("timeLineOption",o,true);}};
return b;},true);
},
	"sap/gantt/axistime/ProportionZoomStrategy.js":function(){sap.gantt.axistime.ProportionTimeLineOptions=sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY;sap.ui.define(["./AxisTimeStrategyBase","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Locale","sap/ui/core/Core","sap/gantt/config/TimeHorizon"],function(A,U,F,L,C,T){"use strict";
var P=A.extend("sap.gantt.axistime.ProportionZoomStrategy");
P.prototype.init=function(){this._aZoomRate=new Array(10);this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.ProportionTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",10,true);};
P.prototype.setVisibleHorizon=function(v){if(!v.getStartTime()&&!v.getEndTime()){this._bHorizontalScroll=false;}else if(!v.getStartTime()||!v.getEndTime()){this._bHorizontalScroll=true;}else{this._bHorizontalScroll=false;}var l=this.getVisibleHorizon();A.prototype.setVisibleHorizon.apply(this,arguments);this.fireRedrawRequest(false,"visibleHorizonUpdated",l);return this;};
P.prototype.setTotalHorizon=function(t){A.prototype.setTotalHorizon.apply(this,arguments);if(this.getAxisTime()){this.calZoomBase();this.createAxisTime(this.getAxisTime().getLocale());this.fireRedrawRequest(true,"totalHorizonUpdated");}return this;};
P.prototype.updateStopInfo=function(s){this.setZoomLevel(s.index);return this;};
P.prototype.setZoomLevel=function(z){if(z>=0&&z!==this.getZoomLevel()){this.setProperty("zoomLevel",z,true);if(this._aZoomRate[z]){var n=this.calVisibleHorizonByRate(this._aZoomRate[z]);this.setVisibleHorizon(n);}}return this;};
P.prototype.setZoomLevels=function(z){this.setProperty("zoomLevels",z,true);if(z>1){this._aZoomRate=new Array(z);}else{this._aZoomRate=[1];}this._updateZoomRateOnStops();return this;};
P.prototype.syncContext=function(n){var a=false,z=false;var r={zoomLevelChanged:false,axisTimeChanged:false};var o=this.getGanttVisibleWidth();if((o!==undefined)&&(n!==o)){this._updateVisibleHorizon(n);}var d=this._determineZoomBoundaryByStrategy();var D=this._determineZoomRateByChartWidth(n);if(D){this.updateGanttVisibleWidth(n);var l=this._oZoom.minRate||-1;this._oZoom.minRate=Math.max(d.minRate,D.minRate)||d.minRate;var f=this._oZoom.maxRate||-1;this._oZoom.maxRate=d.maxRate;var b=this._oZoom.rate||-1;z=!U.floatEqual(l,this._oZoom.minRate)||!U.floatEqual(f,this._oZoom.maxRate);if(z){this._updateZoomRateOnStops();this._adjustRateByBoundary();}if(D.suitableRate&&!this._bHorizontalScroll){this._oZoom.rate=D.suitableRate;this._adjustRateByBoundary();}var i=this.getZoomLevel(),Z=this._calcZoomLevelFromZoomRate(this._oZoom.rate);var c=i!==Z;if(c){this.setProperty("zoomLevel",Z,true);}r.zoomLevelChanged=c;a=!U.floatEqual(b,this._oZoom.rate);if(a){this.getAxisTime().setZoomRate(this._oZoom.rate);this._updateTimeLineOption();}r.axisTimeChanged=a;}return r;};
P.prototype._updateVisibleHorizon=function(n){var o=this.getVisibleHorizon();var O=this.getGanttVisibleWidth();var c=U.calculateHorizonByWidth(o,O,n);A.prototype.setVisibleHorizon.call(this,c);};
P.prototype._adjustRateByBoundary=function(){if(this._oZoom.rate){this._oZoom.rate=Math.max(this._oZoom.rate,this._oZoom.minRate);this._oZoom.rate=Math.min(this._oZoom.rate,this._oZoom.maxRate);}};
P.prototype._updateZoomRateOnStops=function(){if(this._oZoom&&this._oZoom.maxRate&&this._oZoom.minRate){var m=this._oZoom.maxRate,M=this._oZoom.minRate,s=this.getZoomLevels();this._oLog={};this._oLog.fMax=Math.log(m);this._oLog.fMin=Math.log(M);this._oLog.fStep=(this._oLog.fMax-this._oLog.fMin)/s;if(s>0){for(var i=0;i<s;i++){this._aZoomRate[i]=Math.pow(Math.E,this._oLog.fMin+this._oLog.fStep*i);}}else{this._aZoomRate[0]=1;}}};
P.prototype._calcZoomLevelFromZoomRate=function(r){if(this._oZoom&&this._oLog&&r){return Math.round((Math.log(r)-this._oLog.fMin)/this._oLog.fStep);}};
P.prototype._determineZoomBoundaryByStrategy=function(){if(this._oZoom&&this._oZoom.base){var c=this.getCoarsestTimeLineOption(),f=this.getFinestTimeLineOption();return{minRate:this._oZoom.base.scale/this.calZoomScale(c.innerInterval.unit,c.innerInterval.span,c.innerInterval.range),maxRate:this._oZoom.base.scale/this.calZoomScale(f.innerInterval.unit,f.innerInterval.span,f.innerInterval.range*4)};}};
P.prototype._determineZoomRateByChartWidth=function(n){var t=this.getTotalHorizon(),v=this.getVisibleHorizon(),r={};if(!this._oZoom){return null;}if(!U.judgeTimeHorizonValidity(v,t)){this.setProperty("visibleHorizon",t,true);jQuery.sap.log.warning("Visible horizon is not in total horizon, so convert visible horizon to total horizon",null,"sap.gantt.axistime.ProportionZoomStrategy.syncContext()");}if(t){var m=this.calZoomScaleByDate(F.abapTimestampToDate(t.getStartTime()),F.abapTimestampToDate(t.getEndTime()),n);r.minRate=this._oZoom.base.scale/m;}if(v&&v.getStartTime()&&v.getEndTime()){var s=this.calZoomScaleByDate(F.abapTimestampToDate(v.getStartTime()),F.abapTimestampToDate(v.getEndTime()),n);r.suitableRate=this._oZoom.base.scale/s;}return r;};
P.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),o=this.getProperty("timeLineOption");var a=this.getAxisTime();if(a){var b=a.timeToView(s);for(i in t){var d=t[i].innerInterval;var e=a.timeToView(jQuery.sap.getObject(d.unit).offset(s,d.span));var r=Math.abs(Math.ceil((e-b)));if(r>=d.range){c=i;break;}}o=c?t[c]:t[i];this.setProperty("timeLineOption",o,true);}};
P.prototype.onSetTimeZoomRate=function(t){var n=this.calVisibleHorizonByRate(t);this.setVisibleHorizon(n);};
return P;},true);
},
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
	"sap/gantt/legend/ListLegend.js":function(){sap.gantt.legend=sap.gantt.legend||{};sap.gantt.legend.ListLegendItemCheckbox={NoShow:"noShow",Checked:"checked",Unchecked:"unchecked"};sap.ui.define(["./LegendBase","sap/m/CheckBox","sap/gantt/drawer/Legend"],function(L,C,a){"use strict";
var b=L.extend("sap.gantt.legend.ListLegend",{metadata:{properties:{shapes:{type:"sap.gantt.config.Shape[]"}},events:{checkBoxChange:{parameters:{legendType:{type:"string"},value:{type:"boolean"}}}}}});
b.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oListLegendDrawer=new a();this._aCheckBoxes=[];};
b.prototype.onAfterRendering=function(){for(var i=0;i<this._aShapeInstance.length;i++){var s=this._aShapeInstance[i];var S=d3.select("#"+this.getId()+"-svg-"+i);var c=S.selectAll("."+s.getId()).data([i]);this._oListLegendDrawer._drawPerTag(c,s);}};
b.prototype.setShapes=function(s){this.setProperty("shapes",s);if(s&&s.length>0){this._aShapeInstance=this._instantShape(s);this._aCheckBoxes=[];var h=false;for(var i=0;i<this._aShapeInstance.length;i++){var S=this._aShapeInstance[i].mShapeConfig.getSwitchOfCheckBox();if(S==sap.gantt.legend.ListLegendItemCheckbox.Checked||S==sap.gantt.legend.ListLegendItemCheckbox.Unchecked){h=true;break;}}if(h){for(var j=0;j<this._aShapeInstance.length;j++){var o=this._aShapeInstance[j];var c=o.mShapeConfig.getSwitchOfCheckBox();var d=new C({selected:(c==sap.gantt.legend.ListLegendItemCheckbox.Checked)?true:false,enabled:(c==sap.gantt.legend.ListLegendItemCheckbox.NoShow)?false:true}).data("key",(o.mShapeConfig.getKey&&o.mShapeConfig.getKey())?o.mShapeConfig.getKey():o.getLegend()).setTooltip(o.getLegend()).attachSelect(this._onCheckBoxChange,this);this._aCheckBoxes.push(d);}}}return this;};
b.prototype._onCheckBoxChange=function(e){var s=e.getSource();this.fireCheckBoxChange({legendType:s.data("key"),value:e.getParameter("selected")});};
return b;},true);
}
}});
//# sourceMappingURL=library-preload.js.map