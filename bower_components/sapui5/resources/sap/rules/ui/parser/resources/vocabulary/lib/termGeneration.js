jQuery.sap.declare("sap.rules.ui.parser.resources.vocabulary.lib.termGeneration");jQuery.sap.require("sap.rules.ui.parser.infrastructure.util.utilsBase");jQuery.sap.require("sap.rules.ui.parser.resources.vocabulary.lib.constants");jQuery.sap.require("sap.rules.ui.parser.resources.vocabulary.lib.vocaObjects");jQuery.sap.require("sap.rules.ui.parser.resources.vocabulary.lib.vocabularyDataProviderFactory");sap.rules.ui.parser.resources.vocabulary.lib.termGeneration=sap.rules.ui.parser.resources.vocabulary.lib.termGeneration||{};sap.rules.ui.parser.resources.vocabulary.lib.termGeneration.lib=(function(){var a=sap.rules.ui.parser.infrastructure.util.utilsBase.lib;var b=new a.utilsBaseLib();var v=sap.rules.ui.parser.resources.vocabulary.lib.constants.lib;var c=sap.rules.ui.parser.resources.vocabulary.lib.vocaObjects.lib;function t(){}t.prototype.generate=function(r,d,e,f,g,h,k,s,w){var l=false;var m=null;var n=null;var o=null;var p=null;var q=sap.rules.ui.parser.resources.vocabulary.lib.vocabularyDataProviderFactory.lib;o=new q.vocaDataProviderFactoryLib();if(w){jQuery.sap.require("sap.rules.ui.parser.resources.dependencies.lib.constants");p=sap.rules.ui.parser.resources.dependencies.lib.constants.lib;jQuery.sap.require("sap.rules.ui.parser.resources.dependencies.lib.dependenciesUtils");m=sap.rules.ui.parser.resources.dependencies.lib.dependenciesUtils;jQuery.sap.require("sap.rules.ui.parser.resources.dependencies.lib.dependencyManager");n=sap.rules.ui.parser.resources.dependencies.lib.dependencyManager.DependencyManager;}function u(j,$,_){var i;var a1;var b1=null;b1=j;for(i=0;i<$.length;i++){a1=$[i];b1+='.'+a1.name;}if(_){b1+='.'+_;}return b1;}function x(j,$){var i;for(i=0;i<j.length;i++){if(j[i].id===$.id){return true;}}return false;}function y(i){if(i.indexOf('i')===0||i.indexOf('I')===0||i.indexOf('a')===0||i.indexOf('A')===0||i.indexOf('e')===0||i.indexOf('E')===0||i.indexOf('o')===0||i.indexOf('O')===0||i.indexOf('u')===0||i.indexOf('U')===0){return true;}return false;}function z(i,j){return i.indexOf(j,i.length-j.length)!==-1;}function A(i){if(z(i,'s')){return'es';}return's';}function B(i){if((i.slice(-1).toLowerCase()!==i.slice(-1))||z(i.toLowerCase(),'z')||(z(i.toLowerCase(),'y')&&!y(i.slice(-2)))||z(i.toLowerCase(),'ch')||z(i.toLowerCase(),'sh')||z(i.toLowerCase(),'x')||z(i.toLowerCase(),'f')||z(i.toLowerCase(),'fe')){return true;}return false;}function C(i){var j=i.split(" ");var $=j[j.length-1];var _=new RegExp("[A-Za-z]$");var a1=i;if(_.test($)){if(z($,'y')&&!y($.slice(-2))){$=$.slice(0,-1)+'ies';}else if(z($,'Y')&&!y($.slice(-2))){$=$.slice(0,-1)+'IES';}else if(z($,'s')||z($,'z')||z($,'ch')||z($,'Ch')||z($,'sh')||z($,'Sh')||z($,'x')){$=$+'es';}else if(z($,'S')||z($,'Z')||z($,'CH')||z($,'cH')||z($,'SH')||z($,'sH')||z($,'X')){$=$+'ES';}else if(z($,'f')){$=$.slice(0,-1)+'ves';}else if(z($,'F')){$=$.slice(0,-1)+'VES';}else if(z($,'fe')){$=$.slice(0,-2)+'ves';}else if(z($,'FE')){$=$.slice(0,-2)+'VES';}else if(z($,'Fe')){$=$.slice(0,-2)+'Ves';}else{$=($.slice(-1).toLowerCase()===$.slice(-1))?$+'s':$+'S';}j[j.length-1]=$;a1=j.join(" ");}return a1;}function D(j,$){var i;var _;var a1;var b1;b1=j;a1=b1;for(i=0;i<$.length;i++){_=$[i];b1+='.'+_.name;if(_.cardinality===v.CARDINALITY_ONE_TO_MANY){a1=b1;}}return a1;}function E(i,j){var $=false;if(j){$=true;}else{if(i===v.CARDINALITY_ONE_TO_MANY){$=true;}else{$=false;}}return $;}function F(i){var j,$,_;var a1=b.createUUID();j=new c.TermInfo(i.vocabularyId,e,a1,i.description,i.expression,i.businessDataType,i.isCollection?'1':'0',i.isConditionalContext?'1':'0',i.context,s,h?'1':'0',i.isDeprecated?'1':'0',i.isVocaRuleTerm);if(i.friendlyDesc){j.friendlyTerm=i.friendlyDesc;}r.allTerms=r.allTerms?r.allTerms.concat([j]):[j];for($ in i.modifiers){if(i.modifiers.hasOwnProperty($)&&i.modifiers[$]===true){_=new c.TermModifierInfo(a1,$,b.createUUID());r.allTermsModifiers=r.allTermsModifiers?r.allTermsModifiers.concat([_]):[_];}}}function G(j,$,_,a1,b1,c1,d1,f,e1){var i;var f1={};f1.expression=$;f1.modifiers=_;f1.businessDataType=a1;f1.isCollection=b1;f1.isConditionalContext=c1;f1.context=d1;f1.vocabularyId=f;f1.isDeprecated=false;f1.description=j.description;if(l){f1.friendlyDesc=j.friendlyDesc;}if(e1){f1.isVocaRuleTerm=true;}F(f1);for(i=0;i<j.deprecated.length;i++){f1.isDeprecated=true;f1.description=j.deprecated[i];F(f1);}}function H(i,j,$){var _={};_[v.TERM_MODIFIER_ALL]=i;_[v.TERM_MODIFIER_NOT]=j;_[v.TERM_MODIFIER_CURRENT]=$;return _;}function I(i,j,$,_,a1){if(a1){i[0]=j+$+A($)+_;}else{i[0]=j+$+_;}}function J(j,$,_,a1){var i;var b1=[];var c1=null;var d1='';var e1='';var f1=v.PROPERTY_NAME_OM_DESCRIPTION;var g1='';var h1={"description":"","deprecated":[],"friendlyDesc":""};var i1=v.TERM_OF_THE_STRING;var j1=v.TERM_OF_STRING+v.TERM_ALL_STRING;for(i=0;i<j.length;i++){if(i===(j.length-1)&&a1){break;}c1=j[i];if(c1.cardinality===v.CARDINALITY_ONE_TO_MANY&&!$){g1=d1;d1=j1+C(c1.name)+g1;if(l){e1=j1+C(c1[f1])+e1;}if(b1.length>0){I(b1,j1,c1.name,b1[0],true);}else if(B(c1.name)&&!_){I(b1,j1,c1.name,g1,true);}}else{if(!_){d1=i1+c1.name+d1;e1=l?i1+c1[f1]+e1:'';if(b1.length>0){I(b1,i1,c1.name,b1[0],false);}}else{d1=i1+C(c1.name)+d1;e1=l?i1+C(c1[f1])+e1:'';}}}h1.description=d1;h1.deprecated=b1;h1.friendlyDesc=e1;return h1;}function K(j){var i;var $=3;var _=j.description;var a1=j.deprecated;var b1=j.friendlyDesc;for(i=0;i<$;i++){if(_.indexOf(' ')>-1){_=_.substr(_.indexOf(' ')+1);b1=l?b1.substr(b1.indexOf(' ')+1):'';}if(a1.length&&a1[0].indexOf(' ')>-1){a1[0]=a1[0].substr(a1[0].indexOf(' ')+1);}}j.description=_;j.deprecated=a1;j.friendlyDesc=b1;}function L(i,j,$,_,a1,b1,f){var c1='';var d1=v.TERM_OF_STRING;var e1=v.TERM_A_STRING;var f1=v.TERM_AN_STRING;var g1=v.TERM_IS_STRING;var h1=null;var i1=[];var j1="";var k1="";var l1={};var m1={};var n1=H(false,false,false);var o1={"description":"","deprecated":[],"friendlyDesc":""};var p1=i[v.PROPERTY_NAME_OM_NAME];var q1=v.PROPERTY_NAME_OM_DESCRIPTION;if(y(p1)){c1=d1+f1+p1;}else{c1=d1+v.TERM_A_STRING+p1;}if(l){if(y(i[q1])){h1=d1+f1+i[q1];}else{h1=d1+e1+i[q1];}}l1=J(j,false,false);if(_===null&&b1){K(l1);j1=l1.description+c1;if(l1.deprecated&&l1.deprecated[0]){i1[0]=l1.deprecated[0]+c1;}o1.description=j1;o1.deprecated=i1;if(l){k1=l1.friendlyDesc+h1;o1.friendlyDesc=k1;}G(o1,$,n1,null,b1,false,a1,f);}else if(_!==null&&_.businessDataType!==v.BUSINESS_DATA_TYPE_BOOLEAN){j1=_.name+l1.description+c1;if(l1.deprecated&&l1.deprecated[0]){i1[0]=_.name+l1.deprecated[0]+c1;}o1.description=j1;o1.deprecated=i1;if(l){k1=_[q1]+l1.friendlyDesc+h1;o1.friendlyDesc=k1;}G(o1,$,n1,_.businessDataType,b1,false,a1,f);if(b1){m1=J(j,true,false);j1=_.name+m1.description+c1;o1.description=j1;o1.deprecated=[];if(l){k1=_[q1]+m1.friendlyDesc+h1;o1.friendlyDesc=k1;}G(o1,$,n1,_.businessDataType,false,true,a1,f);}}else if(_!==null&&_.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN){m1=J(j,true,false);K(m1);j1=m1.description+c1+g1+_.name;if(m1.deprecated&&m1.deprecated[0]){i1[0]=m1.deprecated[0]+c1+g1+_.name;}o1.description=j1;o1.deprecated=i1;if(l){k1=m1.friendlyDesc+h1+g1+_[q1];o1.friendlyDesc=k1;}if(b1){G(o1,$,n1,_.businessDataType,false,true,a1,f);}else{G(o1,$,n1,_.businessDataType,false,false,a1,f);}}}function M(i,j,$,_,a1,b1,f){var c1="";var d1="";var e1=[];var f1="";var g1="";var h1=null;var i1=H(true,false,false);var j1="";var k1=i[v.PROPERTY_NAME_OM_NAME];var l1=j.name;var m1=v.PROPERTY_NAME_DESCRIPTION;c1=v.TERM_OF_STRING+v.TERM_ALL_STRING+C(k1);if(l){d1=v.TERM_OF_STRING+v.TERM_ALL_STRING+C(i[m1]);}if(a1===null){j1=J($,false,true,true);j1.description=j1.description.length?j1.description:"";f1=C(l1)+j1.description+c1;if(l){g1=C(j.description)+j1.friendlyDesc+d1;}if(j1.deprecated&&j1.deprecated[0]){e1[0]=C(l1)+j1.deprecated[0]+c1;}h1={"description":f1,"deprecated":e1,"friendlyDesc":g1};G(h1,_,i1,null,true,false,null,f);}else if(a1!==null&&a1.businessDataType!==v.BUSINESS_DATA_TYPE_BOOLEAN){j1=J($,false,true,false);f1=a1.name+j1.description+c1;if(l){g1=a1[m1]+j1.friendlyDesc+d1;}h1={"description":f1,"deprecated":e1,"friendlyDesc":g1};G(h1,_,i1,a1.businessDataType,true,false,b1,f);}}function N(i,j,$,_,a1,b1,f){var c1=v.TERM_OF_STRING;var d1=v.TERM_A_STRING;var e1=v.TERM_AN_STRING;var f1='';var g1="";var h1="";var i1=null;var j1={};var k1=H(false,true,false);var l1="";var m1=i[v.PROPERTY_NAME_OM_NAME];var n1=v.PROPERTY_NAME_DESCRIPTION;if(y(m1)){f1=c1+e1+m1;}else{f1=c1+d1+m1;}if(l){if(y(i[n1])){g1=c1+e1+i[n1];}else{g1=c1+d1+i[n1];}}if(_!==null&&_.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN){j1=J(j,true,false);K(j1);h1=j1.description+f1+v.TERM_IS_NOT_STRING+_.name;if(l){l1=j1.friendlyDesc+g1+v.TERM_IS_NOT_STRING+_[n1];}i1={"description":h1,"deprecated":[],"friendlyDesc":l1};if(b1){G(i1,$,k1,_.businessDataType,false,true,a1,f);}else{G(i1,$,k1,_.businessDataType,false,false,a1,f);}}}function O(i,j,$,_,a1,b1,c1,f){var d1="";var e1="";var f1=[];var g1="";var h1="";var i1=null;var j1=H(false,false,true);var k1="";var l1=i[v.PROPERTY_NAME_OM_NAME];var m1=j.name;var n1=v.PROPERTY_NAME_DESCRIPTION;d1=v.TERM_OF_STRING+v.TERM_CURRENT_STRING+l1;if(l){e1=v.TERM_OF_STRING+v.TERM_CURRENT_STRING+i[n1];}if(a1===null&&c1){k1=J($,false,false,true);k1.description=k1.description.length?k1.description:"";h1=C(m1)+k1.description+d1;if((k1.deprecated&&k1.deprecated[0])||B(m1)){m1=B(m1)?m1+A(m1):m1;f1[0]=k1.deprecated&&k1.deprecated[0]&&k1.deprecated[0].length?' '+k1.deprecated[0]:k1.description;f1[0]=m1+f1[0]+d1;}if(l){g1=C(i[n1])+k1.friendlyDesc+e1;}i1={"description":h1,"deprecated":f1,"friendlyDesc":g1};G(i1,_,j1,null,true,true,null,f);}else if(a1!==null&&a1.businessDataType!==v.BUSINESS_DATA_TYPE_BOOLEAN){k1=J($,false,false,false);h1=a1.name+k1.description+d1;if(k1.deprecated&&k1.deprecated[0]){f1[0]=a1.name+k1.deprecated[0]+d1;}if(l){g1=a1[n1]+k1.friendlyDesc+e1;}i1={"description":h1,"deprecated":f1,"friendlyDesc":g1};G(i1,_,j1,a1.businessDataType,c1,true,b1,f);}else if(a1!==null&&a1.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN&&!c1){k1=J($,false,false,false);K(k1);h1=k1.description+d1+v.TERM_IS_STRING+a1.name;if(k1.deprecated&&k1.deprecated[0]){f1[0]=k1.deprecated[0]+d1+v.TERM_IS_STRING+a1.name;}if(l){g1=k1.friendlyDesc+e1+v.TERM_IS_STRING+a1[n1];}i1={"description":h1,"deprecated":f1,"friendlyDesc":g1};G(i1,_,j1,a1.businessDataType,c1,true,b1,f);j1=H(false,true,true);h1=k1.description+d1+v.TERM_IS_NOT_STRING+a1.name;if(k1.deprecated&&k1.deprecated[0]){f1[0]=k1.deprecated[0]+d1+v.TERM_IS_NOT_STRING+a1.name;}if(l){g1=k1.friendlyDesc+e1+v.TERM_IS_NOT_STRING+a1[n1];}i1={"description":h1,"deprecated":f1,"friendlyDesc":g1};G(i1,_,j1,a1.businessDataType,c1,true,b1,f);}}function P(i,j,$,_,a1,f){var b1='';var c1='';var d1=i[v.PROPERTY_NAME_OM_NAME];if(_!==null){b1=D(d1,j);}c1=u(d1,j,_.name);L(i,j,c1,_,b1,a1,f);M(i,$,j,c1,_,b1,f);N(i,j,c1,_,b1,a1,f);O(i,$,j,c1,_,b1,a1,f);}function Q($,_,a1,b1,c1,f,g,d1){var i,j;var e1;var f1;var g1;var h1;var i1;var j1=o.getVocabularyDataProvider(g);if(!x(_,a1)){_.push(a1);i1=E(a1.cardinality,c1);h1=u($[v.PROPERTY_NAME_OM_NAME],_);L($,_,h1,null,null,i1,f);M($,a1,_,h1,null,null,f);O($,a1,_,h1,null,null,i1,f);e1=j1.getAttributes(b1,a1.target);for(i=0,j=e1.length;i<j;i++){f1=e1[i];P($,_,a1,f1,i1,f);}g1=j1.getAssociations(b1,a1.target);for(i=0,j=g1.length;i<j;i++){Q($,_,g1[i],b1,i1,f,g,d1);}if(w&&a1.vocaName!==b1){d1[v.PROPERTY_NAME_DATA_OBJECTS+'.'+a1.target+'.'+v.PROPERTY_NAME_OM_ATTRIBUTES]={"category":p.CATEGORY_VOCA_DO_ATTRIBUTES,"DOName":a1.target,"vocaName":a1.vocaName};}_.pop();}}function R(i,j,$,f){var _=null;var a1=null;var b1=null;var c1=null;var d1="";var e1=[];var f1="";var g1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var h1=i[v.PROPERTY_NAME_OM_NAME];var i1={"description":"","deprecated":[],"friendlyDesc":""};if(j===null||!j.hasOwnProperty("name")){d1=C(h1);if(B(h1)){e1.push(h1+A(h1));}if(l){f1=C(g1);}i1.description=d1;i1.deprecated=e1;i1.friendlyDesc=f1;c1=H(true,false,false);G(i1,$,c1,null,true,false,null,f);}else{_=j.name;b1=j.businessDataType;c1=H(false,false,false);if(b1===v.BUSINESS_DATA_TYPE_BOOLEAN){d1=h1+v.TERM_IS_STRING+_;i1.description=d1;if(l){a1=j[v.PROPERTY_NAME_DESCRIPTION];f1=g1+v.TERM_IS_STRING+a1;}i1.friendlyDesc=f1;G(i1,$,c1,b1,false,false,h1,f);}else{d1=_+v.TERM_OF_THE_STRING+h1;i1.description=d1;if(l){a1=j[v.PROPERTY_NAME_DESCRIPTION];f1=a1+v.TERM_OF_THE_STRING+g1;}i1.friendlyDesc=f1;G(i1,$,c1,b1,false,false,h1,f);}}}function S(i,j,$,f){var _=null;var a1=l?j[v.PROPERTY_NAME_DESCRIPTION]:null;var b1=j.businessDataType;var c1=H(true,false,false);var d1={"description":"","deprecated":[],"friendlyDesc":""};var e1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var f1=i[v.PROPERTY_NAME_OM_NAME];var g1="";if(j!==null||j.hasOwnProperty("name")){_=j.name;d1.description=_+v.TERM_OF_STRING+v.TERM_ALL_STRING+C(f1);if(l){g1=a1+v.TERM_OF_STRING+v.TERM_ALL_STRING+C(e1);}d1.friendlyDesc=g1;G(d1,$,c1,b1,true,false,f1,f);}}function T(i,j,$,f){var _=null;var a1=l?j[v.PROPERTY_NAME_DESCRIPTION]:null;var b1=i[v.PROPERTY_NAME_OM_NAME];var c1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var d1=j.businessDataType;var e1=H(false,true,false);var f1={"description":"","deprecated":[],"friendlyDesc":""};var g1="";if(j!==null||j.hasOwnProperty("name")){_=j.name;f1.description=b1+v.TERM_IS_NOT_STRING+_;if(l){g1=c1+v.TERM_IS_NOT_STRING+a1;}f1.friendlyDesc=g1;G(f1,$,e1,d1,false,false,b1,f);}}function U(i,j,$,f){var _=null;var a1=l?j[v.PROPERTY_NAME_DESCRIPTION]:null;var b1=i[v.PROPERTY_NAME_OM_NAME];var c1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var d1=null;var e1=null;var f1={"description":"","deprecated":[],"friendlyDesc":""};var g1="";if(j!==null||j.hasOwnProperty("name")){_=j.name;d1=j.businessDataType;if(d1===v.BUSINESS_DATA_TYPE_BOOLEAN){e1=H(false,false,true);f1.description=v.TERM_CURRENT_STRING+b1+v.TERM_IS_STRING+_;if(l){g1=v.TERM_CURRENT_STRING+c1+v.TERM_IS_STRING+a1;}f1.friendlyDesc=g1;G(f1,$,e1,d1,false,true,b1,f);e1=H(false,true,true);f1.description=v.TERM_CURRENT_STRING+b1+v.TERM_IS_NOT_STRING+_;if(l){g1=v.TERM_CURRENT_STRING+c1+v.TERM_IS_NOT_STRING+a1;}f1.friendlyDesc=g1;G(f1,$,e1,d1,false,true,b1,f);}else{e1=H(false,false,true);f1.description=_+v.TERM_OF_STRING+v.TERM_CURRENT_STRING+b1;if(l){g1=a1+v.TERM_OF_STRING+v.TERM_CURRENT_STRING+c1;}f1.friendlyDesc=g1;G(f1,$,e1,d1,false,true,b1,f);}}}function V(i,j,$,f){R(i,j,$,f);U(i,j,$,f);if(j.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN){T(i,j,$,f);}else{S(i,j,$,f);}}function W(i,j,$,f){var _=null;var a1=null;var b1=[];var c1="";var d1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var e1=i[v.PROPERTY_NAME_OM_NAME];var f1={"description":"","deprecated":[],"friendlyDesc":""};if(l){c1=d1;}f1.description=e1;f1.deprecated=b1;f1.friendlyDesc=c1;a1=H(false,false,false);_=j.businessDataType;G(f1,$,a1,_,false,false,null,f,true);}function X($,_,f,g){var i,j;var a1;var b1;var c1;var d1=$[v.PROPERTY_NAME_OM_NAME];var e1=o.getVocabularyDataProvider(g);a1=e1.getAttributes(_,d1);for(i=0,j=a1.length;i<j;i++){b1=a1[i];c1=u(d1,{},b1.name);W($,b1,c1,f);}}function Y($,_,f,g,a1){var i,j;var b1;var c1;var d1;var e1;var f1=$[v.PROPERTY_NAME_OM_NAME];var g1=o.getVocabularyDataProvider(g);e1=u(f1,{},null);R($,null,e1,f);b1=g1.getAttributes(_,f1);for(i=0,j=b1.length;i<j;i++){d1=b1[i];e1=u(f1,{},d1.name);V($,d1,e1,f);}c1=g1.getAssociations(_,f1);for(i=0,j=c1.length;i<j;i++){Q($,[],c1[i],_,false,f,g,a1);}}function Z(d,$,f,g,h,k){var i,j;var _;var a1={};var b1=null;var c1=o.getVocabularyDataProvider();b1=c1.getTermModes();for(i=0;i<b1.length;i++){if(b1[i]===v.TermModeRelated.TERM_MODE_BY_DESCRIPTION){l=true;break;}}for(i=0,j=d.length;i<j;++i){if(d[i].isVocaRule===true){X(d[i],$,f,g);}else{Y(d[i],$,f,g,a1);}}if(w){_=m.createDependenciesInVocabulary(p.CATEGORY_VOCA_TERMS,$,a1,h,g);if(Object.keys(a1).length!==0){n.getInstance(g).setDependencies(k,_);}}}Z(d,e,f,g,h,k);};return{termGenerationLib:t};}());
