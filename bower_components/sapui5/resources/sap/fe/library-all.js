jQuery.sap.declare('sap.fe.library-all');if(!jQuery.sap.isDeclared('sap.fe.Action')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
jQuery.sap.declare('sap.fe.Action');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.ButtonType');sap.ui.define("sap/fe/Action",['sap/m/Button','sap/m/ButtonType'],function(B,a){"use strict";var B=B.extend("sap.fe.Action",{metadata:{properties:{actionName:"string",emphasized:'boolean',mode:'string',multiplicityFrom:{type:"int"},multiplicityTo:{type:"int"}},events:{"callAction":{}}},onBeforeRendering:function(){if(this.getEmphasized()){this.setType(a.Emphasized);}},onclick:function(e){this.fireCallAction({actionName:this.getActionName(),actionLabel:this.getText()});},renderer:{}});return B;},true);};if(!jQuery.sap.isDeclared('sap.fe.FilterBar.designtime')){jQuery.sap.declare('sap.fe.FilterBar.designtime');sap.ui.define("sap/fe/FilterBar.designtime",[],function(){"use strict";return{aggregations:{}};},false);};if(!jQuery.sap.isDeclared('sap.fe.Table.designtime')){jQuery.sap.declare('sap.fe.Table.designtime');sap.ui.define("sap/fe/Table.designtime",[],function(){"use strict";return{aggregations:{columns:{actions:{addODataProperty:"addColumn",move:"moveColumns",remove:"removeColumn"}},actions:{},_content:{ignore:true}},name:"{name}",description:"{description}",properties:{context:{ignore:true},tableBindingPath:{ignore:true},type:{ignore:false},interactionType:{ignore:false},filterBarId:{ignore:true},enabled:{ignore:true}}};},false);};if(!jQuery.sap.isDeclared('sap.fe.controller.ActionController')){jQuery.sap.declare('sap.fe.controller.ActionController');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.m.MessageBox');jQuery.sap.require('sap.m.MessageToast');sap.ui.define("sap/fe/controller/ActionController",["jquery.sap.global","sap/ui/base/Object","sap/m/MessageBox","sap/m/MessageToast"],function(q,B,M,a){"use strict";function g(t){var m=t.getMessageUtils();function c(E){var p=E.getParameters(),s=p.success,f=p.error,C=p.contexts,o=C[0].getModel(),A,b,d=[],h=p.actionName+"(...)",j=p.mode==='ChangeSet',G,i;if(p.checkBusy){if(t.getBusyHelper().isBusy()){return f?f("Application is busy"):q.noop();}}for(i=0;i<C.length;i++){A=o.bindContext(h,C[i]);if(C.length===1){d.push(A.execute('$auto'));b=d[0];}else{G=(j)?'$direct':'action'+i;d.push(A.execute(G));}}if(C.length>1){if(j){b=o.submitBatch("actions");}else{for(i=0;i<C.length;i++){b=o.submitBatch("action"+i);}}if(p.setBusy){t.getBusyHelper().setBusy(b);}}else if(p.setBusy){t.getBusyHelper().setBusy(b);}function D(k){return k.then(function(v){return{v:v,status:"resolved"};},function(e){return{e:e,status:"rejected"};});}Promise.all(d.map(D)).then(function(r){var e=[];var R;for(R=0;R<r.length;R++){if(r[R].status==="rejected"){e.push(r[R].e);}}if(e.length>0){m.handleRequestFailed(e);}for(R=0;R<r.length;R++){if(r[R].status==="resolved"){m.handleSuccess(t.getText("SAPFE_ACTION_SUCCESS",p.actionLabel));C[0].getBinding().refresh("$auto");s?s():q.noop();}}});}return{callAction:c};}return B.extend("sap.fe.controller.ActionController.js",{constructor:function(t){q.extend(this,g(t));}});});};if(!jQuery.sap.isDeclared('sap.fe.controller.NavigationController')){jQuery.sap.declare('sap.fe.controller.NavigationController');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.m.MessageBox');jQuery.sap.require('sap.m.MessageToast');jQuery.sap.require('sap.m.MessagePage');jQuery.sap.require('sap.m.Link');sap.ui.define("sap/fe/controller/NavigationController",["jquery.sap.global","sap/ui/base/Object","sap/m/MessageBox","sap/m/MessageToast","sap/m/MessagePage","sap/m/Link"],function(q,B,M,a,b,L){"use strict";function g(t,T){var m;function n(p){if(!m){m=new b({showHeader:false});t.oNavContainer.addPage(m);}m.setText(p.text);m.setIcon("sap-icon://message-error");if(p.technicalMessage){m.setCustomDescription(new L({text:p.description,press:function(){M.show(p.technicalMessage,{icon:M.Icon.ERROR,title:"Error",actions:[M.Action.OK],defaultAction:M.Action.OK,details:p.technicalDetails||"",contentWidth:"60%"});}}));}else{m.setDescription(p.description||'');}t.oNavContainer.to(m);}return{navigateToMessagePage:n};}return B.extend("sap.fe.controller.NavigationController.js",{constructor:function(t,T){q.extend(this,g(t,T));}});});};if(!jQuery.sap.isDeclared('sap.fe.controls._Field.FieldAnnotationHelper')){(function(){"use strict";jQuery.sap.declare("sap.fe.controls._Field.FieldAnnotationHelper");sap.fe.controls._Field.FieldAnnotationHelper={formatDraftOwner:function(d,D,v,a,b,h){var s="";if(d&&h){var u=v||D||b||a;var r=this.getModel("sap.fe.i18n").getResourceBundle();if(u){s=r.getText("SAPFE_DRAFT_OWNER",[u]);}else{s=r.getText("SAPFE_DRAFT_ANOTHER_USER");}}return s;},buildExpressionForCriticalityIcon:function(c){if(c){var e="{= (${"+c+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${"+c+"} === '1') || (${"+c+"} === 1) ? 'sap-icon://status-negative' : "+"(${"+c+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Critical') || (${"+c+"} === '2') || (${"+c+"} === 2) ? 'sap-icon://status-critical' : "+"(${"+c+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${"+c+"} === '3') || (${"+c+"} === 3) ? 'sap-icon://status-positive' : "+"'sap-icon://status-inactive' }";return e;}},buildExpressionForCriticalityColor:function(c){if(c){var e="{= (${"+c+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${"+c+"} === '1') || (${"+c+"} === 1) ? 'Error' : "+"(${"+c+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Critical') || (${"+c+"} === '2') || (${"+c+"} === 2) ? 'Warning' : "+"(${"+c+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${"+c+"} === '3') || (${"+c+"} === 3) ? 'Success' : "+"'None' }";return e;}},getFieldContext:function(c,f){return'responsiveTable';},getStableIdPartFromDataField:function(d,p){var P="",I="";if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.Action);}else if(d.$Type&&(d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(typeof d.SemanticObject=="string"){I=sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.SemanticObject);}else if(d.SemanticObject.$Path){I=sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.SemanticObject.$Path);}if(typeof d.Action=="string"){I=I+"::"+sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.Action);}else if(d.Action&&d.Action.$Path){I=I+"::"+sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.Action.$Path);}return I;}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.Target.$AnnotationPath);}else if(d.Value&&d.Value.$Path){return sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.Value.$Path);}else if(d.Value&&d.Value.$Apply&&d.Value.$Function==="odata.concat"){for(var i=0;i<d.Value.$Apply.length;i++){if(d.Value.$Apply[i].$Path){if(P){P=P+"::";}P=P+sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(d.Value.$Apply[i].$Path);}}return P;}else if(p&&p.context&&p.context.getObject("@sapui.name")){return sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(p.context.getObject("@sapui.name"));}else{jQuery.sap.log.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}}};sap.fe.controls._Field.FieldAnnotationHelper.getFieldContext.requiresIContext=true;})();};if(!jQuery.sap.isDeclared('sap.fe.controls._Field.FieldController')){jQuery.sap.declare('sap.fe.controls._Field.FieldController');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');sap.ui.define("sap/fe/controls/_Field/FieldController",["jquery.sap.global","sap/ui/base/Object","sap/fe/Action"],function(q,B,A){"use strict";var F=B.extend("sap.fe.controls._Field.FieldController",{constructor:function(f,t){B.apply(this,arguments);this.oField=f;this.oTable=t;}});F.prototype.onContactDetails=function(e){var p;if(e.getSource().data("Location")==="Header"){p=e.getSource().getParent().getAggregation("items")[0];}else if(e.getSource().data("Location")==="Section"){p=e.getSource().getParent().getAggregation("items")[0];}else if(e.getSource().data("Location")==="SmartTable"){p=e.getSource().getParent().getAggregation("items")[0];}else{p=e.getSource().getParent().getParent().getParent().getParent().getParent().getAggregation("items")[1];}p.setBindingContext(e.getSource().getBindingContext());p.openBy(e.getSource());};F.prototype.onDraftLinkPressed=function(e){var b=e.getSource();var o=b.getBindingContext();var p;if(!this._oDraftInfoPopover){p=this.oField||this.oTable;this._oDraftInfoPopover=sap.ui.xmlfragment("sap.fe.controls._Fragments.DraftInfoPopover",this);p.addDependent(this._oDraftInfoPopover);}this._oDraftInfoPopover.setBindingContext(o);this._oDraftInfoPopover.openBy(b);};F.prototype.closeDraftAdminPopover=function(e){this._oDraftInfoPopover.close();};F.prototype.onDataFieldWithIntentBasedNavigationPressed=function(e){var l=e.getSource();var s=l.data('SemanticObject');var a=l.data('Action');var d=l.getParent().getBindingContext().getObject();var p={};for(var P in d){if(P&&P[0]!=="@"&&typeof d[P]==='string'){p[P]=d[P];}}var c=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(c){c.toExternal({target:{semanticObject:s,action:a},params:p});}};return F;});};if(!jQuery.sap.isDeclared('sap.fe.controls._FilterBar.FilterBarAnnotationHelper')){(function(){"use strict";jQuery.sap.declare("sap.fe.controls._FilterBar.FilterBarAnnotationHelper");sap.fe.controls._FilterBar.FilterBarAnnotationHelper={getFieldPath:function(I,e,f){var m,s,p,t;if(f.indexOf('/')>-1){m=I.getInterface(0).getModel();s=f.split('/');for(var i=0;i<(s.length-1);i++){p=m.getObject("/"+e+"/"+s.slice(0,(i+1)).join('/'));if(p&&p["$kind"]==="NavigationProperty"&&p["$isCollection"]){s[i]=s[i]+'*';t=true;}}if(t){f=s.join('/');}}return f;},getValueStatePath:function(i,e,f){var _=sap.fe.controls._FilterBar.FilterBarAnnotationHelper.getFieldPath(i,e,f);return"{sap.fe.cm>/fieldPath/"+_+"/valueState}";},getValueStateTextPath:function(i,e,f){var _=sap.fe.controls._FilterBar.FilterBarAnnotationHelper.getFieldPath(i,e,f);return"{sap.fe.cm>/fieldPath/"+_+"/valueStateText}";},getStableIdPartFromFilterItem:function(f){return sap.fe.core.AnnotationHelper.replaceSpecialCharsInId(f);}};sap.fe.controls._FilterBar.FilterBarAnnotationHelper.getFieldPath.requiresIContext=true;sap.fe.controls._FilterBar.FilterBarAnnotationHelper.getValueStatePath.requiresIContext=true;sap.fe.controls._FilterBar.FilterBarAnnotationHelper.getValueStateTextPath.requiresIContext=true;})();};if(!jQuery.sap.isDeclared('sap.fe.controls._FilterBar.FilterBarController')){jQuery.sap.declare('sap.fe.controls._FilterBar.FilterBarController');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.SearchField');jQuery.sap.require('sap.m.Bar');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.ui.mdc.FilterField');jQuery.sap.require('sap.ui.mdc.ODataSuggestProvider');jQuery.sap.require('sap.ui.mdc.OperatorSuggestProvider');jQuery.sap.require('sap.ui.mdc.FixedValueListProvider');sap.ui.define("sap/fe/controls/_FilterBar/FilterBarController",["jquery.sap.global","sap/ui/base/Object","sap/ui/model/json/JSONModel","sap/m/Dialog","sap/m/Button","sap/m/SearchField","sap/m/Bar","sap/m/Label","sap/ui/mdc/FilterField","sap/ui/mdc/ODataSuggestProvider","sap/ui/mdc/OperatorSuggestProvider","sap/ui/mdc/FixedValueListProvider"],function(q,B,J,D,a,S,b,L,F,O,c,d){"use strict";var e=B.extend("sap.fe.controls._FilterBar.FilterBarController",{constructor:function(f){B.apply(this,arguments);this.oFilterBar=f;this.mValueListRequests={};this.mValueLists={};this.mSuggestionLists={};}});e.prototype.getQueryParameters=function(){var Q={},s,o;Q.conditionModel=this.getConditionModel();o=this.getSearchControl();if(o){s=o.getValue();Q["$search"]=s||undefined;}return Q;};e.prototype.handleValueHelpRequest=function(E){var f=E.getSource();var i=f.getId();var C=this.getConditionModel();var s=f.getFieldPath();var o=C.clone(s);var t=this;if(this.mValueLists[i]){this.mValueLists[i].then(function(v){v.getContent()[0].setModel(o,"cm");v.getContent()[0].setBindingContext(o.createBindingContext("/"),"cm");v.open();});}else{var r=new a({text:'{sap.fe.i18n>SAPFE_RESET}'});var T=new L();var v=new D({customHeader:new b({contentMiddle:[T],contentRight:[r]}),contentWidth:"75%",contentHeight:"75%",verticalScrolling:false,resizable:false,draggable:true,endButton:new a({text:'{sap.fe.i18n>SAPFE_CANCEL}',press:function(){v.getContent()[0].getModel("cm").destroy();v.close();}}),beginButton:new a({text:'{sap.fe.i18n>SAPFE_OK}',press:function(){var C=t.getConditionModel();var l=v.getContent()[0].getController().fieldPath;var V=v.getContent()[0].getModel("cm");C.merge(l,V);v.close();}})}).addStyleClass("sapUiNoContentPadding");f.addDependent(v);var g=f.getFilterOperatorConfig();var h=g.getOperatorsForType(f.getDataType());var j=[];h.forEach(function(l){var m=g.getOperator(l);if(m.showInSuggest!==undefined&&m.showInSuggest===false){return;}var n=m.textKey||"operators."+m.name+".longText";var p=m.getTypeText(n,f._getDataType().getName().toLowerCase());if(p===n){p=m.longText;}j.push({key:l,additionalText:p});},this);var k=new sap.ui.model.json.JSONModel();k.setData(j);v.open();this.mValueLists[i]=(this.mValueListRequests[i]||this.requestValueListMetadata(f)).then(function(V){var l=new J(V);l.setProperty("/title",f.getCustomData()[0].getValue());var m=sap.ui.view({viewName:"sap.fe.controls._ValueList.ValueList",type:"XML",height:"100%",async:true,preprocessors:{xml:{bindingContexts:{valueList:l.createBindingContext("/")},models:{valueList:l}}}});m.setModel(o,"cm");m.setModel(k,"om");m.setBindingContext(k.createBindingContext("/"),"om");m.setBindingContext(o.createBindingContext("/"),"cm");m.setModel(l,"valueList");m.setModel(V.$model);var n=new J();m.setModel(n,"oTempPrivate");m.getModel("oTempPrivate").setProperty("/FilterFieldType",f._getDataType());return m.loaded().then(function(m){r.attachPress(function(E){o=C.clone(s);m.getModel("cm").setData(o.getData());m.getController().updateTableSelections();});T.setText(m.getModel("valueList").getProperty("/title"));m.getController().fieldPath=s;v.removeAllContent();v.addContent(m);return Promise.resolve(v);});});}};e.prototype.handleSuggest=function(p,E){var i=E.getSource();var f=E.getSource().getParent();var s=this.getEntitySet();var m=f.getModel().getMetaModel();var o,g={},I=f.getId();var h=f.getCustomData()[2].getValue()==='true';if(!h){o=m.getObject("/"+s+"@Org.OData.Capabilities.V1.SearchRestrictions");if(!o||o.Searchable||o.Searchable===undefined){g={$search:E.getParameters().suggestValue};}else{return;}}if(this.mSuggestionLists[I]){if(!h){this.mSuggestionLists[I].then(function(){var j=i.getBinding("suggestionRows");j.changeParameters(g);});}}else{this.mSuggestionLists[I]=(this.mValueListRequests[I]||this.requestValueListMetadata(f)).then(function(v){v.SuggestBindingParameters=JSON.stringify(g);var V=new J(v);var j=sap.ui.view({viewName:"sap.fe.controls._ValueList.SuggestionList",type:"XML",async:true,preprocessors:{xml:{bindingContexts:{valueList:V.createBindingContext("/")},models:{valueList:V}}}});j.setModel(v.$model);return j.loaded().then(function(){p.setTable(j.getContent()[0]);if(v.__sapfe){if(v.__sapfe.keyPath){p.setKeyPath(v.__sapfe.keyPath);}if(v.__sapfe.descriptionPath){p.setDescriptionPath(v.__sapfe.descriptionPath);}}});});}};e.prototype.requestValueListMetadata=function(f){var t=this;this.mValueListRequests[f.getId()]=f.getModel().getMetaModel().requestValueListInfo('/'+this.getEntitySet()+'/'+f.getFieldPath().replace(/\*/g,'')).then(function(v){var p;if(v[""]){p=v[""].Parameters;var l=f.getModel().getMetaModel().getObject('/'+t.getEntitySet()+'/'+f.getFieldPath().replace(/\*/g,'')+"@sapui.name");for(var i=0;i<p.length;i++){if(p[i].LocalDataProperty&&p[i].LocalDataProperty.$PropertyPath===l){v[""].__sapfe={keyPath:p[i].ValueListProperty,descriptionPath:v[""].$model.getMetaModel().getObject("/"+v[""].CollectionPath+"/"+p[i].ValueListProperty+"@com.sap.vocabularies.Common.v1.Text/$Path")};break;}}return v[""];}else{throw("no unqualified value list found - currently qualified value lists are not considered");}},function(E){throw(E.message);});return this.mValueListRequests[f.getId()];};e.prototype.setFilterSummary=function(){var s=this.getSearchControl(),o=this.getDraftEditStateControl(),f,g="",h=[],i;var r=this.oFilterBar.getModel("sap.fe.i18n").getResourceBundle();if(s){f=s.getValue();}if(f){g=r.getText("SAPFE_FILTERBAR_SEARCHBY")+": "+f+((h.length>0)?" | ":"");}if(o&&o.getSelectedKey()!=='0'){h.push(r.getText("SAPFE_FILTERBAR_EDITING_STATUS"));}var j=this.getFilterFieldControls();for(i=0;i<j.length;i++){if(j[i].getConditions().length>0){h.push(j[i].getCustomData()[0].getValue());}}if(h.length>0){g+=r.getText("SAPFE_FILTERBAR_FILTERBY")+" ("+h.length+"): ";for(i=0;i<h.length;i++){g+=((i>0)?', ':'')+h[i];}}if(!g){g=r.getText("SAPFE_FILTERBAR_FILTERBYNONE");}this.oFilterBar.setFilterSummary(g);};e.prototype.getEntitySet=function(){return this.oFilterBar.getEntitySetContext().substr(1);};e.prototype.getConditionModel=function(){return this.oFilterBar.getModel(this.oFilterBar.getConditionModelName());};e.prototype.getDraftEditStateControl=function(){var C=this.oFilterBar.getInnerFilterBar().getContent();var f;for(var i=0;i<C.length;i++){f=C[i].getItems()[1];if(f.getBinding("items")&&f.getBinding("items").getPath()==="/editStates"&&f.getBinding("items").getModel()===f.getModel("$draft")){return f;}}};e.prototype.getSearchControl=function(){var C=this.oFilterBar.getInnerFilterBar().getContent();var f;for(var i=0;i<C.length;i++){f=C[i].getItems()[1];if(f instanceof S){return f;}}};e.prototype.getFilterFieldControls=function(){var C=this.oFilterBar.getInnerFilterBar().getContent();var f,g=[];for(var i=0;i<C.length;i++){f=C[i].getItems()[1];if(f instanceof F){g.push(f);}}return g;};e.prototype.getAppState=function(){var C=this.getConditionModel(),o=this.getDraftEditStateControl(),s=this.getSearchControl(),A={};if(C){A.conditionModel=C.serialize();}if(o){A.draftEditState=o.getSelectedKey();}if(s){A.search=s.getValue();}return A;};e.prototype.setAppState=function(A){var C=this.getConditionModel(),o=this.getDraftEditStateControl(),s=this.getSearchControl();if(A.conditionModel){if(C){C.parse(A.conditionModel);}else{throw("app state contains condition model state but condition model not yet set");}}if(A.draftEditState&&o){o.setSelectedKey(A.draftEditState);}if(A.search&&s){s.setValue(A.search);}};e.prototype.createSuggestProviders=function(){var f=this.getFilterFieldControls(),s,g,o;for(var i=0;i<f.length;i++){o=f[i];s=o.getCustomData()[1].getValue()==='true';g=o.getCustomData()[2].getValue()==='true';if(s){new O({control:o,enableFilterSuggest:false,suggest:this.handleSuggest.bind(this)});}else if(g){new d({control:o,enableFilterSuggest:true,suggest:this.handleSuggest.bind(this)});}}};return e;});};if(!jQuery.sap.isDeclared('sap.fe.controls._P13nSettings.P13nSettings.controller')){jQuery.sap.declare('sap.fe.controls._P13nSettings.P13nSettings.controller');jQuery.sap.require('sap.ui.core.mvc.Controller');jQuery.sap.require('sap.ui.model.Sorter');jQuery.sap.require('sap.ui.model.json.JSONModel');sap.ui.define("sap/fe/controls/_P13nSettings/P13nSettings.controller",["sap/ui/core/mvc/Controller","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(C,S,J){"use strict";return C.extend("sap.fe.controls._P13nSettings.P13nSettings",{onCancel:function(e){e.getSource().close();this.getView().destroy();},onConfirm:function(e){var p=e.getSource().getPanels(),c=[],s=[],P,d,i;for(i in p){var a=p[i].getMetadata().getName();if(a==="sap.m.P13nSortPanel"){c.sortCondition=p[i]._getConditions();}if(a==="sap.m.P13nGroupPanel"){c.groupCondition=p[i]._getConditions();}}var g=function(o){P=(c.groupCondition&&c.groupCondition[0].keyField);var k=o.getProperty(P);var n=(c.groupCondition[0]&&c.groupCondition[0].text);if(n.indexOf(":")>0){n=n.substr(0,n.indexOf(":"));}return{key:k,text:n+" : "+k};};if(c.groupCondition&&c.groupCondition.length>0){P=c.groupCondition[0]&&c.groupCondition[0].keyField;d=!!(c[0]&&c[0].operation==="GroupDescending");var G=new S(P,d,g);s.push(G);}if(c.sortCondition){for(i in c.sortCondition){P=c.sortCondition[i].keyField;d=!!(c.sortCondition[i].operation==="Descending");s.push(new S(P,d));}}this._saveP13DialogState(c);this.oTableController.applyGroupAndSort(s);e.getSource().close();this.getView().destroy();},_saveP13DialogState:function(c){var p=this.oView.getModel().getData(),i,_;var P=[];for(i in c.sortCondition){_={"columnKey":c.sortCondition[i].keyField,"operation":c.sortCondition[i].operation};P.push(_);}p.p13nSortItems=P;if(c.groupCondition!=undefined&&c.groupCondition!=null){var a=[];for(i in c.groupCondition){_={"columnKey":c.groupCondition[i].keyField,"operation":c.groupCondition[i].operation};a.push(_);}p.p13nGroupItems=a;}this.oTableController.oP13nSettingsPropertyModel=new J(p);}});});};if(!jQuery.sap.isDeclared('sap.fe.controls._Table.Table.flexibility')){jQuery.sap.declare('sap.fe.controls._Table.Table.flexibility');sap.ui.define("sap/fe/controls/_Table/Table.flexibility",[],function(){"use strict";function a(M,i,l,t,o,b){var c=b.getMetaModel(),d=c.requestObject(M);return d.then(function(){var I=t.getInnerTable(),p=c.createBindingContext(M),T=o.getProperty(t,"type"),f,v;if(T==='ResponsiveTable'){f="sap.fe.controls._Table.ResponsiveTable.AddColumnChange";}else if(T==='GridTable'){f="sap.fe.controls._Table.GridTable.AddGridTableColumnChange";}try{var v=sap.ui.view({viewContent:'<core:View xmlns:core="sap.ui.core"><core:Fragment fragmentName="'+f+'" type="XML"/></core:View>',type:"XML",async:true,preprocessors:{xml:{bindingContexts:{dataField:p},models:{dataField:c}}}});}catch(e){jQuery.sap.log.error(e);}return v.loaded().then(function(){var C=v.getContent()[0].getColumns()[0],g,L,h;if(l){if(T==='ResponsiveTable'){h=C.getHeader();}else if(T==='GridTable'){var h=C.getLabel();}h.setText(l);}o.insertAggregation(I,"columns",C,i);if(T==='ResponsiveTable'){g=v.getContent()[1];L=o.getBindingTemplate(I,"items");o.insertAggregation(L,"cells",g,i);}return C;});});}function r(e,t,M){var I=t.getInnerTable(),T=M.getProperty(t,"type"),l,C=M.getAggregation(I,"columns"),b,R={},o,d,f;for(var i=0;i<C.length;i++){if(M.getId(C[i])===e){d=C[i];f=M.getAggregation(d,"customData");for(var c=0;c<f.length;c++){if(M.getProperty(f[c],"key")==="metaContextPath"){R.metaContextPath=M.getProperty(f[c],"value");}}R.index=i;R.id=M.getId(d);if(T==='ResponsiveTable'){o=M.getAggregation(d,"header");}else if(T==='GridTable'){o=M.getAggregation(d,"label");}R.label=M.getProperty(o,"text");M.removeAggregation(I,"columns",d);if(T==='ResponsiveTable'){l=M.getBindingTemplate(I,"items");b=M.getAggregation(l,"cells");M.removeAggregation(l,"cells",b[i]);}return R;}}}function m(e,t,T,M){var I=T.getInnerTable(),c=M.getAggregation(I,"columns"),s=M.getProperty(T,"type"),l,C;for(var i=0;i<c.length;i++){if(M.getId(c[i])===e){M.removeAggregation(I,"columns",c[i]);M.insertAggregation(I,"columns",c[i],t);if(s==='ResponsiveTable'){l=M.getBindingTemplate(I,"items");C=M.getAggregation(l,"cells");M.removeAggregation(l,"cells",C[i]);M.insertAggregation(l,"cells",C[i],t);}}}}return{"addColumn":{applyChange:function(c,t,p){var C=c.getDefinition(),M=C.content.bindingString,l=C.content.label,i=C.content.index,o=p.modifier,b=p.appComponent||p.view,d=b?b.getModel():undefined;if(!d instanceof sap.ui.model.odata.v4.ODataModel){jQuery.sap.log.error("Change can't be applied without a container having a Odata v4 model assigned");return false;}return a(M,i,l,t,o,d).then(function(e){c.setRevertData({elementId:o.getId(e)});});},revertChange:function(c,t,p){var R=c.getRevertData();if(R){r(R.elementId,t,p.modifier);c.resetRevertData();}else{jQuery.sap.log.error("Attempt to revert an unapplied change.");return false;}return true;}},"moveColumns":{applyChange:function(c,t,p){var C=c.getDefinition(),M=C.content.movedElements;for(var x=0;x<M.length;x++){m(M[x].element,M[x].targetIndex,t,p.modifier);}return true;},revertChange:function(c,t,p){var C=c.getDefinition(),M=C.content.movedElements;for(var x=0;x<M.length;x++){m(M[x].element,M[x].sourceIndex,t,p.modifier);}return true;}},"removeColumn":{applyChange:function(c,t,p){var C=c.getDefinition(),R;R=r(C.content.removedElement,t,p.modifier);c.setRevertData(R);return true;},revertChange:function(c,t,p){var R=c.getRevertData();if(R){return a(R.metaContextPath,R.id,R.index,R.label,t,p.modifier).then(function(){c.resetRevertData();});}else{jQuery.sap.log.error("Attempt to revert an unapplied change.");return false;}}},"setTableType":{applyChange:function(c,t,p){var C=c.getDefinition(),s=t.getType(),M=p.modifier;M.setProperty(t,"type",C.content.tableType);c.setRevertData({originalTableType:s});return true;},revertChange:function(c,t,p){var R=c.getRevertData(),M=p.modifier;if(R){M.setProperty(t,"type",R.originalTableType);}else{jQuery.sap.log.error("Attempt to revert an unapplied change.");return false;}}}};},false);};if(!jQuery.sap.isDeclared('sap.fe.controls._Table.TableAnnotationHelper')){(function(){"use strict";jQuery.sap.declare("sap.fe.controls._Table.TableAnnotationHelper");sap.fe.controls._Table.TableAnnotationHelper={getEntitySetFromContext:function(i){var p=i.getPath().split('/');var e;if(p[1]){e=i.getModel().getMetaContext('/'+p[1]);}if(e&&e.getObject().$kind==="EntitySet"){return e;}else{throw("entity set could not be determined from line item context");}},createAggregationBinding:function(i,e,t,f,l){if(t){return t;}var E='',m=i.getInterface(0),M=m.getModel(),s=M.getObject(m.getPath()+"@sapui.name");if(m.getModel().getObject(m.getPath()+"@com.sap.vocabularies.Common.v1.DraftRoot")){E="$expand : 'DraftAdministrativeData'";}return"{ path : '/"+s+"', parameters : {  $count : true "+(E?',':'')+E+"}, events : {dataRequested : '.handleDataRequested', dataReceived : '.handleDataReceived'} }";},getSelectionMode:function(c,e,w){c=c.getInterface(0);var l=w['@com.sap.vocabularies.UI.v1.LineItem'];for(var i=0;i<l.length;i++){if(l[i].$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!l[i].Inline){return sap.m.ListMode.MultiSelect;}}return sap.m.ListMode.None;},formatDraftLockText:function(I,H,L){if(!I){return this.getModel("sap.fe.i18n").getResourceBundle().getText("SAPFE_DRAFT_OBJECT");}else if(H){if(L){return this.getModel("sap.fe.i18n").getResourceBundle().getText("SAPFE_LOCKED_OBJECT");}else{return this.getModel("sap.fe.i18n").getResourceBundle().getText("SAPFE_UNSAVED_CHANGES");}}else{return"";}}};sap.fe.controls._Table.TableAnnotationHelper.getEntitySetFromContext.requiresIContext=true;sap.fe.controls._Table.TableAnnotationHelper.createAggregationBinding.requiresIContext=true;sap.fe.controls._Table.TableAnnotationHelper.getSelectionMode.requiresIContext=true;})();};if(!jQuery.sap.isDeclared('sap.fe.controls._ValueList.ValueList.controller')){jQuery.sap.declare('sap.fe.controls._ValueList.ValueList.controller');jQuery.sap.require('sap.ui.core.mvc.Controller');jQuery.sap.require('sap.ui.mdc.ConditionModel');jQuery.sap.require('sap.ui.mdc.ODataSuggestProvider');jQuery.sap.require('sap.ui.mdc.OperatorSuggestProvider');jQuery.sap.require('sap.m.SearchField');jQuery.sap.require('sap.ui.model.json.JSONModel');sap.ui.define("sap/fe/controls/_ValueList/ValueList.controller",["sap/ui/core/mvc/Controller","sap/ui/mdc/ConditionModel","sap/ui/mdc/ODataSuggestProvider","sap/ui/mdc/OperatorSuggestProvider","sap/m/SearchField","sap/ui/model/json/JSONModel"],function(C,a,O,b,S,J){"use strict";return C.extend("sap.fe.controls._ValueList.ValueList",{handleSearch:function(e){var v=this.getView().byId("valueListTable");var s=e.getParameter("query")||e.getParameter("newValue");v.getBinding("items").changeParameters({$search:s||undefined});},onInit:function(){var f=new J({visible:false,listView:false,tableView:true,sSelectedRowCount:0});this.oValueListTable=this.getView().byId("valueListTable");var l=this.oValueListTable.getBinding("items");this.oValueListTableConditionModel=a.getFor(l);var c=this.oValueListTableConditionModel.bindProperty("/",this.oValueListTableConditionModel.getContext("/"));c.attachChange(this.handleChange.bind(this));var l=this.getView().byId("valueListTable").getBinding("items");l.attachChange(this.updateTableSelections.bind(this));this.getView().setModel(this.oValueListTableConditionModel,"vltcm");this.getView().setModel(f,"FilterLayoutFlag");},onAfterRendering:function(){this.updateTableSelections();},handleFilter:function(){if(this.getView().getModel("FilterLayoutFlag").getProperty("/visible")){this.getView().getModel("FilterLayoutFlag").setProperty("/visible",false);}else{this.getView().getModel("FilterLayoutFlag").setProperty("/visible",true);}},handleChange:function(){this.oValueListTableConditionModel.applyFilters();},handleConditionButtonVisibility:function(){var g=this.getView().byId("template::DefineConditions");var c=this.getView().getModel("cm");var l=c.getConditions().length;var o=[];for(var i=0;i<l;i++){if(c.getConditions()[i].operator!=="EEQ"){o.push(c.getConditions()[i]);}}if(o.length===0){c.addCondition(c.createCondition(this.getView().getController().fieldPath,"EQ",[]));}else{var d=g.getContent();d[d.length-1].getContent()[4].getContent()[1].setVisible(true);}},onResetValueHelp:function(c,m){var v=this.getView();v.setModel(m,"cm");},handleToggleButton:function(e){var i=e.getSource().getId();if(i.indexOf("template::ListView")!==-1){this.getView().getModel("FilterLayoutFlag").setProperty("/listView",true);this.getView().getModel("FilterLayoutFlag").setProperty("/tableView",false);}else if(i.indexOf("template::TableView")!==-1){this.getView().getModel("FilterLayoutFlag").setProperty("/tableView",true);this.getView().getModel("FilterLayoutFlag").setProperty("/listView",false);}},removeCondition:function(e){var s=e.oSource.getId();var c=this.oView.getModel("cm");var d=c.getConditions();var l=d.length;var o=[];for(var i=0;i<l;i++){if(d[i].operator!=="EEQ"){o.push({items:d[i],index:i});}}var f=s.substr(s.lastIndexOf("-")+1,s.length);var r=[];r.push(o[f]);c.removeCondition(this.getView().getController().fieldPath,parseInt(r[0].index,10));if(l===0){c.addCondition(c.createCondition(this.getView().getController().fieldPath,"EQ",[]));}},addCondition:function(e){var c=this.oView.getModel("cm");var i=c.getConditions().length;c.insertCondition(i,c.createCondition(this.getView().getController().fieldPath,"EQ",[]));if(i<c.getConditions().length){e.getSource().setVisible(false);}},handleSelectionChange:function(e){var v=this.getView();var c=v.getModel("cm");var f=v.getController().fieldPath;var V=v.getModel("valueList").getObject("/");var I,k,d,B;var s=e.getParameter("listItem").getSelected();if(s===true){for(var i=0;i<e.getParameter("listItems").length;i++){B=e.getParameter("listItems")[i].getBindingContext();I=B.getObject();k=I[V.__sapfe.keyPath];d=I[V.__sapfe.descriptionPath];c.addCondition(c.createCondition(f,"EEQ",[k,d,B.getCanonicalPath()]));}}else{for(var j=0;j<e.getParameter("listItems").length;j++){var g=c.getConditions().filter(function(o){return o.operator==="EEQ";});B=e.getParameter("listItems")[j].getBindingContext();for(var i=0;i<g.length;i++){if(g[i].values&&g[i].values[2]===B.getCanonicalPath()){c.removeCondition(f,i);break;}}}}},handleTokenUpdate:function(e){var v=this.getView();var c=v.getModel("cm");var f=v.getController().fieldPath;var r=e.getParameter("removedTokens");var t=v.byId("template::Tokenizer").getTokens();for(var i=0;i<t.length;i++){if(t[i].getKey()===r[0].getKey()){var T=v.byId("valueListTable");var o=T.getSelectedContexts();for(var j=0;j<o.length;j++){if(o[j].getCanonicalPath()===c.getConditions()[i].values[2]){T.getItems()[o[j].iIndex].setSelected(false);break;}}c.removeCondition(f,i);break;}}},updateTableSelections:function(e){var t,I;t=this.getView().byId("valueListTable");t.removeSelections(true);I=t.getItems();var c,d,f;c=this.getView().getModel("cm");d=c.getConditions();f=d.filter(function(o){return o.operator==="EEQ";});var i,j,o,g;for(i=0;i<f.length;i++){o=f[i];for(j=0;j<I.length;j++){g=I[j];if(g.getBindingContext().getCanonicalPath()===o.values[2]){t.setSelectedItem(g,true);break;}}}}});});};if(!jQuery.sap.isDeclared('sap.fe.controls._ValueList.ValueListAnnotationHelper')){(function(){"use strict";jQuery.sap.declare("sap.fe.controls._ValueList.ValueListAnnotationHelper");sap.fe.controls._ValueList.ValueListAnnotationHelper={getCollectionEntitySet:function(v){var V=v.getObject();return V.$model.getMetaModel().createBindingContext("/"+V.CollectionPath);},getValueListProperty:function(p){var v=p.getModel();var V=v.getObject("/");return V.$model.getMetaModel().createBindingContext('/'+V.CollectionPath+'/'+p.getObject());},formatIconTabFilterText:function(i,c){var r=this.getModel("sap.fe.i18n").getResourceBundle();return r.getText(i);},formatSelectedItemTitle:function(s,c){var r=this.getModel("sap.fe.i18n").getResourceBundle();if(c&&c.conditions&&c.conditions.length!==0){return r.getText(s,[c.conditions.length]);}else{return r.getText(s,[0]);}},formatedTokenText:function(f,c){var r="";if(c){var C=this.getModel("cm");var o=C.getFilterOperatorConfig().getOperator(c.operator);r=o.format(c.values,c,f);}return r;}};})();};if(!jQuery.sap.isDeclared('sap.fe.controls._ViewSettings.ViewSettings.controller')){jQuery.sap.declare('sap.fe.controls._ViewSettings.ViewSettings.controller');jQuery.sap.require('sap.ui.core.mvc.Controller');jQuery.sap.require('sap.ui.model.Sorter');jQuery.sap.require('sap.ui.model.json.JSONModel');sap.ui.define("sap/fe/controls/_ViewSettings/ViewSettings.controller",["sap/ui/core/mvc/Controller","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(C,S,J){"use strict";return C.extend("sap.fe.controls._ViewSettings.ViewSettings",{onConfirm:function(e){var c=e.getParameters(),s=[],p,d,k,n;var g=function(o){p=(c.groupItem&&c.groupItem.getKey());k=o.getProperty(p);n=c.groupItem&&c.groupItem.getText();return{key:k,text:n+" : "+k};};if(c.groupItem){p=c.groupItem.getKey();d=!!(c.groupDescending);var G=new S(p,d,g);s.push(G);}if(c.sortItem){p=c.sortItem.getKey();d=!!(c.sortDescending);s.push(new S(p,d));}this._saveViewSettingsState(c);this.oTableController.applyGroupAndSort(s);this.getView().destroy();},_saveViewSettingsState:function(c){var v=this.oView.getModel().getData();var g=c.groupItem&&c.groupItem.getKey();v.groupDescending=!!(c.groupDescending);if(g!=null&&g!=undefined){v.groupPanelItems.map(function(a){if(a.columnKey===g){a.selected=true;return a;}else{a.selected=false;return a;}});}var s=c.sortItem&&c.sortItem.getKey();v.sortDesecending=!!(c.sortDescending);if(s!=null&&s!=undefined){v.sortPanelItems.map(function(a){if(a.columnKey===s){a.selected=true;return a;}else{a.selected=false;return a;}});}this.oTableController.oViewSettingsPropertyModel=new J(v);},onCancel:function(e){this.getView().destroy();},onColumnListSelectAll:function(e){if(e.getParameters().selected){this.getView().byId("ColumnsList").selectAll();}else{this.getView().byId("ColumnsList").removeSelections(true);}this._updateSelectAllText();},onColumnListChange:function(e){this._updateSelectAllText();},_updateSelectAllText:function(){var c=this.getView().byId("ColumnsList"),s=this.getView().getModel("sap.fe.i18n").getResourceBundle().getText("SAPFE_VIEWSETTINGS_COLUMN_SELECTALL",[c.getSelectedItems().length,c.getItems().length]);this.getView().byId("selectAllCheckBox").setText(s);}});});};if(!jQuery.sap.isDeclared('sap.fe.core.AnnotationHelper')){(function(){"use strict";jQuery.sap.declare("sap.fe.core.AnnotationHelper");sap.fe.core.AnnotationHelper={getMetaContextPath:function(c){return c.getPath();},getMetaContext:function(t){return t.getModel().getVisitor().getSettings().models["sap.fe.metaModel"].createBindingContext(t.getObject());},getLineItemPresentation:function(p){var P=p.getObject();var m=P.metaModel;var M=p.getModel();var w;if(M.getProperty("/workingContext")){w=M.getProperty("/workingContext");}else{w=sap.fe.core.AnnotationHelper._getWorkingContext(m,P.entitySet,undefined);M.setProperty("/workingContext",w);}return m.getMetaContext(w.lineItemPath);},getChartPresentation:function(p){var P=p.getObject();var m=P.metaModel;var M=p.getModel();var w;if(M.getProperty("/workingContext")){w=M.getProperty("/workingContext");}else{w=sap.fe.core.AnnotationHelper._getWorkingContext(m,P.entitySet,undefined);M.setProperty("/workingContext",w);}return m.getMetaContext(w.chartPath);},_getWorkingContext:function(m,e,q){var a,w={},s,p,E='/'+e;a=E+"/@com.sap.vocabularies.UI.v1.SelectionPresentationVariant"+(q?"#"+q:"");w.selectionPresentationVariant=m.getObject(a);w.selectionPresentationVariantQualifier=a.split("#")[1]||"";w.selectionPresentationVariantPath=a;s=w.selectionPresentationVariant;if(s&&s.PresentationVariant){if(s.PresentationVariant.$Path){a=E+"/"+s.PresentationVariant.$Path;}else{a=a+"/PresentationVariant";}}else{a=E+"/@com.sap.vocabularies.UI.v1.PresentationVariant"+(q?"#"+q:"");}if(typeof a==="string"){w.presentationVariant=m.getObject(a);w.presentationVariantPath=a;w.presentationVariantQualifier=a.split("#")[1]||"";p=w.presentationVariant;}if(p&&p.Visualizations){p.Visualizations.forEach(function(v){a=E+'/'+v.$AnnotationPath;if(v.$AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.LineItem")>-1){w.lineItem=m.getObject(a);w.lineItemPath=a;w.lineItemQualifier=a.split("#")[1]||"";}if(v.$AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>-1){w.chart=m.getObject(a);w.chartPath=a;w.chartQualifier=a.split("#")[1]||"";}});}if(!w.lineItem){a=E+"/@com.sap.vocabularies.UI.v1.LineItem";w.lineItem=m.getObject(a);w.lineItemPath=a;w.lineItemQualifier="";}if(!w.chart){a=E+"/@com.sap.vocabularies.UI.v1.Chart";w.chart=m.getObject(a);w.chartPath=a;w.chartQualifier="";}return w;},isSemanticKey:function(c,v){var e=c.getPath().split('/')[1];var s=c.getModel().getObject("/"+e+"/@com.sap.vocabularies.Common.v1.SemanticKey");if(s){for(var i=0;i<s.length;i++){if(s[i].$PropertyPath===v.$Path){return true;}}}return false;},_getEntitySetPath:function(m,p){var l;var e=p.slice(0,p.indexOf("/",1));if(m.getObject(e+"/$kind")==="EntityContainer"){l=e.length+1;e=p.slice(l,p.indexOf("/",l));}return e;},_isInNonFilterableProperties:function(m,e,c){var i=false;var a=m.getObject(e+"@Org.OData.Capabilities.V1.FilterRestrictions");if(a&&a.NonFilterableProperties){i=a.NonFilterableProperties.some(function(p){return p.$NavigationPropertyPath===c||p.$PropertyPath===c;});}return i;},_isContextPathFilterable:function(m,e,c){var C=c.split("/"),i=false,s="";C.some(function(a,b,d){if(s.length>0){s+="/"+a;}else{s=a;}if(b===d.length-1){i=sap.fe.core.AnnotationHelper._isInNonFilterableProperties(m,e,s);}else if(m.getObject(e+"/$NavigationPropertyBinding/"+a)){i=sap.fe.core.AnnotationHelper._isInNonFilterableProperties(m,e,s);s="";e="/"+m.getObject(e+"/$NavigationPropertyBinding/"+a);}return i===true;});return i;},isNavPropertyFilterable:function(c,n){var e,C,i=false,p=c.getPath(),m=c.getModel();e=sap.fe.core.AnnotationHelper._getEntitySetPath(m,p);C=p.slice(e.length+1);if(C.indexOf("/")<0){i=sap.fe.core.AnnotationHelper._isInNonFilterableProperties(m,e,C);}else{i=sap.fe.core.AnnotationHelper._isContextPathFilterable(m,e,C);}return!i;},isPropertyFilterable:function(c,p){var e,P,i=false,m=c.getModel(),s=c.getPath();if(m.getObject(s+"@com.sap.vocabularies.UI.v1.Hidden")){return false;}if(m.getObject(s+"@com.sap.vocabularies.UI.v1.HiddenFilter")){return false;}e=sap.fe.core.AnnotationHelper._getEntitySetPath(m,s);if(typeof(p)==="string"){P=p;}else{P=m.getObject(s+"@sapui.name");}if(P.indexOf("/")<0){i=sap.fe.core.AnnotationHelper._isInNonFilterableProperties(m,e,P);}else{i=sap.fe.core.AnnotationHelper._isContextPathFilterable(m,e,P);}return!i;},isRequiredInFilter:function(p,d){var e,P,i=false,f,m=d.context.getModel(),s=d.context.getPath();e=sap.fe.core.AnnotationHelper._getEntitySetPath(m,s);if(typeof(p)==="string"){P=p;}else{P=m.getObject(s+"@sapui.name");}f=m.getObject(e+"@Org.OData.Capabilities.V1.FilterRestrictions");if(f&&f.RequiredProperties){i=f.RequiredProperties.some(function(a){return a.$PropertyPath===P;});}return i;},typeFormatOptions:function(p,d){var f="{",s,m=d.context.getModel(),P=d.context.getPath(),t=m.getObject(P+"/$Type"),T,o;if(t==="Edm.Date"||t==="Edm.DateTimeOffset"||t==="Edm.TimeOfDay"){f+="style: 'medium'";}else if(t==="Edm.Decimal"){s=m.getObject(P+"/$Scale")||0;switch(s){case"floating":f+="decimals: "+(m.getObject(P+"/$Precision")||0);break;case"variable":break;default:f+="decimals: "+s;}}T=m.getObject(P+"@com.sap.vocabularies.Common.v1.Text");if(T){o=m.getObject(P+"@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement");if(f.length>1){f+=", ";}if(o&&o.$EnumMember){switch(o.$EnumMember){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":f+="displayFormat: 'ValueDescription'";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":f+="displayFormat: 'Description'";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":f+="displayFormat: 'Value'";break;default:f+="displayFormat: 'DescriptionValue'";}}else{f+="displayFormat: 'DescriptionValue'";}}return f+"}";},typeConstraints:function(p,d){var c="{",s,m,M=d.context.getModel(),P=d.context.getPath(),t=M.getObject(P+"/$Type");if(t==="Edm.Decimal"){s=M.getObject(P+"/$Scale")||0;switch(s){case"floating":c+="decimals: "+(M.getObject(P+"/$Precision")||0);break;case"variable":break;default:c+="decimals: "+s;}}else if(t==="Edm.String"){m=M.getObject(P+"/$MaxLength");if(m){c+="maxLength: "+m;}if(M.getObject(P+"@com.sap.vocabularies.Common.v1.IsUpperCase")){if(c.length>1){c+=", ";}c+="toUpperCase: true";}}return c+"}";},hasNavigation:function(p){var e=p.manifest["sap.fe"].entitySets[p.entitySet];return e&&e.entry&&e.entry.default&&e.entry.default.outbound||false;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){jQuery.sap.log.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");}};sap.fe.core.AnnotationHelper.getMetaContextPath.requiresIContext=true;sap.fe.core.AnnotationHelper.getMetaContext.requiresIContext=true;sap.fe.core.AnnotationHelper.getLineItemPresentation.requiresIContext=true;sap.fe.core.AnnotationHelper.getChartPresentation.requiresIContext=true;sap.fe.core.AnnotationHelper.isSemanticKey.requiresIContext=true;sap.fe.core.AnnotationHelper.isNavPropertyFilterable.requiresIContext=true;sap.fe.core.AnnotationHelper.isPropertyFilterable.requiresIContext=true;})();};if(!jQuery.sap.isDeclared('sap.fe.core.CommonUtils')){jQuery.sap.declare('sap.fe.core.CommonUtils');jQuery.sap.require('sap.ui.core.mvc.View');sap.ui.define("sap/fe/core/CommonUtils",["sap/ui/core/mvc/View"],function(V){"use strict";function g(c){while(c&&!(c instanceof V)){c=c.getParent();}return c;}return{getParentViewOfControl:g};});};if(!jQuery.sap.isDeclared('sap.fe.core.MessageUtils')){jQuery.sap.declare('sap.fe.core.MessageUtils');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.m.MessageToast');jQuery.sap.require('sap.m.MessageItem');jQuery.sap.require('sap.m.MessageView');jQuery.sap.require('sap.ui.layout.form.SimpleForm');jQuery.sap.require('sap.ui.model.message.MessageModel');jQuery.sap.require('sap.m.NavContainer');jQuery.sap.require('sap.m.Page');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ui.core.Title');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.m.Text');jQuery.sap.require('sap.ui.core.message.Message');jQuery.sap.require('sap.m.Toolbar');jQuery.sap.require('sap.m.ToolbarSpacer');sap.ui.define("sap/fe/core/MessageUtils",["jquery.sap.global","sap/ui/base/Object","sap/m/MessageToast","sap/m/MessageItem","sap/m/MessageView","sap/ui/layout/form/SimpleForm","sap/ui/model/message/MessageModel","sap/m/NavContainer","sap/m/Page","sap/m/Dialog","sap/m/Button","sap/ui/core/Title","sap/m/Label","sap/m/Text","sap/ui/core/message/Message","sap/m/Toolbar","sap/m/ToolbarSpacer"],function(q,B,M,a,b,S,c,N,P,D,d,T,L,e,f,g,h){"use strict";function j(t){function H(E){var m=[];function n(v){v.getSource().getParent().getParent().getParent().to("errorMessagesPage");v.getSource().getParent().getParent().getParent().getParent().getButtons()[0].setVisible(true);}if(!(E instanceof Array)){E=Array(E);}var o=new a({counter:'{counter}',title:'{message}',subtitle:'{additionalText}',longtextUrl:'{descriptionUrl}',type:'{type}',description:'{description}'});var l=new b({items:{path:'/',template:o}});l.setModel(sap.ui.getCore().getMessageManager().getMessageModel());var p=new S({width:"100%"});if(E.length>0){if(E[0].status){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_HTTP_STATUS"),design:"Bold"}));p.addContent(new e({text:E[0].status}));}if(E[0].statusText){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_EXCEPTION_CATEGORY"),design:"Bold"}));p.addContent(new e({text:E[0].statusText}));}if(E[0].error){if(E[0].error["@SAP__common.Application"]){p.addContent(new T({text:t.getText("SAPFE_TECHNICAL_DETAILS_GROUP_APPLICATION")}));if(E[0].error["@SAP__common.Application"].ComponentId){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_COMPONENT_ID"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.Application"].ComponentId}));}if(E[0].error["@SAP__common.Application"].ServiceId){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_ODATA_SERVICE"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.Application"].ServiceRepository+"\n"+E[0].error["@SAP__common.Application"].ServiceId+"\n"+E[0].error["@SAP__common.Application"].ServiceVersion}));}}p.addContent(new T({text:"Error Resolution"}));if(E[0].error["@SAP__common.TransactionId"]){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_TRANSACTION_ID"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.TransactionId"]}));}if(E[0].error["@SAP__common.Timestamp"]){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_TIMESTAMP"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.Timestamp"]}));}if(E[0].error["@SAP__common.ErrorResolution"]){if(E[0].error["@SAP__common.ErrorResolution"].Analysis){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_ANALYSIS"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.ErrorResolution"].Analysis}));}if(E[0].error["@SAP__common.ErrorResolution"].Note){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_SAP_NOTE"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.ErrorResolution"].Note}));}if(E[0].error["@SAP__common.ErrorResolution"].DetailedNote){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_SAP_DETAILED_NOTE"),design:"Bold"}));p.addContent(new e({text:E[0].error["@SAP__common.ErrorResolution"].DetailedNote}));}}if(E[0].error.details&&E[0].error.details[0]&&E[0].error.details[0].message){p.addContent(new T({text:t.getText("SAPFE_TECHNICAL_DETAILS_GROUP_MESSAGES")}));for(var i=0;i<E[0].error.details.length;i++){p.addContent(new L({text:t.getText("SAPFE_TECHNICAL_DETAILS_MESSAGES")+" "+(i+1),design:"Bold"}));p.addContent(new e({text:E[0].error.details[i].message+", "+E[0].error.details[i].code+", "+E[0].error.details[i]["@SAP__common.Severity"]}));m.push(new f({"message":E[0].error.details[i].message,"code":E[0].error.details[i].code,"type":E[0].error.details[i]["@SAP__common.Severity"],"longtextUrl":E[0].error.details[i].longtext_url}));}sap.ui.getCore().getMessageManager().addMessages(m);}}}if(!this.errorMessagesPage){this.errorMessagesPage=new P({id:"errorMessagesPage",customHeader:[new g({design:"Transparent",content:[new h(),new sap.m.Title({text:t.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE")}),new h()]})]});}if(this.errorMessagesPage.getContent()){this.errorMessagesPage.removeAllContent();}this.errorMessagesPage.addContent(l);if(p.getContent().length>0){if(!this.technicalDetailsPage){this.technicalDetailsPage=new P({id:"technicalDetailsPage",customHeader:new g({design:"Transparent",content:[new d({type:"Back",press:n}),new h(),new sap.m.Title({text:t.getText("SAPFE_TECHNICAL_MESSAGES_PAGE_TITLE")}),new h()]})});}if(this.technicalDetailsPage.getContent()){this.technicalDetailsPage.removeAllContent();}this.technicalDetailsPage.addContent(p);}var r=[];if(!!this.errorMessagesPage){r.push(this.errorMessagesPage);}if(!!this.technicalDetailsPage){r.push(this.technicalDetailsPage);}var s=new N({height:"100%",width:"100%",defaultTransitionName:"show",pages:r});var u=new D({contentWidth:"37.5em",contentHeight:"25em",showHeader:false,state:'Error',content:s,resizable:true,draggable:true,ariaLabelledBy:new sap.ui.core.InvisibleText({text:t.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE")}),beginButton:new d({press:function(){s.to("technicalDetailsPage");this.setVisible(false);},text:t.getText("SAPFE_TECHNICAL_MESSAGES_PAGE_TITLE")}),endButton:new d({press:function(){sap.ui.getCore().getMessageManager().removeAllMessages();u.close();},text:t.getText("SAPFE_CLOSE")}),verticalScrolling:false});if(!this.technicalDetailsPage){u.getBeginButton().setVisible(false);}u.open();}function k(i){M.show(i);}return{handleRequestFailed:H,handleSuccess:k};}return B.extend("sap.fe.core.MessageUtils.js",{constructor:function(t){q.extend(this,j(t));}});});};if(!jQuery.sap.isDeclared('sap.fe.core.TemplateComponent')){jQuery.sap.require('sap.ui.core.CustomizingConfiguration');(function(){"use strict";jQuery.sap.declare('sap.fe.core.TemplateComponent');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.mvc.ViewType');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require('sap.ui.model.resource.ResourceModel');jQuery.sap.require('sap.ui.Device');sap.ui.define("sap/fe/core/TemplateComponent",["jquery.sap.global","sap/ui/core/mvc/ViewType","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","sap/ui/Device"],function(q,V,U,J,R,D){function e(C){var p=[];var i=new R({bundleName:"sap/fe/messagebundle",async:true});p.push(i.getResourceBundle());Promise.all(p).then(function(){i.getResourceBundle().then(function(r){i.getResourceBundle=function(){return r;};C.setModel(i,"sap.fe.i18n");});});return p;}function d(C){if(C.getAppComponent().getMetadata().getComponentName()===""||C.getTemplateName()===""||C.getEntitySet()===""){return false;}return C.getAppComponent().getMetadata().getComponentName()+"::"+C.getTemplateName()+"::"+C.getEntitySet();}function c(E,C,m){var s=null;var A=C.getComponentContainer().getSettings();s=q.extend({},A);delete s.appComponent;delete s.entitySet;delete s.navigationProperty;return new J({entitySet:C.getEntitySet(),"sap-ui-debug":window["sap-ui-debug"],"settings":s,"manifest":C.getAppComponent().getMetadata().getManifest(),metaModel:m});}function a(C){var o=C.oComponent,f=C.createViewController;var v=null,b;var m=o.getModel();var M=m.getMetaModel();var E=M.getObject("/$EntityContainer/"+o.getEntitySet());var s=d(o);if(!E||!s){C.oTemplateUtils.getNavigationController().navigateToMessagePage({text:C.oTemplateUtils.getText("SAPFE_APPSTART_TECHNICAL_ISSUES"),description:C.oTemplateUtils.getText("SAPFE_APPSTART_WRONG_CONFIGURATION")});return Promise.reject();}v=sap.ui.getCore().byId(s);if(v){q.sap.log.warning("View with ID: "+s+" already exists - old view is getting destroyed now!");try{v.destroy();}catch(g){q.sap.log.warning("Error destroying view: "+g);}v=null;}var h=new J(sap.ui.Device);h.setDefaultBindingMode("OneWay");var p=c(E.$Type,o,M);var i=new Promise(function(r,j){var P={oParameterModel:p.createBindingContext("/")};Promise.all(o.preTemplater(P)).then(function(k){o.runAsOwner(function(){b={async:true,preprocessors:{xml:{bindingContexts:{entitySet:M.createBindingContext("/"+o.getEntitySet())},models:{entitySet:M,'sap.fe.metaModel':M,device:h,parameter:p},preprocessorsData:o.getComponentData().preprocessorsData}},id:s,type:V.XML,viewName:o.getTemplateName(),height:"100%"};if(f){var l=f();b.controller=new l();}v=sap.ui.view(b);v.loaded().then(function(v){r(v);}).catch(function(n){C.oTemplateUtils.getNavigationController().navigateToMessagePage({text:C.oTemplateUtils.getText("SAPFE_APPSTART_TECHNICAL_ISSUES"),description:C.oTemplateUtils.getText("SAPFE_APPSTART_TEMPLATING_ISSUE"),technicalMessage:n.message||(n.messages&&n.messages[0]&&n.messages[0].text)||"",technicalDetails:n.stack||n});j(n);});});}).catch(o.preTemplaterReject.bind(C.oComponent));});return i;}return U.extend("sap.fe.core.TemplateComponent",{metadata:{properties:{templateName:{type:"string",defaultValue:null},entitySet:{type:"string",defaultValue:null}}},getAppComponent:function(){var C;if(!this._oAppComponent){C=this.getComponentContainer();while(C&&!(C instanceof sap.fe.AppComponent)){C=C.getParent();}this._oAppComponent=C;}return this._oAppComponent;},init:function(){(U.prototype.init||q.noop).apply(this,arguments);var u=new J({editable:false,enabled:false,busyControls:{},outdatedControls:{}});this.setModel(u,"ui");var p=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("URLParsing");var t=new J({generic:{crossAppNavSupport:!!p&&p.isIntentUrl(document.URL),draftIndicatorState:sap.m.DraftIndicatorState.Clear,listCommons:{functionEnabled:{}}},viewLevel:this.getComponentData().registryEntry.viewLevel});t.setDefaultBindingMode("TwoWay");this.setModel(t,"_templPriv");},getComponentContainer:function(){return this.oContainer;},onBeforeRendering:function(C){if(C&&!C.createViewStarted){C.createViewStarted=true;C.aI18nLoadPromises=e(C.oComponent);var o=C.oComponent.getComponentContainer();var m=o&&o.getModel();if(m){m.getMetaModel().requestObject("/$EntityContainer/").then(function(){a(C).then(function(v){Promise.all(C.aI18nLoadPromises).then(function(){C.oComponent.setAggregation("rootControl",v);o.invalidate();});},function(){C.fnViewRegisteredResolve();});});}}}});});})();};if(!jQuery.sap.isDeclared('sap.fe.core.TemplateUtils')){jQuery.sap.declare('sap.fe.core.TemplateUtils');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');sap.ui.define("sap/fe/core/TemplateUtils",["jquery.sap.global","sap/ui/base/Object","sap/fe/controller/ActionController","sap/fe/controller/NavigationController","sap/fe/core/MessageUtils","sap/fe/core/CommonUtils"],function(q,B,A,N,M,C){"use strict";function g(c,t){function a(){if(!t.oMessageUtils){t.oMessageUtils=new M(this);}return t.oMessageUtils;}function b(){if(!t.oActionController){t.oActionController=new A(this);}return t.oActionController;}function d(){if(!t.oNavigationController){t.oNavigationController=new N(t,this);}return t.oNavigationController;}function e(){if(!t.oCommonUtils){t.oCommonUtils=new C(this);}return t.oCommonUtils;}function f(T,p){var r;if(p){r=p.constructor===Array?p:[p];}var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe");return R.getText(T,r);}function h(){var i=t.oAppStateModel.getProperty("/"+c.oController.getView().getId());if(i){return JSON.parse(i);}}function s(D){t.oAppStateModel.setProperty("/"+c.oController.getView().getId(),JSON.stringify(D));var o=t.oAppStateModel.getProperty("/");t.oAppState=sap.ushell.Container.getService("CrossApplicationNavigation").createEmptyAppState(t.oAppComponent);t.oAppComponent.getRouter().navTo("rootWithAppState",{iAppState:t.oAppState.getKey()},true);t.oAppState.setData(o);t.oAppState.save().fail(function(){});}function j(i){t.aAppStateChangedListener.push(i);}function k(l){for(var i=0;i<t.aAppStateChangedListener.length;i++){if(t.aAppStateChangedListener[i]===l){t.aAppStateChangedListener.splice(i,1);}}}return{getText:f,getActionController:b,getNavigationController:d,getMessageUtils:a,getCommonUtils:e,getBusyHelper:function(){return t.oBusyHelper;},getAppStateContainer:h,setAppStateContainer:s,attachAppStateChanged:j,detachAppStateChanged:k,getAppStateLoaded:function(){return t.oInnerAppStatePromise;}};}return B.extend("sap.fe.core.TemplateUtils.js",{constructor:function(c,t){q.extend(this,g(c,t));}});});};if(!jQuery.sap.isDeclared('sap.fe.core.internal.testableHelper')){jQuery.sap.declare('sap.fe.core.internal.testableHelper');sap.ui.define("sap/fe/core/internal/testableHelper",[],function(){"use strict";var t=0;var p;var s={};var c=0;var S={};var C=[];function a(d){return function(I){if(t>=0){return null;}var l=d.log||[];for(var i=0;i<l.length;i++){var L=l[i];if(L.me===I){return L.args;}}};}function r(d){delete d.replace;delete d.observer;if(d.log){if(d.isStatic){var n=[];for(var i=0;i<d.log.length;i++){var l=d.log[i];if(l.testMode===0){n.push(l);}}if(n.length>0){d.log=n;}else{delete d.log;}}else{delete d.log;}}}function b(){C.forEach(r);}function o(f,d){var e;for(var i=0;i<C.length;i++){e=C[i];if(e.fnConstructor===f){e.isStatic=e.isStatic||d;return e;}}e={fnConstructor:f,isStatic:d};e.observable=function(){var g=e.replace?e.observer:f;var R=Object.create(g.prototype);R=g.apply(R,arguments)||R;if(t<0||(t===0&&e.isStatic)){var l={me:R,args:arguments,testMode:t};e.log=e.log||[];e.log.push(l);if(e.observer&&!e.replace){e.observer(R,arguments);}}return R;};C.push(e);return e;}return{startTest:function(){if(t!==0){return null;}t=-1;p={};return p;},endTest:function(){if(t<0){t=0;p=null;b();}},startApp:function(){if(t<0){return{};}t++;c++;var R={id:c};s[c]=R;return R;},endApp:function(A){if(t>0){var i=A.id;if(A===s[i]){t--;delete s[i];}}},testable:function(f,n){if(t===-1){p[n]=f;return function(){return p[n].apply(null,arguments);};}return f;},testableStatic:function(f,n){if(t>0||(t===0&&S[n])){return f;}S[n]=S[n]||f;return function(){return S[n].apply(null,arguments);};},getStaticStub:function(){return t===-1&&S;},observableConstructor:function(f,d){if(t>0){return f;}return o(f,d).observable;},observeConstructor:function(f,O,R){if(t>=0){return null;}var d=o(f);if(O&&d.observer){throw new Error("Constructor is already observed");}d.observer=O;d.replace=O&&R;return a(d);}};});};if(!jQuery.sap.isDeclared('sap.fe.library')){
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
jQuery.sap.declare('sap.fe.library');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/fe/library",["jquery.sap.global","sap/ui/core/library"],function(q,l){"use strict";sap.ui.getCore().initLibrary({name:"sap.fe",dependencies:["sap.ui.core"],types:[],interfaces:[],controls:[],elements:[],extensions:{flChangeHandlers:{"sap.fe.Table":"sap/fe/controls/_Table/Table"}},version:"1.50.2"});sap.ui.require(['sap/ui/core/XMLComposite','sap/ui/core/util/XMLPreprocessor'],function(X,a){a.plugIn(function(n,v){v.visitAttributes(n);X.initialTemplating(n,v,"sap.fe.Table");},"sap.fe","Table");a.plugIn(function(n,v){v.visitAttributes(n);X.initialTemplating(n,v,"sap.fe.FilterBar");},"sap.fe","FilterBar");});return sap.fe;},false);};if(!jQuery.sap.isDeclared('sap.fe.model.DraftModel')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
jQuery.sap.declare('sap.fe.model.DraftModel');jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require('sap.ui.model.odata.v4.ODataListBinding');jQuery.sap.require('sap.ui.model.odata.v4.Context');jQuery.sap.require('sap.ui.model.Filter');jQuery.sap.require('sap.ui.base.ManagedObject');jQuery.sap.require('sap.ui.model.ChangeReason');jQuery.sap.require('sap.ui.model.resource.ResourceModel');sap.ui.define("sap/fe/model/DraftModel",["sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/Context","sap/ui/model/Filter","sap/ui/base/ManagedObject","sap/ui/model/ChangeReason","sap/ui/model/resource/ResourceModel","sap/fe/core/internal/testableHelper"],function(J,O,C,F,M,a,R,t){"use strict";var b="_$DraftModel";var A=false;var c=/( and )?\(*IsActiveEntity eq.*$/g;var p={};t.testableStatic(function(){A=true;},"addPrivateDataToModel");function s(w,K,x){var y=typeof w==="string"?w:w.getId(),P=p[y]=p[y]||{};P[K]=x;if(A&&!w[b]){w[b]=P;}}function g(w,K){var x=typeof w==="string"?w:w.getId();return p[x]&&p[x][K];}var E={ALL:"0",UNCHANGED:"1",OWN_DRAFT:"2",LOCKED:"3",UNSAVED_CHANGES:"4"};t.testableStatic(E,"EDITSTATE");function d(w){var x="";switch(w){case E.UNCHANGED:x="(IsActiveEntity eq true and HasDraftEntity eq false)";break;case E.OWN_DRAFT:x="(IsActiveEntity eq false)";break;case E.LOCKED:x="(IsActiveEntity eq true and SiblingEntity/IsActiveEntity eq null and DraftAdministrativeData/InProcessByUser ne '')";break;case E.UNSAVED_CHANGES:x="(IsActiveEntity eq true and SiblingEntity/IsActiveEntity eq null and DraftAdministrativeData/InProcessByUser eq '')";break;default:x="(IsActiveEntity eq false or SiblingEntity/IsActiveEntity eq null)";break;}return x;}t.testableStatic(d,"getFilterForEditState");function e(w){var x=w.getMetaModel(),y=g(w,"aEntitySets"),z=y?Promise.resolve(y):x&&x.requestObject("/").then(function(B){var P=[];Object.keys(B).forEach(function(G){var H=B[G],I;if(H.$kind==="EntitySet"){I=x.requestObject("/"+G+"@");P.push(I.then(function(K){var L={};L["@"]=K;L["@sapui.name"]=G;return L;}));}});return Promise.all(P);});return z;}function f(w,x){var y=w.getModel();return y.bindContext(x+"(...)",w);}function h(){if(!this.getProperty("IsActiveEntity")){var w=f(this,arguments[0]);return w.execute().then(function(){return w;});}else{throw new Error("The activation action cannot be executed on an active document");}}function i(w){if(!this.getProperty("IsActiveEntity")){var x=f(this,arguments[0]);w=arguments[1];if(typeof w==="undefined"){w="";}x.setParameter("SideEffectsQualifier",w);return x.execute().then(function(){return x;});}else{throw new Error("The preparation action cannot be executed on an active document");}}function j(){if(!this.getProperty("IsActiveEntity")){var w=f(this,arguments[0]);return w.execute().then(function(){return w;});}else{throw new Error("The validation function cannot be executed on an active document");}}function k(w){if(this.getProperty("IsActiveEntity")){var x=f(this,arguments[0]);w=arguments[1];x.setParameter("PreserveChanges",w);return x.execute().then(function(){return x;});}else{throw new Error("The edit action cannot be executed on a draft document");}}var o={"ActivationAction":h,"PreparationAction":i,"ValidationFunction":j,"EditAction":k};function l(w,x){var y=x["@"]["@com.sap.vocabularies.Common.v1.DraftRoot"];Object.keys(y).forEach(function(z){var B=y[z];w["executeDraft"+z]=o[z].bind(w,B);});}function m(w){return e(w).then(function(x){var y=x.filter(function(B){var G=B["@"]||{};return G.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftRoot")||G.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftNode");}),z=Array.isArray(y)&&y.length>0;if(z){s(w,"aEntitySets",x);s(w,"aDraftEntitySets",y);}return z;});}function n(w,x){var y=d(w,"");if(x){x="("+x+") and "+y;}else{x=y;}return x;}function _(w){var x={},L={},y=-1,z=sap.ui.getCore().getLibraryResourceBundle("sap.fe"),B={"editStates":[{id:E.ALL,name:z.getText("SAPFE_DRAFT_ALL_FILTER")},{id:E.UNCHANGED,name:z.getText("SAPFE_DRAFT_UNCHANGED_FILTER")},{id:E.OWN_DRAFT,name:z.getText("SAPFE_DRAFT_OWN_DRAFT_FILTER")},{id:E.LOCKED,name:z.getText("SAPFE_DRAFT_LOCKED_FILTER")},{id:E.UNSAVED_CHANGES,name:z.getText("SAPFE_DRAFT_UNSAVED_CHANGES_FILTER")}],"entitySets":{}},I,G=g(w,"aDraftEntitySets");s(w,"mListBindings",L);t.testableStatic(function(w){return g(w,"mListBindings");},"getOverwrittenListBindings");G.forEach(function(H){B.entitySets[H["@sapui.name"]]={editState:"0"};});I=new J(B);s(w,"oDraftAccessModel",I);w.getDraftAccessModel=r;I.attachPropertyChange(function(H){var P=H.getParameters(),K=P&&(P.path.indexOf("/entitySets")===0?P.path.split("/")[2]:false);if(K){K="/"+K;Object.keys(L).forEach(function(N){var Q=L[N],S=Q.mParameters,T="",U="",V=[];if(Q instanceof O&&Q.getPath()===K){T=S["$filter"];if(T){V=T.match(c);if(Array.isArray(V)&&V[0]){U=V[0];T=T.replace(U,"");T=T.substr(1).slice(0,-1);}}S["$filter"]=n(P.value,T);Q.applyParameters(S);Q.reset(sap.ui.model.ChangeReason.Change);}});}});x.bindList=w.bindList;w.bindList=function(P,H,S,K,N){var Q=I.getObject("/entitySets"+P),T,U;if(Q){var V="";N=N||{};V=N.$expand;if(V){if(V.indexOf("DraftAdministrativeData")<0){V+=",DraftAdministrativeData";}}else{V="DraftAdministrativeData";}N.$expand=V;N.$filter=n(Q.editState,N.$filter);}arguments[4]=N;T=x.bindList.apply(this,arguments);if(Q){U=T.changeParameters;T.changeParameters=function(N){var Q=I.getObject("/entitySets"+P);N.$filter=n(Q.editState,N.$filter);return U.call(this,N);};L[++y]=T;T.destroy=(function(W){return function(){delete L[W];return O.prototype.destroy.apply(this,arguments);};})(y);}return T;};x.create=C.create;C.create=function(w,H,P,K,N){var Q=x.create.apply(null,arguments),S=false;if(g(w,"bUpgraded")&&P){G.forEach(function(T){var U=!S&&P.indexOf(T["@sapui.name"])===1;if(U){S=true;l(Q,T);}});}return Q;};x.modelDestroy=w.destroy;w.destroy=function(){delete p[this.getId()];return x.modelDestroy.apply(this,arguments);};s(w,"bUpgraded",true);}function u(w){return m(w).then(function(x){if(x){_(w);}else{throw new Error("The model is not draft enabled");}});}function q(w){return m(w).then(function(x){if(x){_(w);}return x;});}function r(){return g(this,"oDraftAccessModel");}var v={};var D={upgrade:u,upgradeOnDemand:q,isDraftModel:m,EDITSTATE:E};return D;},true);};if(!jQuery.sap.isDeclared('sap.fe.templates.ListReport.controller.ControllerImplementation')){jQuery.sap.declare('sap.fe.templates.ListReport.controller.ControllerImplementation');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.mdc.ConditionModel');sap.ui.define("sap/fe/templates/ListReport/controller/ControllerImplementation",["jquery.sap.global","sap/ui/mdc/ConditionModel"],function(q,C){"use strict";return{getMethods:function(v,t,c){var T,f;function a(){var F=f.getAppState();if(!F){return;}var o={filterBar:F};t.setAppStateContainer(o);}function A(o){if(!o){o=t.getAppStateContainer();}if(o){f.setAppState(o.filterBar);}}function s(){var g=q.sap.getObject("sap.ushell.Container.getUser");var S={bookmarkTitle:document.title,bookmarkCustomUrl:function(){var h=hasher.getHash();return h?("#"+h):window.location.href;},isShareInJamActive:!!g&&g().isJamActive()};var o=c.getOwnerComponent().getModel("_templPriv");o.setProperty("/listReport/share",S);}return{onInit:function(){T=c.byId("template::Table");f=c.getView().byId("template::FilterBar");f.setEnabled(false);s();var F=new q.Deferred();var o=new q.Deferred();var b=function(){F.resolve();f.detachModelContextChange(b);};f.attachModelContextChange(b);var d=function(){o.resolve();T.detachModelContextChange(d);};T.attachModelContextChange(d);Promise.all([F,o]).then(function(){var l=T.getListBinding();var e=C.getFor(l);c.getView().setModel(e,"sap.fe.cm");t.getAppStateLoaded().then(function(){var g=t.getAppStateContainer();if(g){A(g);}t.attachAppStateChanged(A);f.setEnabled(true);});});},handlers:{onSearch:function(){if(this.getView().byId("template::FilterBar").getLiveUpdate()===false){a();}},onFilterBarChange:function(){if(this.getView().byId("template::FilterBar").getLiveUpdate()){a();}},onItemPress:function(e){var m=c.getOwnerComponent().getAppComponent().getMetadata().getManifest();var E=c.getOwnerComponent().getEntitySet();var o=m["sap.fe"].entitySets[E];var O=o.entry.default.outbound;if(m["sap.app"]&&m["sap.app"].crossNavigation&&m["sap.app"].crossNavigation.outbounds&&m["sap.app"].crossNavigation.outbounds[O]){var d=m["sap.app"].crossNavigation.outbounds[O];var p={};if(d.parameters){var b=e.getParameters().listItem.getBindingContext();for(var P in d.parameters){if(d.parameters[P].value.format==="binding"){p[P]=b.getProperty(d.parameters[P].value.value);}}}var g=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");g&&g.toExternal({target:{semanticObject:d.semanticObject,action:d.action},params:p});}},callAction:function(e){t.getActionController().callAction(e);},showError:function(e){var S=e.getParameters();var E=S.getParameter("error");t.getMessageUtils().handleRequestFailed(E);},onShareListReportActionButtonPress:function(e){var l=c.getView().getModel("sap.fe.i18n").getResourceBundle();if(!this._oShareActionButton){this._oShareActionButton=sap.ui.xmlfragment("sap.fe.templates.listReport.view.fragments.ShareSheet",{shareEmailPressed:function(){sap.m.URLHelper.triggerEmail(null,l.getText("SAPFE_EMAIL_SUBJECT",[document.title]),document.URL);},shareJamPressed:function(){}});this.getView().addDependent(this._oShareActionButton);}this._oShareActionButton.openBy(e.getSource());}},formatters:{},extensionAPI:null};}};});};if(!jQuery.sap.isDeclared('sap.fe.util.testableHelper')){jQuery.sap.declare('sap.fe.util.testableHelper');sap.ui.define("sap/fe/util/testableHelper",[],function(){"use strict";var t=0;var p;var s={};var c=0;var S={};var C=[];function a(d){return function(I){if(t>=0){return null;}var l=d.log||[];for(var i=0;i<l.length;i++){var L=l[i];if(L.me===I){return L.args;}}};}function r(d){delete d.replace;delete d.observer;if(d.log){if(d.isStatic){var n=[];for(var i=0;i<d.log.length;i++){var l=d.log[i];if(l.testMode===0){n.push(l);}}if(n.length>0){d.log=n;}else{delete d.log;}}else{delete d.log;}}}function b(){C.forEach(r);}function o(f,d){var e;for(var i=0;i<C.length;i++){e=C[i];if(e.fnConstructor===f){e.isStatic=e.isStatic||d;return e;}}e={fnConstructor:f,isStatic:d};e.observable=function(){var g=e.replace?e.observer:f;var R=Object.create(g.prototype);R=g.apply(R,arguments)||R;if(t<0||(t===0&&e.isStatic)){var l={me:R,args:arguments,testMode:t};e.log=e.log||[];e.log.push(l);if(e.observer&&!e.replace){e.observer(R,arguments);}}return R;};C.push(e);return e;}return{startTest:function(){if(t!==0){return null;}t=-1;p={};return p;},endTest:function(){if(t<0){t=0;p=null;b();}},startApp:function(){if(t<0){return{};}t++;c++;var R={id:c};s[c]=R;return R;},endApp:function(A){if(t>0){var i=A.id;if(A===s[i]){t--;delete s[i];}}},testable:function(f,n){if(t===-1){p[n]=f;return function(){return p[n].apply(null,arguments);};}return f;},testableStatic:function(f,n){if(t>0||(t===0&&S[n])){return f;}S[n]=S[n]||f;return function(){return S[n].apply(null,arguments);};},getStaticStub:function(){return t===-1&&S;},observableConstructor:function(f,d){if(t>0){return f;}return o(f,d).observable;},observeConstructor:function(f,O,R){if(t>=0){return null;}var d=o(f);if(O&&d.observer){throw new Error("Constructor is already observed");}d.observer=O;d.replace=O&&R;return a(d);}};});};if(!jQuery.sap.isDeclared('sap.fe.FilterBar')){jQuery.sap.declare('sap.fe.FilterBar');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.XMLComposite');jQuery.sap.require('sap.ui.base.ManagedObject');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.model.odata.v4.AnnotationHelper');sap.ui.define("sap/fe/FilterBar",['jquery.sap.global','sap/ui/core/XMLComposite','sap/ui/base/ManagedObject','sap/ui/Device','sap/fe/controls/_FilterBar/FilterBarController','sap/ui/model/odata/v4/AnnotationHelper','sap/fe/controls/_FilterBar/FilterBarAnnotationHelper'],function(q,X,M,D,F){"use strict";var a=X.extend("sap.fe.FilterBar",{metadata:{designTime:true,properties:{entitySetContext:{type:"any",invalidate:"template"},liveUpdate:{type:"boolean",defaultValue:!D.system.phone,invalidate:"template"},searchOnStart:{type:"boolean",defaultValue:true,invalidate:"template"},filterSummary:{type:"string",defaultValue:"",invalidate:false},enabled:{type:"boolean",defaultValue:true,invalidate:false},conditionModelName:{type:"string",invalidate:false}},events:{search:{},change:{}},aggregations:{},publicMethods:[]},alias:"this",fragment:"sap.fe.controls._FilterBar.FilterBar"});var i=function(){var c=this.oFilterBarController.getConditionModel();this.oFilterBarController.createSuggestProviders();if(!this.bInitialized&&c){this.bInitialized=true;if(this.getSearchOnStart()&&this.getEnabled()){this._bIsReady=true;this.fireSearch();}var C=c.bindProperty("/",c.getContext("/"));C.attachChange(this.handleChange.bind(this));if(!this.getEnabled()){this.getInnerFilterBar().setBusy(true);}this.detachModelContextChange(i);}};a.prototype.onAfterRendering=function(){var s=this.oFilterBarController.getSearchControl();if(s){s.attachBrowserEvent("blur",function(e){});}};a.prototype.init=function(){this._bIsReady=false;this.oFilterBarController=new F(this);this.attachModelContextChange(i);};a.prototype.getInnerFilterBar=function(){return this.get_content();};a.prototype.handleChange=function(){if(this.getLiveUpdate()&&this.getEnabled()){this.fireSearch();this.oFilterBarController.setFilterSummary();this.fireChange();}};a.prototype.handleSearch=function(e){this.fireSearch();this.oFilterBarController.setFilterSummary();this.fireChange();};a.prototype.handleSearchChange=function(e){var t=this,s;if(t._iSearchCounter){t._iSearchCounter++;}else{t._iSearchCounter=1;}s=t._iSearchCounter;if(this.getLiveUpdate()){setTimeout(function(){if(s===t._iSearchCounter){t.fireSearch();t.oFilterBarController.setFilterSummary();t.fireChange();delete t._iSearchCounter;}},400);}};a.prototype.isReady=function(){return this._bIsReady;};a.prototype.handleGo=function(){this._bIsReady=true;this.fireSearch();this.oFilterBarController.setFilterSummary();this.fireChange();};a.prototype.handleSuggest=function(e){this.oFilterBarController.handleSuggest(e);};a.prototype.handleValueHelpRequest=function(e){this.oFilterBarController.handleValueHelpRequest(e);};a.prototype.createFixedValueList=function(e){this.oFilterBarController.createFixedValueList(e);};a.prototype.setEnabled=function(e){this.getInnerFilterBar().setBusy(!e);this.setProperty("enabled",e);if(e){if(this.bInitialized&&this.getSearchOnStart()){this._bIsReady=true;this.fireSearch();}}};a.prototype.onBeforeRendering=function(){this.oFilterBarController.setFilterSummary();};a.prototype.getQueryParameters=function(e){return this.oFilterBarController.getQueryParameters(e);};a.prototype.getAppState=function(){return this.oFilterBarController.getAppState();};a.prototype.setAppState=function(A){this.oFilterBarController.setAppState(A||{});if(!this.getLiveUpdate()){this.handleGo();}};return a;},true);};if(!jQuery.sap.isDeclared('sap.fe.controls._Table.TableController')){jQuery.sap.declare('sap.fe.controls._Table.TableController');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require('sap.ui.model.Sorter');sap.ui.define("sap/fe/controls/_Table/TableController",["jquery.sap.global","sap/ui/base/Object","sap/fe/core/CommonUtils","sap/fe/Action","sap/ui/model/json/JSONModel","sap/ui/model/Sorter"],function(q,B,C,A,J,S){"use strict";var T=B.extend("sap.fe.controls._Table.TableController",{constructor:function(t){B.apply(this,arguments);this.oTable=t;this.oInnerTable=t.getInnerTable();}});T.prototype.attachToFilterBar=function(){var Q,t=this;var e;if(this.oTable.getFilterBarId()){var v=C.getParentViewOfControl(this.oTable);var f=v.byId(this.oTable.getFilterBarId());f.attachSearch(function(){var Q;Q=f.getQueryParameters(e);t.updateQueryParameters(Q);});if(f.isReady()){Q=f.getQueryParameters(e);t.updateQueryParameters(Q);}}};T.prototype.updateQueryParameters=function(Q){var t=this.oTable;var c;var l=t.getListBinding();if(Q){c=Q.conditionModel;}var f=function(){var F=true;if(!l){l=t.getListBinding();}if(c){F=c.applyFilters();}if(F){if(Q){delete Q.conditionModel;l.changeParameters(Q);}}t.getInnerTable().setShowOverlay(!F);};var m=function(){f();t.detachModelContextChange(m);};if(l){f();}else{t.attachModelContextChange(m);}};T.prototype.handleDataRequested=function(e){this.oInnerTable.setBusy(true);};T.prototype.handleCallAction=function(e){var a=e.getParameters();var o=e.getSource();a.mode=o.getMode();if(a.mode==='Inline'){a.contexts=[o.getBindingContext()];}else{a.contexts=this.oTable.getSelectedContexts();}a.setBusy=true;a.checkBusy=true;this.oTable.fireCallAction(a);};T.prototype.getToolbarActions=function(t){var a=[];for(var i=0;i<t.length;i++){if(t[i]instanceof A){a.push(t[i]);}}return a;};T.prototype.enableDisableActionsUtil=function(s,t){var f,a,o;if(s!=null){for(var i=0;i<t.length;i++){o=t[i];f=o.getMultiplicityFrom();a=o.getMultiplicityTo();if((!f||(s>=f)&&(!a||s<=a))){o.setEnabled(true);}else{o.setEnabled(false);}}}};T.prototype.bindTableCountUtil=function(t){if(t!=null){t.setModel(this.oInnerTable.getModel(),"headerContext");}var b=this.oTable.getListBinding();if(b){t.setBindingContext(b.getHeaderContext(),"headerContext");}};T.prototype.createAndOpenViewSettingsDialog=function(v,s,c,d){if(this.oViewSettingsPropertyModel==null&&this.oViewSettingsPropertyModel==undefined){var a=this.oInnerTable.getModel("sap.fe.i18n").getResourceBundle().getText("SAPFE_VIEWSETTINGS_COLUMN_SELECTALL",[s,c]);v["selectAllText"]=a;v["sortDesecending"]=false;v["groupDescending"]=false;this.oViewSettingsPropertyModel=new J(v);}var V=new sap.ui.view("viewSettingsXMLView",{viewName:"sap.fe.controls._ViewSettings.ViewSettings",type:"XML",async:true,preprocessors:{xml:{bindingContexts:{propertiesModel:this.oViewSettingsPropertyModel.createBindingContext("/"),dialogProperties:d.createBindingContext("/")},models:{propertiesModel:this.oViewSettingsPropertyModel,dialogProperties:d}}}});V.setModel(this.oViewSettingsPropertyModel);this.oTable.addDependent(V);V.loaded().then(function(){var b=(d.getData().InitialVisiblePanel==="columns")?"viewSettingsXMLView--columns":d.getData().InitialVisiblePanel;var o=V.getController();o.oTableController=this;V.byId("viewSettingsDialog").open(b);}.bind(this));};T.prototype.createAndOpenP13nSettingsDialog=function(p,d){if(this.oP13nSettingsPropertyModel==null&&this.oP13nSettingsPropertyModel==undefined){p["p13nSortItems"]=[];p["p13nGroupItems"]=[];this.oP13nSettingsPropertyModel=new J(p);}var P=new sap.ui.view("p13nSettingsXMLView",{viewName:"sap.fe.controls._P13nSettings.P13nSettings",type:"XML",async:true,preprocessors:{xml:{bindingContexts:{propertiesModel:this.oP13nSettingsPropertyModel.createBindingContext("/"),dialogProperties:d.createBindingContext("/")},models:{propertiesModel:this.oP13nSettingsPropertyModel,dialogProperties:d}}}});P.setModel(this.oP13nSettingsPropertyModel);this.oTable.addDependent(P);P.loaded().then(function(){var c=P.getController();c.oTableController=this;P.byId("p13nDialog").open();}.bind(this));};T.prototype.onStandardActionClick=function(e){var a=e.getSource().getText(),i=this.oInnerTable.getModel().getMetaModel(),E=i.getObject("/"+this.oTable.getEntitySet()+"/"),b=false,t=this.oInnerTable.getColumns(),c=t.length,d=[],s=0,f=[],g=[],h=[],j=this.oTable.getSettingsDialogType(),k=this.oInnerTable.getModel().getMetaModel().getMetaContext(this.oTable.getContext()).getObject();for(var l=0;l<c;l++){var o=t[l];var m=o.getId().split("::");d.push(m[m.length-1]);}for(var p in E){if(typeof(E[p])=="object"&&E[p].$kind&&E[p].$kind==="Property"){var _=i.getObject("/"+this.oTable.getEntitySet()+"/"+p+"@com.sap.vocabularies.Common.v1.Label");s=(d.indexOf(p)>-1)?s+1:s;var I={"name":(_!=null&&_!=undefined)?_:p,"columnKey":p,"selected":false};f.push(JSON.parse(JSON.stringify(I)));g.push(JSON.parse(JSON.stringify(I)));var n=JSON.parse(JSON.stringify(I));n.selected=!!(d.indexOf(p)>-1);h.push(n);}}for(var r in k){if(typeof(k[r])=="object"&&k[r].$Type&&k[r].$Type=="com.sap.vocabularies.UI.v1.DataFieldForAction"){s=(d.indexOf(k[r].Action)>-1)?s+1:s;var u={"name":(k[r].Label)?k[r].Label:k[r].Action,"columnKey":k[r].Action,"selected":false};u.selected=!!(d.indexOf(k[r].Action)>-1);h.push(u);}}var P={"sortPanelItems":f,"groupPanelItems":g,"columnPanelItems":h.sort(function(x,y){if(x.selected===y.selected){return 0;}else if(x.selected){return-1;}else{return 1;}})};var D=new J({"InitialVisiblePanel":a,"showSortPanel":!!(b||a==="sort"),"showGroupPanel":!!((b||a==="group")&&(this.oInnerTable.getMetadata().getName()==="sap.m.Table")),"showColumnPanel":!!(b||a==="column")});if(j==="P13nDialog"){this.createAndOpenP13nSettingsDialog(P,D);}else{this.createAndOpenViewSettingsDialog(P,s,h.length,D);}};T.prototype.applyGroupAndSort=function(s){if(s.length>0){var b=this.getListBinding();b.sort(s);this.updateQueryParameters();}};return T;});};if(!jQuery.sap.isDeclared('sap.fe.core.BusyHelper')){jQuery.sap.declare('sap.fe.core.BusyHelper');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.Object');sap.ui.define("sap/fe/core/BusyHelper",["jquery.sap.global","sap/ui/base/Object","sap/fe/core/internal/testableHelper"],function(q,B,t){"use strict";function g(T){var b={};var i=false;var a=false;var c=0;var d=T.oNavContainer.getBusyIndicatorDelay();var u=Promise.resolve();var U=q.noop;function e(){return c!==0||!q.isEmptyObject(b);}var A;function f(I){var k=e();if(k||I){a=false;T.oNavContainer.setBusy(k);if(k!==i){i=k;if(!i){T.oNavContainer.setBusyIndicatorDelay(d);U();}}}else{A();}}A=f.bind(null,true);function E(I){if(I){T.oNavContainer.setBusyIndicatorDelay(0);f();}else if(!a){a=true;setTimeout(f,0);}}function h(){c--;if(!c){E(false);}}function m(){if(i){return;}i=true;u=new Promise(function(r){U=r;});}function s(r,I,k){if(I){m();b[r]=true;}else{delete b[r];}E(k);}function j(o,I){c++;m();o.then(h,h);E(I);}return{setBusyReason:s,setBusy:j,isBusy:e,getUnbusy:function(){return u;}};}return B.extend("sap.fe.core.BusyHelper",{constructor:function(T){q.extend(this,(t.testableStatic(g,"BusyHelper"))(T));}});});};if(!jQuery.sap.isDeclared('sap.fe.core.TemplateAssembler')){jQuery.sap.declare('sap.fe.core.TemplateAssembler');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.mvc.Controller');jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require('sap.ui.model.resource.ResourceModel');sap.ui.define("sap/fe/core/TemplateAssembler",["jquery.sap.global","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","sap/fe/core/TemplateComponent","sap/fe/core/internal/testableHelper","sap/fe/core/TemplateUtils"],function(q,C,J,R,T,t,a){"use strict";var A={};var c={};var r=function(o){var s=o.appComponent.getId();A[s]=o;return function(){delete A[s];};};function g(o){var s=o.getId();var e=A[s];return e;}function b(o){return g(o.getAppComponent()).oTemplateContract.componentRegistry[o.getId()];}function d(e,s,o,f,h){o=o||{};o.constructor=function(){C.prototype.constructor.apply(this,arguments);var m=e(f,this);this._templateEventHandlers=Object.freeze(m.handlers||{});this._templateFormatters=Object.freeze(m.formatters||{});this.extensionAPI=Object.freeze(m.extensionAPI||{});this.fnGenericOnInit=function(i){var v=i.getView();var V=v.getId();q.sap.log.info("Init view "+V+" of template "+s);var j=i.getOwnerComponent();var k=b(j);k.oControllerRegistryEntry={onExit:m.onExit||q.noop,oTemplateUtils:f,oAppRegistryEntry:h};c[V]=k.oControllerRegistryEntry;(m.onInit||q.noop)();k.oController=this;k.fnViewRegisteredResolve();delete k.fnViewRegisteredResolve;};};o.onInit=function(){this.fnGenericOnInit(this);delete this.fnGenericOnInit;};o.onExit=function(){var v=this.getView().getId();var i=c[v];i.onExit();delete c[v];q.sap.log.info("View "+v+" of template "+s+" exited");};return C.extend(s,o);}function G(o){var e=o.methods.oControllerSpecification;return e&&function(){var f=o.oComponent.getAppComponent();var h=g(f);return d(e.getMethods,o.oComponent.getTemplateName(),e.oControllerDefinition,o.oTemplateUtils,h);};}r=t.testableStatic(r,"TemplateComponent_RegisterAppComponent");return{getTemplateComponent:function(e,s,o){var f=s+".Component";o=o||{};o.init=function(){var h=this.getComponentData().registryEntry;h.viewRegistered=new Promise(function(i){h.fnViewRegisteredResolve=i;});h.oViewRenderedPromise=new Promise(function(i){h.fnViewRenderedResolve=i;});(T.prototype.init||q.noop).apply(this,arguments);h.componentName=f;h.oComponent=this;h.methods=e(this,h.oTemplateUtils)||{};(h.methods.init||q.noop)();};o.preTemplater=function(p){var h=b(this);if(h.methods.preTemplater){return h.methods.preTemplater(p,h.oTemplateUtils);}else{return Promise.resolve();}};o.preTemplaterReject=function(E){var h=b(this);h.fnViewRegisteredResolve();h.oTemplateUtils.getNavigationController().navigateToMessagePage({text:"Application could not be started due to technical issues.",description:E.message});};o.exit=function(){var i=this.getId();var h=b(this);var j=g(this.getAppComponent());var m=h.methods;(m.exit||q.noop)();delete j.oTemplateContract.componentRegistry[i];(T.prototype.exit||q.noop).apply(this,arguments);};o.onBeforeRendering=function(){var h=b(this);(T.prototype.onBeforeRendering||q.noop).bind(this,h).apply(this,arguments);var m=h.methods;(m.onBeforeRendering||q.noop)();};o.onAfterRendering=function(){var h=b(this);if(h.fnViewRenderedResolve&&!h.fnViewRegisteredResolve){h.fnViewRenderedResolve();delete h.fnViewRenderedResolve;}(T.prototype.onAfterRendering||q.noop).bind(this,h).apply(this,arguments);var m=h.methods;(m.onAftereRendering||q.noop)();};o.setContainer=function(){T.prototype.setContainer.apply(this,arguments);var i=this.getId();var h=this.getAppComponent();var j=g(h);if(!j.oTemplateContract.componentRegistry[i]){var k=this.getComponentData();var l=k.registryEntry;delete k.registryEntry;l.componentCreateResolve(this);delete l.componentCreateResolve;j.oTemplateContract.componentRegistry[i]=l;j.oTemplateContract.oBusyHelper.setBusy(l.viewRegistered,true);l.oTemplateUtils=new a(l,j.oTemplateContract);l.createViewController=G(l);(l.methods.setContainer||q.noop)();}};o.onActivate=q.noop;o.onDeactivate=q.noop;o.refreshBinding=q.noop;return T.extend(f,o);},getRegisterAppComponent:function(){var f=r;r=null;return f;}};});};if(!jQuery.sap.isDeclared('sap.fe.templates.ListReport.Component')){jQuery.sap.declare('sap.fe.templates.ListReport.Component');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/fe/templates/ListReport/Component",["jquery.sap.global","sap/fe/core/TemplateAssembler","sap/fe/templates/ListReport/controller/ControllerImplementation","sap/fe/core/AnnotationHelper"],function(q,T,C,A){"use strict";function g(c){var v={};return{oControllerSpecification:{getMethods:C.getMethods.bind(null,v),oControllerDefinition:{onBeforeRebindTableExtension:function(e){}}},init:function(){var t=c.getModel("_templPriv");t.setProperty("/listReport",{});},preTemplater:function(p,t){var P=p.oParameterModel;var m=P.getObject().metaModel;var e="/"+P.getObject().entitySet+"/";var s=m.getObject(e+"@com.sap.vocabularies.UI.v1.SelectionFields");var l=m.getObject(A.getLineItemPresentation(P).getPath());var o={};var a=[];var b={},d={};var L={},S={};var f,h,n;var i,j;function r(k){var y={},N;k=k.split("/").slice(0,-1).join("/");if(k.lastIndexOf("/")>0){y=r(k);}N=m.getObject(k);if(N.$kind==="NavigationProperty"&&N.$Type){y[N.$Type]=true;}return y;}function u(k){if(!b[k]){q.sap.log.debug("Requested: "+k,"PreTemplater");a.push(m.requestObject(k).then(function(y){var z;x(k);z=r(k);if(y.$kind==="NavigationProperty"&&y.$Type){z[y.$Type]=true;}return z;}));b[k]=true;}}function w(k){a.push(m.requestObject(k).then(function(y){if(y){if(y.Value&&y.Value.$Path&&y.Value.$Path.indexOf('/')>0){u(k+y.Value.$Path);}if(y.TargetValue&&y.TargetValue.$Path&&y.TargetValue.$Path.indexOf('/')>0){u(k+y.TargetValue.$Path);}if(y.fn&&y.fn.$Path&&y.fn.$Path.indexOf('/')>0){u(k+y.fn.$Path);}if(y.photo&&y.photo.$Path&&y.photo.$Path.indexOf('/')>0){u(k+y.photo.$Path);}if(y.role&&y.role.$Path&&y.role.$Path.indexOf('/')>0){u(k+y.role.$Path);}if(y.title&&y.title.$Path&&y.title.$Path.indexOf('/')>0){u(k+y.title.$Path);}if(y.org&&y.org.$Path&&y.org.$Path.indexOf('/')>0){u(k+y.org.$Path);}}return r(k);}));}function x(y){var z,B,D;var o;var k;if(!d[y]){z=m.getObject(y+"@");for(D in z){B=z[D];if(B.$Path&&B.$Path.indexOf('/')>0){u(e+B.$Path);}else if(B.$Apply&&B.$Function==="odata.concat"){for(k=0;k<B.$Apply.length;k++){o=B.$Apply[k];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}}d[y]=true;}}if(s){for(i=0;i<s.length;i++){S=s[i];if(S.$PropertyPath&&S.$PropertyPath.indexOf('/')>0){u(e+S.$PropertyPath);}}}if(l){for(i=0;i<l.length;i++){L=l[i];if(L.$Type==="com.sap.vocabularies.UI.v1.DataField"){if(L.Value.$Path&&L.Value.$Path.indexOf('/')>0){u(e+L.Value.$Path);}else if(L.Value.$Path){x(e+L.Value.$Path);}else if(L.Value.$Apply&&L.Value.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}if(L.Criticality){if(L.Criticality.$Path&&L.Criticality.$Path.indexOf('/')>0){u(e+L.Criticality.$Path);}if(L.CriticalityRepresentation&&L.CriticalityRepresentation.$Path&&L.CriticalityRepresentation.$Path.indexOf('/')>0){u(e+L.CriticalityRepresentationType.$Path);}}if(L.IconUrl&&L.IconUrl.$Path&&L.IconUrl.$Path.indexOf('/')>0){u(e+L.IconUrl.$Path);}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){if(L.SemanticObject.$Path&&L.SemanticObject.$Path.indexOf('/')>0){u(e+L.SemanticObject.$Path);}if(L.Action&&L.Action.$Path&&L.Action.$Path.indexOf('/')>0){u(e+L.Action.$Path);}if(L.Value.$Path&&L.Value.$Path.indexOf('/')>0){u(e+L.Value.$Path);}else if(L.Value.$Path){x(e+L.Value.$Path);}else if(L.Value.$Apply&&L.Value.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}if(L.Criticality){if(L.Criticality.$Path&&L.Criticality.$Path.indexOf('/')>0){u(e+L.Criticality.$Path);}if(L.CriticalityRepresentation&&L.CriticalityRepresentation.$Path&&L.CriticalityRepresentation.$Path.indexOf('/')>0){u(e+L.CriticalityRepresentationType.$Path);}}if(L.IconUrl&&L.IconUrl.$Path&&L.IconUrl.$Path.indexOf('/')>0){u(e+L.IconUrl.$Path);}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(L.Value.$Path&&L.Value.$Path.indexOf('/')>0){u(e+L.Value.$Path);}else if(L.Value.$Path){x(e+L.Value.$Path);}else if(L.Value.$Apply&&L.Value.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}if(L.Url.$Path&&L.Url.$Path.indexOf('/')>0){u(e+L.Url.$Path);}else if(L.Url.$Apply){f=L.Url.$Apply;if(L.Url.$Function==="odata.fillUriTemplate"){if(f[0].$Path&&f[0].$Path.indexOf('/')>0){u(e+f[0].$Path);}for(j=1;j<f.length;j++){h=f[j].$LabeledElement;if(h&&h.$Path&&h.$Path.indexOf('/')>0){u(e+h.$Path);}else if(h&&h.$Apply&&h.$Function==="odata.uriEncode"){n=h.$Apply[0];if(n.$Path&&n.$Path.indexOf('/')>0){u(e+n.$Path);}}}}else if(L.Url.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(L.SemanticObject.$Path&&L.SemanticObject.$Path.indexOf('/')>0){u(e+L.SemanticObject.$Path);}if(L.Action&&L.Action.$Path&&L.Action.$Path.indexOf('/')>0){u(e+L.Action.$Path);}if(L.RequiresContext&&L.RequiresContext.$Path&&L.RequiresContext.$Path.indexOf('/')>0){u(e+L.RequiresContext.$Path);}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(L.Target.$AnnotationPath&&L.Target.$AnnotationPath.indexOf('/')>0){w(e+L.Target.$AnnotationPath);}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}}}}return a;}};}return T.getTemplateComponent(g,"sap.fe.templates.ListReport",{metadata:{properties:{"templateName":{"type":"string","defaultValue":"sap.fe.templates.ListReport.view.ListReport"},"tableType":{"type":"string","defaultValue":"ResponsiveTable"},"settingsDialogType":{"type":"string","defaultValue":"ViewSettings"},"filterLiveUpdate":{"type":"boolean","defaultValue":"true"}},"manifest":"json"}});});};if(!jQuery.sap.isDeclared('sap.fe.AppComponent')){
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
jQuery.sap.declare('sap.fe.AppComponent');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.require('sap.m.NavContainer');jQuery.sap.require('sap.ui.core.ComponentContainer');sap.ui.define("sap/fe/AppComponent",["jquery.sap.global","sap/ui/core/UIComponent","sap/m/NavContainer","sap/fe/core/BusyHelper","sap/fe/core/TemplateAssembler","sap/ui/core/ComponentContainer","sap/fe/core/internal/testableHelper","./model/DraftModel","sap/fe/controller/NavigationController"],function(q,U,N,B,T,C,t,D,a){"use strict";var r=T.getRegisterAppComponent();var c=true;t.testableStatic(function(){c=false;},"suppressPageCreation");function g(A,o){var b;var d;var o={oAppComponent:A,componentRegistry:{},oBusyHelper:null,oMessageUtils:null,oActionController:null,oCommonUtils:null,aAppStateChangedListener:[],getNavigationController:function(){return new a(o);}};function f(i){var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe");return R.getText(i);}function h(e,b){var s='sap.fe.templates.'+b.template,S={entitySet:e,componentData:{preprocessorsData:{},registryEntry:{componentCreateResolve:q.noop,viewLevel:1}}};if(b.settings){q.extend(S,b.settings);}var p=null;A.runAsOwner(function(){p=new C({name:s,propagateModel:true,width:"100%",height:"100%",handleValidation:true,settings:S});});return p;}t.testable({createPageComponentContainer:h,appComponent:A},"templateTester");function j(){var b=k();var P,l,s,m,E,I;function w(){return o.getNavigationController().navigateToMessagePage({text:f("SAPFE_APPSTART_TECHNICAL_ISSUES"),description:f("SAPFE_APPSTART_WRONG_CONFIGURATION")});}if(!b||!b.entitySets||!b.navigation){return w();}for(var p in b.navigation){if(b.navigation[p].isStartPage){if(s){return w();}else{s=b.navigation[p];}}}if(!s||!s.target){return w();}m=s.target.split("/");if(m.length!==2){return w();}E=m[0];I=m[1];if(I!=="feed"){return w();}P=b.entitySets[E][I];if(!P||!P.default){return w();}l=P.default;if(!l.template){return w();}if(l.template!=='ListReport'){return w();}try{var n=h(E,l);o.oNavContainer.addPage(n);var R=A.getRouter();R.attachRoutePatternMatched(function(v){if(v.getParameters().name==="root"){o.oInnerAppStatePromise.resolve();if(o.oAppState){o.oAppState=null;o.oAppStateModel.setData({});for(var i=0;i<o.aAppStateChangedListener.length;i++){o.aAppStateChangedListener[i]();}}}else{var x=v.getParameters().arguments.iAppState;if(o.oAppState&&x===o.oAppState.getKey()){o.oInnerAppStatePromise.resolve();return;}sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(A,x).done(function(S){o.oAppState=S;u(o.oAppStateModel,S);o.oInnerAppStatePromise.resolve();for(var i=0;i<o.aAppStateChangedListener.length;i++){o.aAppStateChangedListener[i]();}});}});R.initialize();}catch(e){o.getNavigationController().navigateToMessagePage({text:f("SAPFE_APPSTART_TECHNICAL_ISSUES"),description:f("SAPFE_APPSTART_WRONG_CONFIGURATION")});}}function k(){if(!b){var m=A.getMetadata();b=m.getManifestEntry("sap.fe");}return b;}function u(e,i){var l=i.getData();if(l&&(JSON.stringify(l)!==JSON.stringify(e.getProperty("/")))&&e){e.setProperty("/",l);return true;}return false;}return{init:function(){var e={appComponent:A,oTemplateContract:o};var s=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.ShellUIService");o.oShellServicePromise=(s&&s.createInstance())||Promise.reject();o.oShellServicePromise.catch(function(){q.sap.log.warning("No ShellService available");});o.oInnerAppStatePromise=new q.Deferred();o.oAppStateModel=new sap.ui.model.json.JSONModel();(U.prototype.init||q.noop).apply(A,arguments);o.oBusyHelper.setBusy(o.oShellServicePromise);d=r(e);var m=A.getModel();if(m){D.isDraftModel(m).then(function(i){if(i){D.upgrade(m).then(function(){A.setModel(m.getDraftAccessModel(),"$draft");});}});m.getMetaModel().requestObject("/$EntityContainer/").catch(function(E){o.getNavigationController().navigateToMessagePage({text:f("SAPFE_APPSTART_TECHNICAL_ISSUES"),description:E.message});for(var i in o.componentRegistry){o.componentRegistry[i].fnViewRegisteredResolve();}});}o.oBusyHelper.setBusyReason("initAppComponent",false);},exit:function(){if(o.oNavContainer){o.oNavContainer.destroy();}d();},createContent:function(){if(o.oNavContainer){return"";}o.oNavContainer=new N({id:A.getId()+"-appContent"});o.oBusyHelper=new B(o);o.oBusyHelper.setBusyReason("initAppComponent",true,true);if(c){j();}return o.oNavContainer;}};}return U.extend("sap.fe.AppComponent",{metadata:{config:{fullWidth:true},events:{pageDataLoaded:{}},routing:{config:{},routes:[{pattern:"",name:"root"},{pattern:"?sap-iapp-state={iAppState}",name:"rootWithAppState"}],targets:[]},library:"sap.fe"},constructor:function(){var A=t.startApp();q.extend(this,g(this,A));(U.prototype.constructor||q.noop).apply(this,arguments);}});});};if(!jQuery.sap.isDeclared('sap.fe.controls._Table.GridTable.GridTableController')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
jQuery.sap.declare('sap.fe.controls._Table.GridTable.GridTableController');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/fe/controls/_Table/GridTable/GridTableController",["jquery.sap.global","sap/fe/controls/_Table/TableController"],function(q,T){"use strict";var G=T.extend("sap.fe.controls._Table.GridTable.GridTableController",{constructor:function(t){T.apply(this,arguments);this.oTable=t;}});G.prototype.setSelectionMode=function(){var t=this.getToolbarActions(this.oInnerTable.getExtension()[0].getContent());var m;var s='None';for(var i=0;i<t.length;i++){m=t[i].getMultiplicityTo();if(m>1||!m){s='MultiToggle';break;}else if(m===1){s='Single';}}this.oInnerTable.setSelectionMode(s);};G.prototype.enableDisableActions=function(){var t=this.getToolbarActions(this.oInnerTable.getExtension()[0].getContent());var s=this.oInnerTable.getSelectedIndices().length;this.enableDisableActionsUtil(s,t);};G.prototype.bindTableCount=function(){var t=this.oInnerTable.getExtension()[0].getContent()[0];this.bindTableCountUtil(t);};G.prototype.handleDataReceived=function(e){var E=e.getParameter("error");var r=this.oInnerTable.getModel("sap.fe.i18n").getResourceBundle();if(E){this.oInnerTable.setNoData(r.getText("SAPFE_NODATA_TEXT_FOR_TABLE_TECHINCAL_ERROR"));this.oTable.fireShowError(e);}else{this.oInnerTable.setNoData(r.getText("SAPFE_NODATA_TEXT_FOR_TABLE"));}if(this.oInnerTable.getVisibleRowCountMode()!="Auto"){this.oInnerTable.setVisibleRowCountMode("Auto");}this.oInnerTable.setBusy(false);};G.prototype.getListBinding=function(){return this.oInnerTable.getBinding("rows");};G.prototype.getListBindingInfo=function(){return this.oInnerTable.getBindingInfo("rows");};return G;});};if(!jQuery.sap.isDeclared('sap.fe.controls._Table.ResponsiveTable.ResponsiveTableController')){jQuery.sap.declare('sap.fe.controls._Table.ResponsiveTable.ResponsiveTableController');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/fe/controls/_Table/ResponsiveTable/ResponsiveTableController",["jquery.sap.global","sap/fe/controls/_Table/TableController"],function(q,T){"use strict";var R=T.extend("sap.fe.controls._Table.ResponsiveTable.ResponsiveTableController",{constructor:function(t){T.apply(this,arguments);this.oTable=t;}});R.prototype.setSelectionMode=function(){var t=this.getToolbarActions(this.oInnerTable.getHeaderToolbar().getContent());var m;var s='None';for(var i=0;i<t.length;i++){m=t[i].getMultiplicityTo();if(m>1||!m){s='MultiSelect';break;}else if(m===1){s='SingleSelectLeft';}}this.oInnerTable.setMode(s);};R.prototype.enableDisableActions=function(){var t=this.getToolbarActions(this.oInnerTable.getHeaderToolbar().getContent());var s=this.oInnerTable.getSelectedContexts().length;this.enableDisableActionsUtil(s,t);};R.prototype.bindTableCount=function(){var t=this.oInnerTable.getHeaderToolbar().getContent()[0];this.bindTableCountUtil(t);};R.prototype.handleDataReceived=function(e){var E=e.getParameter("error");var r=this.oInnerTable.getModel("sap.fe.i18n").getResourceBundle();if(E){this.oInnerTable.setNoDataText(r.getText("SAPFE_NODATA_TEXT_FOR_TABLE_TECHINCAL_ERROR"));this.oTable.fireShowError(e);}else{this.oInnerTable.setNoDataText(r.getText("SAPFE_NODATA_TEXT_FOR_TABLE"));}this.oInnerTable.setBusy(false);};R.prototype.getListBinding=function(){return this.oInnerTable.getBinding("items");};R.prototype.getListBindingInfo=function(){return this.oInnerTable.getBindingInfo("items");};return R;});};if(!jQuery.sap.isDeclared('sap.fe.Table')){jQuery.sap.declare('sap.fe.Table');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.XMLComposite');jQuery.sap.require('sap.ui.table.Table');jQuery.sap.require('sap.ui.model.odata.v4.AnnotationHelper');sap.ui.define("sap/fe/Table",['jquery.sap.global','sap/ui/core/XMLComposite','sap/fe/controls/_Table/GridTable/GridTableController','sap/fe/controls/_Table/ResponsiveTable/ResponsiveTableController','sap/fe/controls/_Field/FieldController','sap/ui/table/Table','sap/fe/core/AnnotationHelper','sap/fe/controls/_Table/TableAnnotationHelper','sap/fe/controls/_Field/FieldAnnotationHelper','sap/ui/model/odata/v4/AnnotationHelper'],function(q,X,G,R,F,a){"use strict";var T=X.extend("sap.fe.Table",{metadata:{designTime:true,properties:{context:{type:"any",invalidate:"template"},tableBindingPath:{type:"string",invalidate:"template"},type:{type:"string",defaultValue:"ResponsiveTable",invalidate:"template"},interactionType:{type:"string",defaultValue:"Inactive",invalidate:"template"},"settingsDialogType":{type:"string",defaultValue:"ViewSettings"},filterBarId:{type:"string",invalidate:false},enabled:{type:"boolean",defaultValue:true,invalidate:false}},events:{"itemPress":{},"callAction":{},"showError":{}},publicMethods:[]},alias:"this",fragment:"sap.fe.controls._Table.Table"});var i=function(){if(!this.bInitialized){this.oTableController.attachToFilterBar();this.oTableController.setSelectionMode();this.oTableController.enableDisableActions();this.oTableController.bindTableCount();this.bInitialized=true;this.detachModelContextChange(i);}};T.prototype.init=function(){var I=this.getInnerTable();if(I instanceof a){this.oTableController=new G(this);}else{this.oTableController=new R(this);}this.oFieldController=new F(null,this);this.attachModelContextChange(i);};T.prototype.getInnerTable=function(){return this.get_content();};T.prototype.handleDataRequested=function(e){this.oTableController.handleDataRequested(e);};T.prototype.handleDataReceived=function(e){this.oTableController.handleDataReceived(e);};T.prototype.handleSelectionChange=function(e){this.oTableController.enableDisableActions();};T.prototype.handleItemPress=function(e){this.fireItemPress({listItem:e.getParameter("listItem")});};T.prototype.handleCallAction=function(e){this.oTableController.handleCallAction(e);};T.prototype.getSelectedContexts=function(){var I=this.getInnerTable();var s=[];if(I instanceof a){var S=I.getSelectedIndices();for(var b in S){s.push(I.getContextByIndex(b));}}else{s=I.getSelectedContexts();}return s;};T.prototype.getEntitySet=function(){var l=this.getListBinding().getPath();return l.substr(1);};T.prototype.getListBinding=function(){return this.oTableController.getListBinding();};T.prototype.getListBindingInfo=function(){return this.oTableController.getListBindingInfo();};T.prototype.onContactDetails=function(e){this.oFieldController.onContactDetails(e);};T.prototype.onDraftLinkPressed=function(e){this.oFieldController.onDraftLinkPressed(e);};T.prototype.onDataFieldWithIntentBasedNavigationPressed=function(e){this.oFieldController.onDataFieldWithIntentBasedNavigationPressed(e);};T.prototype.onStandardActionClick=function(e){this.oTableController.onStandardActionClick(e);};return T;},true);};
