/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["jquery.sap.global","sap/fe/core/TemplateAssembler","sap/fe/templates/ListReport/controller/ControllerImplementation","sap/fe/core/AnnotationHelper"],function(q,T,C,A){"use strict";function g(c){var v={};return{oControllerSpecification:{getMethods:C.getMethods.bind(null,v),oControllerDefinition:{onBeforeRebindTableExtension:function(e){}}},init:function(){var t=c.getModel("_templPriv");t.setProperty("/listReport",{});},preTemplater:function(p,t){var P=p.oParameterModel;var m=P.getObject().metaModel;var e="/"+P.getObject().entitySet+"/";var s=m.getObject(e+"@com.sap.vocabularies.UI.v1.SelectionFields");var l=m.getObject(A.getLineItemPresentation(P).getPath());var o={};var a=[];var b={},d={};var L={},S={};var f,h,n;var i,j;function r(k){var y={},N;k=k.split("/").slice(0,-1).join("/");if(k.lastIndexOf("/")>0){y=r(k);}N=m.getObject(k);if(N.$kind==="NavigationProperty"&&N.$Type){y[N.$Type]=true;}return y;}function u(k){if(!b[k]){q.sap.log.debug("Requested: "+k,"PreTemplater");a.push(m.requestObject(k).then(function(y){var z;x(k);z=r(k);if(y.$kind==="NavigationProperty"&&y.$Type){z[y.$Type]=true;}return z;}));b[k]=true;}}function w(k){a.push(m.requestObject(k).then(function(y){if(y){if(y.Value&&y.Value.$Path&&y.Value.$Path.indexOf('/')>0){u(k+y.Value.$Path);}if(y.TargetValue&&y.TargetValue.$Path&&y.TargetValue.$Path.indexOf('/')>0){u(k+y.TargetValue.$Path);}if(y.fn&&y.fn.$Path&&y.fn.$Path.indexOf('/')>0){u(k+y.fn.$Path);}if(y.photo&&y.photo.$Path&&y.photo.$Path.indexOf('/')>0){u(k+y.photo.$Path);}if(y.role&&y.role.$Path&&y.role.$Path.indexOf('/')>0){u(k+y.role.$Path);}if(y.title&&y.title.$Path&&y.title.$Path.indexOf('/')>0){u(k+y.title.$Path);}if(y.org&&y.org.$Path&&y.org.$Path.indexOf('/')>0){u(k+y.org.$Path);}}return r(k);}));}function x(y){var z,B,D;var o;var k;if(!d[y]){z=m.getObject(y+"@");for(D in z){B=z[D];if(B.$Path&&B.$Path.indexOf('/')>0){u(e+B.$Path);}else if(B.$Apply&&B.$Function==="odata.concat"){for(k=0;k<B.$Apply.length;k++){o=B.$Apply[k];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}}d[y]=true;}}if(s){for(i=0;i<s.length;i++){S=s[i];if(S.$PropertyPath&&S.$PropertyPath.indexOf('/')>0){u(e+S.$PropertyPath);}}}if(l){for(i=0;i<l.length;i++){L=l[i];if(L.$Type==="com.sap.vocabularies.UI.v1.DataField"){if(L.Value.$Path&&L.Value.$Path.indexOf('/')>0){u(e+L.Value.$Path);}else if(L.Value.$Path){x(e+L.Value.$Path);}else if(L.Value.$Apply&&L.Value.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}if(L.Criticality){if(L.Criticality.$Path&&L.Criticality.$Path.indexOf('/')>0){u(e+L.Criticality.$Path);}if(L.CriticalityRepresentation&&L.CriticalityRepresentation.$Path&&L.CriticalityRepresentation.$Path.indexOf('/')>0){u(e+L.CriticalityRepresentationType.$Path);}}if(L.IconUrl&&L.IconUrl.$Path&&L.IconUrl.$Path.indexOf('/')>0){u(e+L.IconUrl.$Path);}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){if(L.SemanticObject.$Path&&L.SemanticObject.$Path.indexOf('/')>0){u(e+L.SemanticObject.$Path);}if(L.Action&&L.Action.$Path&&L.Action.$Path.indexOf('/')>0){u(e+L.Action.$Path);}if(L.Value.$Path&&L.Value.$Path.indexOf('/')>0){u(e+L.Value.$Path);}else if(L.Value.$Path){x(e+L.Value.$Path);}else if(L.Value.$Apply&&L.Value.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}if(L.Criticality){if(L.Criticality.$Path&&L.Criticality.$Path.indexOf('/')>0){u(e+L.Criticality.$Path);}if(L.CriticalityRepresentation&&L.CriticalityRepresentation.$Path&&L.CriticalityRepresentation.$Path.indexOf('/')>0){u(e+L.CriticalityRepresentationType.$Path);}}if(L.IconUrl&&L.IconUrl.$Path&&L.IconUrl.$Path.indexOf('/')>0){u(e+L.IconUrl.$Path);}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(L.Value.$Path&&L.Value.$Path.indexOf('/')>0){u(e+L.Value.$Path);}else if(L.Value.$Path){x(e+L.Value.$Path);}else if(L.Value.$Apply&&L.Value.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}if(L.Url.$Path&&L.Url.$Path.indexOf('/')>0){u(e+L.Url.$Path);}else if(L.Url.$Apply){f=L.Url.$Apply;if(L.Url.$Function==="odata.fillUriTemplate"){if(f[0].$Path&&f[0].$Path.indexOf('/')>0){u(e+f[0].$Path);}for(j=1;j<f.length;j++){h=f[j].$LabeledElement;if(h&&h.$Path&&h.$Path.indexOf('/')>0){u(e+h.$Path);}else if(h&&h.$Apply&&h.$Function==="odata.uriEncode"){n=h.$Apply[0];if(n.$Path&&n.$Path.indexOf('/')>0){u(e+n.$Path);}}}}else if(L.Url.$Function==="odata.concat"){for(j=0;j<L.Value.$Apply.length;j++){o=L.Value.$Apply[j];if(o&&o.$Path&&o.$Path.indexOf('/')>0){u(e+o.$Path);}}}}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(L.SemanticObject.$Path&&L.SemanticObject.$Path.indexOf('/')>0){u(e+L.SemanticObject.$Path);}if(L.Action&&L.Action.$Path&&L.Action.$Path.indexOf('/')>0){u(e+L.Action.$Path);}if(L.RequiresContext&&L.RequiresContext.$Path&&L.RequiresContext.$Path.indexOf('/')>0){u(e+L.RequiresContext.$Path);}}else if(L.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(L.Target.$AnnotationPath&&L.Target.$AnnotationPath.indexOf('/')>0){w(e+L.Target.$AnnotationPath);}if(L.Label&&L.Label.$Path&&L.Label.$Path.indexOf('/')>0){u(e+L.Label.$Path);}}}}return a;}};}return T.getTemplateComponent(g,"sap.fe.templates.ListReport",{metadata:{properties:{"templateName":{"type":"string","defaultValue":"sap.fe.templates.ListReport.view.ListReport"},"tableType":{"type":"string","defaultValue":"ResponsiveTable"},"settingsDialogType":{"type":"string","defaultValue":"ViewSettings"},"filterLiveUpdate":{"type":"boolean","defaultValue":"true"}},"manifest":"json"}});});
