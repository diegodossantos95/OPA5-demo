(function(){"use strict";jQuery.sap.require("sap.ovp.cards.AnnotationHelper");sap.ui.controller("sap.ovp.cards.quickview.Quickview",{onInit:function(){this.bCustomActionFlag=true;},onBeforeRendering:function(){var h=this.byId('ovpQuickviewCardHeader');if(h){var t=h.getText();var s=t.substring(0);if(t[0]===':'){s=t.substring(2);}else if(t[t.length-2]===':'){s=t.substring(0,t.length-2);}h.setText(s);var c=h.getCustomData();if(c){for(var i=0;i<c.length;++i){if(c[i].getProperty('key')==='aria-label'){c[i].setValue(s);}}}}},onAfterRendering:function(){jQuery(".sapMQuickViewPage").attr('tabindex','0');var c=this.getCardPropertiesModel();var s=c.getProperty("/showFirstActionInFooter")?c.getProperty("/showFirstActionInFooter"):false;var f=this.byId("ovpActionFooter");if(!s){if(f){var F=f.getContent();if(F&&F.length){for(var i=0;i<F.length;i++){if(F[i]instanceof sap.m.Button){F[i].setVisible(false);break;}}}}}if(!!this.bCustomActionFlag){var C=c.getProperty("/customActions");if(!!f&&!!C&&!!C.length){for(var j=0;j<C.length;j++){var t=C[j].text;var m=null;if(this.getOwnerComponent()&&this.getOwnerComponent().getComponentData()){m=this.getOwnerComponent().getComponentData().mainComponent;}if(!!m&&!!t&&!!C[j].press){var p=m.onCustomActionPress(C[j].press);if(typeof p==="function"){var b=new sap.m.Button({text:t,press:p,type:"Transparent"});var a=c.getProperty("/showFirstActionInFooter");var S=(a)?0:1;var P=C[j].position+S;var l=f.getContent().length;if(P<(1+S)&&P>(l-1)){f.addContent(b);}else{f.insertContent(b,P);}}}}}this.bCustomActionFlag=false;}}});})();
