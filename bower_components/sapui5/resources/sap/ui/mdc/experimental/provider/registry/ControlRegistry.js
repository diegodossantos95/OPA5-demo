sap.ui.define(["./Utils","/sap/ui/mdc/experimental/provider/ControlProvider","sap/ui/mdc/experimental/provider/model/ModelAdapterFactory"],function(U,C,A){"use strict";var a={ControlProvider:C,Utils:U,AdapterFactory:A};a.getTemplateNodes=function(){return Object.keys(a._mTemplatingFunctions);};a.getProviderFunction=function(c){var n="";if(typeof c==='string'){n=c;}else{n=c.getMetadata().getName();}var p=a._mProviderFunctions[n];if(p!=null){return p;}else{return a._mProviderFunctions["sap.ui.mdc.Base"];}};a.getTemplatingFunction=function(n){var N="";if(typeof n==='string'){N=n;}else{N=U.className(n);}var v=a._mTemplatingFunctions[N];if(v!=null){return v;}else{return a._mTemplatingFunctions["sap.ui.mdc.Base"];}};a.registerControl=function(c,p,t,s){a._mProviderFunctions[c]=p;a._mTemplatingFunctions[c]=t;if(s){var b=s.replace(new RegExp("/","g"),".");jQuery.sap.require(b);A.cacheAdapterClass(s,jQuery.sap.getObject(b));}};a._mTemplatingFunctions={"sap.ui.mdc.Base":function(n,c,o){var i=n.getAttribute("id");n.removeAttribute("id");n.setAttribute("id",o.key+"---"+i);var l=n.getAttribute("labelFor");if(l){n.setAttribute("labelFor",o.key+"---"+l);}},"sap.m.Label":function(n,c,o){a._mTemplatingFunctions["sap.ui.mdc.Base"](n,c,o);C.provideAttribute(n,"text",o.label);},"sap.ui.mdc.FilterField":function(n,c,o){a._mTemplatingFunctions["sap.ui.mdc.Base"](n,c,o);C.provideAttribute(n,"required",o.required);C.provideAttribute(n,"type",o.type);C.provideAttribute(n,"fieldPath",o.path);}};a._mProviderFunctions={"sap.ui.mdc.Base":function(c,o){C.provideProperty(c,"visible",o.visible);C.provideProperty(c,"tooltip",o.tooltip);},"sap.m.InputBase":function(c,o){a._mProviderFunctions["sap.ui.mdc.Base"](c,o);C.provideProperty(c,"editable",o.enabled);C.provideProperty(c,"required",o.required);var l=c.getLabels();for(var i=0;i<l.length;i++){if(C.canControlBeProvided(l[i],c)){a.getProviderFunction(l[i])(l[i],o);}}},"sap.m.Input":function(c,o){a._mProviderFunctions["sap.m.InputBase"](c,o);var t=U.convertToInputType(o);C.provideProperty(c,"type",t);},"sap.m.Label":function(c,o){a._mProviderFunctions["sap.ui.mdc.Base"](c,o);C.provideProperty(c,"text",o.label);},"sap.ui.layout.form.FormElement":function(c,o){var l=c.getLabel();if(l&&C.canControlBeProvided(l,c)){a.getProviderFunction(l)(l,o);}var f=c.getFields();for(var i=0;i<f.length;i++){if(C.canControlBeProvided(f[i],c)){a.getProviderFunction(f[i])(f[i],o);}}},"sap.ui.mdc.FilterField":function(c,o){C.provideProperty(c,"required",o.required);C.provideProperty(c,"type",o.type);C.provideProperty(c,"fieldPath",o.path);C.provideAggregation(c,"conditions",o.conditions);C.providePrepareCloneFunction(c,"suggestion",o.suggestion.bind(o));}};a.resolveMetadataContextsDeep=function(n,c,o,m){var b=n.children,i=0;for(i=0;i<b.length;i++){var s=U.className(b[i]);if(s&&!b[i].getAttribute("metadataContexts")&&a._mTemplatingFunctions[s]){b[i].setAttribute("metadataContexts",m);}else{a.resolveMetadataContextsDeep(b[i],c,o,m);}}};a.determineWithModel=function(n){var p=n;while(p&&!p.hasAttribute("var")){p=p.parentElement;}if(p){return p.getAttribute("var");}return null;};return a;});
