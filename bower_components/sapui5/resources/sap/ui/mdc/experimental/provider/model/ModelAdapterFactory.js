sap.ui.define(["sap/ui/model/MetaModel","sap/ui/mdc/experimental/provider/model/ODataAdapter"],function(M,O){"use strict";var F={adapterCache:{},promiseCache:{},adapterClassCache:{"sap/ui/mdc/experimental/provider/model/ODataAdapter":O}};F.requestAdapter=function(m,s,a){var k=F._getKeyInfo(s,a);if(!m.getMetaModel()){throw new Error("sap.ui.mdc.experimental.provider.model.ModelAdapterFactory: Only models with meta model are allowed");}if(!F.promiseCache[k.key]){F.promiseCache[k.key]=new Promise(function(r,b){var A=F.getAdapter(m,s,a);if(A){r(A);}else{sap.ui.require([a],function(c){var A=new c(m,s);if(A){F.adapterCache[k.key]=A;r(A);}else{b("Invalid class");}});}});}return F.promiseCache[k.key];};F.getAdapter=function(m,s,a){var k=F._getKeyInfo(s,a);var c=F.adapterClassCache[k.adapter];if(!m.getMetaModel()){throw new Error("sap.ui.mdc.experimental.provider.model.ModelAdapterFactory: Only models with meta model are allowed");}if(F.adapterCache[k.key]){return F.adapterCache[k.key];}else if(c){F.adapterCache[k.key]=new c(m,s);return F.adapterCache[k.key];}return null;};F._getKeyInfo=function(m,a){if(!a){a="sap/ui/mdc/experimental/provider/model/ODataAdapter";}var k={adapter:a,modelName:m,key:m+">"+a};return k;};F.cacheAdapterClass=function(a,A){F.adapterClassCache[a]=A;};return F;});
