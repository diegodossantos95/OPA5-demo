/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/ui/model/FilterOperator","sap/ui/core/format/NumberFormat"],function(q,F,N){"use strict";var a={getFormattedExpressionFromDisplayBehaviour:function(d,i,D){var t=this.getTextsFromDisplayBehaviour(d,i,D);return t.secondText?t.firstText+" ("+t.secondText+")":t.firstText;},getTextsFromDisplayBehaviour:function(d,i,D){switch(d){case"descriptionAndId":return{firstText:D?D:i,secondText:D?i:undefined};case"idAndDescription":return{firstText:i,secondText:D?D:undefined};case"descriptionOnly":return{firstText:D?D:i,secondText:undefined};default:return{firstText:i,secondText:undefined};}},getFormattedBindingExpressionFromDisplayBehaviour:function(d,i,D){return a.getFormattedExpressionFromDisplayBehaviour(d,"{"+i+"}","{"+D+"}");},getFormattedRangeText:function(o,v,V,e){var t;if(v){switch(o){case F.EQ:t="="+v;break;case F.GT:t=">"+v;break;case F.GE:t=">="+v;break;case F.LT:t="<"+v;break;case F.LE:t="<="+v;break;case F.Contains:t="*"+v+"*";break;case F.StartsWith:t=v+"*";break;case F.EndsWith:t="*"+v;break;case F.BT:if(V){t=v+"..."+V;}break;default:t="";break;}}if(e&&t){t="!("+t+")";}return t;},_initialiseCurrencyFormatter:function(){if(!a._oCurrencyFormatter){a._oCurrencyFormatter=N.getCurrencyInstance({showMeasure:false});}if(!a._MAX_CURRENCY_DIGITS){a._MAX_CURRENCY_DIGITS=3;}a._initialiseSpaceChars();},_initialiseSpaceChars:function(){if(!a._FIGURE_SPACE||!a._PUNCTUATION_SPACE){a._FIGURE_SPACE='\u2007';a._PUNCTUATION_SPACE='\u2008';}},getAmountCurrencyFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fAmountCurrencyFormatter){a._fAmountCurrencyFormatter=function(A,c){var v,C,p;if(A===undefined||A===null||c==="*"){return"";}v=a._oCurrencyFormatter.format(A,c);C=a._oCurrencyFormatter.oLocaleData.getCurrencyDigits(c);if(C===0){v+=a._PUNCTUATION_SPACE;}p=a._MAX_CURRENCY_DIGITS-C;if(p){v=q.sap.padRight(v,a._FIGURE_SPACE,v.length+p);}return v;};}return a._fAmountCurrencyFormatter;},getCurrencySymbolFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fCurrencySymbolFormatter){a._fCurrencySymbolFormatter=function(c){if(!c||c==="*"){return"";}return a._oCurrencyFormatter.oLocaleData.getCurrencySymbol(c);};}return a._fCurrencySymbolFormatter;},getMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fMeasureFormatter){a._fMeasureFormatter=function(v,u){if(v===undefined||v===null||u==="*"){return"";}return v+a._FIGURE_SPACE;};}return a._fMeasureFormatter;},getInlineMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fInlineMeasureFormatter){a._fInlineMeasureFormatter=function(v,u){if(v===undefined||v===null||u==="*"){return"";}if(!u){return v;}return v+a._FIGURE_SPACE+u;};}return a._fInlineMeasureFormatter;},getInlineAmountFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fInlineAmountFormatter){a._fInlineAmountFormatter=function(A,c){var v;if(A===undefined||A===null||c==="*"){return"";}v=a._oCurrencyFormatter.format(A,c);return v+a._FIGURE_SPACE+c;};}return a._fInlineAmountFormatter;},getEdmTimeFromDate:function(d){if(!a._oTimeFormat){q.sap.require("sap.ui.core.format.DateFormat");a._oTimeFormat=sap.ui.core.format.DateFormat.getTimeInstance({pattern:"'PT'HH'H'mm'M'ss'S'"});}return a._oTimeFormat.format(d);},getWidth:function(f,m,M){var w=f.maxLength||f.precision,W;if(!m){m=30;}if(!M){M=3;}if(f.type==="Edm.DateTime"&&f.displayFormat==="Date"){w="9em";}else if(w){if(w==="Max"){w=m+"";}W=parseInt(w,10);if(!isNaN(W)){W+=0.75;if(W>m){W=m;}else if(W<M){W=M;}w=W+"em";}else{w=null;}}if(!w){if(f.type==="Edm.Boolean"){w=M+"em";}else{w=m+"em";}}return w;},parseFilterNumericIntervalData:function(v){var r=[],R=v.match(RegExp("^(-?[^-]*)-(-?[^-]*)$"));if(R&&R.length>=2){r.push(R[1]);r.push(R[2]);}return r;}};return a;},true);
