sap.ui.define(["jquery.sap.global","./library","sap/ui/core/Control"],function(q,l,C){"use strict";var D=C.extend("sap.ui.vk.DockContainer",{metadata:{library:"sap.ui.vk",publicMethods:["getMinimumWidth","getMinimumHeight","setOrientation","getOrientation","removeChild","addChild","resize","getSplitterPosition","setSplitterPosition","update"],properties:{},events:{dock:{parameters:{pane:{type:"object"}}},undock:{parameters:{pane:{type:"object"}}}}},constructor:function(d,p,i){if(typeof D._counter=="undefined"){D._counter=0;}this._id="DockContainer_"+D._counter;D._counter++;var x=0,y=0,w=d._elem.offsetWidth,h=d._elem.offsetHeight;if(p){w=p._elem.offsetWidth;h=p._elem.offsetHeight;}var e=document.createElement("div");e.setAttribute("id",this._id);e.style.position="absolute";e.style.left=x+"px";e.style.top=y+"px";e.style.width=w+"px";e.style.height=h+"px";e.style.backgroundColor="blue";e.style.zIndex=30;var s=document.createElement("div");s.setAttribute("id",this._id+"_splitter");s.style.position="absolute";s.style.opacity=0;s.style.backgroundColor="blue";s.style.zIndex=60;s.style.visibility="hidden";this._elem=e;this._splitter=s;this._manager=d;this._parent=p;this._left=null;this._right=null;this._dir=0;this._elem.appendChild(this._splitter);d.addDockContainer(p,this,i);}});D.prototype._setRect=function(e,x,y,w,h){e.style.left=x+"px";e.style.top=y+"px";if(w!=null){e.style.width=w+"px";}if(h!=null){e.style.height=h+"px";}};D.prototype.getMinimumWidth=function(){var w=0;if(this._left!=null){w=this._left.getMinimumWidth();}if(this._right!=null){var a=this._right.getMinimumWidth();if(this._dir==0){if(w>a){w=a;}}else{w+=a;}}return w;};D.prototype.getMinimumHeight=function(){var h=0;if(this._left!=null){h=this._left.getMinimumHeight();}if(this._right!=null){var a=this._right.getMinimumHeight();if(this._dir==1){if(h>a){h=a;}}else{h+=a;}}return h;};D.prototype.setOrientation=function(d){this._dir=d;this.update();};D.prototype.getOrientation=function(){return this._dir;};D.prototype.removeChild=function(i){if(i==1&&this._right!=null){this._elem.removeChild(this._right._elem);this._right=null;}else if(i==0){if(this._right!=null){this._elem.removeChild(this._left._elem);this._left=this._right;this._right=null;}else{this._elem.removeChild(this._left._elem);this._right=null;}}this.update();};D.prototype.addChild=function(c,i){if(this._left==null){i=0;}if(i==0){if(this._left!=null){this._right=this._left;}this._left=c;}else if(i==1){this._right=c;}else{return;}c._parent=this;c.update();this._elem.appendChild(c._elem);this.update();};D.prototype.resize=function(w,h,s){this._elem.style.width=w+"px";this._elem.style.height=h+"px";if(this._left!=null&&this._right!=null){var o,a,m,b,n,c;if(this._dir==0){o=this._left._elem.offsetHeight;a=this._right._elem.offsetHeight;m=this._left.getMinimumHeight();b=this._right.getMinimumHeight();n=(s!=null)?s:h*o/(o+a);if(n<m){n=m;}c=h-n;if(c<b){c=b;n=h-c;}this._left.resize(w,n);this._right.resize(w,c);this._setRect(this._left._elem,0,0);this._setRect(this._right._elem,0,n);this._setRect(this._splitter,0,n-6,w,12);this._splitter.style.cursor="ns-resize";}else{o=this._left._elem.offsetWidth;a=this._right._elem.offsetWidth;m=this._left.getMinimumWidth();b=this._right.getMinimumWidth();n=(s!=null)?s:w*o/(o+a);if(n<m){n=m;}c=w-n;if(c<b){c=b;n=w-c;}this._left.resize(n,h);this._right.resize(c,h);this._setRect(this._left._elem,0,0);this._setRect(this._right._elem,n,0);this._setRect(this._splitter,n-6,0,12,w);this._splitter.style.cursor="ew-resize";}this._splitter.style.visibility="visible";}else if(this._left!=null){this._left.resize(w,h);this._left._elem.style.left=0;this._left._elem.style.top=0;this._splitter.style.visibility="hidden";}else{this._splitter.style.visibility="hidden";}};D.prototype.getSplitterPosition=function(){return(this._dir==0)?this._splitter.offsetTop+6:this._splitter.offsetLeft+6;};D.prototype.setSplitterPosition=function(p){this.resize(this._elem.offsetWidth,this._elem.offsetHeight,p);};D.prototype.update=function(){this.resize(this._elem.offsetWidth,this._elem.offsetHeight);};return D;},true);
