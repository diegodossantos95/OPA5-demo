(function(q,z){"use strict";var A={};function B(a,c){var m,d=[];for(var i=0;i<a.length;++i){m=A[a[i]]||E(a[i]);if(!m){throw'module definition dependecy not found: '+a[i];}d.push(m);}c.apply(null,d);}function C(i,d,a){if(typeof i!=='string'){throw'invalid module definition, module id must be defined and be a string';}if(d===z){throw'invalid module definition, dependencies must be specified';}if(a===z){throw'invalid module definition, definition function must be specified';}B(d,function(){A[i]=a.apply(null,arguments);});}function D(i){return!!A[i];}function E(i){var t=q;var f=i.split(/[.\/]/);for(var a=0;a<f.length;++a){if(!t[f[a]]){return;}t=t[f[a]];}return t;}function F(a){var i,t,b,f,p;for(i=0;i<a.length;i++){t=q;b=a[i];f=b.split(/[.\/]/);for(var c=0;c<f.length-1;++c){if(t[f[c]]===z){t[f[c]]={};}t=t[f[c]];}t[f[f.length-1]]=A[b];}if(q.AMDLC_TESTS){p=q.privateModules||{};for(b in A){p[b]=A[b];}for(i=0;i<a.length;i++){delete p[a[i]];}q.privateModules=p;}}C("tinymce/geom/Rect",[],function(){"use strict";var m=Math.min,a=Math.max,r=Math.round;function b(i,t,k){var x,y,w,h,l,n;x=t.x;y=t.y;w=i.w;h=i.h;l=t.w;n=t.h;k=(k||'').split('');if(k[0]==='b'){y+=n;}if(k[1]==='r'){x+=l;}if(k[0]==='c'){y+=r(n/2);}if(k[1]==='c'){x+=r(l/2);}if(k[3]==='b'){y-=h;}if(k[4]==='r'){x-=w;}if(k[3]==='c'){y-=r(h/2);}if(k[4]==='c'){x-=r(w/2);}return g(x,y,w,h);}function f(h,t,k,l){var p,i;for(i=0;i<l.length;i++){p=b(h,t,l[i]);if(p.x>=k.x&&p.x+p.w<=k.w+k.x&&p.y>=k.y&&p.y+p.h<=k.h+k.y){return l[i];}}return null;}function c(i,w,h){return g(i.x-w,i.y-h,i.w+w*2,i.h+h*2);}function d(h,i){var x,y,k,l;x=a(h.x,i.x);y=a(h.y,i.y);k=m(h.x+h.w,i.x+i.w);l=m(h.y+h.h,i.y+i.h);if(k-x<0||l-y<0){return null;}return g(x,y,k-x,l-y);}function e(h,i,k){var u,l,o,n,x,y,p,s,t,v;x=h.x;y=h.y;p=h.x+h.w;s=h.y+h.h;t=i.x+i.w;v=i.y+i.h;u=a(0,i.x-x);l=a(0,i.y-y);o=a(0,p-t);n=a(0,s-v);x+=u;y+=l;if(k){p+=u;s+=l;x-=o;y-=n;}p-=o;s-=n;return g(x,y,p-x,s-y);}function g(x,y,w,h){return{x:x,y:y,w:w,h:h};}function j(h){return g(h.left,h.top,h.width,h.height);}return{inflate:c,relativePosition:b,findBestRelativePosition:f,intersect:d,clamp:e,create:g,fromClientRect:j};});C("tinymce/util/Promise",[],function(){if(window.Promise){return window.Promise;}var a=P.immediateFn||(typeof setImmediate==='function'&&setImmediate)||function(e){setTimeout(e,1);};function b(e,t){return function(){e.apply(t,arguments);};}var c=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]";};function P(e){if(typeof this!=='object')throw new TypeError('Promises must be constructed via new');if(typeof e!=='function')throw new TypeError('not a function');this._state=null;this._value=null;this._deferreds=[];d(e,b(E,this),b(r,this));}function h(g){var m=this;if(this._state===null){this._deferreds.push(g);return;}a(function(){var i=m._state?g.onFulfilled:g.onRejected;if(i===null){(m._state?g.resolve:g.reject)(m._value);return;}var j;try{j=i(m._value);}catch(e){g.reject(e);return;}g.resolve(j);});}function E(n){try{if(n===this)throw new TypeError('A promise cannot be resolved with itself.');if(n&&(typeof n==='object'||typeof n==='function')){var t=n.then;if(typeof t==='function'){d(b(t,n),b(E,this),b(r,this));return;}}this._state=true;this._value=n;f.call(this);}catch(e){r.call(this,e);}}function r(n){this._state=false;this._value=n;f.call(this);}function f(){for(var i=0,l=this._deferreds.length;i<l;i++){h.call(this,this._deferreds[i]);}this._deferreds=null;}function H(o,e,E,r){this.onFulfilled=typeof o==='function'?o:null;this.onRejected=typeof e==='function'?e:null;this.resolve=E;this.reject=r;}function d(e,o,g){var i=false;try{e(function(v){if(i)return;i=true;o(v);},function(k){if(i)return;i=true;g(k);});}catch(j){if(i)return;i=true;g(j);}}P.prototype['catch']=function(o){return this.then(null,o);};P.prototype.then=function(o,e){var m=this;return new P(function(E,r){h.call(m,new H(o,e,E,r));});};P.all=function(){var e=Array.prototype.slice.call(arguments.length===1&&c(arguments[0])?arguments[0]:arguments);return new P(function(E,r){if(e.length===0)return E([]);var g=e.length;function j(i,v){try{if(v&&(typeof v==='object'||typeof v==='function')){var t=v.then;if(typeof t==='function'){t.call(v,function(v){j(i,v);},r);return;}}e[i]=v;if(--g===0){E(e);}}catch(k){r(k);}}for(var i=0;i<e.length;i++){j(i,e[i]);}});};P.resolve=function(v){if(v&&typeof v==='object'&&v.constructor===P){return v;}return new P(function(E){E(v);});};P.reject=function(v){return new P(function(E,r){r(v);});};P.race=function(v){return new P(function(E,r){for(var i=0,l=v.length;i<l;i++){v[i].then(E,r);}});};return P;});C("tinymce/util/Delay",["tinymce/util/Promise"],function(P){var r;function a(f,g){var i,h=window.requestAnimationFrame,v=['ms','moz','webkit'];function j(f){window.setTimeout(f,0);}for(i=0;i<v.length&&!h;i++){h=window[v[i]+'RequestAnimationFrame'];}if(!h){h=j;}h(f,g);}function w(f,t){if(typeof t!='number'){t=0;}return setTimeout(f,t);}function b(f,t){if(typeof t!='number'){t=1;}return setInterval(f,t);}function c(i){return clearTimeout(i);}function d(i){return clearInterval(i);}function e(f,t){var g,h;h=function(){var i=arguments;clearTimeout(g);g=w(function(){f.apply(this,i);},t);};h.stop=function(){clearTimeout(g);};return h;}return{requestAnimationFrame:function(f,g){if(r){r.then(f);return;}r=new P(function(E){if(!g){g=document.body;}a(E,g);}).then(f);},setTimeout:w,setInterval:b,setEditorTimeout:function(f,g,t){return w(function(){if(!f.removed){g();}},t);},setEditorInterval:function(f,g,t){var h;h=b(function(){if(!f.removed){g();}else{clearInterval(h);}},t);return h;},debounce:e,throttle:e,clearInterval:d,clearTimeout:c};});C("tinymce/Env",[],function(){var n=navigator,u=n.userAgent;var o,w,i,a,b,g,m,d,c,f,p,t,e;function h(k){return"matchMedia"in window?matchMedia(k).matches:false;}o=window.opera&&window.opera.buildNumber;c=/Android/.test(u);w=/WebKit/.test(u);i=!w&&!o&&(/MSIE/gi).test(u)&&(/Explorer/gi).test(n.appName);i=i&&/MSIE (\w+)\./.exec(u)[1];a=u.indexOf('Trident/')!=-1&&(u.indexOf('rv:')!=-1||n.appName.indexOf('Netscape')!=-1)?11:false;b=(u.indexOf('Edge/')!=-1&&!i&&!a)?12:false;i=i||a||b;g=!w&&!a&&/Gecko/.test(u);m=u.indexOf('Mac')!=-1;d=/(iPad|iPhone)/.test(u);f="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;p=h("only screen and (max-device-width: 480px)")&&(c||d);t=h("only screen and (min-width: 800px)")&&(c||d);e=u.indexOf('Windows Phone')!=-1;if(b){w=false;}var j=!d||f||u.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:o,webkit:w,ie:i,gecko:g,mac:m,iOS:d,android:c,contentEditable:j,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:i!=8,range:window.getSelection&&"Range"in window,documentMode:i&&!b?(document.documentMode||7):10,fileApi:f,ceFalse:(i===false||i>8),canHaveCSP:(i===false||i>11),desktop:!p&&!t,windowsPhone:e};});C("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(a,b){"use strict";var c="mce-data-";var m=/^(?:mouse|contextmenu)|click/;var d={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};function f(t,n,e,i){if(t.addEventListener){t.addEventListener(n,e,i||false);}else if(t.attachEvent){t.attachEvent('on'+n,e);}}function r(t,n,e,i){if(t.removeEventListener){t.removeEventListener(n,e,i||false);}else if(t.detachEvent){t.detachEvent('on'+n,e);}}function g(e,i){var p,t=i;p=e.path;if(p&&p.length>0){t=p[0];}if(e.deepPath){p=e.deepPath();if(p&&p.length>0){t=p[0];}}return t;}function h(o,e){var n,i=e||{},u;function l(){return false;}function p(){return true;}for(n in o){if(!d[n]){i[n]=o[n];}}if(!i.target){i.target=i.srcElement||document;}if(b.experimentalShadowDom){i.target=g(o,i.target);}if(o&&m.test(o.type)&&o.pageX===u&&o.clientX!==u){var s=i.target.ownerDocument||document;var t=s.documentElement;var v=s.body;i.pageX=o.clientX+(t&&t.scrollLeft||v&&v.scrollLeft||0)-(t&&t.clientLeft||v&&v.clientLeft||0);i.pageY=o.clientY+(t&&t.scrollTop||v&&v.scrollTop||0)-(t&&t.clientTop||v&&v.clientTop||0);}i.preventDefault=function(){i.isDefaultPrevented=p;if(o){if(o.preventDefault){o.preventDefault();}else{o.returnValue=false;}}};i.stopPropagation=function(){i.isPropagationStopped=p;if(o){if(o.stopPropagation){o.stopPropagation();}else{o.cancelBubble=true;}}};i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=p;i.stopPropagation();};if(!i.isDefaultPrevented){i.isDefaultPrevented=l;i.isPropagationStopped=l;i.isImmediatePropagationStopped=l;}if(typeof i.metaKey=='undefined'){i.metaKey=false;}return i;}function j(w,e,i){var l=w.document,n={type:'ready'};if(i.domLoaded){e(n);return;}function o(){if(!i.domLoaded){i.domLoaded=true;e(n);}}function p(){if(l.readyState==="complete"||(l.readyState==="interactive"&&l.body)){r(l,"readystatechange",p);o();}}function t(){try{
// If IE is used, use the trick by Diego Perini licensed under MIT by request to the author.
l.documentElement.doScroll("left");}catch(s){a.setTimeout(t);return;}o();}if(l.addEventListener){if(l.readyState==="complete"){o();}else{f(w,'DOMContentLoaded',o);}}else{f(l,"readystatechange",p);if(l.documentElement.doScroll&&w.self===w.top){t();}}f(w,'load',o);}function k(){var s=this,n={},o,p,t,u,v;p=c+(+new Date()).toString(32);u="onmouseenter"in document.documentElement;t="onfocusin"in document.documentElement;v={mouseenter:'mouseover',mouseleave:'mouseout'};o=1;s.domLoaded=false;s.events=n;function w(e,x){var y,i,l,G,H=n[x];y=H&&H[e.type];if(y){for(i=0,l=y.length;i<l;i++){G=y[i];if(G&&G.func.call(G.scope,e)===false){e.preventDefault();}if(e.isImmediatePropagationStopped()){return;}}}}s.bind=function(e,l,x,y){var G,H,i,I,J,K,L,M=window;function N(O){w(h(O||M.event),G);}if(!e||e.nodeType===3||e.nodeType===8){return;}if(!e[p]){G=o++;e[p]=G;n[G]={};}else{G=e[p];}y=y||e;l=l.split(' ');i=l.length;while(i--){I=l[i];K=N;J=L=false;if(I==="DOMContentLoaded"){I="ready";}if(s.domLoaded&&I==="ready"&&e.readyState=='complete'){x.call(y,h({type:I}));continue;}if(!u){J=v[I];if(J){K=function(O){var P,Q;P=O.currentTarget;Q=O.relatedTarget;if(Q&&P.contains){Q=P.contains(Q);}else{while(Q&&Q!==P){Q=Q.parentNode;}}if(!Q){O=h(O||M.event);O.type=O.type==='mouseout'?'mouseleave':'mouseenter';O.target=P;w(O,G);}};}}if(!t&&(I==="focusin"||I==="focusout")){L=true;J=I==="focusin"?"focus":"blur";K=function(O){O=h(O||M.event);O.type=O.type==='focus'?'focusin':'focusout';w(O,G);};}H=n[G][I];if(!H){n[G][I]=H=[{func:x,scope:y}];H.fakeName=J;H.capture=L;H.nativeHandler=K;if(I==="ready"){j(e,K,s);}else{f(e,J||I,K,L);}}else{if(I==="ready"&&s.domLoaded){x({type:I});}else{H.push({func:x,scope:y});}}}e=H=0;return x;};s.unbind=function(e,l,x){var y,G,i,H,I,J;if(!e||e.nodeType===3||e.nodeType===8){return s;}y=e[p];if(y){J=n[y];if(l){l=l.split(' ');i=l.length;while(i--){I=l[i];G=J[I];if(G){if(x){H=G.length;while(H--){if(G[H].func===x){var K=G.nativeHandler;var L=G.fakeName,M=G.capture;G=G.slice(0,H).concat(G.slice(H+1));G.nativeHandler=K;G.fakeName=L;G.capture=M;J[I]=G;}}}if(!x||G.length===0){delete J[I];r(e,G.fakeName||I,G.nativeHandler,G.capture);}}}}else{for(I in J){G=J[I];r(e,G.fakeName||I,G.nativeHandler,G.capture);}J={};}for(I in J){return s;}delete n[y];try{delete e[p];}catch(N){e[p]=null;}}return s;};s.fire=function(e,i,l){var x;if(!e||e.nodeType===3||e.nodeType===8){return s;}l=h(null,l);l.type=i;l.target=e;do{x=e[p];if(x){w(l,x);}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;}while(e&&!l.isPropagationStopped());return s;};s.clean=function(e){var i,l,x=s.unbind;if(!e||e.nodeType===3||e.nodeType===8){return s;}if(e[p]){x(e);}if(!e.getElementsByTagName){e=e.document;}if(e&&e.getElementsByTagName){x(e);l=e.getElementsByTagName('*');i=l.length;while(i--){e=l[i];if(e[p]){x(e);}}}return s;};s.destroy=function(){n={};};s.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation();}return false;};}k.Event=new k();k.Event.bind(window,'ready',function(){});return k;});
/**
 * Sizzle CSS Selector Engine v@VERSION
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: @DATE
 */
C("tinymce/dom/Sizzle",[],function(){var i,s,c,g,d,t,f,h,o,k,l,n,p,r,u,v,w,x,y,G="sizzle"+-(new Date()),H=window.document,I=0,J=0,K=r1(),L=r1(),M=r1(),N=function(a,b){if(a===b){l=true;}return 0;},O=typeof z,P=1<<31,Q=({}).hasOwnProperty,R=[],S=R.pop,T=R.push,U=R.push,V=R.slice,W=R.indexOf||function(a){var i=0,b=this.length;for(;i<b;i++){if(this[i]===a){return i;}}return-1;},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Y="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$="\\["+Y+"*("+Z+")(?:"+Y+"*([*^$|!~]?=)"+Y+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)"+Y+"*\\]",a1=":("+Z+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|"+".*"+")\\)|)",b1=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),c1=new RegExp("^"+Y+"*,"+Y+"*"),d1=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),e1=new RegExp("="+Y+"*([^\\]'\"]*?)"+Y+"*\\]","g"),f1=new RegExp(a1),g1=new RegExp("^"+Z+"$"),h1={"ID":new RegExp("^#("+Z+")"),"CLASS":new RegExp("^\\.("+Z+")"),"TAG":new RegExp("^("+Z+"|[*])"),"ATTR":new RegExp("^"+$),"PSEUDO":new RegExp("^"+a1),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),"bool":new RegExp("^(?:"+X+")$","i"),"needsContext":new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},i1=/^(?:input|select|textarea|button)$/i,j1=/^h\d$/i,k1=/^[^{]+\{\s*\[native \w/,l1=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,m1=/[+~]/,n1=/'|\\/g,o1=new RegExp("\\\\([\\da-f]{1,6}"+Y+"?|("+Y+")|.)","ig"),p1=function(_,a,b){var j="0x"+a-0x10000;return j!==j||b?a:j<0?String.fromCharCode(j+0x10000):String.fromCharCode(j>>10|0xD800,j&0x3FF|0xDC00);};try{U.apply((R=V.call(H.childNodes)),H.childNodes);R[H.childNodes.length].nodeType;}catch(e){U={apply:R.length?function(a,b){T.apply(a,V.call(b));}:function(a,b){var j=a.length,i=0;while((a[j++]=b[i++])){}a.length=j-1;}};}function q1(a,b,j,_){var J1,K1,m,L1,i,M1,N1,O1,P1,Q1;if((b?b.ownerDocument||b:H)!==p){n(b);}b=b||p;j=j||[];if(!a||typeof a!=="string"){return j;}if((L1=b.nodeType)!==1&&L1!==9){return[];}if(u&&!_){if((J1=l1.exec(a))){if((m=J1[1])){if(L1===9){K1=b.getElementById(m);if(K1&&K1.parentNode){if(K1.id===m){j.push(K1);return j;}}else{return j;}}else{if(b.ownerDocument&&(K1=b.ownerDocument.getElementById(m))&&y(b,K1)&&K1.id===m){j.push(K1);return j;}}}else if(J1[2]){U.apply(j,b.getElementsByTagName(a));return j;}else if((m=J1[3])&&s.getElementsByClassName){U.apply(j,b.getElementsByClassName(m));return j;}}if(s.qsa&&(!v||!v.test(a))){O1=N1=G;P1=b;Q1=L1===9&&a;if(L1===1&&b.nodeName.toLowerCase()!=="object"){M1=t(a);if((N1=b.getAttribute("id"))){O1=N1.replace(n1,"\\$&");}else{b.setAttribute("id",O1);}O1="[id='"+O1+"'] ";i=M1.length;while(i--){M1[i]=O1+B1(M1[i]);}P1=m1.test(a)&&z1(b.parentNode)||b;Q1=M1.join(",");}if(Q1){try{U.apply(j,P1.querySelectorAll(Q1));return j;}catch(R1){}finally{if(!N1){b.removeAttribute("id");}}}}}return h(a.replace(b1,"$1"),b,j,_);}function r1(){var a=[];function b(j,m){if(a.push(j+" ")>c.cacheLength){delete b[a.shift()];}return(b[j+" "]=m);}return b;}function s1(a){a[G]=true;return a;}function t1(a){var b=p.createElement("div");try{return!!a(b);}catch(e){return false;}finally{if(b.parentNode){b.parentNode.removeChild(b);}b=null;}}function u1(a,b){var R=a.split("|"),i=a.length;while(i--){c.attrHandle[R[i]]=b;}}function v1(a,b){var j=b&&a,m=j&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||P)-(~a.sourceIndex||P);if(m){return m;}if(j){while((j=j.nextSibling)){if(j===b){return-1;}}}return a?1:-1;}function w1(a){return function(b){var j=b.nodeName.toLowerCase();return j==="input"&&b.type===a;};}function x1(a){return function(b){var j=b.nodeName.toLowerCase();return(j==="input"||j==="button")&&b.type===a;};}function y1(a){return s1(function(b){b=+b;return s1(function(m,x){var j,_=a([],m.length,b),i=_.length;while(i--){if(m[(j=_[i])]){m[j]=!(x[j]=m[j]);}}});});}function z1(a){return a&&typeof a.getElementsByTagName!==O&&a;}s=q1.support={};d=q1.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":false;};n=q1.setDocument=function(j){var _,J1=j?j.ownerDocument||j:H,K1=J1.defaultView;function L1(a){try{return a.top;}catch(b){}return null;}if(J1===p||J1.nodeType!==9||!J1.documentElement){return p;}p=J1;r=J1.documentElement;u=!d(J1);if(K1&&K1!==L1(K1)){if(K1.addEventListener){K1.addEventListener("unload",function(){n();},false);}else if(K1.attachEvent){K1.attachEvent("onunload",function(){n();});}}s.attributes=t1(function(a){a.className="i";return!a.getAttribute("className");});s.getElementsByTagName=t1(function(a){a.appendChild(J1.createComment(""));return!a.getElementsByTagName("*").length;});s.getElementsByClassName=k1.test(J1.getElementsByClassName);s.getById=t1(function(a){r.appendChild(a).id=G;return!J1.getElementsByName||!J1.getElementsByName(G).length;});if(s.getById){c.find["ID"]=function(a,b){if(typeof b.getElementById!==O&&u){var m=b.getElementById(a);return m&&m.parentNode?[m]:[];}};c.filter["ID"]=function(a){var b=a.replace(o1,p1);return function(m){return m.getAttribute("id")===b;};};}else{delete c.find["ID"];c.filter["ID"]=function(a){var b=a.replace(o1,p1);return function(m){var j=typeof m.getAttributeNode!==O&&m.getAttributeNode("id");return j&&j.value===b;};};}c.find["TAG"]=s.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==O){return b.getElementsByTagName(a);}}:function(a,b){var m,M1=[],i=0,N1=b.getElementsByTagName(a);if(a==="*"){while((m=N1[i++])){if(m.nodeType===1){M1.push(m);}}return M1;}return N1;};c.find["CLASS"]=s.getElementsByClassName&&function(a,b){if(u){return b.getElementsByClassName(a);}};w=[];v=[];if((s.qsa=k1.test(J1.querySelectorAll))){t1(function(a){a.innerHTML="<select msallowcapture=''><option selected=''></option></select>";if(a.querySelectorAll("[msallowcapture^='']").length){v.push("[*^$]="+Y+"*(?:''|\"\")");}if(!a.querySelectorAll("[selected]").length){v.push("\\["+Y+"*(?:value|"+X+")");}if(!a.querySelectorAll(":checked").length){v.push(":checked");}});t1(function(a){var b=J1.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");if(a.querySelectorAll("[name=d]").length){v.push("name"+Y+"*[*^$|!~]?=");}if(!a.querySelectorAll(":enabled").length){v.push(":enabled",":disabled");}a.querySelectorAll("*,:x");v.push(",.*:");});}if((s.matchesSelector=k1.test((x=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector)))){t1(function(a){s.disconnectedMatch=x.call(a,"div");x.call(a,"[s!='']:x");w.push("!=",a1);});}v=v.length&&new RegExp(v.join("|"));w=w.length&&new RegExp(w.join("|"));_=k1.test(r.compareDocumentPosition);y=_||k1.test(r.contains)?function(a,b){var m=a.nodeType===9?a.documentElement:a,M1=b&&b.parentNode;return a===M1||!!(M1&&M1.nodeType===1&&(m.contains?m.contains(M1):a.compareDocumentPosition&&a.compareDocumentPosition(M1)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}return false;};N=_?function(a,b){if(a===b){l=true;return 0;}var m=!a.compareDocumentPosition-!b.compareDocumentPosition;if(m){return m;}m=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(m&1||(!s.sortDetached&&b.compareDocumentPosition(a)===m)){if(a===J1||a.ownerDocument===H&&y(H,a)){return-1;}if(b===J1||b.ownerDocument===H&&y(H,b)){return 1;}return k?(W.call(k,a)-W.call(k,b)):0;}return m&4?-1:1;}:function(a,b){if(a===b){l=true;return 0;}var m,i=0,M1=a.parentNode,N1=b.parentNode,ap=[a],bp=[b];if(!M1||!N1){return a===J1?-1:b===J1?1:M1?-1:N1?1:k?(W.call(k,a)-W.call(k,b)):0;}else if(M1===N1){return v1(a,b);}m=a;while((m=m.parentNode)){ap.unshift(m);}m=b;while((m=m.parentNode)){bp.unshift(m);}while(ap[i]===bp[i]){i++;}return i?v1(ap[i],bp[i]):ap[i]===H?-1:bp[i]===H?1:0;};return J1;};q1.matches=function(a,b){return q1(a,null,null,b);};q1.matchesSelector=function(a,b){if((a.ownerDocument||a)!==p){n(a);}b=b.replace(e1,"='$1']");if(s.matchesSelector&&u&&(!w||!w.test(b))&&(!v||!v.test(b))){try{var j=x.call(a,b);if(j||s.disconnectedMatch||a.document&&a.document.nodeType!==11){return j;}}catch(e){}}return q1(b,p,null,[a]).length>0;};q1.contains=function(a,b){if((a.ownerDocument||a)!==p){n(a);}return y(a,b);};q1.attr=function(a,b){if((a.ownerDocument||a)!==p){n(a);}var j=c.attrHandle[b.toLowerCase()],m=j&&Q.call(c.attrHandle,b.toLowerCase())?j(a,b,!u):z;return m!==z?m:s.attributes||!u?a.getAttribute(b):(m=a.getAttributeNode(b))&&m.specified?m.value:null;};q1.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m);};q1.uniqueSort=function(a){var b,m=[],j=0,i=0;l=!s.detectDuplicates;k=!s.sortStable&&a.slice(0);a.sort(N);if(l){while((b=a[i++])){if(b===a[i]){j=m.push(i);}}while(j--){a.splice(m[j],1);}}k=null;return a;};g=q1.getText=function(a){var b,j="",i=0,m=a.nodeType;if(!m){while((b=a[i++])){j+=g(b);}}else if(m===1||m===9||m===11){if(typeof a.textContent==="string"){return a.textContent;}else{for(a=a.firstChild;a;a=a.nextSibling){j+=g(a);}}}else if(m===3||m===4){return a.nodeValue;}return j;};c=q1.selectors={cacheLength:50,createPseudo:s1,match:h1,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(m){m[1]=m[1].replace(o1,p1);m[3]=(m[3]||m[4]||m[5]||"").replace(o1,p1);if(m[2]==="~="){m[3]=" "+m[3]+" ";}return m.slice(0,4);},"CHILD":function(m){m[1]=m[1].toLowerCase();if(m[1].slice(0,3)==="nth"){if(!m[3]){q1.error(m[0]);}m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd"));m[5]=+((m[7]+m[8])||m[3]==="odd");}else if(m[3]){q1.error(m[0]);}return m;},"PSEUDO":function(m){var a,b=!m[6]&&m[2];if(h1["CHILD"].test(m[0])){return null;}if(m[3]){m[2]=m[4]||m[5]||"";}else if(b&&f1.test(b)&&(a=t(b,true))&&(a=b.indexOf(")",b.length-a)-b.length)){m[0]=m[0].slice(0,a);m[2]=b.slice(0,a);}return m.slice(0,3);}},filter:{"TAG":function(a){var b=a.replace(o1,p1).toLowerCase();return a==="*"?function(){return true;}:function(j){return j.nodeName&&j.nodeName.toLowerCase()===b;};},"CLASS":function(a){var b=K[a+" "];return b||(b=new RegExp("(^|"+Y+")"+a+"("+Y+"|$)"))&&K(a,function(j){return b.test(typeof j.className==="string"&&j.className||typeof j.getAttribute!==O&&j.getAttribute("class")||"");});},"ATTR":function(a,b,j){return function(m){var _=q1.attr(m,a);if(_==null){return b==="!=";}if(!b){return true;}_+="";return b==="="?_===j:b==="!="?_!==j:b==="^="?j&&_.indexOf(j)===0:b==="*="?j&&_.indexOf(j)>-1:b==="$="?j&&_.slice(-j.length)===j:b==="~="?(" "+_+" ").indexOf(j)>-1:b==="|="?_===j||_.slice(0,j.length+1)===j+"-":false;};},"CHILD":function(a,b,j,m,_){var J1=a.slice(0,3)!=="nth",K1=a.slice(-4)!=="last",L1=b==="of-type";return m===1&&_===0?function(M1){return!!M1.parentNode;}:function(M1,N1,O1){var P1,Q1,R1,S1,T1,U1,V1=J1!==K1?"nextSibling":"previousSibling",W1=M1.parentNode,X1=L1&&M1.nodeName.toLowerCase(),Y1=!O1&&!L1;if(W1){if(J1){while(V1){R1=M1;while((R1=R1[V1])){if(L1?R1.nodeName.toLowerCase()===X1:R1.nodeType===1){return false;}}U1=V1=a==="only"&&!U1&&"nextSibling";}return true;}U1=[K1?W1.firstChild:W1.lastChild];if(K1&&Y1){Q1=W1[G]||(W1[G]={});P1=Q1[a]||[];T1=P1[0]===I&&P1[1];S1=P1[0]===I&&P1[2];R1=T1&&W1.childNodes[T1];while((R1=++T1&&R1&&R1[V1]||(S1=T1=0)||U1.pop())){if(R1.nodeType===1&&++S1&&R1===M1){Q1[a]=[I,T1,S1];break;}}}else if(Y1&&(P1=(M1[G]||(M1[G]={}))[a])&&P1[0]===I){S1=P1[1];}else{while((R1=++T1&&R1&&R1[V1]||(S1=T1=0)||U1.pop())){if((L1?R1.nodeName.toLowerCase()===X1:R1.nodeType===1)&&++S1){if(Y1){(R1[G]||(R1[G]={}))[a]=[I,S1];}if(R1===M1){break;}}}}S1-=_;return S1===m||(S1%m===0&&S1/m>=0);}};},"PSEUDO":function(a,b){var j,m=c.pseudos[a]||c.setFilters[a.toLowerCase()]||q1.error("unsupported pseudo: "+a);if(m[G]){return m(b);}if(m.length>1){j=[a,a,"",b];return c.setFilters.hasOwnProperty(a.toLowerCase())?s1(function(_,x){var J1,K1=m(_,b),i=K1.length;while(i--){J1=W.call(_,K1[i]);_[J1]=!(x[J1]=K1[i]);}}):function(_){return m(_,0,j);};}return m;}},pseudos:{"not":s1(function(a){var b=[],j=[],m=f(a.replace(b1,"$1"));return m[G]?s1(function(_,x,J1,K1){var L1,M1=m(_,null,K1,[]),i=_.length;while(i--){if((L1=M1[i])){_[i]=!(x[i]=L1);}}}):function(_,J1,K1){b[0]=_;m(b,null,K1,j);return!j.pop();};}),"has":s1(function(a){return function(b){return q1(a,b).length>0;};}),"contains":s1(function(a){a=a.replace(o1,p1);return function(b){return(b.textContent||b.innerText||g(b)).indexOf(a)>-1;};}),"lang":s1(function(a){if(!g1.test(a||"")){q1.error("unsupported lang: "+a);}a=a.replace(o1,p1).toLowerCase();return function(b){var j;do{if((j=u?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))){j=j.toLowerCase();return j===a||j.indexOf(a+"-")===0;}}while((b=b.parentNode)&&b.nodeType===1);return false;};}),"target":function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id;},"root":function(a){return a===r;},"focus":function(a){return a===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(a.type||a.href||~a.tabIndex);},"enabled":function(a){return a.disabled===false;},"disabled":function(a){return a.disabled===true;},"checked":function(a){var b=a.nodeName.toLowerCase();return(b==="input"&&!!a.checked)||(b==="option"&&!!a.selected);},"selected":function(a){if(a.parentNode){a.parentNode.selectedIndex;}return a.selected===true;},"empty":function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return false;}}return true;},"parent":function(a){return!c.pseudos["empty"](a);},"header":function(a){return j1.test(a.nodeName);},"input":function(a){return i1.test(a.nodeName);},"button":function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button";},"text":function(a){var b;return a.nodeName.toLowerCase()==="input"&&a.type==="text"&&((b=a.getAttribute("type"))==null||b.toLowerCase()==="text");},"first":y1(function(){return[0];}),"last":y1(function(m,a){return[a-1];}),"eq":y1(function(m,a,b){return[b<0?b+a:b];}),"even":y1(function(m,a){var i=0;for(;i<a;i+=2){m.push(i);}return m;}),"odd":y1(function(m,a){var i=1;for(;i<a;i+=2){m.push(i);}return m;}),"lt":y1(function(m,a,b){var i=b<0?b+a:b;for(;--i>=0;){m.push(i);}return m;}),"gt":y1(function(m,a,b){var i=b<0?b+a:b;for(;++i<a;){m.push(i);}return m;})}};c.pseudos["nth"]=c.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){c.pseudos[i]=w1(i);}for(i in{submit:true,reset:true}){c.pseudos[i]=x1(i);}function A1(){}A1.prototype=c.filters=c.pseudos;c.setFilters=new A1();t=q1.tokenize=function(a,b){var m,j,_,J1,K1,L1,M1,N1=L[a+" "];if(N1){return b?0:N1.slice(0);}K1=a;L1=[];M1=c.preFilter;while(K1){if(!m||(j=c1.exec(K1))){if(j){K1=K1.slice(j[0].length)||K1;}L1.push((_=[]));}m=false;if((j=d1.exec(K1))){m=j.shift();_.push({value:m,type:j[0].replace(b1," ")});K1=K1.slice(m.length);}for(J1 in c.filter){if((j=h1[J1].exec(K1))&&(!M1[J1]||(j=M1[J1](j)))){m=j.shift();_.push({value:m,type:J1,matches:j});K1=K1.slice(m.length);}}if(!m){break;}}return b?K1.length:K1?q1.error(a):L(a,L1).slice(0);};function B1(a){var i=0,b=a.length,j="";for(;i<b;i++){j+=a[i].value;}return j;}function C1(m,a,b){var j=a.dir,_=b&&j==="parentNode",J1=J++;return a.first?function(K1,L1,M1){while((K1=K1[j])){if(K1.nodeType===1||_){return m(K1,L1,M1);}}}:function(K1,L1,M1){var N1,O1,P1=[I,J1];if(M1){while((K1=K1[j])){if(K1.nodeType===1||_){if(m(K1,L1,M1)){return true;}}}}else{while((K1=K1[j])){if(K1.nodeType===1||_){O1=K1[G]||(K1[G]={});if((N1=O1[j])&&N1[0]===I&&N1[1]===J1){return(P1[2]=N1[2]);}else{O1[j]=P1;if((P1[2]=m(K1,L1,M1))){return true;}}}}}};}function D1(m){return m.length>1?function(a,b,j){var i=m.length;while(i--){if(!m[i](a,b,j)){return false;}}return true;}:m[0];}function E1(a,b,j){var i=0,m=b.length;for(;i<m;i++){q1(a,b[i],j);}return j;}function F1(a,m,b,j,_){var J1,K1=[],i=0,L1=a.length,M1=m!=null;for(;i<L1;i++){if((J1=a[i])){if(!b||b(J1,j,_)){K1.push(J1);if(M1){m.push(i);}}}}return K1;}function G1(a,b,m,j,_,J1){if(j&&!j[G]){j=G1(j);}if(_&&!_[G]){_=G1(_,J1);}return s1(function(K1,L1,M1,N1){var O1,i,P1,Q1=[],R1=[],S1=L1.length,T1=K1||E1(b||"*",M1.nodeType?[M1]:M1,[]),U1=a&&(K1||!b)?F1(T1,Q1,a,M1,N1):T1,V1=m?_||(K1?a:S1||j)?[]:L1:U1;if(m){m(U1,V1,M1,N1);}if(j){O1=F1(V1,R1);j(O1,[],M1,N1);i=O1.length;while(i--){if((P1=O1[i])){V1[R1[i]]=!(U1[R1[i]]=P1);}}}if(K1){if(_||a){if(_){O1=[];i=V1.length;while(i--){if((P1=V1[i])){O1.push((U1[i]=P1));}}_(null,(V1=[]),O1,N1);}i=V1.length;while(i--){if((P1=V1[i])&&(O1=_?W.call(K1,P1):Q1[i])>-1){K1[O1]=!(L1[O1]=P1);}}}}else{V1=F1(V1===L1?V1.splice(S1,V1.length):V1);if(_){_(null,L1,V1,N1);}else{U.apply(L1,V1);}}});}function H1(a){var b,m,j,_=a.length,J1=c.relative[a[0].type],K1=J1||c.relative[" "],i=J1?1:0,L1=C1(function(O1){return O1===b;},K1,true),M1=C1(function(O1){return W.call(b,O1)>-1;},K1,true),N1=[function(O1,P1,Q1){return(!J1&&(Q1||P1!==o))||((b=P1).nodeType?L1(O1,P1,Q1):M1(O1,P1,Q1));}];for(;i<_;i++){if((m=c.relative[a[i].type])){N1=[C1(D1(N1),m)];}else{m=c.filter[a[i].type].apply(null,a[i].matches);if(m[G]){j=++i;for(;j<_;j++){if(c.relative[a[j].type]){break;}}return G1(i>1&&D1(N1),i>1&&B1(a.slice(0,i-1).concat({value:a[i-2].type===" "?"*":""})).replace(b1,"$1"),m,i<j&&H1(a.slice(i,j)),j<_&&H1((a=a.slice(j))),j<_&&B1(a));}N1.push(m);}}return D1(N1);}function I1(a,b){var m=b.length>0,_=a.length>0,J1=function(K1,L1,M1,N1,O1){var P1,j,Q1,R1=0,i="0",S1=K1&&[],T1=[],U1=o,V1=K1||_&&c.find["TAG"]("*",O1),W1=(I+=U1==null?1:Math.random()||0.1),X1=V1.length;if(O1){o=L1!==p&&L1;}for(;i!==X1&&(P1=V1[i])!=null;i++){if(_&&P1){j=0;while((Q1=a[j++])){if(Q1(P1,L1,M1)){N1.push(P1);break;}}if(O1){I=W1;}}if(m){if((P1=!Q1&&P1)){R1--;}if(K1){S1.push(P1);}}}R1+=i;if(m&&i!==R1){j=0;while((Q1=b[j++])){Q1(S1,T1,L1,M1);}if(K1){if(R1>0){while(i--){if(!(S1[i]||T1[i])){T1[i]=S.call(N1);}}}T1=F1(T1);}U.apply(N1,T1);if(O1&&!K1&&T1.length>0&&(R1+b.length)>1){q1.uniqueSort(N1);}}if(O1){I=W1;o=U1;}return S1;};return m?s1(J1):J1;}f=q1.compile=function(a,m){var i,b=[],j=[],_=M[a+" "];if(!_){if(!m){m=t(a);}i=m.length;while(i--){_=H1(m[i]);if(_[G]){b.push(_);}else{j.push(_);}}_=M(a,I1(j,b));_.selector=a;}return _;};h=q1.select=function(a,b,j,m){var i,_,J1,K1,L1,M1=typeof a==="function"&&a,N1=!m&&t((a=M1.selector||a));j=j||[];if(N1.length===1){_=N1[0]=N1[0].slice(0);if(_.length>2&&(J1=_[0]).type==="ID"&&s.getById&&b.nodeType===9&&u&&c.relative[_[1].type]){b=(c.find["ID"](J1.matches[0].replace(o1,p1),b)||[])[0];if(!b){return j;}else if(M1){b=b.parentNode;}a=a.slice(_.shift().value.length);}i=h1["needsContext"].test(a)?0:_.length;while(i--){J1=_[i];if(c.relative[(K1=J1.type)]){break;}if((L1=c.find[K1])){if((m=L1(J1.matches[0].replace(o1,p1),m1.test(_[0].type)&&z1(b.parentNode)||b))){_.splice(i,1);a=m.length&&B1(_);if(!a){U.apply(j,m);return j;}break;}}}}(M1||f(a,N1))(m,b,!u,j,m1.test(a)&&z1(b.parentNode)||b);return j;};s.sortStable=G.split("").sort(N).join("")===G;s.detectDuplicates=!!l;n();s.sortDetached=t1(function(a){return a.compareDocumentPosition(p.createElement("div"))&1;});if(!t1(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild.getAttribute("href")==="#";})){u1("type|href|height|width",function(a,b,d){if(!d){return a.getAttribute(b,b.toLowerCase()==="type"?1:2);}});}if(!s.attributes||!t1(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return a.firstChild.getAttribute("value")==="";})){u1("value",function(a,b,d){if(!d&&a.nodeName.toLowerCase()==="input"){return a.defaultValue;}});}if(!t1(function(a){return a.getAttribute("disabled")==null;})){u1(X,function(a,b,d){var j;if(!d){return a[b]===true?b.toLowerCase():(j=a.getAttributeNode(b))&&j.specified?j.value:null;}});}return q1;});C("tinymce/util/Arr",[],function(){var b=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]";};function t(o){var a=o,i,l;if(!b(o)){a=[];for(i=0,l=o.length;i<l;i++){a[i]=o[i];}}return a;}function e(o,a,s){var n,l;if(!o){return 0;}s=s||o;if(o.length!==z){for(n=0,l=o.length;n<l;n++){if(a.call(s,o[n],n,o)===false){return 0;}}}else{for(n in o){if(o.hasOwnProperty(n)){if(a.call(s,o[n],n,o)===false){return 0;}}}}return 1;}function m(a,f){var o=[];e(a,function(i,k){o.push(f(i,k,a));});return o;}function c(a,f){var o=[];e(a,function(v,i){if(!f||f(v,i,a)){o.push(v);}});return o;}function d(a,v){var i,l;if(a){for(i=0,l=a.length;i<l;i++){if(a[i]===v){return i;}}}return-1;}function r(a,f,k,l){var i=0;if(arguments.length<3){k=a[0];}for(;i<a.length;i++){k=f.call(l,k,a[i],i);}return k;}function g(a,p,f){var i,l;for(i=0,l=a.length;i<l;i++){if(p.call(f,a[i],i,a)){return i;}}return-1;}function h(a,p,f){var i=g(a,p,f);if(i!==-1){return a[i];}return z;}function j(a){return a[a.length-1];}return{isArray:b,toArray:t,each:e,map:m,filter:c,indexOf:d,reduce:r,findIndex:g,find:h,last:j};});C("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(a,b){var w=/^\s*|\s*$/g;function t(s){return(s===null||s===z)?'':(""+s).replace(w,'');}function e(o,c){if(!c){return o!==z;}if(c=='array'&&b.isArray(o)){return true;}return typeof o==c;}function m(c,d,f){var i;c=c||[];d=d||',';if(typeof c=="string"){c=c.split(d);}f=f||{};i=c.length;while(i--){f[c[i]]={};}return f;}function h(o,p){return Object.prototype.hasOwnProperty.call(o,p);}function g(s,p,d){var i=this,l,o,v,x,c,y=0;s=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(s);v=s[3].match(/(^|\.)(\w+)$/i)[2];o=i.createNS(s[3].replace(/\.\w+$/,''),d);if(o[v]){return;}if(s[2]=='static'){o[v]=p;if(this.onCreate){this.onCreate(s[2],s[3],o[v]);}return;}if(!p[v]){p[v]=function(){};y=1;}o[v]=p[v];i.extend(o[v].prototype,p);if(s[5]){l=i.resolve(s[5]).prototype;x=s[5].match(/\.(\w+)$/i)[1];c=o[v];if(y){o[v]=function(){return l[x].apply(this,arguments);};}else{o[v]=function(){this.parent=l[x];return c.apply(this,arguments);};}o[v].prototype[v]=o[v];i.each(l,function(f,n){o[v].prototype[n]=l[n];});i.each(p,function(f,n){if(l[n]){o[v].prototype[n]=function(){this.parent=l[n];return f.apply(this,arguments);};}else{if(n!=v){o[v].prototype[n]=f;}}});}i.each(p['static'],function(f,n){o[v][n]=f;});}function j(o,c){var i,l,n,d=arguments,v;for(i=1,l=d.length;i<l;i++){c=d[i];for(n in c){if(c.hasOwnProperty(n)){v=c[n];if(v!==z){o[n]=v;}}}}return o;}function k(o,f,n,s){s=s||this;if(o){if(n){o=o[n];}b.each(o,function(o,i){if(f.call(s,o,i,n)===false){return false;}k(o,f,n,s);});}}function r(n,o){var i,v;o=o||window;n=n.split('.');for(i=0;i<n.length;i++){v=n[i];if(!o[v]){o[v]={};}o=o[v];}return o;}function E(n,o){var i,l;o=o||window;n=n.split('.');for(i=0,l=n.length;i<l;i++){o=o[n[i]];if(!o){break;}}return o;}function u(s,d){if(!s||e(s,'array')){return s;}return b.map(s.split(d||','),t);}function _(c){var d=a.cacheSuffix;if(d){c+=(c.indexOf('?')===-1?'?':'&')+d;}return c;}return{trim:t,isArray:b.isArray,is:e,toArray:b.toArray,makeMap:m,each:b.each,map:b.map,grep:b.filter,inArray:b.indexOf,hasOwn:h,extend:j,create:g,walk:k,createNS:r,resolve:E,explode:u,_addCacheSuffix:_};});C("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(c,S,T,d){var e=document,p=Array.prototype.push,s=Array.prototype.slice;var r=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var f=c.Event,u;var g=T.makeMap('children,contents,next,prev');function h(a){return typeof a!=='undefined';}function j(a){return typeof a==='string';}function k(a){return a&&a==a.window;}function m(a,b){var i,l,x;b=b||e;x=b.createElement('div');i=b.createDocumentFragment();x.innerHTML=a;while((l=x.firstChild)){i.appendChild(l);}return i;}function n(a,b,l,x){var i;if(j(b)){b=m(b,Q(a[0]));}else if(b.length&&!b.nodeType){b=K.makeArray(b);if(x){for(i=b.length-1;i>=0;i--){n(a,b[i],l,x);}}else{for(i=0;i<b.length;i++){n(a,b[i],l,x);}}return a;}if(b.nodeType){i=a.length;while(i--){l.call(a[i],b);}}return a;}function o(a,b){return a&&b&&(' '+a.className+' ').indexOf(' '+b+' ')!==-1;}function w(a,b,i){var l,x;b=K(b)[0];a.each(function(){var y=this;if(!i||l!=y.parentNode){l=y.parentNode;x=b.cloneNode(false);y.parentNode.insertBefore(x,y);x.appendChild(y);}else{x.appendChild(y);}});return a;}var t=T.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom',' ');var v=T.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected',' ');var G={'for':'htmlFor','class':'className','readonly':'readOnly'};var H={'float':'cssFloat'};var I={},J={};function K(a,b){return new K.fn.init(a,b);}function L(a,b){var i;if(b.indexOf){return b.indexOf(a);}i=b.length;while(i--){if(b[i]===a){return i;}}return-1;}var M=/^\s*|\s*$/g;function N(a){return(a===null||a===u)?'':(""+a).replace(M,'');}function O(a,b){var l,x,i,u,y;if(a){l=a.length;if(l===u){for(x in a){if(a.hasOwnProperty(x)){y=a[x];if(b.call(y,x,y)===false){break;}}}}else{for(i=0;i<l;i++){y=a[i];if(b.call(y,i,y)===false){break;}}}}return a;}function P(a,b){var l=[];O(a,function(i,x){if(b(x,i)){l.push(x);}});return l;}function Q(a){if(!a){return e;}if(a.nodeType==9){return a;}return a.ownerDocument;}K.fn=K.prototype={constructor:K,selector:"",context:null,length:0,init:function(a,b){var i=this,l,x;if(!a){return i;}if(a.nodeType){i.context=i[0]=a;i.length=1;return i;}if(b&&b.nodeType){i.context=b;}else{if(b){return K(a).attr(b);}i.context=b=document;}if(j(a)){i.selector=a;if(a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3){l=[null,a,null];}else{l=r.exec(a);}if(l){if(l[1]){x=m(a,Q(b)).firstChild;while(x){p.call(i,x);x=x.nextSibling;}}else{x=Q(b).getElementById(l[2]);if(!x){return i;}if(x.id!==l[2]){return i.find(a);}i.length=1;i[0]=x;}}else{return K(b).find(a);}}else{this.add(a,false);}return i;},toArray:function(){return T.toArray(this);},add:function(a,b){var l=this,x,i;if(j(a)){return l.add(K(a));}if(b!==false){x=K.unique(l.toArray().concat(K.makeArray(a)));l.length=x.length;for(i=0;i<x.length;i++){l[i]=x[i];}}else{p.apply(l,K.makeArray(a));}return l;},attr:function(a,b){var i=this,l;if(typeof a==="object"){O(a,function(a,b){i.attr(a,b);});}else if(h(b)){this.each(function(){var l;if(this.nodeType===1){l=I[a];if(l&&l.set){l.set(this,b);return;}if(b===null){this.removeAttribute(a,2);}else{this.setAttribute(a,b,2);}}});}else{if(i[0]&&i[0].nodeType===1){l=I[a];if(l&&l.get){return l.get(i[0],a);}if(v[a]){return i.prop(a)?a:u;}b=i[0].getAttribute(a,2);if(b===null){b=u;}}return b;}return i;},removeAttr:function(a){return this.attr(a,null);},prop:function(a,b){var i=this;a=G[a]||a;if(typeof a==="object"){O(a,function(a,b){i.prop(a,b);});}else if(h(b)){this.each(function(){if(this.nodeType==1){this[a]=b;}});}else{if(i[0]&&i[0].nodeType&&a in i[0]){return i[0][a];}return b;}return i;},css:function(i,l){var x=this,y,X;function Y(i){return i.replace(/-(\D)/g,function(a,b){return b.toUpperCase();});}function Z(i){return i.replace(/[A-Z]/g,function(a){return'-'+a;});}if(typeof i==="object"){O(i,function(i,l){x.css(i,l);});}else{if(h(l)){i=Y(i);if(typeof l==='number'&&!t[i]){l+='px';}x.each(function(){var a=this.style;X=J[i];if(X&&X.set){X.set(this,l);return;}try{this.style[H[i]||i]=l;}catch($){}if(l===null||l===''){if(a.removeProperty){a.removeProperty(Z(i));}else{a.removeAttribute(i);}}});}else{y=x[0];X=J[i];if(X&&X.get){return X.get(y);}if(y.ownerDocument.defaultView){try{return y.ownerDocument.defaultView.getComputedStyle(y,null).getPropertyValue(Z(i));}catch($){return u;}}else if(y.currentStyle){return y.currentStyle[Y(i)];}}}return x;},remove:function(){var a=this,b,i=this.length;while(i--){b=a[i];f.clean(b);if(b.parentNode){b.parentNode.removeChild(b);}}return this;},empty:function(){var a=this,b,i=this.length;while(i--){b=a[i];while(b.firstChild){b.removeChild(b.firstChild);}}return this;},html:function(a){var b=this,i;if(h(a)){i=b.length;try{while(i--){b[i].innerHTML=a;}}catch(l){K(b[i]).empty().append(a);}return b;}return b[0]?b[0].innerHTML:'';},text:function(a){var b=this,i;if(h(a)){i=b.length;while(i--){if("innerText"in b[i]){b[i].innerText=a;}else{b[0].textContent=a;}}return b;}return b[0]?(b[0].innerText||b[0].textContent):'';},append:function(){return n(this,arguments,function(a){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.appendChild(a);}});},prepend:function(){return n(this,arguments,function(a){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.insertBefore(a,this.firstChild);}},true);},before:function(){var a=this;if(a[0]&&a[0].parentNode){return n(a,arguments,function(b){this.parentNode.insertBefore(b,this);});}return a;},after:function(){var a=this;if(a[0]&&a[0].parentNode){return n(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling);},true);}return a;},appendTo:function(a){K(a).append(this);return this;},prependTo:function(a){K(a).prepend(this);return this;},replaceWith:function(a){return this.before(a).remove();},wrap:function(a){return w(this,a);},wrapAll:function(a){return w(this,a,true);},wrapInner:function(a){this.each(function(){K(this).contents().wrapAll(a);});return this;},unwrap:function(){return this.parent().each(function(){K(this).replaceWith(this.childNodes);});},clone:function(){var a=[];this.each(function(){a.push(this.cloneNode(true));});return K(a);},addClass:function(a){return this.toggleClass(a,true);},removeClass:function(a){return this.toggleClass(a,false);},toggleClass:function(a,b){var i=this;if(typeof a!='string'){return i;}if(a.indexOf(' ')!==-1){O(a.split(' '),function(){i.toggleClass(this,b);});}else{i.each(function(l,x){var y,X;X=o(x,a);if(X!==b){y=x.className;if(X){x.className=N((" "+y+" ").replace(' '+a+' ',' '));}else{x.className+=y?' '+a:a;}}});}return i;},hasClass:function(a){return o(this[0],a);},each:function(a){return O(this,a);},on:function(a,b){return this.each(function(){f.bind(this,a,b);});},off:function(a,b){return this.each(function(){f.unbind(this,a,b);});},trigger:function(a){return this.each(function(){if(typeof a=='object'){f.fire(this,a.type,a);}else{f.fire(this,a);}});},show:function(){return this.css('display','');},hide:function(){return this.css('display','none');},slice:function(){return new K(s.apply(this,arguments));},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},find:function(a){var i,l,b=[];for(i=0,l=this.length;i<l;i++){K.find(a,this[i],b);}return K(b);},filter:function(a){if(typeof a=='function'){return K(P(this.toArray(),function(b,i){return a(i,b);}));}return K(K.filter(a,this.toArray()));},closest:function(a){var b=[];if(a instanceof K){a=a[0];}this.each(function(i,l){while(l){if(typeof a=='string'&&K(l).is(a)){b.push(l);break;}else if(l==a){b.push(l);break;}l=l.parentNode;}});return K(b);},offset:function(a){var b,e,i;var x=0,y=0,l;if(!a){b=this[0];if(b){e=b.ownerDocument;i=e.documentElement;if(b.getBoundingClientRect){l=b.getBoundingClientRect();x=l.left+(i.scrollLeft||e.body.scrollLeft)-i.clientLeft;y=l.top+(i.scrollTop||e.body.scrollTop)-i.clientTop;}}return{left:x,top:y};}return this.css(a);},push:p,sort:[].sort,splice:[].splice};T.extend(K,{extend:T.extend,makeArray:function(a){if(k(a)||a.nodeType){return[a];}return T.toArray(a);},inArray:L,isArray:T.isArray,each:O,trim:N,grep:P,find:S,expr:S.selectors,unique:S.uniqueSort,text:S.getText,contains:S.contains,filter:function(a,b,l){var i=b.length;if(l){a=":not("+a+")";}while(i--){if(b[i].nodeType!=1){b.splice(i,1);}}if(b.length===1){b=K.find.matchesSelector(b[0],a)?[b[0]]:[];}else{b=K.find.matches(a,b);}return b;}});function R(a,b,i){var l=[],x=a[b];if(typeof i!='string'&&i instanceof K){i=i[0];}while(x&&x.nodeType!==9){if(i!==z){if(x===i){break;}if(typeof i=='string'&&K(x).is(i)){break;}}if(x.nodeType===1){l.push(x);}x=x[b];}return l;}function U(a,b,i,l){var x=[];if(l instanceof K){l=l[0];}for(;a;a=a[b]){if(i&&a.nodeType!==i){continue;}if(l!==z){if(a===l){break;}if(typeof l=='string'&&K(a).is(l)){break;}}x.push(a);}return x;}function V(a,b,i){for(a=a[b];a;a=a[b]){if(a.nodeType==i){return a;}}return null;}O({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null;},parents:function(a){return R(a,"parentNode");},next:function(a){return V(a,'nextSibling',1);},prev:function(a){return V(a,'previousSibling',1);},children:function(a){return U(a.firstChild,'nextSibling',1);},contents:function(a){return T.toArray((a.nodeName==="iframe"?a.contentDocument||a.contentWindow.document:a).childNodes);}},function(a,b){K.fn[a]=function(i){var l=this,x=[];l.each(function(){var y=b.call(x,this,i,x);if(y){if(K.isArray(y)){x.push.apply(x,y);}else{x.push(y);}}});if(this.length>1){if(!g[a]){x=K.unique(x);}if(a.indexOf('parents')===0){x=x.reverse();}}x=K(x);if(i){return x.filter(i);}return x;};});O({parentsUntil:function(a,b){return R(a,"parentNode",b);},nextUntil:function(a,b){return U(a,'nextSibling',1,b).slice(1);},prevUntil:function(a,b){return U(a,'previousSibling',1,b).slice(1);}},function(a,b){K.fn[a]=function(i,l){var x=this,y=[];x.each(function(){var X=b.call(y,this,i,y);if(X){if(K.isArray(X)){y.push.apply(y,X);}else{y.push(X);}}});if(this.length>1){y=K.unique(y);if(a.indexOf('parents')===0||a==='prevUntil'){y=y.reverse();}}y=K(y);if(l){return y.filter(l);}return y;};});K.fn.is=function(a){return!!a&&this.filter(a).length>0;};K.fn.init.prototype=K.fn;K.overrideDefaults=function(a){var b;function i(l,x){b=b||a();if(arguments.length===0){l=b.element;}if(!x){x=b.context;}return new i.fn.init(l,x);}K.extend(i,this);return i;};function W(a,b,i){O(i,function(l,x){a[l]=a[l]||{};a[l][b]=x;});}if(d.ie&&d.ie<8){W(I,'get',{maxlength:function(a){var b=a.maxLength;if(b===0x7fffffff){return u;}return b;},size:function(a){var b=a.size;if(b===20){return u;}return b;},'class':function(a){return a.className;},style:function(a){var b=a.style.cssText;if(b.length===0){return u;}return b;}});W(I,'set',{'class':function(a,b){a.className=b;},style:function(a,b){a.style.cssText=b;}});}if(d.ie&&d.ie<9){H['float']='styleFloat';W(J,'set',{opacity:function(a,b){var i=a.style;if(b===null||b===''){i.removeAttribute('filter');}else{i.zoom=1;i.filter='alpha(opacity='+(b*100)+')';}}});}K.attrHooks=I;K.cssHooks=J;return K;});C("tinymce/html/Styles",[],function(){return function(s,d){var e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,t=/\s+$/,i,h={},j,v,k,m='\uFEFF';s=s||{};if(d){v=d.getValidStyles();k=d.getInvalidStyles();}j=('\\" \\\' \\; \\: ; : '+m).split(' ');for(i=0;i<j.length;i++){h[j[i]]=m+i;h[m+i]=j[i];}function n(a,r,g,b){function c(l){l=parseInt(l,10).toString(16);return l.length>1?l:'0'+l;}return'#'+c(r)+c(g)+c(b);}return{toHex:function(c){return c.replace(e,n);},parse:function(g){var l={},o,p,r,w,x=s.url_converter;var y=s.url_converter_scope||this;function G(a,b,c){var O,P,Q,R;O=l[a+'-top'+b];if(!O){return;}P=l[a+'-right'+b];if(!P){return;}Q=l[a+'-bottom'+b];if(!Q){return;}R=l[a+'-left'+b];if(!R){return;}var S=[O,P,Q,R];i=S.length-1;while(i--){if(S[i]!==S[i+1]){break;}}if(i>-1&&c){return;}l[a+b]=i==-1?S[0]:S.join(' ');delete l[a+'-top'+b];delete l[a+'-right'+b];delete l[a+'-bottom'+b];delete l[a+'-left'+b];}function H(a){var r=l[a],i;if(!r){return;}r=r.split(' ');i=r.length;while(i--){if(r[i]!==r[0]){return false;}}l[a]=r[0];return true;}function I(O,a,b,c){if(!H(a)){return;}if(!H(b)){return;}if(!H(c)){return;}l[O]=l[a]+' '+l[b]+' '+l[c];delete l[a];delete l[b];delete l[c];}function J(a){w=true;return h[a];}function K(a,b){if(w){a=a.replace(/\uFEFF[0-9]/g,function(a){return h[a];});}if(!b){a=a.replace(/\\([\'\";:])/g,"$1");}return a;}function L(a){return String.fromCharCode(parseInt(a.slice(1),16));}function M(r){return r.replace(/\\[0-9a-f]+/gi,L);}function N(a,b,c,O,P,Q){P=P||Q;if(P){P=K(P);return"'"+P.replace(/\'/g,"\\'")+"'";}b=K(b||c||O);if(!s.allow_script_urls){var R=b.replace(/[\s\r\n]+/g,'');if(/(java|vb)script:/i.test(R)){return"";}if(!s.allow_svg_data_urls&&/^data:image\/svg/i.test(R)){return"";}}if(x){b=x.call(y,b,'style');}return"url('"+b.replace(/\'/g,"\\'")+"')";}if(g){g=g.replace(/[\u0000-\u001F]/g,'');g=g.replace(/\\[\"\';:\uFEFF]/g,J).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,J);});while((o=f.exec(g))){f.lastIndex=o.index+o[0].length;p=o[1].replace(t,'').toLowerCase();r=o[2].replace(t,'');if(p&&r){p=M(p);r=M(r);if(p.indexOf(m)!==-1||p.indexOf('"')!==-1){continue;}if(!s.allow_script_urls&&(p=="behavior"||/expression\s*\(|\/\*|\*\//.test(r))){continue;}if(p==='font-weight'&&r==='700'){r='bold';}else if(p==='color'||p==='background-color'){r=r.toLowerCase();}r=r.replace(e,n);r=r.replace(u,N);l[p]=w?K(r,true):r;}}G("border","",true);G("border","-width");G("border","-color");G("border","-style");G("padding","");G("margin","");I('border','border-width','border-style','border-color');if(l.border==='medium none'){delete l.border;}if(l['border-image']==='none'){delete l['border-image'];}}return l;},serialize:function(a,b){var c='',g,o;function p(g){var w,i,l,o;w=v[g];if(w){for(i=0,l=w.length;i<l;i++){g=w[i];o=a[g];if(o){c+=(c.length>0?' ':'')+g+': '+o+';';}}}}function r(g,b){var l;l=k['*'];if(l&&l[g]){return false;}l=k[b];if(l&&l[g]){return false;}return true;}if(b&&v){p('*');p(b);}else{for(g in a){o=a[g];if(o&&(!k||r(g,b))){c+=(c.length>0?' ':'')+g+': '+o+';';}}}return c;}};};});C("tinymce/dom/TreeWalker",[],function(){return function(s,r){var n=s;function f(n,b,c,d){var e,p;if(n){if(!d&&n[b]){return n[b];}if(n!=r){e=n[c];if(e){return e;}for(p=n.parentNode;p&&p!=r;p=p.parentNode){e=p[c];if(e){return e;}}}}}function a(n,b,c,d){var e,p,g;if(n){e=n[c];if(r&&e===r){return;}if(e){if(!d){for(g=e[b];g;g=g[b]){if(!g[b]){return g;}}}return e;}p=n.parentNode;if(p&&p!==r){return p;}}}this.current=function(){return n;};this.next=function(b){n=f(n,'firstChild','nextSibling',b);return n;};this.prev=function(b){n=f(n,'lastChild','previousSibling',b);return n;};this.prev2=function(b){n=a(n,'lastChild','previousSibling',b);return n;};};});C("tinymce/dom/Range",["tinymce/util/Tools"],function(T){function R(d){var a=this,b=d.doc,e=0,g=1,i=2,j=true,k=false,S='startOffset',l='startContainer',m='endContainer',t='endOffset',u=T.extend,v=d.nodeIndex;function w(){return b.createDocumentFragment();}function x(n,o){Z(j,n,o);}function y(n,o){Z(k,n,o);}function G(n){x(n.parentNode,v(n));}function H(n){x(n.parentNode,v(n)+1);}function I(n){y(n.parentNode,v(n));}function J(n){y(n.parentNode,v(n)+1);}function K(c){if(c){a[m]=a[l];a[t]=a[S];}else{a[l]=a[m];a[S]=a[t];}a.collapsed=j;}function L(n){G(n);J(n);}function M(n){x(n,0);y(n,n.nodeType===1?n.childNodes.length:n.nodeValue.length);}function N(h,r){var s=a[l],c=a[S],f=a[m],n=a[t],o=r.startContainer,p=r.startOffset,j1=r.endContainer,k1=r.endOffset;if(h===0){return Y(s,c,o,p);}if(h===1){return Y(f,n,o,p);}if(h===2){return Y(f,n,j1,k1);}if(h===3){return Y(s,c,j1,k1);}}function O(){$(i);}function P(){return $(e);}function Q(){return $(g);}function U(n){var s=this[l],c=this[S],f,o;if((s.nodeType===3||s.nodeType===4)&&s.nodeValue){if(!c){s.parentNode.insertBefore(n,s);}else if(c>=s.nodeValue.length){d.insertAfter(n,s);}else{f=s.splitText(c);s.parentNode.insertBefore(n,f);}}else{if(s.childNodes.length>0){o=s.childNodes[c];}if(o){s.insertBefore(n,o);}else{if(s.nodeType==3){d.insertAfter(n,s);}else{s.appendChild(n);}}}}function V(n){var f=a.extractContents();a.insertNode(n);n.appendChild(f);a.selectNode(n);}function W(){return u(new R(d),{startContainer:a[l],startOffset:a[S],endContainer:a[m],endOffset:a[t],collapsed:a.collapsed,commonAncestorContainer:a.commonAncestorContainer});}function _(c,o){var f;if(c.nodeType==3){return c;}if(o<0){return c;}f=c.firstChild;while(f&&o>0){--o;f=f.nextSibling;}if(f){return f;}return c;}function X(){return(a[l]==a[m]&&a[S]==a[t]);}function Y(f,o,h,p){var c,r,n,s,j1,k1;if(f==h){if(o==p){return 0;}if(o<p){return-1;}return 1;}c=h;while(c&&c.parentNode!=f){c=c.parentNode;}if(c){r=0;n=f.firstChild;while(n!=c&&r<o){r++;n=n.nextSibling;}if(o<=r){return-1;}return 1;}c=f;while(c&&c.parentNode!=h){c=c.parentNode;}if(c){r=0;n=h.firstChild;while(n!=c&&r<p){r++;n=n.nextSibling;}if(r<p){return-1;}return 1;}s=d.findCommonAncestor(f,h);j1=f;while(j1&&j1.parentNode!=s){j1=j1.parentNode;}if(!j1){j1=s;}k1=h;while(k1&&k1.parentNode!=s){k1=k1.parentNode;}if(!k1){k1=s;}if(j1==k1){return 0;}n=s.firstChild;while(n){if(n==j1){return-1;}if(n==k1){return 1;}n=n.nextSibling;}}function Z(s,n,o){var c,f;if(s){a[l]=n;a[S]=o;}else{a[m]=n;a[t]=o;}c=a[m];while(c.parentNode){c=c.parentNode;}f=a[l];while(f.parentNode){f=f.parentNode;}if(f==c){if(Y(a[l],a[S],a[m],a[t])>0){a.collapse(s);}}else{a.collapse(s);}a.collapsed=X();a.commonAncestorContainer=d.findCommonAncestor(a[l],a[m]);}function $(h){var c,f=0,s=0,p,n,o,r,sp,ep;if(a[l]==a[m]){return a1(h);}for(c=a[m],p=c.parentNode;p;c=p,p=p.parentNode){if(p==a[l]){return b1(c,h);}++f;}for(c=a[l],p=c.parentNode;p;c=p,p=p.parentNode){if(p==a[m]){return c1(c,h);}++s;}n=s-f;o=a[l];while(n>0){o=o.parentNode;n--;}r=a[m];while(n<0){r=r.parentNode;n++;}for(sp=o.parentNode,ep=r.parentNode;sp!=ep;sp=sp.parentNode,ep=ep.parentNode){o=sp;r=ep;}return d1(o,r,h);}function a1(h){var f,s,c,n,o,p,r,j1,k1;if(h!=i){f=w();}if(a[S]==a[t]){return f;}if(a[l].nodeType==3){s=a[l].nodeValue;c=s.substring(a[S],a[t]);if(h!=g){n=a[l];j1=a[S];k1=a[t]-a[S];if(j1===0&&k1>=n.nodeValue.length-1){n.parentNode.removeChild(n);}else{n.deleteData(j1,k1);}a.collapse(j);}if(h==i){return;}if(c.length>0){f.appendChild(b.createTextNode(c));}return f;}n=_(a[l],a[S]);o=a[t]-a[S];while(n&&o>0){p=n.nextSibling;r=h1(n,h);if(f){f.appendChild(r);}--o;n=p;}if(h!=g){a.collapse(j);}return f;}function b1(c,h){var f,n,o,p,s,r;if(h!=i){f=w();}n=e1(c,h);if(f){f.appendChild(n);}o=v(c);p=o-a[S];if(p<=0){if(h!=g){a.setEndBefore(c);a.collapse(k);}return f;}n=c.previousSibling;while(p>0){s=n.previousSibling;r=h1(n,h);if(f){f.insertBefore(r,f.firstChild);}--p;n=s;}if(h!=g){a.setEndBefore(c);a.collapse(k);}return f;}function c1(s,h){var f,c,n,o,p,r;if(h!=i){f=w();}n=f1(s,h);if(f){f.appendChild(n);}c=v(s);++c;o=a[t]-c;n=s.nextSibling;while(n&&o>0){p=n.nextSibling;r=h1(n,h);if(f){f.appendChild(r);}--o;n=p;}if(h!=g){a.setStartAfter(s);a.collapse(j);}return f;}function d1(s,c,h){var n,f,o,p,r,j1,k1;if(h!=i){f=w();}n=f1(s,h);if(f){f.appendChild(n);}o=v(s);p=v(c);++o;r=p-o;j1=s.nextSibling;while(r>0){k1=j1.nextSibling;n=h1(j1,h);if(f){f.appendChild(n);}j1=k1;--r;}n=e1(c,h);if(f){f.appendChild(n);}if(h!=g){a.setStartAfter(s);a.collapse(j);}return f;}function e1(r,h){var n=_(a[m],a[t]-1),p,c;var f,o,s,j1=n!=a[m];if(n==r){return g1(n,j1,k,h);}p=n.parentNode;c=g1(p,k,k,h);while(p){while(n){f=n.previousSibling;o=g1(n,j1,k,h);if(h!=i){c.insertBefore(o,c.firstChild);}j1=j;n=f;}if(p==r){return c;}n=p.previousSibling;p=p.parentNode;s=g1(p,k,k,h);if(h!=i){s.appendChild(c);}c=s;}}function f1(r,h){var n=_(a[l],a[S]),c=n!=a[l];var p,f,o,s,j1;if(n==r){return g1(n,c,j,h);}p=n.parentNode;f=g1(p,k,j,h);while(p){while(n){o=n.nextSibling;s=g1(n,c,j,h);if(h!=i){f.appendChild(s);}c=j;n=o;}if(p==r){return f;}n=p.nextSibling;p=p.parentNode;j1=g1(p,k,j,h);if(h!=i){j1.appendChild(f);}f=j1;}}function g1(n,c,f,h){var o,p,r,s,j1;if(c){return h1(n,h);}if(n.nodeType==3){o=n.nodeValue;if(f){s=a[S];p=o.substring(s);r=o.substring(0,s);}else{s=a[t];p=o.substring(0,s);r=o.substring(s);}if(h!=g){n.nodeValue=r;}if(h==i){return;}j1=d.clone(n,k);j1.nodeValue=p;return j1;}if(h==i){return;}return d.clone(n,k);}function h1(n,h){if(h!=i){return h==g?d.clone(n,j):n;}n.parentNode.removeChild(n);}function i1(){return d.create('body',null,Q()).outerText;}u(a,{startContainer:b,startOffset:0,endContainer:b,endOffset:0,collapsed:j,commonAncestorContainer:b,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:x,setEnd:y,setStartBefore:G,setStartAfter:H,setEndBefore:I,setEndAfter:J,collapse:K,selectNode:L,selectNodeContents:M,compareBoundaryPoints:N,deleteContents:O,extractContents:P,cloneContents:Q,insertNode:U,surroundContents:V,cloneRange:W,toStringIE:i1});return a;}R.prototype.toString=function(){return this.toStringIE();};return R;});C("tinymce/html/Entities",["tinymce/util/Tools"],function(T){var m=T.makeMap;var n,b,r,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,e=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};b={'\"':'&quot;',"'":'&#39;','<':'&lt;','>':'&gt;','&':'&amp;','\u0060':'&#96;'};r={'&lt;':'<','&gt;':'>','&amp;':'&','&quot;':'"','&apos;':"'"};function f(i){var j;j=document.createElement("div");j.innerHTML=i;return j.textContent||j.innerText||i;}function g(j,k){var i,l,o,p={};if(j){j=j.split(',');k=k||10;for(i=0;i<j.length;i+=2){l=String.fromCharCode(parseInt(j[i],k));if(!b[l]){o='&'+j[i+1]+';';p[l]=o;p[o]=l;}}return p;}}n=g('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,'+'5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,'+'5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,'+'5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,'+'68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,'+'6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,'+'6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,'+'75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,'+'7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,'+'7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,'+'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,'+'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,'+'t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,'+'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,'+'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,'+'81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,'+'8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,'+'8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,'+'8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,'+'8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,'+'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,'+'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,'+'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,'+'80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,'+'811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro',32);var h={encodeRaw:function(i,j){return i.replace(j?a:t,function(k){return b[k]||k;});},encodeAllRaw:function(i){return(''+i).replace(c,function(j){return b[j]||j;});},encodeNumeric:function(i,j){return i.replace(j?a:t,function(k){if(k.length>1){return'&#'+(((k.charCodeAt(0)-0xD800)*0x400)+(k.charCodeAt(1)-0xDC00)+0x10000)+';';}return b[k]||'&#'+k.charCodeAt(0)+';';});},encodeNamed:function(i,j,k){k=k||n;return i.replace(j?a:t,function(l){return b[l]||k[l]||l;});},getEncodeFunc:function(i,j){j=g(j)||n;function k(o,p){return o.replace(p?a:t,function(s){return b[s]||j[s]||'&#'+s.charCodeAt(0)+';'||s;});}function l(o,p){return h.encodeNamed(o,p,j);}i=m(i.replace(/\+/g,','));if(i.named&&i.numeric){return k;}if(i.named){if(j){return l;}return h.encodeNamed;}if(i.numeric){return h.encodeNumeric;}return h.encodeRaw;},decode:function(i){return i.replace(e,function(j,k){if(k){if(k.charAt(0).toLowerCase()==='x'){k=parseInt(k.substr(1),16);}else{k=parseInt(k,10);}if(k>0xFFFF){k-=0x10000;return String.fromCharCode(0xD800+(k>>10),0xDC00+(k&0x3FF));}return d[k]||String.fromCharCode(k);}return r[j]||n[j]||f(j);});}};return h;});C("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(T,a){"use strict";return function(d,s){var b=0,l={},m;s=s||{};m=s.maxLoadTime||5000;function c(n){d.getElementsByTagName('head')[0].appendChild(n);}function e(u,f,g){var h,j,k,n;function p(){var x=n.passed,i=x.length;while(i--){x[i]();}n.status=2;n.passed=[];n.failed=[];}function o(){var x=n.failed,i=x.length;while(i--){x[i]();}n.status=3;n.passed=[];n.failed=[];}function r(){var i=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(i&&i[1]<536);}function w(i,x){if(!i()){if((new Date().getTime())-k<m){a.setTimeout(x);}else{o();}}}function t(){w(function(){var x=d.styleSheets,y,i=x.length,G;while(i--){y=x[i];G=y.ownerNode?y.ownerNode:y.owningElement;if(G&&G.id===h.id){p();return true;}}},t);}function v(){w(function(){try{var i=j.sheet.cssRules;p();return!!i;}catch(x){}},v);}u=T._addCacheSuffix(u);if(!l[u]){n={passed:[],failed:[]};l[u]=n;}else{n=l[u];}if(f){n.passed.push(f);}if(g){n.failed.push(g);}if(n.status==1){return;}if(n.status==2){p();return;}if(n.status==3){o();return;}n.status=1;h=d.createElement('link');h.rel='stylesheet';h.type='text/css';h.id='u'+(b++);h.async=false;h.defer=false;k=new Date().getTime();if("onload"in h&&!r()){h.onload=t;h.onerror=o;}else{if(navigator.userAgent.indexOf("Firefox")>0){j=d.createElement('style');j.textContent='@import "'+u+'"';v();c(j);return;}t();}c(h);h.href=u;}this.load=e;};});C("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(S,$,c,d,T,R,f,g,j,k){var l=j.each,m=j.is,n=j.grep,t=j.trim;var o=g.ie;var s=/^([a-z0-9],?)+$/i;var p=/^[ \t\r\n]*$/;function u(a,b){var e={},h=b.keep_values,i;i={set:function(r,w,x){if(b.url_converter){w=b.url_converter.call(b.url_converter_scope||a,w,x,r[0]);}r.attr('data-mce-'+x,w).attr(x,w);},get:function(r,w){return r.attr('data-mce-'+w)||r.attr(w);}};e={style:{set:function(r,w){if(w!==null&&typeof w==='object'){r.css(w);return;}if(h){r.attr('data-mce-style',w);}r.attr('style',w);},get:function(r){var w=r.attr('data-mce-style')||r.attr('style');w=a.serializeStyle(a.parseStyle(w),r[0].nodeName);return w;}}};if(h){e.href=e.src=i;}return e;}function v(a,b){var e=b.attr('style');e=a.serializeStyle(a.parseStyle(e),b[0].nodeName);if(!e){e=null;}b.attr('data-mce-style',e);}function G(a,b){var i=0,e,h;if(a){for(e=a.nodeType,a=a.previousSibling;a;a=a.previousSibling){h=a.nodeType;if(b&&h==3){if(h==e||!a.nodeValue.length){continue;}}i++;e=h;}}return i;}function H(a,b){var e=this,h;e.doc=a;e.win=window;e.files={};e.counter=0;e.stdMode=!o||a.documentMode>=8;e.boxModel=!o||a.compatMode=="CSS1Compat"||e.stdMode;e.styleSheetLoader=new k(a);e.boundEvents=[];e.settings=b=b||{};e.schema=b.schema;e.styles=new c({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);e.fixDoc(a);e.events=b.ownEvents?new d(b.proxy):d.Event;e.attrHooks=u(e,b);h=b.schema?b.schema.getBlockElements():{};e.$=$.overrideDefaults(function(){return{context:a,element:e.getRoot()};});e.isBlock=function(i){if(!i){return false;}var r=i.nodeType;if(r){return!!(r===1&&h[i.nodeName]);}return!!h[i];};}H.prototype={$$:function(e){if(typeof e=='string'){e=this.get(e);}return this.$(e);},root:null,fixDoc:function(a){var b=this.settings,e;if(o&&b.schema){('abbr article aside audio canvas '+'details figcaption figure footer '+'header hgroup mark menu meter nav '+'output progress section summary '+'time video').replace(/\w+/g,function(e){a.createElement(e);});for(e in b.schema.getCustomElements()){a.createElement(e);}}},clone:function(a,b){var e=this,h,i;if(!o||a.nodeType!==1||b){return a.cloneNode(b);}i=e.doc;if(!b){h=i.createElement(a.nodeName);l(e.getAttribs(a),function(r){e.setAttrib(h,r.nodeName,e.getAttrib(a,r.nodeName));});return h;}return h.firstChild;},getRoot:function(){var a=this;return a.settings.root_element||a.doc.body;},getViewPort:function(w){var a,r;w=!w?this.win:w;a=w.document;r=this.boxModel?a.documentElement:a.body;return{x:w.pageXOffset||r.scrollLeft,y:w.pageYOffset||r.scrollTop,w:w.innerWidth||r.clientWidth,h:w.innerHeight||r.clientHeight};},getRect:function(e){var a=this,b,h;e=a.get(e);b=a.getPos(e);h=a.getSize(e);return{x:b.x,y:b.y,w:h.w,h:h.h};},getSize:function(e){var a=this,w,h;e=a.get(e);w=a.getStyle(e,'width');h=a.getStyle(e,'height');if(w.indexOf('px')===-1){w=0;}if(h.indexOf('px')===-1){h=0;}return{w:parseInt(w,10)||e.offsetWidth||e.clientWidth,h:parseInt(h,10)||e.offsetHeight||e.clientHeight};},getParent:function(a,b,r){return this.getParents(a,b,r,false);},getParents:function(a,b,r,e){var h=this,i,w=[];a=h.get(a);e=e===z;r=r||(h.getRoot().nodeName!='BODY'?h.getRoot().parentNode:null);if(m(b,'string')){i=b;if(b==='*'){b=function(a){return a.nodeType==1;};}else{b=function(a){return h.is(a,i);};}}while(a){if(a==r||!a.nodeType||a.nodeType===9){break;}if(!b||b(a)){if(e){w.push(a);}else{return a;}}a=a.parentNode;}return e?w:null;},get:function(e){var a;if(e&&this.doc&&typeof e=='string'){a=e;e=this.doc.getElementById(e);if(e&&e.id!==a){return this.doc.getElementsByName(a)[1];}}return e;},getNext:function(a,b){return this._findSib(a,b,'nextSibling');},getPrev:function(a,b){return this._findSib(a,b,'previousSibling');},select:function(a,b){var e=this;return S(a,e.get(b)||e.settings.root_element||e.doc,[]);},is:function(e,a){var i;if(e.length===z){if(a==='*'){return e.nodeType==1;}if(s.test(a)){a=a.toLowerCase().split(/,/);e=e.nodeName.toLowerCase();for(i=a.length-1;i>=0;i--){if(a[i]==e){return true;}}return false;}}if(e.nodeType&&e.nodeType!=1){return false;}var b=e.nodeType?[e]:e;return S(a,b[0].ownerDocument||b[0],null,b).length>0;},add:function(a,b,e,h,i){var r=this;return this.run(a,function(a){var w;w=m(b,'string')?r.doc.createElement(b):b;r.setAttribs(w,e);if(h){if(h.nodeType){w.appendChild(h);}else{r.setHTML(w,h);}}return!i?a.appendChild(w):w;});},create:function(a,b,h){return this.add(this.doc.createElement(a),a,b,h,1);},createHTML:function(a,b,h){var e='',i;e+='<'+a;for(i in b){if(b.hasOwnProperty(i)&&b[i]!==null&&typeof b[i]!='undefined'){e+=' '+i+'="'+this.encode(b[i])+'"';}}if(typeof h!="undefined"){return e+'>'+h+'</'+a+'>';}return e+' />';},createFragment:function(h){var a,b,e=this.doc,i;i=e.createElement("div");a=e.createDocumentFragment();if(h){i.innerHTML=h;}while((b=i.firstChild)){a.appendChild(b);}return a;},remove:function(a,b){a=this.$$(a);if(b){a.each(function(){var e;while((e=this.firstChild)){if(e.nodeType==3&&e.data.length===0){this.removeChild(e);}else{this.parentNode.insertBefore(e,this);}}}).remove();}else{a.remove();}return a.length>1?a.toArray():a[0];},setStyle:function(e,a,b){e=this.$$(e).css(a,b);if(this.settings.update_styles){v(this,e);}},getStyle:function(e,h,i){e=this.$$(e);if(i){return e.css(h);}h=h.replace(/-(\D)/g,function(a,b){return b.toUpperCase();});if(h=='float'){h=g.ie&&g.ie<12?'styleFloat':'cssFloat';}return e[0]&&e[0].style?e[0].style[h]:z;},setStyles:function(e,a){e=this.$$(e).css(a);if(this.settings.update_styles){v(this,e);}},removeAllAttribs:function(e){return this.run(e,function(e){var i,a=e.attributes;for(i=a.length-1;i>=0;i--){e.removeAttributeNode(a.item(i));}});},setAttrib:function(e,a,b){var h=this,i,r,w=h.settings;if(b===''){b=null;}e=h.$$(e);i=e.attr(a);if(!e.length){return;}r=h.attrHooks[a];if(r&&r.set){r.set(e,b,a);}else{e.attr(a,b);}if(i!=b&&w.onSetAttrib){w.onSetAttrib({attrElm:e,attrName:a,attrValue:b});}},setAttribs:function(e,a){var b=this;b.$$(e).each(function(i,h){l(a,function(r,w){b.setAttrib(h,w,r);});});},getAttrib:function(e,a,b){var h=this,i,r;e=h.$$(e);if(e.length){i=h.attrHooks[a];if(i&&i.get){r=i.get(e,a);}else{r=e.attr(a);}}if(typeof r=='undefined'){r=b||'';}return r;},getPos:function(e,r){var a=this,x=0,y=0,b,h=a.doc,i=h.body,w;e=a.get(e);r=r||i;if(e){if(r===i&&e.getBoundingClientRect&&$(i).css('position')==='static'){w=e.getBoundingClientRect();r=a.boxModel?h.documentElement:i;x=w.left+(h.documentElement.scrollLeft||i.scrollLeft)-r.clientLeft;y=w.top+(h.documentElement.scrollTop||i.scrollTop)-r.clientTop;return{x:x,y:y};}b=e;while(b&&b!=r&&b.nodeType){x+=b.offsetLeft||0;y+=b.offsetTop||0;b=b.offsetParent;}b=e.parentNode;while(b&&b!=r&&b.nodeType){x-=b.scrollLeft||0;y-=b.scrollTop||0;b=b.parentNode;}}return{x:x,y:y};},parseStyle:function(a){return this.styles.parse(a);},serializeStyle:function(a,b){return this.styles.serialize(a,b);},addStyle:function(a){var b=this,e=b.doc,h,i;if(b!==H.DOM&&e===document){var r=H.DOM.addedStyles;r=r||[];if(r[a]){return;}r[a]=true;H.DOM.addedStyles=r;}i=e.getElementById('mceDefaultStyles');if(!i){i=e.createElement('style');i.id='mceDefaultStyles';i.type='text/css';h=e.getElementsByTagName('head')[0];if(h.firstChild){h.insertBefore(i,h.firstChild);}else{h.appendChild(i);}}if(i.styleSheet){i.styleSheet.cssText+=a;}else{i.appendChild(e.createTextNode(a));}},loadCSS:function(a){var b=this,e=b.doc,h;if(b!==H.DOM&&e===document){H.DOM.loadCSS(a);return;}if(!a){a='';}h=e.getElementsByTagName('head')[0];l(a.split(','),function(a){var i;a=j._addCacheSuffix(a);if(b.files[a]){return;}b.files[a]=true;i=b.create('link',{rel:'stylesheet',href:a});if(o&&e.documentMode&&e.recalc){i.onload=function(){if(e.recalc){e.recalc();}i.onload=null;};}h.appendChild(i);});},addClass:function(e,a){this.$$(e).addClass(a);},removeClass:function(e,a){this.toggleClass(e,a,false);},hasClass:function(e,a){return this.$$(e).hasClass(a);},toggleClass:function(e,a,b){this.$$(e).toggleClass(a,b).each(function(){if(this.className===''){$(this).attr('class',null);}});},show:function(e){this.$$(e).show();},hide:function(e){this.$$(e).hide();},isHidden:function(e){return this.$$(e).css('display')=='none';},uniqueId:function(a){return(!a?'mce_':a)+(this.counter++);},setHTML:function(e,h){e=this.$$(e);if(o){e.each(function(i,a){if(a.canHaveHTML===false){return;}while(a.firstChild){a.removeChild(a.firstChild);}try{a.innerHTML='<br>'+h;a.removeChild(a.firstChild);}catch(b){$('<div></div>').html('<br>'+h).contents().slice(1).appendTo(a);}return h;});}else{e.html(h);}},getOuterHTML:function(e){e=this.get(e);return e.nodeType==1&&"outerHTML"in e?e.outerHTML:$('<div></div>').append($(e).clone()).html();},setOuterHTML:function(e,h){var a=this;a.$$(e).each(function(){try{if("outerHTML"in this){this.outerHTML=h;return;}}catch(b){}a.remove($(this).html(h),true);});},decode:f.decode,encode:f.encodeAllRaw,insertAfter:function(a,r){r=this.get(r);return this.run(a,function(a){var b,e;b=r.parentNode;e=r.nextSibling;if(e){b.insertBefore(a,e);}else{b.appendChild(a);}return a;});},replace:function(a,b,e){var h=this;return h.run(b,function(b){if(m(b,'array')){a=a.cloneNode(true);}if(e){l(n(b.childNodes),function(i){a.appendChild(i);});}return b.parentNode.replaceChild(a,b);});},rename:function(e,a){var b=this,h;if(e.nodeName!=a.toUpperCase()){h=b.create(a);l(b.getAttribs(e),function(i){b.setAttrib(h,i.nodeName,b.getAttrib(e,i.nodeName));});b.replace(h,e,1);}return h||e;},findCommonAncestor:function(a,b){var e=a,h;while(e){h=b;while(h&&e!=h){h=h.parentNode;}if(e==h){break;}e=e.parentNode;}if(!e&&a.ownerDocument){return a.ownerDocument.documentElement;}return e;},toHex:function(r){return this.styles.toHex(j.trim(r));},run:function(e,a,b){var h=this,r;if(typeof e==='string'){e=h.get(e);}if(!e){return false;}b=b||this;if(!e.nodeType&&(e.length||e.length===0)){r=[];l(e,function(e,i){if(e){if(typeof e=='string'){e=h.get(e);}r.push(a.call(b,e,i));}});return r;}return a.call(b,e);},getAttribs:function(e){var b;e=this.get(e);if(!e){return[];}if(o){b=[];if(e.nodeName=='OBJECT'){return e.attributes;}if(e.nodeName==='OPTION'&&this.getAttrib(e,'selected')){b.push({specified:1,nodeName:'selected'});}var h=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;e.cloneNode(false).outerHTML.replace(h,'').replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a});});return b;}return e.attributes;},isEmpty:function(a,e){var b=this,i,h,r,w,x,y,I=0;a=a.firstChild;if(a){x=new T(a,a.parentNode);e=e||(b.schema?b.schema.getNonEmptyElements():null);w=b.schema?b.schema.getWhiteSpaceElements():{};do{r=a.nodeType;if(r===1){var J=a.getAttribute('data-mce-bogus');if(J){a=x.next(J==='all');continue;}y=a.nodeName.toLowerCase();if(e&&e[y]){if(y==='br'){I++;a=x.next();continue;}return false;}h=b.getAttribs(a);i=h.length;while(i--){y=h[i].nodeName;if(y==="name"||y==='data-mce-bookmark'){return false;}}}if(r==8){return false;}if(r===3&&!p.test(a.nodeValue)){return false;}if(r===3&&a.parentNode&&w[a.parentNode.nodeName]&&p.test(a.nodeValue)){return false;}a=x.next();}while(a);}return I<=1;},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new R(this);},nodeIndex:G,split:function(a,b,e){var h=this,r=h.createRng(),w,x,y;function I(J){var i,K=J.childNodes,L=J.nodeType;function M(J){var O=J.previousSibling&&J.previousSibling.nodeName=='SPAN';var P=J.nextSibling&&J.nextSibling.nodeName=='SPAN';return O&&P;}if(L==1&&J.getAttribute('data-mce-type')=='bookmark'){return;}for(i=K.length-1;i>=0;i--){I(K[i]);}if(L!=9){if(L==3&&J.nodeValue.length>0){var N=t(J.nodeValue).length;if(!h.isBlock(J.parentNode)||N>0||N===0&&M(J)){return;}}else if(L==1){K=J.childNodes;if(K.length==1&&K[0]&&K[0].nodeType==1&&K[0].getAttribute('data-mce-type')=='bookmark'){J.parentNode.insertBefore(K[0],J);}if(K.length||/^(br|hr|input|img)$/i.test(J.nodeName)){return;}}h.remove(J);}return J;}if(a&&b){r.setStart(a.parentNode,h.nodeIndex(a));r.setEnd(b.parentNode,h.nodeIndex(b));w=r.extractContents();r=h.createRng();r.setStart(b.parentNode,h.nodeIndex(b)+1);r.setEnd(a.parentNode,h.nodeIndex(a)+1);x=r.extractContents();y=a.parentNode;y.insertBefore(I(w),a);if(e){y.insertBefore(e,a);}else{y.insertBefore(b,a);}y.insertBefore(I(x),a);h.remove(a);return e||b;}},bind:function(a,b,e,h){var r=this;if(j.isArray(a)){var i=a.length;while(i--){a[i]=r.bind(a[i],b,e,h);}return a;}if(r.settings.collect&&(a===r.doc||a===r.win)){r.boundEvents.push([a,b,e,h]);}return r.events.bind(a,b,e,h||r);},unbind:function(a,b,e){var h=this,i;if(j.isArray(a)){i=a.length;while(i--){a[i]=h.unbind(a[i],b,e);}return a;}if(h.boundEvents&&(a===h.doc||a===h.win)){i=h.boundEvents.length;while(i--){var r=h.boundEvents[i];if(a==r[0]&&(!b||b==r[1])&&(!e||e==r[2])){this.events.unbind(r[0],r[1],r[2]);}}}return this.events.unbind(a,b,e);},fire:function(a,b,e){return this.events.fire(a,b,e);},getContentEditable:function(a){var b;if(!a||a.nodeType!=1){return null;}b=a.getAttribute("data-mce-contenteditable");if(b&&b!=="inherit"){return b;}return a.contentEditable!=="inherit"?a.contentEditable:null;},getContentEditableParent:function(a){var r=this.getRoot(),b=null;for(;a&&a!==r;a=a.parentNode){b=this.getContentEditable(a);if(b!==null){break;}}return b;},destroy:function(){var a=this;if(a.boundEvents){var i=a.boundEvents.length;while(i--){var b=a.boundEvents[i];this.events.unbind(b[0],b[1],b[2]);}a.boundEvents=null;}if(S.setDocument){S.setDocument();}a.win=a.doc=a.root=a.events=a.frag=null;},isChildOf:function(a,b){while(a){if(b===a){return true;}a=a.parentNode;}return false;},dumpRng:function(r){return('startContainer: '+r.startContainer.nodeName+', startOffset: '+r.startOffset+', endContainer: '+r.endContainer.nodeName+', endOffset: '+r.endOffset);},_findSib:function(a,b,e){var h=this,i=b;if(a){if(typeof i=='string'){i=function(a){return h.is(a,b);};}for(a=a[e];a;a=a[e]){if(i(a)){return a;}}}return null;}};H.DOM=new H(document);H.nodeIndex=G;return H;});C("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(a,T){var b=a.DOM;var e=T.each,g=T.grep;var i=function(f){return typeof f==='function';};function S(){var Q=0,L=1,c=2,d=3,s={},f=[],h={},j=[],l=0,u;function k(m,n,o){var p=b,r,t;function v(){p.remove(t);if(r){r.onreadystatechange=r.onload=r=null;}n();}function w(){if(i(o)){o();}else{if(typeof console!=="undefined"&&console.log){console.log("Failed to load script: "+m);}}}t=p.uniqueId();r=document.createElement('script');r.id=t;r.type='text/javascript';r.src=T._addCacheSuffix(m);if("onreadystatechange"in r){r.onreadystatechange=function(){if(/loaded|complete/.test(r.readyState)){v();}};}else{r.onload=v;}r.onerror=w;(document.getElementsByTagName('head')[0]||document.body).appendChild(r);}this.isDone=function(m){return s[m]==c;};this.markDone=function(m){s[m]=c;};this.add=this.load=function(m,n,o,p){var r=s[m];if(r==u){f.push(m);s[m]=Q;}if(n){if(!h[m]){h[m]=[];}h[m].push({success:n,failure:p,scope:o||this});}};this.remove=function(m){delete s[m];delete h[m];};this.loadQueue=function(m,n,o){this.loadScripts(f,m,n,o);};this.loadScripts=function(m,n,o,p){var r,t=[];function v(w,x){e(h[x],function(y){if(i(y[w])){y[w].call(y.scope);}});h[x]=u;}j.push({success:n,failure:p,scope:o||this});r=function(){var w=g(m);m.length=0;e(w,function(x){if(s[x]===c){v('success',x);return;}if(s[x]===d){v('failure',x);return;}if(s[x]!==L){s[x]=L;l++;k(x,function(){s[x]=c;l--;v('success',x);r();},function(){s[x]=d;l--;t.push(x);v('failure',x);r();});}});if(!l){e(j,function(x){if(t.length===0){if(i(x.success)){x.success.call(x.scope);}}else{if(i(x.failure)){x.failure.call(x.scope,t);}}});j.length=0;}};r();};}S.ScriptLoader=new S();return S;});C("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(S,T){var e=T.each;function a(){var s=this;s.items=[];s.urls={};s.lookup={};}a.prototype={get:function(n){if(this.lookup[n]){return this.lookup[n].instance;}return z;},dependencies:function(n){var r;if(this.lookup[n]){r=this.lookup[n].dependencies;}return r||[];},requireLangPack:function(n,l){var b=a.language;if(b&&a.languageLoad!==false){if(l){l=','+l+',';if(l.indexOf(','+b.substr(0,2)+',')!=-1){b=b.substr(0,2);}else if(l.indexOf(','+b+',')==-1){return;}}S.ScriptLoader.add(this.urls[n]+'/langs/'+b+'.js');}},add:function(i,b,d){this.items.push(b);this.lookup[i]={instance:b,dependencies:d};return b;},remove:function(n){delete this.urls[n];delete this.lookup[n];},createUrl:function(b,d){if(typeof d==="object"){return d;}return{prefix:b.prefix,resource:d,suffix:b.suffix};},addComponents:function(p,s){var b=this.urls[p];e(s,function(c){S.ScriptLoader.add(b+"/"+c);});},load:function(n,b,s,c,f){var d=this,u=b;function l(){var g=d.dependencies(n);e(g,function(h){var i=d.createUrl(b,h);d.load(i.resource,i,z,z);});if(s){if(c){s.call(c);}else{s.call(S);}}}if(d.urls[n]){return;}if(typeof b==="object"){u=b.prefix+b.resource+b.suffix;}if(u.indexOf('/')!==0&&u.indexOf('://')==-1){u=a.baseURL+'/'+u;}d.urls[n]=u.substring(0,u.lastIndexOf('/'));if(d.lookup[n]){l();}else{S.ScriptLoader.add(u,l,c,f);}}};a.PluginManager=new a();a.ThemeManager=new a();return a;});C("tinymce/dom/NodeType",[],function(){function a(t){return function(n){return!!n&&n.nodeType==t;};}var b=a(1);function m(n){n=n.toLowerCase().split(' ');return function(g){var i,j;if(g&&g.nodeType){j=g.nodeName.toLowerCase();for(i=0;i<n.length;i++){if(j===n[i]){return true;}}}return false;};}function c(n,v){v=v.toLowerCase().split(' ');return function(g){var i,j;if(b(g)){for(i=0;i<v.length;i++){j=getComputedStyle(g,null).getPropertyValue(n);if(j===v[i]){return true;}}}return false;};}function h(p,g){return function(n){return b(n)&&n[p]===g;};}function d(g,i){return function(n){return b(n)&&n.getAttribute(g)===i;};}function e(n){return b(n)&&n.hasAttribute('data-mce-bogus');}function f(v){return function(n){if(b(n)){if(n.contentEditable===v){return true;}if(n.getAttribute('data-mce-contenteditable')===v){return true;}}return false;};}return{isText:a(3),isElement:b,isComment:a(8),isBr:m('br'),isContentEditableTrue:f('true'),isContentEditableFalse:f('false'),matchNodeNames:m,hasPropValue:h,hasAttributeValue:d,matchStyleValues:c,isBogus:e};});C("tinymce/text/Zwsp",[],function(){var Z='\uFEFF';function i(c){return c==Z;}function t(s){return s.replace(new RegExp(Z,'g'),'');}return{isZwsp:i,ZWSP:Z,trim:t};});C("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(N,Z){var i=N.isElement,a=N.isText;function b(o){if(a(o)){o=o.parentNode;}return i(o)&&o.hasAttribute('data-mce-caret');}function c(o){return a(o)&&Z.isZwsp(o.data);}function d(o){return b(o)||c(o);}function r(o){var p=o.parentNode;if(p){p.removeChild(o);}}function g(o){try{return o.nodeValue;}catch(p){return"";}}function s(o,p){if(p.length===0){r(o);}else{o.nodeValue=p;}}function e(o,p){var u,v,w,x;u=o.ownerDocument;w=u.createTextNode(Z.ZWSP);x=o.parentNode;if(!p){v=o.nextSibling;if(a(v)){if(d(v)){return v;}if(l(v)){v.splitText(1);return v;}}if(o.nextSibling){x.insertBefore(w,o.nextSibling);}else{x.appendChild(w);}}else{v=o.previousSibling;if(a(v)){if(d(v)){return v;}if(m(v)){return v.splitText(v.data.length-1);}}x.insertBefore(w,o);}return w;}function f(){var o=document.createElement('br');o.setAttribute('data-mce-bogus','1');return o;}function h(o,p,u){var v,w,x;v=p.ownerDocument;w=v.createElement(o);w.setAttribute('data-mce-caret',u?'before':'after');w.setAttribute('data-mce-bogus','all');w.appendChild(f());x=p.parentNode;if(!u){if(p.nextSibling){x.insertBefore(w,p.nextSibling);}else{x.appendChild(w);}}else{x.insertBefore(w,p);}return w;}function j(o){return o.firstChild!==o.lastChild||!N.isBr(o.firstChild);}function k(o){if(i(o)&&d(o)){if(j(o)){o.removeAttribute('data-mce-caret');}else{r(o);}}if(a(o)){var p=Z.trim(g(o));s(o,p);}}function l(o){return a(o)&&o.data[0]==Z.ZWSP;}function m(o){return a(o)&&o.data[o.data.length-1]==Z.ZWSP;}function t(o){var p=o.getElementsByTagName('br');var u=p[p.length-1];if(N.isBogus(u)){u.parentNode.removeChild(u);}}function n(o){if(o&&o.hasAttribute('data-mce-caret')){t(o);o.removeAttribute('data-mce-caret');o.removeAttribute('data-mce-bogus');o.removeAttribute('style');o.removeAttribute('_moz_abspos');return o;}return null;}return{isCaretContainer:d,isCaretContainerBlock:b,isCaretContainerInline:c,showCaretContainerBlock:n,insertInline:e,insertBlock:h,hasContent:j,remove:k,startsWithCaretContainer:l,endsWithCaretContainer:m};});C("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(T,c,N,R,d){var e=T.each,i=N.isContentEditableTrue,f=N.isContentEditableFalse,g=d.isCaretContainer;function h(a){return i(a)||f(a);}function j(a,b){var s=a.childNodes;b--;if(b>s.length-1){b=s.length-1;}else if(b<0){b=0;}return s[b]||a;}function k(a,b,s){while(a&&a!==b){if(s(a)){return a;}a=a.parentNode;}return null;}function l(a,b,s){return k(a,b,s)!==null;}function m(a){return a.id==='_mce_caret';}function n(a,b){return g(a)&&l(a,b,m)===false;}function o(a){this.walk=function(b,s){var t=b.startContainer,u=b.startOffset,v=b.endContainer,w=b.endOffset,x,y,G,H,I,J,K;K=a.select('td[data-mce-selected],th[data-mce-selected]');if(K.length>0){e(K,function(H){s([H]);});return;}function L(K){var H;H=K[0];if(H.nodeType===3&&H===t&&u>=H.nodeValue.length){K.splice(0,1);}H=K[K.length-1];if(w===0&&K.length>0&&H===v&&H.nodeType===3){K.splice(K.length-1,1);}return K;}function M(H,Q,S){var J=[];for(;H&&H!=S;H=H[Q]){J.push(H);}return J;}function O(H,Q){do{if(H.parentNode==Q){return H;}H=H.parentNode;}while(H);}function P(Q,S,U){var V=U?'nextSibling':'previousSibling';for(H=Q,I=H.parentNode;H&&H!=S;H=I){I=H.parentNode;J=M(H==Q?H:H[V],V);if(J.length){if(!U){J.reverse();}s(L(J));}}}if(t.nodeType==1&&t.hasChildNodes()){t=t.childNodes[u];}if(v.nodeType==1&&v.hasChildNodes()){v=j(v,w);}if(t==v){return s(L([t]));}x=a.findCommonAncestor(t,v);for(H=t;H;H=H.parentNode){if(H===v){return P(t,x,true);}if(H===x){break;}}for(H=v;H;H=H.parentNode){if(H===t){return P(v,x);}if(H===x){break;}}y=O(t,x)||t;G=O(v,x)||v;P(t,y,true);J=M(y==t?y:y.nextSibling,'nextSibling',G==v?G.nextSibling:G);if(J.length){s(L(J));}P(v,G);};this.split=function(b){var s=b.startContainer,t=b.startOffset,u=b.endContainer,v=b.endOffset;function w(x,y){return x.splitText(y);}if(s==u&&s.nodeType==3){if(t>0&&t<s.nodeValue.length){u=w(s,t);s=u.previousSibling;if(v>t){v=v-t;s=u=w(u,v).previousSibling;v=u.nodeValue.length;t=0;}else{v=0;}}}else{if(s.nodeType==3&&t>0&&t<s.nodeValue.length){s=w(s,t);t=0;}if(u.nodeType==3&&v>0&&v<u.nodeValue.length){u=w(u,v).previousSibling;v=u.nodeValue.length;}}return{startContainer:s,startOffset:t,endContainer:u,endOffset:v};};this.normalize=function(b){var s,t;function u(v){var w,x,y,G=a.getRoot(),H,I;var J,K;function L(H){return H&&/^(TD|TH|CAPTION)$/.test(H.nodeName);}function M(H,S){var y=new c(H,a.getParent(H.parentNode,a.isBlock)||G);while((H=y[S?'prev':'next']())){if(H.nodeName==="BR"){return true;}}}function O(H){while(H&&H!=G){if(f(H)){return true;}H=H.parentNode;}return false;}function P(H,S){return H.previousSibling&&H.previousSibling.nodeName==S;}function Q(S,U){var y,V,W;U=U||w;W=a.getParent(U.parentNode,a.isBlock)||G;if(S&&U.nodeName=='BR'&&K&&a.isEmpty(W)){w=U.parentNode;x=a.nodeIndex(U);s=true;return;}y=new c(U,W);while((H=y[S?'prev':'next']())){if(a.getContentEditableParent(H)==="false"||n(H,a.getRoot())){return;}if(H.nodeType===3&&H.nodeValue.length>0){w=H;x=S?H.nodeValue.length:0;s=true;return;}if(a.isBlock(H)||I[H.nodeName.toLowerCase()]){return;}V=H;}if(t&&V){w=V;s=true;x=0;}}w=b[(v?'start':'end')+'Container'];x=b[(v?'start':'end')+'Offset'];K=w.nodeType==1&&x===w.childNodes.length;I=a.schema.getNonEmptyElements();J=v;if(g(w)){return;}if(w.nodeType==1&&x>w.childNodes.length-1){J=false;}if(w.nodeType===9){w=a.getRoot();x=0;}if(w===G){if(J){H=w.childNodes[x>0?x-1:0];if(H){if(g(H)){return;}if(I[H.nodeName]||H.nodeName=="TABLE"){return;}}}if(w.hasChildNodes()){x=Math.min(!J&&x>0?x-1:x,w.childNodes.length-1);w=w.childNodes[x];x=0;if(!t&&w===G.lastChild&&w.nodeName==='TABLE'){return;}if(O(w)||g(w)){return;}if(w.hasChildNodes()&&!/TABLE/.test(w.nodeName)){H=w;y=new c(w,G);do{if(f(H)||g(H)){s=false;break;}if(H.nodeType===3&&H.nodeValue.length>0){x=J?0:H.nodeValue.length;w=H;s=true;break;}if(I[H.nodeName.toLowerCase()]&&!L(H)){x=a.nodeIndex(H);w=H.parentNode;if(H.nodeName=="IMG"&&!J){x++;}s=true;break;}}while((H=(J?y.next():y.prev())));}}}if(t){if(w.nodeType===3&&x===0){Q(true);}if(w.nodeType===1){H=w.childNodes[x];if(!H){H=w.childNodes[x-1];}if(H&&H.nodeName==='BR'&&!P(H,'A')&&!M(H)&&!M(H,true)){Q(true,H);}}}if(J&&!t&&w.nodeType===3&&x===w.nodeValue.length){Q(false);}if(s){b['set'+(v?'Start':'End')](w,x);}}t=b.collapsed;u(true);if(!t){u();}if(s&&t){b.collapse(true);}return s;};}o.compareRanges=function(a,b){if(a&&b){if(a.item||a.duplicate){if(a.item&&b.item&&a.item(0)===b.item(0)){return true;}if(a.isEqual&&b.isEqual&&b.isEqual(a)){return true;}}else{return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;}}return false;};function p(s,t,u){var v,w,x;v=u.elementFromPoint(s,t);w=u.body.createTextRange();if(!v||v.tagName=='HTML'){v=u.body;}w.moveToElementText(v);x=T.toArray(w.getClientRects());x=x.sort(function(a,b){a=Math.abs(Math.max(a.top-t,a.bottom-t));b=Math.abs(Math.max(b.top-t,b.bottom-t));return a-b;});if(x.length>0){t=(x[0].bottom+x[0].top)/2;try{w.moveToPoint(s,t);w.collapse(true);return w;}catch(y){}}return null;}function r(a,b){var s=a&&a.parentElement?a.parentElement():null;return f(k(s,b,h))?null:a;}o.getCaretRangeFromPoint=function(a,b,s){var t,u;if(s.caretPositionFromPoint){u=s.caretPositionFromPoint(a,b);t=s.createRange();t.setStart(u.offsetNode,u.offset);t.collapse(true);}else if(s.caretRangeFromPoint){t=s.caretRangeFromPoint(a,b);}else if(s.body.createTextRange){t=s.body.createTextRange();try{t.moveToPoint(a,b);t.collapse(true);}catch(v){t=p(a,b,s);}return r(t,s.body);}return t;};o.getSelectedNode=function(a){var s=a.startContainer,b=a.startOffset;if(s.hasChildNodes()&&a.endOffset==b+1){return s.childNodes[b];}return null;};o.getNode=function(a,b){if(a.nodeType==1&&a.hasChildNodes()){if(b>=a.childNodes.length){b=a.childNodes.length-1;}a=a.childNodes[b];}return a;};return o;});C("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(R,a,b){return function(c){var l,d=[];function f(s){var i,e;e=c.$(s).parentsUntil(c.getBody()).add(s);if(e.length===d.length){for(i=e.length;i>=0;i--){if(e[i]!==d[i]){break;}}if(i===-1){d=e;return true;}}d=e;return false;}if(!('onselectionchange'in c.getDoc())){c.on('NodeChange Click MouseUp KeyUp Focus',function(e){var n,g;n=c.selection.getRng();g={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};if(e.type=='nodechange'||!R.compareRanges(g,l)){c.fire('SelectionChange');}l=g;});}c.on('contextmenu',function(){c.fire('SelectionChange');});c.on('SelectionChange',function(){var s=c.selection.getStart(true);if(!a.range&&c.selection.isCollapsed()){return;}if(!f(s)&&c.dom.isChildOf(s,c.getBody())){c.nodeChanged({selectionChange:true});}});c.on('MouseUp',function(e){if(!e.isDefaultPrevented()){if(c.selection.getNode().nodeName=='IMG'){b.setEditorTimeout(c,function(){c.nodeChanged();});}else{c.nodeChanged();}}});this.nodeChanged=function(e){var s=c.selection,n,p,r;if(c.initialized&&s&&!c.settings.disable_nodechange&&!c.readonly){r=c.getBody();n=s.getStart()||r;if(n.ownerDocument!=c.getDoc()||!c.dom.isChildOf(n,r)){n=r;}if(n.nodeName=='IMG'&&s.isCollapsed()){n=n.parentNode;}p=[];c.dom.getParent(n,function(n){if(n===r){return true;}p.push(n);});e=e||{};e.element=n;e.parents=p;c.fire('NodeChange',e);}};};});C("tinymce/html/Node",[],function(){var w=/^[ \t\r\n]*$/,t={'#text':3,'#comment':8,'#cdata':4,'#pi':7,'#doctype':10,'#document-fragment':11};function a(n,r,p){var s,b,c=p?'lastChild':'firstChild',d=p?'prev':'next';if(n[c]){return n[c];}if(n!==r){s=n[d];if(s){return s;}for(b=n.parent;b&&b!==r;b=b.parent){s=b[d];if(s){return s;}}}}function N(n,b){this.name=n;this.type=b;if(b===1){this.attributes=[];this.attributes.map={};}}N.prototype={replace:function(n){var s=this;if(n.parent){n.remove();}s.insert(n,s);s.remove();return s;},attr:function(n,v){var s=this,b,i,u;if(typeof n!=="string"){for(i in n){s.attr(i,n[i]);}return s;}if((b=s.attributes)){if(v!==u){if(v===null){if(n in b.map){delete b.map[n];i=b.length;while(i--){if(b[i].name===n){b=b.splice(i,1);return s;}}}return s;}if(n in b.map){i=b.length;while(i--){if(b[i].name===n){b[i].value=v;break;}}}else{b.push({name:n,value:v});}b.map[n]=v;return s;}return b.map[n];}},clone:function(){var s=this,c=new N(s.name,s.type),i,l,b,d,e;if((b=s.attributes)){e=[];e.map={};for(i=0,l=b.length;i<l;i++){d=b[i];if(d.name!=='id'){e[e.length]={name:d.name,value:d.value};e.map[d.name]=d.value;}}c.attributes=e;}c.value=s.value;c.shortEnded=s.shortEnded;return c;},wrap:function(b){var s=this;s.parent.insert(b,s);b.append(s);return s;},unwrap:function(){var s=this,n,b;for(n=s.firstChild;n;){b=n.next;s.insert(n,s,true);n=b;}s.remove();},remove:function(){var s=this,p=s.parent,n=s.next,b=s.prev;if(p){if(p.firstChild===s){p.firstChild=n;if(n){n.prev=null;}}else{b.next=n;}if(p.lastChild===s){p.lastChild=b;if(b){b.next=null;}}else{n.prev=b;}s.parent=s.next=s.prev=null;}return s;},append:function(n){var s=this,l;if(n.parent){n.remove();}l=s.lastChild;if(l){l.next=n;n.prev=l;s.lastChild=n;}else{s.lastChild=s.firstChild=n;}n.parent=s;return n;},insert:function(n,r,b){var p;if(n.parent){n.remove();}p=r.parent||this;if(b){if(r===p.firstChild){p.firstChild=n;}else{r.prev.next=n;}n.prev=r.prev;n.next=r;r.prev=n;}else{if(r===p.lastChild){p.lastChild=n;}else{r.next.prev=n;}n.next=r.next;n.prev=r;r.next=n;}n.parent=p;return n;},getAll:function(n){var s=this,b,c=[];for(b=s.firstChild;b;b=a(b,s)){if(b.name===n){c.push(b);}}return c;},empty:function(){var s=this,n,i,b;if(s.firstChild){n=[];for(b=s.firstChild;b;b=a(b,s)){n.push(b);}i=n.length;while(i--){b=n[i];b.parent=b.firstChild=b.lastChild=b.next=b.prev=null;}}s.firstChild=s.lastChild=null;return s;},isEmpty:function(e,b){var s=this,n=s.firstChild,i,c;b=b||{};if(n){do{if(n.type===1){if(n.attributes.map['data-mce-bogus']){continue;}if(e[n.name]){return false;}i=n.attributes.length;while(i--){c=n.attributes[i].name;if(c==="name"||c.indexOf('data-mce-bookmark')===0){return false;}}}if(n.type===8){return false;}if(n.type===3&&!w.test(n.value)){return false;}if(n.type===3&&n.parent&&b[n.parent.name]&&w.test(n.value)){return false;}}while((n=a(n,s)));}return true;},walk:function(p){return a(this,null,p);}};N.create=function(n,b){var c,d;c=new N(n,t[n]||1);if(b){for(d in b){c.attr(d,b[d]);}}return c;};return N;});C("tinymce/html/Schema",["tinymce/util/Tools"],function(T){var m={},d={};var a=T.makeMap,e=T.each,b=T.extend,c=T.explode,f=T.inArray;function s(i,j){i=T.trim(i);return i?i.split(j||' '):[];}function g(t){var j={},k,n;var p,o,r,u;function v(x,y,G){var H,I,J;function K(L,M){var N={},i,l;for(i=0,l=L.length;i<l;i++){N[L[i]]=M||{};}return N;}G=G||[];y=y||"";if(typeof G==="string"){G=s(G);}x=s(x);H=x.length;while(H--){I=s([k,y].join(' '));J={attributes:K(I),attributesOrder:I,children:K(G,d)};j[x[H]]=J;}}function w(x,y){var G,H,i,l;x=s(x);G=x.length;y=s(y);while(G--){H=j[x[G]];for(i=0,l=y.length;i<l;i++){H.attributes[y[i]]={};H.attributesOrder.push(y[i]);}}}if(m[t]){return m[t];}k="id accesskey class dir lang style tabindex title";n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";p="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment";if(t!="html4"){k+=" contenteditable contextmenu draggable dropzone "+"hidden spellcheck translate";n+=" article aside details dialog figure header footer hgroup section nav";p+=" audio canvas command datalist mark meter output picture "+"progress time wbr video ruby bdi keygen";}if(t!="html5-strict"){k+=" xml:lang";u="acronym applet basefont big font strike tt";p=[p,u].join(' ');e(s(u),function(i){v(i,"",p);});r="center dir isindex noframes";n=[n,r].join(' ');o=[n,p].join(' ');e(s(r),function(i){v(i,"",o);});}o=o||[n,p].join(" ");v("html","manifest","head body");v("head","","base command link meta noscript script style title");v("title hr noscript br");v("base","href target");v("link","href rel media hreflang type sizes hreflang");v("meta","name http-equiv content charset");v("style","media type scoped");v("script","src async defer type charset");v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",o);v("address dt dd div caption","",o);v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",p);v("blockquote","cite",o);v("ol","reversed start type","li");v("ul","","li");v("li","value",o);v("dl","","dt dd");v("a","href target rel media hreflang type",p);v("q","cite",p);v("ins del","cite datetime",o);v("img","src sizes srcset alt usemap ismap width height");v("iframe","src name width height",o);v("embed","src type width height");v("object","data type typemustmatch name usemap form width height",[o,"param"].join(' '));v("param","name value");v("map","name",[o,"area"].join(' '));v("area","alt coords shape href target rel media hreflang type");v("table","border","caption colgroup thead tfoot tbody tr"+(t=="html4"?" col":""));v("colgroup","span","col");v("col","span");v("tbody thead tfoot","","tr");v("tr","","td th");v("td","colspan rowspan headers",o);v("th","colspan rowspan headers scope abbr",o);v("form","accept-charset action autocomplete enctype method name novalidate target",o);v("fieldset","disabled form name",[o,"legend"].join(' '));v("label","form for",p);v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t=="html4"?o:p);v("select","disabled form multiple name required size","option optgroup");v("optgroup","disabled label","option");v("option","disabled label selected value");v("textarea","cols dirname disabled form maxlength name readonly required rows wrap");v("menu","type label",[o,"li"].join(' '));v("noscript","",o);if(t!="html4"){v("wbr");v("ruby","",[p,"rt rp"].join(' '));v("figcaption","",o);v("mark rt rp summary bdi","",p);v("canvas","width height",o);v("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",[o,"track source"].join(' '));v("audio","src crossorigin preload autoplay mediagroup loop muted controls "+"buffered volume",[o,"track source"].join(' '));v("picture","","img source");v("source","src srcset type media sizes");v("track","kind src srclang label default");v("datalist","",[p,"option"].join(' '));v("article section nav aside header footer","",o);v("hgroup","","h1 h2 h3 h4 h5 h6");v("figure","",[o,"figcaption"].join(' '));v("time","datetime",p);v("dialog","open",o);v("command","type label icon disabled checked radiogroup command");v("output","for form name",p);v("progress","value max",p);v("meter","value min max low high optimum",p);v("details","open",[o,"summary"].join(' '));v("keygen","autofocus challenge disabled form keytype name");}if(t!="html5-strict"){w("script","language xml:space");w("style","xml:space");w("object","declare classid code codebase codetype archive standby align border hspace vspace");w("embed","align name hspace vspace");w("param","valuetype type");w("a","charset name rev shape coords");w("br","clear");w("applet","codebase archive code object alt name width height align hspace vspace");w("img","name longdesc align border hspace vspace");w("iframe","longdesc frameborder marginwidth marginheight scrolling align");w("font basefont","size color face");w("input","usemap align");w("select","onchange");w("textarea");w("h1 h2 h3 h4 h5 h6 div p legend caption","align");w("ul","type compact");w("li","type");w("ol dl menu dir","compact");w("pre","width xml:space");w("hr","align noshade size width");w("isindex","prompt");w("table","summary width frame rules cellspacing cellpadding align bgcolor");w("col","width align char charoff valign");w("colgroup","width align char charoff valign");w("thead","align char charoff valign");w("tr","align char charoff valign bgcolor");w("th","axis align char charoff valign nowrap bgcolor width height");w("form","accept");w("td","abbr axis scope align char charoff valign nowrap bgcolor width height");w("tfoot","align char charoff valign");w("tbody","align char charoff valign");w("area","nohref");w("body","background bgcolor text link vlink alink");}if(t!="html4"){w("input button select textarea","autofocus");w("input textarea","placeholder");w("a","download");w("link script img","crossorigin");w("iframe","sandbox seamless allowfullscreen");}e(s('a form meter progress dfn'),function(i){if(j[i]){delete j[i].children[i];}});delete j.caption.children.table;delete j.script;m[t]=j;return j;}function h(v,i){var j;if(v){j={};if(typeof v=='string'){v={'*':v};}e(v,function(v,k){j[k]=j[k.toUpperCase()]=i=='map'?a(v,/[, ]/):c(v,/[, ]/);});}return j;}return function(j){var k=this,l={},n={},p=[],v,o,r;var w,t,u,x,y;var G,H,I,J,K;var L={},M={};function N(i,V,W){var X=j[i];if(!X){X=m[i];if(!X){X=a(V,' ',a(V.toUpperCase(),' '));X=b(X,W);m[i]=X;}}else{X=a(X,/[, ]/,a(X.toUpperCase(),/[, ]/));}return X;}j=j||{};r=g(j.schema);if(j.verify_html===false){j.valid_elements='*[*]';}v=h(j.valid_styles);o=h(j.invalid_styles,'map');y=h(j.valid_classes,'map');w=N('whitespace_elements','pre script noscript style textarea video audio iframe object code');t=N('self_closing_elements','colgroup dd dt li option p td tfoot th thead tr');u=N('short_ended_elements','area base basefont br col frame hr img input isindex link '+'meta param embed source wbr track');x=N('boolean_attributes','checked compact declare defer disabled ismap multiple nohref noresize '+'noshade nowrap readonly selected autoplay loop controls');H=N('non_empty_elements','td th iframe video audio object '+'script pre code',u);I=N('move_caret_before_on_enter_elements','table',H);J=N('text_block_elements','h1 h2 h3 h4 h5 h6 p div address pre form '+'blockquote center dir fieldset header footer article section hgroup aside nav figure');G=N('block_elements','hr table tbody thead tfoot '+'th tr td li ol ul caption dl dt dd noscript menu isindex option '+'datalist select optgroup figcaption',J);K=N('text_inline_elements','span strong b em i font strike u var cite '+'dfn code mark q sup sub samp');e((j.special||'script noscript style textarea').split(' '),function(i){M[i]=new RegExp('<\/'+i+'[^>]*>','gi');});function O(i){return new RegExp('^'+i.replace(/([?+*])/g,'.$1')+'$');}function P(i){var V,W,X,Y,Z,$,_,a1,b1,c1,d1,e1,f1,g1,h1,i1,j1,k1,l1,m1=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,n1=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,o1=/[*?+]/;if(i){i=s(i,',');if(l['@']){i1=l['@'].attributes;j1=l['@'].attributesOrder;}for(V=0,W=i.length;V<W;V++){Z=m1.exec(i[V]);if(Z){g1=Z[1];b1=Z[2];h1=Z[3];a1=Z[5];e1={};f1=[];$={attributes:e1,attributesOrder:f1};if(g1==='#'){$.paddEmpty=true;}if(g1==='-'){$.removeEmpty=true;}if(Z[4]==='!'){$.removeEmptyAttrs=true;}if(i1){for(k1 in i1){e1[k1]=i1[k1];}f1.push.apply(f1,j1);}if(a1){a1=s(a1,'|');for(X=0,Y=a1.length;X<Y;X++){Z=n1.exec(a1[X]);if(Z){_={};d1=Z[1];c1=Z[2].replace(/::/g,':');g1=Z[3];l1=Z[4];if(d1==='!'){$.attributesRequired=$.attributesRequired||[];$.attributesRequired.push(c1);_.required=true;}if(d1==='-'){delete e1[c1];f1.splice(f(f1,c1),1);continue;}if(g1){if(g1==='='){$.attributesDefault=$.attributesDefault||[];$.attributesDefault.push({name:c1,value:l1});_.defaultValue=l1;}if(g1===':'){$.attributesForced=$.attributesForced||[];$.attributesForced.push({name:c1,value:l1});_.forcedValue=l1;}if(g1==='<'){_.validValues=a(l1,'?');}}if(o1.test(c1)){$.attributePatterns=$.attributePatterns||[];_.pattern=O(c1);$.attributePatterns.push(_);}else{if(!e1[c1]){f1.push(c1);}e1[c1]=_;}}}}if(!i1&&b1=='@'){i1=e1;j1=f1;}if(h1){$.outputName=b1;l[h1]=$;}if(o1.test(b1)){$.pattern=O(b1);p.push($);}else{l[b1]=$;}}}}}function Q(i){l={};p=[];P(i);e(r,function(V,W){n[W]=V.children;});}function R(i){var V=/^(~)?(.+)$/;if(i){m.text_block_elements=m.block_elements=null;e(s(i,','),function(W){var X=V.exec(W),Y=X[1]==='~',Z=Y?'span':'div',$=X[2];n[$]=n[Z];L[$]=Z;if(!Y){G[$.toUpperCase()]={};G[$]={};}if(!l[$]){var _=l[Z];_=b({},_);delete _.removeEmptyAttrs;delete _.removeEmpty;l[$]=_;}e(n,function(a1,b1){if(a1[Z]){n[b1]=a1=b({},n[b1]);a1[$]=a1[Z];}});});}}function S(i){var V=/^([+\-]?)(\w+)\[([^\]]+)\]$/;m[j.schema]=null;if(i){e(s(i,','),function(W){var X=V.exec(W),Y,Z;if(X){Z=X[1];if(Z){Y=n[X[2]];}else{Y=n[X[2]]={'#comment':{}};}Y=n[X[2]];e(s(X[3],'|'),function($){if(Z==='-'){delete Y[$];}else{Y[$]={};}});}});}}function U(V){var W=l[V],i;if(W){return W;}i=p.length;while(i--){W=p[i];if(W.pattern.test(V)){return W;}}}if(!j.valid_elements){e(r,function(i,V){l[V]={attributes:i.attributes,attributesOrder:i.attributesOrder};n[V]=i.children;});if(j.schema!="html5"){e(s('strong/b em/i'),function(i){i=s(i,'/');l[i[1]].outputName=i[0];});}e(s('ol ul sub sup blockquote span font a table tbody tr strong em b i'),function(i){if(l[i]){l[i].removeEmpty=true;}});e(s('p h1 h2 h3 h4 h5 h6 th td pre div address caption'),function(i){l[i].paddEmpty=true;});e(s('span'),function(i){l[i].removeEmptyAttrs=true;});}else{Q(j.valid_elements);}R(j.custom_elements);S(j.valid_children);P(j.extended_valid_elements);S('+ol[ul|ol],+ul[ul|ol]');e({dd:'dl',dt:'dl',li:'ul ol',td:'tr',th:'tr',tr:'tbody thead tfoot',tbody:'table',thead:'table',tfoot:'table',legend:'fieldset',area:'map',param:'video audio object'},function(i,V){if(l[V]){l[V].parentsRequired=s(i);}});if(j.invalid_elements){e(c(j.invalid_elements),function(i){if(l[i]){delete l[i];}});}if(!U('span')){P('span[!data-mce-type|*]');}k.children=n;k.getValidStyles=function(){return v;};k.getInvalidStyles=function(){return o;};k.getValidClasses=function(){return y;};k.getBoolAttrs=function(){return x;};k.getBlockElements=function(){return G;};k.getTextBlockElements=function(){return J;};k.getTextInlineElements=function(){return K;};k.getShortEndedElements=function(){return u;};k.getSelfClosingElements=function(){return t;};k.getNonEmptyElements=function(){return H;};k.getMoveCaretBeforeOnEnterElements=function(){return I;};k.getWhiteSpaceElements=function(){return w;};k.getSpecialElements=function(){return M;};k.isValidChild=function(i,V){var W=n[i];return!!(W&&W[V]);};k.isValid=function(V,W){var X,i,Y=U(V);if(Y){if(W){if(Y.attributes[W]){return true;}X=Y.attributePatterns;if(X){i=X.length;while(i--){if(X[i].pattern.test(V)){return true;}}}}else{return true;}}return false;};k.getElementRule=U;k.getCustomElements=function(){return L;};k.addValidElements=P;k.setValidElements=Q;k.addCustomElements=R;k.addValidChildren=S;k.elements=l;};});C("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(S,a,T){var e=T.each;function f(s,h,c){var d=1,i,m,t,g;g=s.getShortEndedElements();t=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;t.lastIndex=i=c;while((m=t.exec(h))){i=t.lastIndex;if(m[1]==='/'){d--;}else if(!m[1]){if(m[2]in g){continue;}d++;}if(d===0){break;}}return i;}function b(s,c){var d=this;function n(){}s=s||{};d.schema=c=c||new S();if(s.fix_self_closing!==false){s.fix_self_closing=true;}e('comment cdata text start end pi doctype'.split(' '),function(g){if(g){d[g]=s[g]||n;}});d.parse=function(h){var d=this,m,g=0,v,j,k=[],l,i,t,o;var p,r,u,w,x;var y,G,H,I,J,K,L;var M,N,O;var P,Q,R,U,V,W,X=0;var Y=a.decode,Z,$=T.makeMap('src,href,data,background,formaction,poster');var _=/((java|vb)script|mhtml):/i,a1=/^data:/i;function b1(o){var d1,i;d1=k.length;while(d1--){if(k[d1].name===o){break;}}if(d1>=0){for(i=k.length-1;i>=d1;i--){o=k[i];if(o.valid){d.end(o.name);}}k.length=d1;}}function c1(d1,o,v,e1,f1){var g1,i,h1=/[\s\u0000-\u001F]+/g;o=o.toLowerCase();v=o in w?o:Y(v||e1||f1||'');if(y&&!p&&o.indexOf('data-')!==0){g1=K[o];if(!g1&&L){i=L.length;while(i--){g1=L[i];if(g1.pattern.test(o)){break;}}if(i===-1){g1=null;}}if(!g1){return;}if(g1.validValues&&!(v in g1.validValues)){return;}}if($[o]&&!s.allow_script_urls){var i1=v.replace(h1,'');try{i1=decodeURIComponent(i1);}catch(ex){i1=unescape(i1);}if(_.test(i1)){return;}if(!s.allow_html_data_urls&&a1.test(i1)&&!/^data:image\//i.test(i1)){return;}}l.map[o]=v;l.push({name:o,value:v});}R=new RegExp('<(?:'+'(?:!--([\\w\\W]*?)-->)|'+'(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|'+'(?:!DOCTYPE([\\w\\W]*?)>)|'+'(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|'+'(?:\\/([^>]+)>)|'+'(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\\/|\\s+)>)'+')','g');U=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;u=c.getShortEndedElements();Q=s.self_closing_elements||c.getSelfClosingElements();w=c.getBoolAttrs();y=s.validate;r=s.remove_internals;Z=s.fix_self_closing;V=c.getSpecialElements();while((m=R.exec(h))){if(g<m.index){d.text(Y(h.substr(g,m.index-g)));}if((v=m[6])){v=v.toLowerCase();if(v.charAt(0)===':'){v=v.substr(1);}b1(v);}else if((v=m[7])){v=v.toLowerCase();if(v.charAt(0)===':'){v=v.substr(1);}x=v in u;if(Z&&Q[v]&&k.length>0&&k[k.length-1].name===v){b1(v);}if(!y||(G=c.getElementRule(v))){H=true;if(y){K=G.attributes;L=G.attributePatterns;}if((J=m[8])){p=J.indexOf('data-mce-type')!==-1;if(p&&r){H=false;}l=[];l.map={};J.replace(U,c1);}else{l=[];l.map={};}if(y&&!p){M=G.attributesRequired;N=G.attributesDefault;O=G.attributesForced;P=G.removeEmptyAttrs;if(P&&!l.length){H=false;}if(O){i=O.length;while(i--){I=O[i];o=I.name;W=I.value;if(W==='{$uid}'){W='mce_'+X++;}l.map[o]=W;l.push({name:o,value:W});}}if(N){i=N.length;while(i--){I=N[i];o=I.name;if(!(o in l.map)){W=I.value;if(W==='{$uid}'){W='mce_'+X++;}l.map[o]=W;l.push({name:o,value:W});}}}if(M){i=M.length;while(i--){if(M[i]in l.map){break;}}if(i===-1){H=false;}}if((I=l.map['data-mce-bogus'])){if(I==='all'){g=f(c,h,R.lastIndex);R.lastIndex=g;continue;}H=false;}}if(H){d.start(v,l,x);}}else{H=false;}if((j=V[v])){j.lastIndex=g=m.index+m[0].length;if((m=j.exec(h))){if(H){t=h.substr(g,m.index-g);}g=m.index+m[0].length;}else{t=h.substr(g);g=h.length;}if(H){if(t.length>0){d.text(t,true);}d.end(v);}R.lastIndex=g;continue;}if(!x){if(!J||J.indexOf('/')!=J.length-1){k.push({name:v,valid:H});}else if(H){d.end(v);}}}else if((v=m[1])){if(v.charAt(0)==='>'){v=' '+v;}if(!s.allow_conditional_comments&&v.substr(0,3).toLowerCase()==='[if'){v=' '+v;}d.comment(v);}else if((v=m[2])){d.cdata(v);}else if((v=m[3])){d.doctype(v);}else if((v=m[4])){d.pi(v,m[5]);}g=m.index+m[0].length;}if(g<h.length){d.text(Y(h.substr(g)));}for(i=k.length-1;i>=0;i--){v=k[i];if(v.valid){d.end(v.name);}}};}b.findEndTag=f;return b;});C("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(N,S,a,T){var m=T.makeMap,e=T.each,b=T.explode,c=T.extend;var p=function(s,n){if(s.padd_empty_with_br){n.empty().append(new N('br','1')).shortEnded=true;}else{n.empty().append(new N('#text','3')).value='\u00a0';}};var h=function(n,d){return n&&n.firstChild===n.lastChild&&n.firstChild.name===d;};return function(s,d){var f=this,n={},g=[],j={},k={};s=s||{};s.validate="validate"in s?s.validate:true;s.root_name=s.root_name||'body';f.schema=d=d||new S();function o(l){var r,t,u,v,w,x,y,G,i;var H,I,J,K,L,M,O;J=m('tr,td,th,tbody,thead,tfoot,table');H=d.getNonEmptyElements();I=d.getWhiteSpaceElements();K=d.getTextBlockElements();L=d.getSpecialElements();for(r=0;r<l.length;r++){t=l[r];if(!t.parent||t.fixed){continue;}if(K[t.name]&&t.parent.name=='li'){M=t.next;while(M){if(K[M.name]){M.name='li';M.fixed=true;t.parent.insert(M,t.parent);}else{break;}M=M.next;}t.unwrap(t);continue;}v=[t];for(u=t.parent;u&&!d.isValidChild(u.name,t.name)&&!J[u.name];u=u.parent){v.push(u);}if(u&&v.length>1){v.reverse();w=x=f.filterNode(v[0].clone());for(i=0;i<v.length-1;i++){if(d.isValidChild(x.name,v[i].name)){y=f.filterNode(v[i].clone());x.append(y);}else{y=x;}for(G=v[i].firstChild;G&&G!=v[i+1];){O=G.next;y.append(G);G=O;}x=y;}if(!w.isEmpty(H,I)){u.insert(w,v[0],true);u.insert(t,w);}else{u.insert(t,v[0],true);}u=v[0];if(u.isEmpty(H,I)||h(u,'br')){u.empty().remove();}}else if(t.parent){if(t.name==='li'){M=t.prev;if(M&&(M.name==='ul'||M.name==='ul')){M.append(t);continue;}M=t.next;if(M&&(M.name==='ul'||M.name==='ul')){M.insert(t,M.firstChild,true);continue;}t.wrap(f.filterNode(new N('ul',1)));continue;}if(d.isValidChild(t.parent.name,'div')&&d.isValidChild('div',t.name)){t.wrap(f.filterNode(new N('div',1)));}else{if(L[t.name]){t.empty().remove();}else{t.unwrap();}}}}}f.filterNode=function(l){var i,r,t;if(r in n){t=j[r];if(t){t.push(l);}else{j[r]=[l];}}i=g.length;while(i--){r=g[i].name;if(r in l.attributes.map){t=k[r];if(t){t.push(l);}else{k[r]=[l];}}}return l;};f.addNodeFilter=function(i,l){e(b(i),function(i){var r=n[i];if(!r){n[i]=r=[];}r.push(l);});};f.addAttributeFilter=function(l,r){e(b(l),function(l){var i;for(i=0;i<g.length;i++){if(g[i].name===l){g[i].callbacks.push(r);return;}}g.push({name:l,callbacks:[r]});});};f.parse=function(r,t){var u,v,w,x,i,l,y,G,H,I,J;var K,L,M=[],O;var P,Q,R,U;var V,W,X;t=t||{};j={};k={};K=c(m('script,style,head,html,body,title,meta,param'),d.getBlockElements());W=d.getNonEmptyElements();V=d.children;J=s.validate;X="forced_root_block"in t?t.forced_root_block:s.forced_root_block;U=d.getWhiteSpaceElements();L=/^[ \t\r\n]+/;P=/[ \t\r\n]+$/;Q=/[ \t\r\n]+/g;R=/^[ \t\r\n]+$/;function Y(){var w=v.firstChild,a1,b1;function c1(b1){if(b1){w=b1.firstChild;if(w&&w.type==3){w.value=w.value.replace(L,'');}w=b1.lastChild;if(w&&w.type==3){w.value=w.value.replace(P,'');}}}if(!d.isValidChild(v.name,X.toLowerCase())){return;}while(w){a1=w.next;if(w.type==3||(w.type==1&&w.name!=='p'&&!K[w.name]&&!w.attr('data-mce-type'))){if(!b1){b1=Z(X,1);b1.attr(s.forced_root_block_attrs);v.insert(b1,w);b1.append(w);}else{b1.append(w);}}else{c1(b1);b1=null;}w=a1;}c1(b1);}function Z(I,a1){var w=new N(I,a1),H;if(I in n){H=j[I];if(H){H.push(w);}else{j[I]=[w];}}return w;}function $(w){var a1,b1,c1,d1,K=d.getBlockElements();for(a1=w.prev;a1&&a1.type===3;){c1=a1.value.replace(P,'');if(c1.length>0){a1.value=c1;return;}b1=a1.next;if(b1){if(b1.type==3&&b1.value.length){a1=a1.prev;continue;}if(!K[b1.name]&&b1.name!='script'&&b1.name!='style'){a1=a1.prev;continue;}}d1=a1.prev;a1.remove();a1=d1;}}function _(a1){var I,b1={};for(I in a1){if(I!=='li'&&I!='p'){b1[I]=a1[I];}}return b1;}u=new a({validate:J,allow_script_urls:s.allow_script_urls,allow_conditional_comments:s.allow_conditional_comments,self_closing_elements:_(d.getSelfClosingElements()),cdata:function(a1){w.append(Z('#cdata',4)).value=a1;},text:function(a1,b1){var c1;if(!O){a1=a1.replace(Q,' ');if(w.lastChild&&K[w.lastChild.name]){a1=a1.replace(L,'');}}if(a1.length!==0){c1=Z('#text',3);c1.raw=!!b1;w.append(c1).value=a1;}},comment:function(a1){w.append(Z('#comment',8)).value=a1;},pi:function(I,a1){w.append(Z(I,7)).value=a1;$(w);},doctype:function(a1){var b1;b1=w.append(Z('#doctype',10));b1.value=a1;$(w);},start:function(I,a1,b1){var c1,d1,e1,f1,g1;e1=J?d.getElementRule(I):{};if(e1){c1=Z(e1.outputName||I,1);c1.attributes=a1;c1.shortEnded=b1;w.append(c1);g1=V[w.name];if(g1&&V[c1.name]&&!g1[c1.name]){M.push(c1);}d1=g.length;while(d1--){f1=g[d1].name;if(f1 in a1.map){H=k[f1];if(H){H.push(c1);}else{k[f1]=[c1];}}}if(K[I]){$(c1);}if(!b1){w=c1;}if(!O&&U[I]){O=true;}}},end:function(I){var a1,b1,c1,d1,e1;b1=J?d.getElementRule(I):{};if(b1){if(K[I]){if(!O){a1=w.firstChild;if(a1&&a1.type===3){c1=a1.value.replace(L,'');if(c1.length>0){a1.value=c1;a1=a1.next;}else{d1=a1.next;a1.remove();a1=d1;while(a1&&a1.type===3){c1=a1.value;d1=a1.next;if(c1.length===0||R.test(c1)){a1.remove();a1=d1;}a1=d1;}}}a1=w.lastChild;if(a1&&a1.type===3){c1=a1.value.replace(P,'');if(c1.length>0){a1.value=c1;a1=a1.prev;}else{d1=a1.prev;a1.remove();a1=d1;while(a1&&a1.type===3){c1=a1.value;d1=a1.prev;if(c1.length===0||R.test(c1)){a1.remove();a1=d1;}a1=d1;}}}}}if(O&&U[I]){O=false;}if(b1.removeEmpty||b1.paddEmpty){if(w.isEmpty(W,U)){if(b1.paddEmpty){p(s,w);}else{if(!w.attributes.map.name&&!w.attributes.map.id){e1=w.parent;if(K[w.name]){w.empty().remove();}else{w.unwrap();}w=e1;return;}}}}w=w.parent;}}},d);v=w=new N(t.context||s.root_name,11);u.parse(r);if(J&&M.length){if(!t.context){o(M);}else{t.invalid=true;}}if(X&&(v.name=='body'||t.isRootContent)){Y();}if(!t.invalid){for(I in j){H=n[I];x=j[I];y=x.length;while(y--){if(!x[y].parent){x.splice(y,1);}}for(i=0,l=H.length;i<l;i++){H[i](x,I,t);}}for(i=0,l=g.length;i<l;i++){H=g[i];if(H.name in k){x=k[H.name];y=x.length;while(y--){if(!x[y].parent){x.splice(y,1);}}for(y=0,G=H.callbacks.length;y<G;y++){H.callbacks[y](x,H.name,t);}}}}return v;};if(s.remove_trailing_brs){f.addNodeFilter('br',function(r){var i,l=r.length,t,u=c({},d.getBlockElements());var v=d.getNonEmptyElements(),w,x,y,G;var H=d.getNonEmptyElements();var I,J;u.body=1;for(i=0;i<l;i++){t=r[i];w=t.parent;if(u[t.parent.name]&&t===w.lastChild){y=t.prev;while(y){G=y.name;if(G!=="span"||y.attr('data-mce-type')!=='bookmark'){if(G!=="br"){break;}if(G==='br'){t=null;break;}}y=y.prev;}if(t){t.remove();if(w.isEmpty(v,H)){I=d.getElementRule(w.name);if(I){if(I.removeEmpty){w.remove();}else if(I.paddEmpty){p(s,w);}}}}}else{x=t;while(w&&w.firstChild===x&&w.lastChild===x){x=w;if(u[w.name]){break;}w=w.parent;}if(x===w&&s.padd_empty_with_br!==true){J=new N('#text',3);J.value='\u00a0';t.replace(J);}}}});}if(!s.allow_unsafe_link_target){f.addAttributeFilter('href',function(l){var i=l.length,r,t;var u='noopener noreferrer';function v(t){t=w(t);return t?[t,u].join(' '):u;}function w(t){var y=new RegExp('('+u.replace(' ','|')+')','g');if(t){t=T.trim(t.replace(y,''));}return t?t:null;}function x(t,y){return y?v(t):w(t);}while(i--){r=l[i];t=r.attr('rel');if(r.name==='a'){r.attr('rel',x(t,r.attr('target')=='_blank'));}}});}if(!s.allow_html_in_named_anchor){f.addAttributeFilter('id,name',function(l){var i=l.length,r,t,u,v;while(i--){v=l[i];if(v.name==='a'&&v.firstChild&&!v.attr('href')){u=v.parent;r=v.lastChild;do{t=r.prev;u.insert(r,v);r=t;}while(r);}}});}if(s.fix_list_elements){f.addNodeFilter('ul,ol',function(l){var i=l.length,r,t;while(i--){r=l[i];t=r.parent;if(t.name==='ul'||t.name==='ol'){if(r.prev&&r.prev.name==='li'){r.prev.append(r);}else{var u=new N('li',1);u.attr('style','list-style-type: none');r.wrap(u);}}}});}if(s.validate&&d.getValidClasses()){f.addAttributeFilter('class',function(l){var i=l.length,r,t,u,v,w;var x=d.getValidClasses(),y,G;while(i--){r=l[i];t=r.attr('class').split(' ');w='';for(u=0;u<t.length;u++){v=t[u];G=false;y=x['*'];if(y&&y[v]){G=true;}y=x[r.name];if(!G&&y&&y[v]){G=true;}if(G){if(w){w+=' ';}w+=v;}}if(!w.length){w=null;}r.attr('class',w);}});}};});C("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(a,T){var m=T.makeMap;return function(s){var h=[],b,c,d,e,f;s=s||{};b=s.indent;c=m(s.indent_before||'');d=m(s.indent_after||'');e=a.getEncodeFunc(s.entity_encoding||'raw',s.entities);f=s.element_format=="html";return{start:function(n,g,j){var i,l,k,v;if(b&&c[n]&&h.length>0){v=h[h.length-1];if(v.length>0&&v!=='\n'){h.push('\n');}}h.push('<',n);if(g){for(i=0,l=g.length;i<l;i++){k=g[i];h.push(' ',k.name,'="',e(k.value,true),'"');}}if(!j||f){h[h.length]='>';}else{h[h.length]=' />';}if(j&&b&&d[n]&&h.length>0){v=h[h.length-1];if(v.length>0&&v!=='\n'){h.push('\n');}}},end:function(n){var v;h.push('</',n,'>');if(b&&d[n]&&h.length>0){v=h[h.length-1];if(v.length>0&&v!=='\n'){h.push('\n');}}},text:function(t,r){if(t.length>0){h[h.length]=r?t:e(t);}},cdata:function(t){h.push('<![CDATA[',t,']]>');},comment:function(t){h.push('<!--',t,'-->');},pi:function(n,t){if(t){h.push('<?',n,' ',e(t),'?>');}else{h.push('<?',n,'?>');}if(b){h.push('\n');}},doctype:function(t){h.push('<!DOCTYPE',t,'>',b?'\n':'');},reset:function(){h.length=0;},getContent:function(){return h.join('').replace(/\n$/,'');}};};});C("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(W,S){return function(s,a){var b=this,w=new W(s);s=s||{};s.validate="validate"in s?s.validate:true;b.schema=a=a||new S();b.writer=w;b.serialize=function(n){var h,v;v=s.validate;h={3:function(n){w.text(n.value,n.raw);},8:function(n){w.comment(n.value);},7:function(n){w.pi(n.name,n.value);},10:function(n){w.doctype(n.value);},4:function(n){w.cdata(n.value);},11:function(n){if((n=n.firstChild)){do{c(n);}while((n=n.next));}}};w.reset();function c(n){var d=h[n.type],e,f,g,j,k,m,i,l,o;if(!d){e=n.name;f=n.shortEnded;g=n.attributes;if(v&&g&&g.length>1){m=[];m.map={};o=a.getElementRule(n.name);if(o){for(i=0,l=o.attributesOrder.length;i<l;i++){j=o.attributesOrder[i];if(j in g.map){k=g.map[j];m.map[j]=k;m.push({name:j,value:k});}}for(i=0,l=g.length;i<l;i++){j=g[i].name;if(!(j in m.map)){k=g.map[j];m.map[j]=k;m.push({name:j,value:k});}}g=m;}}w.start(n.name,g,f);if(!f){if((n=n.firstChild)){do{c(n);}while((n=n.next));}w.end(e);}}else{d(n);}}if(n.type==1&&!s.inner){c(n);}else{h[11](n);}return w.getContent();};};});C("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(a,b,S,c,d,N,e,f,T,Z){var g=T.each,t=T.trim;var h=a.DOM;function j(r){var i,k;function l(n){return n&&n.name==='br';}i=r.lastChild;if(l(i)){k=i.prev;if(l(k)){i.remove();k.remove();}}}return function(s,k){var l,m,n,o=["data-mce-selected"];if(k){l=k.dom;m=k.schema;}function p(i){var w=new RegExp(['<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>','\\s?('+o.join('|')+')="[^"]+"'].join('|'),'gi');i=Z.trim(i.replace(w,''));return i;}function r(i){var w=i;var x=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var y,G,H,I,J,m=k.schema;w=p(w);J=m.getShortEndedElements();while((I=x.exec(w))){G=x.lastIndex;H=I[0].length;if(J[I[1]]){y=G;}else{y=S.findEndTag(m,w,G);}w=w.substring(0,G-H)+w.substring(y);x.lastIndex=G-H;}return w;}function u(){return r(k.getBody().innerHTML);}function v(w){if(T.inArray(o,w)===-1){n.addAttributeFilter(w,function(x,w){var i=x.length;while(i--){x[i].attr(w,null);}});o.push(w);}}l=l||h;m=m||new e(s);s.entity_encoding=s.entity_encoding||'named';s.remove_trailing_brs="remove_trailing_brs"in s?s.remove_trailing_brs:true;n=new b(s,m);n.addAttributeFilter('data-mce-tabindex',function(w,x){var i=w.length,y;while(i--){y=w[i];y.attr('tabindex',y.attributes.map['data-mce-tabindex']);y.attr(x,null);}});n.addAttributeFilter('src,href,style',function(w,x){var i=w.length,y,G,H='data-mce-'+x;var I=s.url_converter,J=s.url_converter_scope,K;while(i--){y=w[i];G=y.attributes.map[H];if(G!==K){y.attr(x,G.length>0?G:null);y.attr(H,null);}else{G=y.attributes.map[x];if(x==="style"){G=l.serializeStyle(l.parseStyle(G),y.name);}else if(I){G=I.call(J,G,x,y.name);}y.attr(x,G.length>0?G:null);}}});n.addAttributeFilter('class',function(w){var i=w.length,x,y;while(i--){x=w[i];y=x.attr('class');if(y){y=x.attr('class').replace(/(?:^|\s)mce-item-\w+(?!\S)/g,'');x.attr('class',y.length>0?y:null);}}});n.addAttributeFilter('data-mce-type',function(w,x,y){var i=w.length,G;while(i--){G=w[i];if(G.attributes.map['data-mce-type']==='bookmark'&&!y.cleanup){G.remove();}}});n.addNodeFilter('noscript',function(w){var i=w.length,x;while(i--){x=w[i].firstChild;if(x){x.value=c.decode(x.value);}}});n.addNodeFilter('script,style',function(w,x){var i=w.length,y,G,H;function t(G){return G.replace(/(<!--\[CDATA\[|\]\]-->)/g,'\n').replace(/^[\r\n]*|[\r\n]*$/g,'').replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,'').replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,'');}while(i--){y=w[i];G=y.firstChild?y.firstChild.value:'';if(x==="script"){H=y.attr('type');if(H){y.attr('type',H=='mce-no/type'?null:H.replace(/^mce\-/,''));}if(G.length>0){y.firstChild.value='// <![CDATA[\n'+t(G)+'\n// ]]>';}}else{if(G.length>0){y.firstChild.value='<!--\n'+t(G)+'\n-->';}}}});n.addNodeFilter('#comment',function(w){var i=w.length,x;while(i--){x=w[i];if(x.value.indexOf('[CDATA[')===0){x.name='#cdata';x.type=4;x.value=x.value.replace(/^\[CDATA\[|\]\]$/g,'');}else if(x.value.indexOf('mce:protected ')===0){x.name="#text";x.type=3;x.raw=true;x.value=unescape(x.value).substr(14);}}});n.addNodeFilter('xml:namespace,input',function(w,x){var i=w.length,y;while(i--){y=w[i];if(y.type===7){y.remove();}else if(y.type===1){if(x==="input"&&!("type"in y.attributes.map)){y.attr('type','text');}}}});n.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,'+'data-mce-selected,data-mce-expando,'+'data-mce-type,data-mce-resize',function(w,x){var i=w.length;while(i--){w[i].attr(x,null);}});return{schema:m,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:function(i,w){var x=this,y,G,H,I,J,K;if(f.ie&&l.select('script,style,select,map').length>0){J=i.innerHTML;i=i.cloneNode(false);l.setHTML(i,J);}else{i=i.cloneNode(true);}y=document.implementation;if(y.createHTMLDocument){G=y.createHTMLDocument("");g(i.nodeName=='BODY'?i.childNodes:[i],function(i){G.body.appendChild(G.importNode(i,true));});if(i.nodeName!='BODY'){i=G.body.firstChild;}else{i=G.body;}H=l.doc;l.doc=G;}w=w||{};w.format=w.format||'html';if(w.selection){w.forced_root_block='';}if(!w.no_events){w.node=i;x.onPreProcess(w);}K=n.parse(t(w.getInner?i.innerHTML:l.getOuterHTML(i)),w);j(K);I=new d(s,m);w.content=I.serialize(K);if(!w.cleanup){w.content=Z.trim(w.content);w.content=w.content.replace(/\uFEFF/g,'');}if(!w.no_events){x.onPostProcess(w);}if(H){l.doc=H;}w.node=null;return w.content;},addRules:function(i){m.addValidElements(i);},setRules:function(i){m.setValidElements(i);},onPreProcess:function(i){if(k){k.fire('PreProcess',i);}},onPostProcess:function(i){if(k){k.fire('PostProcess',i);}},addTempAttr:v,trimHtml:p,getTrimmedContent:u,trimContent:r};};});C("tinymce/dom/TridentSelection",[],function(){function S(s){var a=this,d=s.dom,b=false;function g(r,e){var f,h=0,i,j,k,l,o,m,p=-1,n;f=r.duplicate();f.collapse(e);n=f.parentElement();if(n.ownerDocument!==s.dom.doc){return;}while(n.contentEditable==="false"){n=n.parentNode;}if(!n.hasChildNodes()){return{node:n,inside:1};}k=n.children;i=k.length-1;while(h<=i){m=Math.floor((h+i)/2);l=k[m];f.moveToElementText(l);p=f.compareEndPoints(e?'StartToStart':'EndToEnd',r);if(p>0){i=m-1;}else if(p<0){h=m+1;}else{return{node:l};}}if(p<0){if(!l){f.moveToElementText(n);f.collapse(true);l=n;j=true;}else{f.collapse(false);}o=0;while(f.compareEndPoints(e?'StartToStart':'StartToEnd',r)!==0){if(f.move('character',1)===0||n!=f.parentElement()){break;}o++;}}else{f.collapse(true);o=0;while(f.compareEndPoints(e?'StartToStart':'StartToEnd',r)!==0){if(f.move('character',-1)===0||n!=f.parentElement()){break;}o++;}}return{node:l,position:p,offset:o,inside:j};}function c(){var i=s.getRng(),e=d.createRng(),f,h,t,j,k;f=i.item?i.item(0):i.parentElement();if(f.ownerDocument!=d.doc){return e;}h=s.isCollapsed();if(i.item){e.setStart(f.parentNode,d.nodeIndex(f));e.setEnd(e.startContainer,e.startOffset+1);return e;}function l(n){var o=g(i,n),p,r,u=0,v,w,x;p=o.node;r=o.offset;if(o.inside&&!p.hasChildNodes()){e[n?'setStart':'setEnd'](p,0);return;}if(r===w){e[n?'setStartBefore':'setEndAfter'](p);return;}if(o.position<0){v=o.inside?p.firstChild:p.nextSibling;if(!v){e[n?'setStartAfter':'setEndAfter'](p);return;}if(!r){if(v.nodeType==3){e[n?'setStart':'setEnd'](v,0);}else{e[n?'setStartBefore':'setEndBefore'](v);}return;}while(v){if(v.nodeType==3){x=v.nodeValue;u+=x.length;if(u>=r){p=v;u-=r;u=x.length-u;break;}}v=v.nextSibling;}}else{v=p.previousSibling;if(!v){return e[n?'setStartBefore':'setEndBefore'](p);}if(!r){if(p.nodeType==3){e[n?'setStart':'setEnd'](v,p.nodeValue.length);}else{e[n?'setStartAfter':'setEndAfter'](v);}return;}while(v){if(v.nodeType==3){u+=v.nodeValue.length;if(u>=r){p=v;u-=r;break;}}v=v.previousSibling;}}e[n?'setStart':'setEnd'](p,u);}try{l(true);if(!h){l();}}catch(m){if(m.number==-2147024809){k=a.getBookmark(2);t=i.duplicate();t.collapse(true);f=t.parentElement();if(!h){t=i.duplicate();t.collapse(false);j=t.parentElement();j.innerHTML=j.innerHTML;}f.innerHTML=f.innerHTML;a.moveToBookmark(k);i=s.getRng();l(true);if(!h){l();}}else{throw m;}}return e;}this.getBookmark=function(t){var r=s.getRng(),e={};function f(n){var p,j,k,i,l=[];p=n.parentNode;j=d.getRoot().parentNode;while(p!=j&&p.nodeType!==9){k=p.children;i=k.length;while(i--){if(n===k[i]){l.push(i);break;}}n=p;p=p.parentNode;}return l;}function h(i){var p;p=g(r,i);if(p){return{position:p.position,offset:p.offset,indexes:f(p.node),inside:p.inside};}}if(t===2){if(!r.item){e.start=h(true);if(!s.isCollapsed()){e.end=h();}}else{e.start={ctrl:true,indexes:f(r.item(0))};}}return e;};this.moveToBookmark=function(e){var r,f=d.doc.body;function h(k){var n,i,l,m;n=d.getRoot();for(i=k.length-1;i>=0;i--){m=n.children;l=k[i];if(l<=m.length-1){n=m[l];}}return n;}function j(i){var k=e[i?'start':'end'],m,l,u,o;if(k){m=k.position>0;l=f.createTextRange();l.moveToElementText(h(k.indexes));o=k.offset;if(o!==u){l.collapse(k.inside||m);l.moveStart('character',m?-o:o);}else{l.collapse(i);}r.setEndPoint(i?'StartToStart':'EndToStart',l);if(i){r.collapse(true);}}}if(e.start){if(e.start.ctrl){r=f.createControlRange();r.addElement(h(e.start.indexes));r.select();}else{r=f.createTextRange();j(true);j();r.select();}}};this.addRange=function(r){var i,e,f,h,j,k,l,m=s.dom.doc,n=m.body,o,p;function t(v){var w,x,y,G,H;y=d.create('a');w=v?f:j;x=v?h:k;G=i.duplicate();if(w==m||w==m.documentElement){w=n;x=0;}if(w.nodeType==3){w.parentNode.insertBefore(y,w);G.moveToElementText(y);G.moveStart('character',x);d.remove(y);i.setEndPoint(v?'StartToStart':'EndToEnd',G);}else{H=w.childNodes;if(H.length){if(x>=H.length){d.insertAfter(y,H[H.length-1]);}else{w.insertBefore(y,H[x]);}G.moveToElementText(y);}else if(w.canHaveHTML){w.innerHTML='<span>&#xFEFF;</span>';y=w.firstChild;G.moveToElementText(y);G.collapse(b);}i.setEndPoint(v?'StartToStart':'EndToEnd',G);d.remove(y);}}f=r.startContainer;h=r.startOffset;j=r.endContainer;k=r.endOffset;i=n.createTextRange();if(f==j&&f.nodeType==1){if(h==k&&!f.hasChildNodes()){if(f.canHaveHTML){l=f.previousSibling;if(l&&!l.hasChildNodes()&&d.isBlock(l)){l.innerHTML='&#xFEFF;';}else{l=null;}f.innerHTML='<span>&#xFEFF;</span><span>&#xFEFF;</span>';i.moveToElementText(f.lastChild);i.select();d.doc.selection.clear();f.innerHTML='';if(l){l.innerHTML='';}return;}h=d.nodeIndex(f);f=f.parentNode;}if(h==k-1){try{p=f.childNodes[h];e=n.createControlRange();e.addElement(p);e.select();o=s.getRng();if(o.item&&p===o.item(0)){return;}}catch(u){}}}t(true);t();i.select();};this.getRangeAt=c;}return S;});C("tinymce/util/VK",["tinymce/Env"],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e);},metaKeyPressed:function(e){return(a.mac?e.metaKey:e.ctrlKey&&!e.altKey);}};});C("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(V,T,a,b,N){var i=N.isContentEditableFalse;var c=N.isContentEditableTrue;function g(r,n){while(n&&n!=r){if(c(n)||i(n)){return n;}n=n.parentNode;}return null;}return function(s,d){var f=d.dom,h=T.each;var j,k,r,l,m,n;var o,p,t,u,v,w,x,y;var G,H,I=d.getDoc(),J=document,K=b.ie&&b.ie<11;var L=Math.abs,M=Math.round,O=d.getBody(),P,Q;l={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var R='.mce-content-body';d.contentStyles.push(R+' div.mce-resizehandle {'+'position: absolute;'+'border: 1px solid black;'+'box-sizing: box-sizing;'+'background: #FFF;'+'width: 7px;'+'height: 7px;'+'z-index: 10000'+'}'+R+' .mce-resizehandle:hover {'+'background: #000'+'}'+R+' img[data-mce-selected],'+R+' hr[data-mce-selected] {'+'outline: 1px solid black;'+'resize: none'+'}'+R+' .mce-clonedresizable {'+'position: absolute;'+(b.gecko?'':'outline: 1px dashed black;')+'opacity: .5;'+'filter: alpha(opacity=50);'+'z-index: 10000'+'}'+R+' .mce-resize-helper {'+'background: #555;'+'background: rgba(0,0,0,0.75);'+'border-radius: 3px;'+'border: 1px;'+'color: white;'+'display: none;'+'font-family: sans-serif;'+'font-size: 12px;'+'white-space: nowrap;'+'line-height: 14px;'+'margin: 5px 10px;'+'padding: 5px;'+'position: absolute;'+'z-index: 10001'+'}');function S(e){var j1=d.settings.object_resizing;if(j1===false||b.iOS){return false;}if(typeof j1!='string'){j1='table,img,div';}if(e.getAttribute('data-mce-resize')==='false'){return false;}if(e==d.getBody()){return false;}return d.dom.is(e,j1);}function U(e){var j1,k1,l1;var m1,n1;j1=e.screenX-o;k1=e.screenY-p;G=j1*m[2]+v;H=k1*m[3]+w;G=G<5?5:G;H=H<5?5:H;if(j.nodeName=="IMG"&&d.settings.resize_img_proportional!==false){l1=!V.modifierPressed(e);}else{l1=V.modifierPressed(e)||(j.nodeName=="IMG"&&m[2]*m[3]!==0);}if(l1){if(L(j1)>L(k1)){H=M(G*x);G=M(H/x);}else{G=M(H/x);H=M(G*x);}}f.setStyles(k,{width:G,height:H});m1=m.startPos.x+j1;n1=m.startPos.y+k1;m1=m1>0?m1:0;n1=n1>0?n1:0;f.setStyles(r,{left:m1,top:n1,display:'block'});r.innerHTML=G+' &times; '+H;if(m[2]<0&&k.clientWidth<=G){f.setStyle(k,'left',t+(v-G));}if(m[3]<0&&k.clientHeight<=H){f.setStyle(k,'top',u+(w-H));}j1=O.scrollWidth-P;k1=O.scrollHeight-Q;if(j1+k1!==0){f.setStyles(r,{left:m1-j1,top:n1-k1});}if(!y){d.fire('ObjectResizeStart',{target:j,width:v,height:w});y=true;}}function W(){y=false;function e(j1,k1){if(k1){if(j.style[j1]||!d.schema.isValid(j.nodeName.toLowerCase(),j1)){f.setStyle(j,j1,k1);}else{f.setAttrib(j,j1,k1);}}}e('width',G);e('height',H);f.unbind(I,'mousemove',U);f.unbind(I,'mouseup',W);if(J!=I){f.unbind(J,'mousemove',U);f.unbind(J,'mouseup',W);}f.remove(k);f.remove(r);if(!K||j.nodeName=="TABLE"){X(j);}d.fire('ObjectResized',{target:j,width:G,height:H});f.setAttrib(j,'style',f.getAttrib(j,'style'));d.nodeChanged();}function X(j1,k1,l1){var m1,n1,o1,e,p1;Y();f1();m1=f.getPos(j1,O);t=m1.x;u=m1.y;p1=j1.getBoundingClientRect();n1=p1.width||(p1.right-p1.left);o1=p1.height||(p1.bottom-p1.top);if(j!=j1){e1();j=j1;G=H=0;}e=d.fire('ObjectSelected',{target:j1});if(S(j1)&&!e.isDefaultPrevented()){h(l,function(q1,r1){var s1;function t1(e){o=e.screenX;p=e.screenY;v=j.clientWidth;w=j.clientHeight;x=w/v;m=q1;q1.startPos={x:n1*q1[0]+t,y:o1*q1[1]+u};P=O.scrollWidth;Q=O.scrollHeight;k=j.cloneNode(true);f.addClass(k,'mce-clonedresizable');f.setAttrib(k,'data-mce-bogus','all');k.contentEditable=false;k.unSelectabe=true;f.setStyles(k,{left:t,top:u,margin:0});k.removeAttribute('data-mce-selected');O.appendChild(k);f.bind(I,'mousemove',U);f.bind(I,'mouseup',W);if(J!=I){f.bind(J,'mousemove',U);f.bind(J,'mouseup',W);}r=f.add(O,'div',{'class':'mce-resize-helper','data-mce-bogus':'all'},v+' &times; '+w);}if(k1){if(r1==k1){t1(l1);}return;}s1=f.get('mceResizeHandle'+r1);if(s1){f.remove(s1);}s1=f.add(O,'div',{id:'mceResizeHandle'+r1,'data-mce-bogus':'all','class':'mce-resizehandle',unselectable:true,style:'cursor:'+r1+'-resize; margin:0; padding:0'});if(b.ie){s1.contentEditable=false;}f.bind(s1,'mousedown',function(e){e.stopImmediatePropagation();e.preventDefault();t1(e);});q1.elm=s1;f.setStyles(s1,{left:(n1*q1[0]+t)-(s1.offsetWidth/2),top:(o1*q1[1]+u)-(s1.offsetHeight/2)});});}else{Y();}j.setAttribute('data-mce-selected','1');}function Y(){var e,j1;f1();if(j){j.removeAttribute('data-mce-selected');}for(e in l){j1=f.get('mceResizeHandle'+e);if(j1){f.unbind(j1);f.remove(j1);}}}function Z(e){var j1,k1;function l1(m1,n1){if(m1){do{if(m1===n1){return true;}}while((m1=m1.parentNode));}}if(y||d.removed){return;}h(f.select('img[data-mce-selected],hr[data-mce-selected]'),function(m1){m1.removeAttribute('data-mce-selected');});k1=e.type=='mousedown'?e.target:s.getNode();k1=f.$(k1).closest(K?'table':'table,img,hr')[0];if(l1(k1,O)){g1();j1=s.getStart(true);if(l1(j1,k1)&&l1(s.getEnd(true),k1)){if(!K||(k1!=j1&&j1.nodeName!=='IMG')){X(k1);return;}}}Y();}function $(e,j1,k1){if(e&&e.attachEvent){e.attachEvent('on'+j1,k1);}}function _(e,j1,k1){if(e&&e.detachEvent){e.detachEvent('on'+j1,k1);}}function a1(e){var j1=e.srcElement,k1,l1,m1,n1,o1,p1,q1;k1=j1.getBoundingClientRect();p1=n.clientX-k1.left;q1=n.clientY-k1.top;for(l1 in l){m1=l[l1];n1=j1.offsetWidth*m1[0];o1=j1.offsetHeight*m1[1];if(L(n1-p1)<8&&L(o1-q1)<8){m=m1;break;}}y=true;d.fire('ObjectResizeStart',{target:j,width:j.clientWidth,height:j.clientHeight});d.getDoc().selection.empty();X(j1,l1,n);}function b1(e){if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}function c1(e){return i(g(d.getBody(),e));}function d1(e){var j1=e.srcElement;if(c1(j1)){b1(e);return;}if(j1!=j){d.fire('ObjectSelected',{target:j1});e1();if(j1.id.indexOf('mceResizeHandle')===0){e.returnValue=false;return;}if(j1.nodeName=='IMG'||j1.nodeName=='TABLE'){Y();j=j1;$(j1,'resizestart',a1);}}}function e1(){_(j,'resizestart',a1);}function f1(){for(var e in l){var j1=l[e];if(j1.elm){f.unbind(j1.elm);delete j1.elm;}}}function g1(){try{d.getDoc().execCommand('enableObjectResizing',false,false);}catch(e){}}function h1(e){var j1;if(!K){return;}j1=I.body.createControlRange();try{j1.addElement(e);j1.select();return true;}catch(ex){}}d.on('init',function(){if(K){d.on('ObjectResized',function(e){if(e.target.nodeName!='TABLE'){Y();h1(e.target);}});$(O,'controlselect',d1);d.on('mousedown',function(e){n=e;});}else{g1();if(b.ie>=11){d.on('mousedown click',function(e){var k1=e.target,l1=k1.nodeName;if(!y&&/^(TABLE|IMG|HR)$/.test(l1)&&!c1(k1)){d.selection.select(k1,l1=='TABLE');if(e.type=='mousedown'){d.nodeChanged();}}});d.dom.bind(O,'mscontrolselect',function(e){function k1(l1){a.setEditorTimeout(d,function(){d.selection.select(l1);});}if(c1(e.target)){e.preventDefault();k1(e.target);return;}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName=='IMG'){k1(e.target);}}});}}var j1=a.throttle(function(e){if(!d.composing){Z(e);}});d.on('nodechange ResizeEditor ResizeWindow drop',j1);d.on('keyup compositionend',function(e){if(j&&j.nodeName=="TABLE"){j1(e);}});d.on('hide blur',Y);});d.on('remove',f1);function i1(){j=k=null;if(K){e1();_(O,'controlselect',d1);}}return{isResizable:S,showResizeRect:X,hideResizeRect:Y,updateResizeRect:Z,controlSelect:h1,destroy:i1};};});C("tinymce/util/Fun",[],function(){var s=[].slice;function c(v){return function(){return v;};}function n(p){return function(x){return!p(x);};}function a(f,g){return function(x){return f(g(x));};}function o(){var f=s.call(arguments);return function(x){for(var i=0;i<f.length;i++){if(f[i](x)){return true;}}return false;};}function b(){var f=s.call(arguments);return function(x){for(var i=0;i<f.length;i++){if(!f[i](x)){return false;}}return true;};}function d(f){var g=s.call(arguments);if(g.length-1>=f.length){return f.apply(this,g.slice(1));}return function(){var t=g.concat([].slice.call(arguments));return d.apply(this,t);};}function e(){}return{constant:c,negate:n,and:b,or:o,curry:d,compose:a,noop:e};});C("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(N,a,b){var i=N.isContentEditableTrue,c=N.isContentEditableFalse,d=N.isBr,e=N.isText,f=N.matchNodeNames('script style textarea'),g=N.matchNodeNames('img input textarea hr iframe video audio object'),h=N.matchNodeNames('table'),j=b.isCaretContainer;function k(p){if(j(p)){return false;}if(e(p)){if(f(p.parentNode)){return false;}return true;}return g(p)||d(p)||h(p)||c(p);}function l(p,r){for(p=p.parentNode;p&&p!=r;p=p.parentNode){if(c(p)){return false;}if(i(p)){return true;}}return true;}function m(p){if(!c(p)){return false;}return a.reduce(p.getElementsByTagName('*'),function(r,s){return r||i(s);},false)!==true;}function n(p){return g(p)||m(p);}function o(p,r){return k(p)&&l(p,r);}return{isCaretCandidate:k,isInEditable:l,isAtomic:n,isEditableCaretCandidate:o};});C("tinymce/geom/ClientRect",[],function(){var r=Math.round;function c(k){if(!k){return{left:0,top:0,bottom:0,right:0,width:0,height:0};}return{left:r(k.left),top:r(k.top),bottom:r(k.bottom),right:r(k.right),width:r(k.width),height:r(k.height)};}function a(k,t){k=c(k);if(t){k.right=k.left;}else{k.left=k.left+k.width;k.right=k.left;}k.width=0;return k;}function i(k,l){return(k.left===l.left&&k.top===l.top&&k.bottom===l.bottom&&k.right===l.right);}function b(o,k,l){return o>=0&&o<=Math.min(k.height,l.height)/2;}function d(k,l){if(k.bottom<l.top){return true;}if(k.top>l.bottom){return false;}return b(l.top-k.bottom,k,l);}function e(k,l){if(k.top>l.bottom){return true;}if(k.bottom<l.top){return false;}return b(l.bottom-k.top,k,l);}function f(k,l){return k.left<l.left;}function g(k,l){return k.right>l.right;}function h(k,l){if(d(k,l)){return-1;}if(e(k,l)){return 1;}if(f(k,l)){return-1;}if(g(k,l)){return 1;}return 0;}function j(k,l,m){return(l>=k.left&&l<=k.right&&m>=k.top&&m<=k.bottom);}return{clone:c,collapse:a,isEqual:i,isAbove:d,isBelow:e,isLeft:f,isRight:g,compare:h,containsXY:j};});C("tinymce/text/ExtendingChar",[],function(){var e=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A"+"\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0"+"\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C"+"\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3"+"\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC"+"\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57"+"\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56"+"\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44"+"\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9"+"\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97"+"\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074"+"\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5"+"\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18"+"\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34"+"\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9"+"\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9"+"\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1"+"\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1"+"\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC"+"\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1"+"\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]");function i(c){return typeof c=="string"&&c.charCodeAt(0)>=768&&e.test(c);}return{isExtendingChar:i};});C("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(a,N,b,R,c,d,e){var i=N.isElement,f=c.isCaretCandidate,g=N.matchStyleValues('display','block table'),h=N.matchStyleValues('float','left right'),j=a.and(i,f,a.negate(h)),k=a.negate(N.matchStyleValues('white-space','pre pre-line pre-wrap')),l=N.isText,m=N.isBr,n=b.nodeIndex,r=R.getNode;function o(v){return"createRange"in v?v.createRange():b.DOM.createRng();}function p(v){return v&&/[\r\n\t ]/.test(v);}function s(v){var w=v.startContainer,x=v.startOffset,y;if(p(v.toString())&&k(w.parentNode)){y=w.data;if(p(y[x-1])||p(y[x+1])){return true;}}return false;}function t(v){var w=[],x,y;function G(L){var M=L.ownerDocument,O=o(M),P=M.createTextNode('\u00a0'),Q=L.parentNode,S;Q.insertBefore(P,L);O.setStart(P,0);O.setEnd(P,1);S=d.clone(O.getBoundingClientRect());Q.removeChild(P);return S;}function H(L){var M,w;w=L.getClientRects();if(w.length>0){M=d.clone(w[0]);}else{M=d.clone(L.getBoundingClientRect());}if(m(L)&&M.left===0){return G(L);}return M;}function I(L,M){L=d.collapse(L,M);L.width=1;L.right=L.left+1;return L;}function J(L){if(L.height===0){return;}if(w.length>0){if(d.isEqual(L,w[w.length-1])){return;}}w.push(L);}function K(L,M){var O=o(L.ownerDocument);if(M<L.data.length){if(e.isExtendingChar(L.data[M])){return w;}if(e.isExtendingChar(L.data[M-1])){O.setStart(L,M);O.setEnd(L,M+1);if(!s(O)){J(I(H(O),false));return w;}}}if(M>0){O.setStart(L,M-1);O.setEnd(L,M);if(!s(O)){J(I(H(O),false));}}if(M<L.data.length){O.setStart(L,M);O.setEnd(L,M+1);if(!s(O)){J(I(H(O),true));}}}if(l(v.container())){K(v.container(),v.offset());return w;}if(i(v.container())){if(v.isAtEnd()){y=r(v.container(),v.offset());if(l(y)){K(y,y.data.length);}if(j(y)&&!m(y)){J(I(H(y),false));}}else{y=r(v.container(),v.offset());if(l(y)){K(y,0);}if(j(y)&&v.isAtEnd()){J(I(H(y),false));return w;}x=r(v.container(),v.offset()-1);if(j(x)&&!m(x)){if(g(x)||g(y)||!j(y)){J(I(H(x),false));}}if(j(y)){J(I(H(y),true));}}}return w;}function u(v,w,x){function y(){if(l(v)){return w===0;}return w===0;}function G(){if(l(v)){return w>=v.data.length;}return w>=v.childNodes.length;}function H(){var M;M=o(v.ownerDocument);M.setStart(v,w);M.setEnd(v,w);return M;}function I(){if(!x){x=t(new u(v,w));}return x;}function J(){return I().length>0;}function K(M){return M&&v===M.container()&&w===M.offset();}function L(M){return r(v,M?w-1:w);}return{container:a.constant(v),offset:a.constant(w),toRange:H,getClientRects:I,isVisible:J,isAtStart:y,isAtEnd:G,isEqual:K,getNode:L};}u.fromRangeStart=function(v){return new u(v.startContainer,v.startOffset);};u.fromRangeEnd=function(v){return new u(v.endContainer,v.endOffset);};u.after=function(v){return new u(v.parentNode,n(v)+1);};u.before=function(v){return new u(v.parentNode,n(v));};return u;});C('tinymce/caret/CaretBookmark',['tinymce/dom/NodeType','tinymce/dom/DOMUtils','tinymce/util/Fun','tinymce/util/Arr','tinymce/caret/CaretPosition'],function(N,a,b,c,d){var e=N.isText,f=N.isBogus,n=a.nodeIndex;function g(i){var t=i.parentNode;if(f(t)){return g(t);}return t;}function h(i){if(!i){return[];}return c.reduce(i.childNodes,function(t,i){if(f(i)&&i.nodeName!='BR'){t=t.concat(h(i));}else{t.push(i);}return t;},[]);}function j(t,i){while((t=t.previousSibling)){if(!e(t)){break;}i+=t.data.length;}return i;}function k(t){return function(v){return t===v;};}function l(t){var u,v,w;u=h(g(t));v=c.findIndex(u,k(t),t);u=u.slice(0,v+1);w=c.reduce(u,function(x,t,i){if(e(t)&&e(u[i-1])){x++;}return x;},0);u=c.filter(u,N.matchNodeNames(t.nodeName));v=c.findIndex(u,k(t),t);return v-w;}function m(i){var t;if(e(i)){t='text()';}else{t=i.nodeName.toLowerCase();}return t+'['+l(i)+']';}function p(i,t,u){var v=[];for(t=t.parentNode;t!=i;t=t.parentNode){if(u&&u(t)){break;}v.push(t);}return v;}function o(i,t){var u,v,w=[],x,y,G;u=t.container();v=t.offset();if(e(u)){x=j(u,v);}else{y=u.childNodes;if(v>=y.length){x='after';v=y.length-1;}else{x='before';}u=y[v];}w.push(m(u));G=p(i,u);G=c.filter(G,b.negate(N.isBogus));w=w.concat(c.map(G,function(H){return m(H);}));return w.reverse().join('/')+','+x;}function r(i,t,u){var v=h(i);v=c.filter(v,function(i,u){return!e(i)||!e(v[u-1]);});v=c.filter(v,N.matchNodeNames(t));return v[u];}function s(i,t){var u=i,v=0,w;while(e(u)){w=u.data.length;if(t>=v&&t<=v+w){i=u;t=t-v;break;}if(!e(u.nextSibling)){i=u;t=w;break;}v+=w;u=u.nextSibling;}if(t>i.data.length){t=i.data.length;}return new d(i,t);}function E(i,t){var u,v,w;if(!t){return null;}u=t.split(',');t=u[0].split('/');w=u.length>1?u[1]:'before';v=c.reduce(t,function(x,y){y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(y);if(!y){return null;}if(y[1]==='text()'){y[1]='#text';}return r(x,y[1],parseInt(y[2],10));},i);if(!v){return null;}if(!e(v)){if(w==='after'){w=n(v)+1;}else{w=n(v);}return new d(v.parentNode,w);}return s(v,parseInt(w,10));}return{create:o,resolve:E};});C("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils"],function(a,T,b,c,d,N,R){var e=N.isContentEditableFalse;function f(s){var g=s.dom;this.getBookmark=function(t,n){var r,h,i,j,k,l,m='&#xFEFF;',o;function p(k,l){var y=0;T.each(g.select(k),function(G){if(G.getAttribute('data-mce-bogus')==='all'){return;}if(G==l){return false;}y++;});return y;}function u(r){function y(G){var H,I,J,K=G?'start':'end';H=r[K+'Container'];I=r[K+'Offset'];if(H.nodeType==1&&H.nodeName=="TR"){J=H.childNodes;H=J[Math.min(G?I:I-1,J.length-1)];if(H){I=G?0:H.childNodes.length;r['set'+(G?'Start':'End')](H,I);}}}y(true);y();return r;}function v(r){var y=g.getRoot(),G={};function H(r,I){var J=r[I?'startContainer':'endContainer'],K=r[I?'startOffset':'endOffset'],L=[],M,O,P=0;if(J.nodeType==3){if(n){for(M=J.previousSibling;M&&M.nodeType==3;M=M.previousSibling){K+=M.nodeValue.length;}}L.push(K);}else{O=J.childNodes;if(K>=O.length&&O.length){P=1;K=Math.max(0,O.length-1);}L.push(g.nodeIndex(O[K],n)+P);}for(;J&&J!=y;J=J.parentNode){L.push(g.nodeIndex(J,n));}return L;}G.start=H(r,true);if(!s.isCollapsed()){G.end=H(r);}return G;}function w(r){function y(G,H){var I;if(N.isElement(G)){G=R.getNode(G,H);if(e(G)){return G;}}if(b.isCaretContainer(G)){if(N.isText(G)&&b.isCaretContainerBlock(G)){G=G.parentNode;}I=G.previousSibling;if(e(I)){return I;}I=G.nextSibling;if(e(I)){return I;}}}return y(r.startContainer,r.startOffset)||y(r.endContainer,r.endOffset);}if(t==2){l=s.getNode();k=l?l.nodeName:null;r=s.getRng();if(e(l)||k=='IMG'){return{name:k,index:p(k,l)};}if(s.tridentSel){return s.tridentSel.getBookmark(t);}l=w(r);if(l){k=l.tagName;return{name:k,index:p(k,l)};}return v(r);}if(t==3){r=s.getRng();return{start:c.create(g.getRoot(),d.fromRangeStart(r)),end:c.create(g.getRoot(),d.fromRangeEnd(r))};}if(t){return{rng:s.getRng()};}r=s.getRng();i=g.uniqueId();j=s.isCollapsed();o='overflow:hidden;line-height:0px';if(r.duplicate||r.item){if(!r.item){h=r.duplicate();try{r.collapse();r.pasteHTML('<span data-mce-type="bookmark" id="'+i+'_start" style="'+o+'">'+m+'</span>');if(!j){h.collapse(false);r.moveToElementText(h.parentElement());if(r.compareEndPoints('StartToEnd',h)===0){h.move('character',-1);}h.pasteHTML('<span data-mce-type="bookmark" id="'+i+'_end" style="'+o+'">'+m+'</span>');}}catch(x){return null;}}else{l=r.item(0);k=l.nodeName;return{name:k,index:p(k,l)};}}else{l=s.getNode();k=l.nodeName;if(k=='IMG'){return{name:k,index:p(k,l)};}h=u(r.cloneRange());if(!j){h.collapse(false);h.insertNode(g.create('span',{'data-mce-type':"bookmark",id:i+'_end',style:o},m));}r=u(r);r.collapse(true);r.insertNode(g.create('span',{'data-mce-type':"bookmark",id:i+'_start',style:o},m));}s.moveToBookmark({id:i,keep:1});return{id:i};};this.moveToBookmark=function(h){var r,j,k,l,m,n;function o(v){var w=h[v?'start':'end'],i,x,y,G;if(w){y=w[0];for(x=j,i=w.length-1;i>=1;i--){G=x.childNodes;if(w[i]>G.length-1){return;}x=G[w[i]];}if(x.nodeType===3){y=Math.min(w[0],x.nodeValue.length);}if(x.nodeType===1){y=Math.min(w[0],x.childNodes.length);}if(v){r.setStart(x,y);}else{r.setEnd(x,y);}}return true;}function p(i){var v=g.get(h.id+'_'+i),w,x,y,G,H=h.keep;if(v){w=v.parentNode;if(i=='start'){if(!H){x=g.nodeIndex(v);}else{w=v.firstChild;x=1;}k=l=w;m=n=x;}else{if(!H){x=g.nodeIndex(v);}else{w=v.firstChild;x=1;}l=w;n=x;}if(!H){G=v.previousSibling;y=v.nextSibling;T.each(T.grep(v.childNodes),function(w){if(w.nodeType==3){w.nodeValue=w.nodeValue.replace(/\uFEFF/g,'');}});while((v=g.get(h.id+'_'+i))){g.remove(v,1);}if(G&&y&&G.nodeType==y.nodeType&&G.nodeType==3&&!a.opera){x=G.nodeValue.length;G.appendData(y.nodeValue);g.remove(y);if(i=='start'){k=l=G;m=n=x;}else{l=G;n=x;}}}}}function t(i){if(g.isBlock(i)&&!i.innerHTML&&!a.ie){i.innerHTML='<br data-mce-bogus="1" />';}return i;}function u(){var r,i;r=g.createRng();i=c.resolve(g.getRoot(),h.start);r.setStart(i.container(),i.offset());i=c.resolve(g.getRoot(),h.end);r.setEnd(i.container(),i.offset());return r;}if(h){if(T.isArray(h.start)){r=g.createRng();j=g.getRoot();if(s.tridentSel){return s.tridentSel.moveToBookmark(h);}if(o(true)&&o()){s.setRng(r);}}else if(typeof h.start=='string'){s.setRng(u(h));}else if(h.id){p('start');p('end');if(k){r=g.createRng();r.setStart(t(k),m);r.setEnd(t(l),n);s.setRng(r);}}else if(h.name){s.select(g.select(h.name)[h.index]);}else if(h.rng){s.setRng(h.rng);}}};}f.isBookmarkNode=function(n){return n&&n.tagName==='SPAN'&&n.getAttribute('data-mce-type')==='bookmark';};return f;});C("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(T,a,b,R,c,N,d,f,g){var h=f.each,t=f.trim;var i=d.ie;function S(e,w,s,j){var k=this;k.dom=e;k.win=w;k.serializer=s;k.editor=j;k.bookmarkManager=new c(k);k.controlSelection=new b(k,j);if(!k.win.getSelection){k.tridentSel=new a(k);}}S.prototype={setCursorLocation:function(n,o){var s=this,r=s.dom.createRng();if(!n){s._moveEndPoint(r,s.editor.getBody(),true);s.setRng(r);}else{r.setStart(n,o);r.setEnd(n,o);s.setRng(r);s.collapse(false);}},getContent:function(e){var s=this,r=s.getRng(),j=s.dom.create("body");var k=s.getSel(),w,l,m;e=e||{};w=l='';e.get=true;e.format=e.format||'html';e.selection=true;s.editor.fire('BeforeGetContent',e);if(e.format=='text'){return s.isCollapsed()?'':(r.text||(k.toString?k.toString():''));}if(r.cloneContents){m=r.cloneContents();if(m){j.appendChild(m);}}else if(r.item!==z||r.htmlText!==z){j.innerHTML='<br>'+(r.item?r.item(0).outerHTML:r.htmlText);j.removeChild(j.firstChild);}else{j.innerHTML=r.toString();}if(/^\s/.test(j.innerHTML)){w=' ';}if(/\s+$/.test(j.innerHTML)){l=' ';}e.getInner=true;e.content=s.isCollapsed()?'':w+s.serializer.serialize(j,e)+l;s.editor.fire('GetContent',e);return e.content;},setContent:function(e,j){var s=this,r=s.getRng(),k,l=s.win.document,m,n;j=j||{format:'html'};j.set=true;j.selection=true;j.content=e;if(!j.no_events){s.editor.fire('BeforeSetContent',j);}e=j.content;if(r.insertNode){e+='<span id="__caret">_</span>';if(r.startContainer==l&&r.endContainer==l){l.body.innerHTML=e;}else{r.deleteContents();if(l.body.childNodes.length===0){l.body.innerHTML=e;}else{if(r.createContextualFragment){r.insertNode(r.createContextualFragment(e));}else{m=l.createDocumentFragment();n=l.createElement('div');m.appendChild(n);n.outerHTML=e;r.insertNode(m);}}}k=s.dom.get('__caret');r=l.createRange();r.setStartBefore(k);r.setEndBefore(k);s.setRng(r);s.dom.remove('__caret');try{s.setRng(r);}catch(o){}}else{if(r.item){l.execCommand('Delete',false,null);r=s.getRng();}if(/^\s+/.test(e)){r.pasteHTML('<span id="__mce_tmp">_</span>'+e);s.dom.remove('__mce_tmp');}else{r.pasteHTML(e);}}if(!j.no_events){s.editor.fire('SetContent',j);}},getStart:function(r){var s=this,e=s.getRng(),j,p,k,n;if(e.duplicate||e.item){if(e.item){return e.item(0);}k=e.duplicate();k.collapse(1);j=k.parentElement();if(j.ownerDocument!==s.dom.doc){j=s.dom.getRoot();}p=n=e.parentElement();while((n=n.parentNode)){if(n==j){j=p;break;}}return j;}j=e.startContainer;if(j.nodeType==1&&j.hasChildNodes()){if(!r||!e.collapsed){j=j.childNodes[Math.min(j.childNodes.length-1,e.startOffset)];}}if(j&&j.nodeType==3){return j.parentNode;}return j;},getEnd:function(r){var s=this,e=s.getRng(),j,k;if(e.duplicate||e.item){if(e.item){return e.item(0);}e=e.duplicate();e.collapse(0);j=e.parentElement();if(j.ownerDocument!==s.dom.doc){j=s.dom.getRoot();}if(j&&j.nodeName=='BODY'){return j.lastChild||j;}return j;}j=e.endContainer;k=e.endOffset;if(j.nodeType==1&&j.hasChildNodes()){if(!r||!e.collapsed){j=j.childNodes[k>0?k-1:k];}}if(j&&j.nodeType==3){return j.parentNode;}return j;},getBookmark:function(e,n){return this.bookmarkManager.getBookmark(e,n);},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e);},select:function(n,e){var s=this,j=s.dom,r=j.createRng(),k;s.lastFocusBookmark=null;if(n){if(!e&&s.controlSelection.controlSelect(n)){return;}k=j.nodeIndex(n);r.setStart(n.parentNode,k);r.setEnd(n.parentNode,k+1);if(e){s._moveEndPoint(r,n,true);s._moveEndPoint(r,n);}s.setRng(r);}return n;},isCollapsed:function(){var s=this,r=s.getRng(),e=s.getSel();if(!r||r.item){return false;}if(r.compareEndPoints){return r.compareEndPoints('StartToEnd',r)===0;}return!e||r.collapsed;},collapse:function(e){var s=this,r=s.getRng(),n;if(r.item){n=r.item(0);r=s.win.document.body.createTextRange();r.moveToElementText(n);}r.collapse(!!e);s.setRng(r);},getSel:function(){var w=this.win;return w.getSelection?w.getSelection():w.document.selection;},getRng:function(w){var s=this,e,r,j,k,l,m;function n(u,v,x){try{return v.compareBoundaryPoints(u,x);}catch(p){return-1;}}if(!s.win){return null;}k=s.win.document;if(typeof k==='undefined'||k===null){return null;}if(!w&&s.lastFocusBookmark){var o=s.lastFocusBookmark;if(o.startContainer){r=k.createRange();r.setStart(o.startContainer,o.startOffset);r.setEnd(o.endContainer,o.endOffset);}else{r=o;}return r;}if(w&&s.tridentSel){return s.tridentSel.getRangeAt(0);}try{if((e=s.getSel())){if(e.rangeCount>0){r=e.getRangeAt(0);}else{r=e.createRange?e.createRange():k.createRange();}}}catch(p){}m=s.editor.fire('GetSelectionRange',{range:r});if(m.range!==r){return m.range;}if(i&&r&&r.setStart&&k.selection){try{l=k.selection.createRange();}catch(p){}if(l&&l.item){j=l.item(0);r=k.createRange();r.setStartBefore(j);r.setEndAfter(j);}}if(!r){r=k.createRange?k.createRange():k.body.createTextRange();}if(r.setStart&&r.startContainer.nodeType===9&&r.collapsed){j=s.dom.getRoot();r.setStart(j,0);r.setEnd(j,0);}if(s.selectedRange&&s.explicitRange){if(n(r.START_TO_START,r,s.selectedRange)===0&&n(r.END_TO_END,r,s.selectedRange)===0){r=s.explicitRange;}else{s.selectedRange=null;s.explicitRange=null;}}return r;},setRng:function(r,e){var s=this,j,n,k;if(!r){return;}if(r.select){s.explicitRange=null;try{r.select();}catch(l){}return;}if(!s.tridentSel){j=s.getSel();k=s.editor.fire('SetSelectionRange',{range:r});r=k.range;if(j){s.explicitRange=r;try{j.removeAllRanges();j.addRange(r);}catch(l){}if(e===false&&j.extend){j.collapse(r.endContainer,r.endOffset);j.extend(r.startContainer,r.startOffset);}s.selectedRange=j.rangeCount>0?j.getRangeAt(0):null;}if(!r.collapsed&&r.startContainer==r.endContainer&&j.setBaseAndExtent&&!d.ie){if(r.endOffset-r.startOffset<2){if(r.startContainer.hasChildNodes()){n=r.startContainer.childNodes[r.startOffset];if(n&&n.tagName=='IMG'){j.setBaseAndExtent(r.startContainer,r.startOffset,r.endContainer,r.endOffset);if(j.anchorNode!==r.startContainer||j.focusNode!==r.endContainer){j.setBaseAndExtent(n,0,n,1);}}}}}s.editor.fire('AfterSetSelectionRange',{range:r});}else{if(r.cloneRange){try{s.tridentSel.addRange(r);}catch(l){}}}},setNode:function(e){var s=this;s.setContent(s.dom.getOuterHTML(e));return e;},getNode:function(){var s=this,r=s.getRng(),e;var j,k,l,m,n=s.dom.getRoot();function o(p,u){var v=p;while(p&&p.nodeType===3&&p.length===0){p=u?p.nextSibling:p.previousSibling;}return p||v;}if(!r){return n;}j=r.startContainer;k=r.endContainer;l=r.startOffset;m=r.endOffset;if(r.setStart){e=r.commonAncestorContainer;if(!r.collapsed){if(j==k){if(m-l<2){if(j.hasChildNodes()){e=j.childNodes[l];}}}if(j.nodeType===3&&k.nodeType===3){if(j.length===l){j=o(j.nextSibling,true);}else{j=j.parentNode;}if(m===0){k=o(k.previousSibling,false);}else{k=k.parentNode;}if(j&&j===k){return j;}}}if(e&&e.nodeType==3){return e.parentNode;}return e;}e=r.item?r.item(0):r.parentElement();if(e.ownerDocument!==s.win.document){e=n;}return e;},getSelectedBlocks:function(s,e){var j=this,k=j.dom,n,r,l=[];r=k.getRoot();s=k.getParent(s||j.getStart(),k.isBlock);e=k.getParent(e||j.getEnd(),k.isBlock);if(s&&s!=r){l.push(s);}if(s&&e&&s!=e){n=s;var w=new T(s,r);while((n=w.next())&&n!=e){if(k.isBlock(n)){l.push(n);}}}if(e&&s!=e&&e!=r){l.push(e);}return l;},isForward:function(){var e=this.dom,s=this.getSel(),j,k;if(!s||!s.anchorNode||!s.focusNode){return true;}j=e.createRng();j.setStart(s.anchorNode,s.anchorOffset);j.collapse(true);k=e.createRng();k.setStart(s.focusNode,s.focusOffset);k.collapse(true);return j.compareBoundaryPoints(j.START_TO_START,k)<=0;},normalize:function(){var s=this,r=s.getRng();if(d.range&&new R(s.dom).normalize(r)){s.setRng(r,s.isForward());}return r;},selectorChanged:function(s,j){var k=this,l;if(!k.selectorChangedData){k.selectorChangedData={};l={};k.editor.on('NodeChange',function(e){var n=e.element,m=k.dom,p=m.getParents(n,null,m.getRoot()),o={};h(k.selectorChangedData,function(r,s){h(p,function(n){if(m.is(n,s)){if(!l[s]){h(r,function(j){j(true,{node:n,selector:s,parents:p});});l[s]=r;}o[s]=r;return false;}});});h(l,function(r,s){if(!o[s]){delete l[s];h(r,function(j){j(false,{node:n,selector:s,parents:p});});}});});}if(!k.selectorChangedData[s]){k.selectorChangedData[s]=[];}k.selectorChangedData[s].push(j);return k;},getScrollContainer:function(){var s,n=this.dom.getRoot();while(n&&n.nodeName!='BODY'){if(n.scrollHeight>n.clientHeight){s=n;break;}n=n.parentNode;}return s;},scrollIntoView:function(e,j){var y,v,s=this,k=s.dom,r=k.getRoot(),l,m,o=0;function n(e){var x=0,y=0;var u=e;while(u&&u.nodeType){x+=u.offsetLeft||0;y+=u.offsetTop||0;u=u.offsetParent;}return{x:x,y:y};}if(!N.isElement(e)){return;}if(j===false){o=e.offsetHeight;}if(r.nodeName!='BODY'){var p=s.getScrollContainer();if(p){y=n(e).y-n(p).y+o;m=p.clientHeight;l=p.scrollTop;if(y<l||y+25>l+m){p.scrollTop=y<l?y:y-m+25;}return;}}v=k.getViewPort(s.editor.getWin());y=k.getPos(e).y+o;l=v.y;m=v.h;if(y<v.y||y+25>l+m){s.editor.getWin().scrollTo(0,y<l?y:y-m+25);}},placeCaretAt:function(e,j){this.setRng(R.getCaretRangeFromPoint(e,j,this.editor.getDoc()));},_moveEndPoint:function(r,n,s){var e=n,w=new T(n,e);var j=this.dom.schema.getNonEmptyElements();do{if(n.nodeType==3&&t(n.nodeValue).length!==0){if(s){r.setStart(n,0);}else{r.setEnd(n,n.nodeValue.length);}return;}if(j[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName)){if(s){r.setStartBefore(n);}else{if(n.nodeName=='BR'){r.setEndBefore(n);}else{r.setEndAfter(n);}}return;}if(d.ie&&d.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n)){if(s){r.setStart(n,0);}else{r.setEnd(n,0);}return;}}while((n=(s?w.next():w.prev())));if(e.nodeName=='BODY'){if(s){r.setStart(e,0);}else{r.setEnd(e,e.childNodes.length);}}},getBoundingClientRect:function(){var r=this.getRng();return r.collapsed?g.fromRangeStart(r).getClientRects()[0]:r.getBoundingClientRect();},destroy:function(){this.win=null;this.controlSelection.destroy();}};return S;});C("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(a,T){var e=T.each;function b(d){this.compare=function(n,c){if(n.nodeName!=c.nodeName){return false;}function g(h){var i={};e(d.getAttribs(h),function(j){var k=j.nodeName.toLowerCase();if(k.indexOf('_')!==0&&k!=='style'&&k.indexOf('data-')!==0){i[k]=d.getAttrib(h,k);}});return i;}function f(o,h){var v,i;for(i in o){if(o.hasOwnProperty(i)){v=h[i];if(typeof v=="undefined"){return false;}if(o[i]!=v){return false;}delete h[i];}}for(i in h){if(h.hasOwnProperty(i)){return false;}}return true;}if(!f(g(n),g(c))){return false;}if(!f(d.parseStyle(d.getAttrib(n,'style')),d.parseStyle(d.getAttrib(c,'style')))){return false;}return!a.isBookmarkNode(n)&&!a.isBookmarkNode(c);};}return b;});C("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(a,T,S){var e=T.each;var d=a.DOM;function p(f,h){var i,j,k;var l=h&&h.schema||new S({});function m(i,j){if(j.classes.length){d.addClass(i,j.classes.join(' '));}d.setAttribs(i,j.attrs);}function n(I){var i;j=typeof I==='string'?{name:I,classes:[],attrs:{}}:I;i=d.create(j.name);m(i,j);return i;}function o(i,r){var t=typeof i!=='string'?i.nodeName.toLowerCase():i;var u=l.getElementRule(t);var v=u.parentsRequired;if(v&&v.length){return r&&T.inArray(v,r)!==-1?r:v[0];}else{return false;}}function w(i,f,r){var t,u,v;var x=f.length&&f[0];var y=x&&x.name;v=o(i,y);if(v){if(y==v){u=f[0];f=f.slice(1);}else{u=v;}}else if(x){u=f[0];f=f.slice(1);}else if(!r){return i;}if(u){t=n(u);t.appendChild(i);}if(r){if(!t){t=d.create('div');t.appendChild(i);}T.each(r,function(G){var H=n(G);t.insertBefore(H,i);});}return w(t,f,u&&u.siblings);}if(f&&f.length){j=f[0];i=n(j);k=d.create('div');k.appendChild(w(i,f.slice(1),j.siblings));return k;}else{return'';}}function s(f,h){return p(c(f),h);}function b(i){var t;var o={classes:[],attrs:{}};i=o.selector=T.trim(i);if(i!=='*'){t=i.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function($,f,h,j,k){switch(f){case'#':o.attrs.id=h;break;case'.':o.classes.push(h);break;case':':if(T.inArray('checked disabled enabled read-only required'.split(' '),h)!==-1){o.attrs[h]=h;}break;}if(j=='['){var m=k.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(m){o.attrs[m[1]]=m[2];}}return'';});}o.name=t||'div';return o;}function c(f){if(!f||typeof f!=='string'){return[];}f=f.split(/\s*,\s*/)[0];f=f.replace(/\s*(~\+|~|\+|>)\s*/g,'$1');return T.map(f.split(/(?:>|\s+(?![^\[\]]+\]))/),function(i){var h=T.map(i.split(/(?:~\+|~|\+)/),b);var o=h.pop();if(h.length){o.siblings=h;}return o;}).reverse();}function g(f,h){var n,i,j,k;var l='',m,o;o=f.settings.preview_styles;if(o===false){return'';}if(typeof o!=='string'){o='font-family font-size font-weight font-style text-decoration '+'text-transform color background-color border border-radius outline text-shadow';}function r(v){return v.replace(/%(\w+)/g,'');}if(typeof h=="string"){h=f.formatter.get(h);if(!h){return;}h=h[0];}if('preview'in h){o=h.preview;if(o===false){return'';}}n=h.block||h.inline||'span';k=c(h.selector);if(k.length){if(!k[0].name){k[0].name=n;}n=h.selector;i=p(k,f);}else{i=p([n],f);}j=d.select(n,i)[0]||i.firstChild;e(h.styles,function(v,n){v=r(v);if(v){d.setStyle(j,n,v);}});e(h.attributes,function(v,n){v=r(v);if(v){d.setAttrib(j,n,v);}});e(h.classes,function(v){v=r(v);if(!d.hasClass(j,v)){d.addClass(j,v);}});f.fire('PreviewFormats');d.setStyles(i,{position:'absolute',left:-0xFFFF});f.getBody().appendChild(i);m=d.getStyle(f.getBody(),'fontSize',true);m=/px$/.test(m)?parseInt(m,10):0;e(o.split(' '),function(n){var v=d.getStyle(j,n,true);if(n=='background-color'&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)){v=d.getStyle(f.getBody(),n,true);if(d.toHex(v).toLowerCase()=='#ffffff'){return;}}if(n=='color'){if(d.toHex(v).toLowerCase()=='#000000'){return;}}if(n=='font-size'){if(/em|%$/.test(v)){if(m===0){return;}v=parseFloat(v,10)/(/%$/.test(v)?100:1);v=(v*m)+'px';}}if(n=="border"&&v){l+='padding:0 2px;';}l+=n+':'+v+';';});f.fire('AfterPreviewFormats');d.remove(i);return l;}return{getCssText:g,parseSelector:c,selectorToHtml:s};});C("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(a,N,$){var p={},f=a.filter,e=a.each;function b(n,h){var d=p[n];if(!d){p[n]=d=[];}p[n].push(h);}function c(n,d){e(p[n],function(h){h(d);});}b("pre",function(d){var r=d.selection.getRng(),i,g;function h(k){return i(k.previousSibling)&&a.indexOf(g,k.previousSibling)!=-1;}function j(k,l){$(l).remove();$(k).append('<br><br>').append(l.childNodes);}i=N.matchNodeNames('pre');if(!r.collapsed){g=d.selection.getSelectedBlocks();e(f(f(g,i),h),function(k){j(k.previousSibling,k);});}});return{postProcess:c};});C("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Fun","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(T,R,a,b,c,d,P,H){return function(f){var g={},h=f.dom,s=f.selection,r=new R(h),j=f.schema.isValidChild,k=h.isBlock,m=f.settings.forced_root_block,o=h.nodeIndex,I='\uFEFF',M=/^(src|href|style)$/,p=false,t=true,u,v,w=h.getContentEditable,G,J,K=a.isBookmarkNode;var L=d.each,N=d.grep,O=d.walk,Q=d.extend;function S(n){if(n.nodeType){n=n.nodeName;}return!!f.schema.getTextBlockElements()[n.toLowerCase()];}function U(n){return/^(TH|TD)$/.test(n.nodeName);}function V(n){return n&&/^(IMG)$/.test(n.nodeName);}function W(n,e){return h.getParents(n,e,h.getRoot());}function X(n){return n.nodeType===1&&n.id==='_mce_caret';}function Y(){_({valigntop:[{selector:'td,th',styles:{'verticalAlign':'top'}}],valignmiddle:[{selector:'td,th',styles:{'verticalAlign':'middle'}}],valignbottom:[{selector:'td,th',styles:{'verticalAlign':'bottom'}}],alignleft:[{selector:'figure.image',collapsed:false,classes:'align-left',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'left'},inherit:false,preview:false,defaultBlock:'div'},{selector:'img,table',collapsed:false,styles:{'float':'left'},preview:'font-family font-size'}],aligncenter:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'center'},inherit:false,preview:false,defaultBlock:'div'},{selector:'figure.image',collapsed:false,classes:'align-center',ceFalseOverride:true,preview:'font-family font-size'},{selector:'img',collapsed:false,styles:{display:'block',marginLeft:'auto',marginRight:'auto'},preview:false},{selector:'table',collapsed:false,styles:{marginLeft:'auto',marginRight:'auto'},preview:'font-family font-size'}],alignright:[{selector:'figure.image',collapsed:false,classes:'align-right',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'right'},inherit:false,preview:'font-family font-size',defaultBlock:'div'},{selector:'img,table',collapsed:false,styles:{'float':'right'},preview:'font-family font-size'}],alignjustify:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'justify'},inherit:false,defaultBlock:'div',preview:'font-family font-size'}],bold:[{inline:'strong',remove:'all'},{inline:'span',styles:{fontWeight:'bold'}},{inline:'b',remove:'all'}],italic:[{inline:'em',remove:'all'},{inline:'span',styles:{fontStyle:'italic'}},{inline:'i',remove:'all'}],underline:[{inline:'span',styles:{textDecoration:'underline'},exact:true},{inline:'u',remove:'all'}],strikethrough:[{inline:'span',styles:{textDecoration:'line-through'},exact:true},{inline:'strike',remove:'all'}],forecolor:{inline:'span',styles:{color:'%value'},links:true,remove_similar:true},hilitecolor:{inline:'span',styles:{backgroundColor:'%value'},links:true,remove_similar:true},fontname:{inline:'span',styles:{fontFamily:'%value'}},fontsize:{inline:'span',styles:{fontSize:'%value'}},fontsize_class:{inline:'span',attributes:{'class':'%value'}},blockquote:{block:'blockquote',wrapper:1,remove:'all'},subscript:{inline:'sub'},superscript:{inline:'sup'},code:{inline:'code'},link:{inline:'a',selector:'a',remove:'all',split:true,deep:true,onmatch:function(){return true;},onformat:function(e,i,l){L(l,function(n,x){h.setAttrib(e,x,n);});}},removeformat:[{selector:'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',remove:'all',split:true,expand:false,block_expand:true,deep:true},{selector:'span',attributes:['style','class'],remove:'empty',split:true,expand:false,deep:true},{selector:'*',attributes:['style','class'],split:false,expand:false,deep:true}]});L('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\s/),function(n){_(n,{block:n,remove:'all'});});_(f.settings.formats);}function Z(){f.addShortcut('meta+b','bold_desc','Bold');f.addShortcut('meta+i','italic_desc','Italic');f.addShortcut('meta+u','underline_desc','Underline');for(var i=1;i<=6;i++){f.addShortcut('access+'+i,'',['FormatBlock',false,'h'+i]);}f.addShortcut('access+7','',['FormatBlock',false,'p']);f.addShortcut('access+8','',['FormatBlock',false,'div']);f.addShortcut('access+9','',['FormatBlock',false,'address']);}function $(n){return n?g[n]:g;}function _(n,e){if(n){if(typeof n!=='string'){L(n,function(e,n){_(n,e);});}else{e=e.length?e:[e];L(e,function(e){if(e.deep===v){e.deep=!e.selector;}if(e.split===v){e.split=!e.selector||e.inline;}if(e.remove===v&&e.selector&&!e.inline){e.remove='none';}if(e.selector&&e.inline){e.mixed=true;e.block_expand=true;}if(typeof e.classes==='string'){e.classes=e.classes.split(/\s+/);}});g[n]=e;}}}function a1(n){if(n&&g[n]){delete g[n];}return g;}function b1(n,e){var l=$(e);if(l){for(var i=0;i<l.length;i++){if(l[i].inherit===false&&h.is(n,l[i].selector)){return true;}}}return false;}function c1(e){var i;f.dom.getParent(e,function(n){i=f.dom.getStyle(n,'text-decoration');return i&&i!=='none';});return i;}function d1(n){var e;if(n.nodeType===1&&n.parentNode&&n.parentNode.nodeType===1){e=c1(n.parentNode);if(f.dom.getStyle(n,'color')&&e){f.dom.setStyle(n,'text-decoration',e);}else if(f.dom.getStyle(n,'text-decoration')===e){f.dom.setStyle(n,'text-decoration',null);}}}function e1(n,e,x){var y=$(n),H1=y[0],I1,J1,K1=!x&&s.isCollapsed();function L1(Q1,R1){R1=R1||H1;if(Q1){if(R1.onformat){R1.onformat(Q1,R1,e,x);}L(R1.styles,function(T1,n){h.setStyle(Q1,n,v1(T1,e));});if(R1.styles){var S1=h.getAttrib(Q1,'style');if(S1){Q1.setAttribute('data-mce-style',S1);}}L(R1.attributes,function(T1,n){h.setAttrib(Q1,n,v1(T1,e));});L(R1.classes,function(T1){T1=v1(T1,e);if(!h.hasClass(Q1,T1)){h.addClass(Q1,T1);}});}}function M1(y,x){var Q1=false;if(!H1.selector){return false;}L(y,function(H1){if('collapsed'in H1&&H1.collapsed!==K1){return;}if(h.is(x,H1.selector)&&!X(x)){L1(x,H1);Q1=true;return false;}});return Q1;}function N1(){function Q1(R1,S1){var V1=new T(S1);for(x=V1.prev2();x;x=V1.prev2()){if(x.nodeType==3&&x.data.length>0){return x;}if(x.childNodes.length>1||x==R1||x.tagName=='BR'){return x;}}}var J1=f.selection.getRng();var R1=J1.startContainer;var S1=J1.endContainer;if(R1!=S1&&J1.endOffset===0){var T1=Q1(R1,S1);var U1=T1.nodeType==3?T1.data.length:T1.childNodes.length;J1.setEnd(T1,U1);}return J1;}function O1(J1,I1,Q1){var R1=[],S1,T1,U1=true;S1=H1.inline||H1.block;T1=h.create(S1);L1(T1);r.walk(J1,function(V1){var W1;function X1(x){var Y1,Z1,$1,_1;_1=U1;Y1=x.nodeName.toLowerCase();Z1=x.parentNode.nodeName.toLowerCase();if(x.nodeType===1&&w(x)){_1=U1;U1=w(x)==="true";$1=true;}if(o1(Y1,'br')){W1=0;if(H1.block){h.remove(x);}return;}if(H1.wrapper&&h1(x,n,e)){W1=0;return;}if(U1&&!$1&&H1.block&&!H1.wrapper&&S(Y1)&&j(Z1,S1)){x=h.rename(x,S1);L1(x);R1.push(x);W1=0;return;}if(H1.selector){var a2=M1(y,x);if(!H1.inline||a2){W1=0;return;}}if(U1&&!$1&&j(S1,Y1)&&j(Z1,S1)&&!(!Q1&&x.nodeType===3&&x.nodeValue.length===1&&x.nodeValue.charCodeAt(0)===65279)&&!X(x)&&(!H1.inline||!k(x))){if(!W1){W1=h.clone(T1,p);x.parentNode.insertBefore(W1,x);R1.push(W1);}W1.appendChild(x);}else{W1=0;L(N(x.childNodes),X1);if($1){U1=_1;}W1=0;}}L(V1,X1);});if(H1.links===true){L(R1,function(x){function V1(x){if(x.nodeName==='A'){L1(x,H1);}L(N(x.childNodes),V1);}V1(x);});}L(R1,function(x){var V1;function W1(x){var _1=0;L(x.childNodes,function(x){if(!w1(x)&&!K(x)){_1++;}});return _1;}function X1(_1){var a2=false;L(_1.childNodes,function(x){if(q1(x)){a2=x;return false;}});return a2;}function Y1(x,_1){do{if(W1(x)!==1){break;}x=X1(x);if(!x){break;}else if(_1(x)){return x;}}while(x);return null;}function Z1(x){var _1,a2;_1=X1(x);if(_1&&!K(_1)&&n1(_1,H1)){a2=h.clone(_1,p);L1(a2);h.replace(a2,x,t);h.remove(_1,1);}return a2||x;}V1=W1(x);if((R1.length>1||!k(x))&&V1===0){h.remove(x,1);return;}if(H1.inline||H1.wrapper){if(!H1.exact&&V1===1){x=Z1(x);}L(y,function(H1){L(h.select(H1.inline,x),function(_1){if(K(_1)){return;}A1(H1,e,_1,H1.exact?_1:null);});});if(h1(x.parentNode,n,e)){if(A1(H1,e,x)){x=0;}}if(H1.merge_with_parents){h.getParent(x.parentNode,function(_1){if(h1(_1,n,e)){if(A1(H1,e,x)){x=0;}return t;}});}if(!k(x)&&!t1(x,'fontSize')){var $1=Y1(x,r1('fontSize'));if($1){e1('fontsize',{value:t1($1,'fontSize')},x);}}if(x&&H1.merge_siblings!==false){x=D1(C1(x),x);x=D1(x,C1(x,t));}}});}if(w(s.getNode())==="false"){x=s.getNode();for(var i=0,l=y.length;i<l;i++){if(y[i].ceFalseOverride&&h.is(x,y[i].selector)){L1(x,y[i]);return;}}return;}if(H1){if(x){if(x.nodeType){if(!M1(y,x)){J1=h.createRng();J1.setStartBefore(x);J1.setEndAfter(x);O1(y1(J1,y),null,true);}}else{O1(x,null,true);}}else{if(!K1||!H1.inline||h.select('td[data-mce-selected],th[data-mce-selected]').length){var P1=f.selection.getNode();if(!m&&y[0].defaultBlock&&!h.getParent(P1,h.isBlock)){e1(y[0].defaultBlock);}f.selection.setRng(N1());I1=s.getBookmark();O1(y1(s.getRng(t),y),I1);if(H1.styles){if(H1.styles.color||H1.styles.textDecoration){O(P1,d1,'childNodes');d1(P1);}if(H1.styles.backgroundColor){p1(P1,r1('fontSize'),s1('backgroundColor',v1(H1.styles.backgroundColor,e)));}}s.moveToBookmark(I1);G1(s.getRng(t));f.nodeChanged();}else{F1('apply',n,e);}}H.postProcess(n,f);}}function f1(n,e,x,y){var H1=$(n),I1=H1[0],J1,K1,L1=true;function M1(x){var S1,i,l,T1,U1;if(x.nodeType===1&&w(x)){T1=L1;L1=w(x)==="true";U1=true;}S1=N(x.childNodes);if(L1&&!U1){for(i=0,l=H1.length;i<l;i++){if(A1(H1[i],e,x,x)){break;}}}if(I1.deep){if(S1.length){for(i=0,l=S1.length;i<l;i++){M1(S1[i]);}if(U1){L1=T1;}}}}function N1(S1){var T1;L(W(S1.parentNode).reverse(),function(U1){var I1;if(!T1&&U1.id!='_start'&&U1.id!='_end'){I1=h1(U1,n,e,y);if(I1&&I1.split!==false){T1=U1;}}});return T1;}function O1(S1,T1,U1,V1){var W1,X1,Y1,Z1,i,$1;if(S1){$1=S1.parentNode;for(W1=T1.parentNode;W1&&W1!=$1;W1=W1.parentNode){X1=h.clone(W1,p);for(i=0;i<H1.length;i++){if(A1(H1[i],e,X1,X1)){X1=0;break;}}if(X1){if(Y1){X1.appendChild(Y1);}if(!Z1){Z1=X1;}Y1=X1;}}if(V1&&(!I1.mixed||!k(S1))){T1=h.split(S1,T1);}if(Y1){U1.parentNode.insertBefore(Y1,U1);Z1.appendChild(U1);}}return T1;}function P1(S1){return O1(N1(S1),S1,S1,true);}function Q1(S1){var x=h.get(S1?'_start':'_end'),T1=x[S1?'firstChild':'lastChild'];if(K(T1)){T1=T1[S1?'firstChild':'lastChild'];}if(T1.nodeType==3&&T1.data.length===0){T1=S1?x.previousSibling||x.nextSibling:x.nextSibling||x.previousSibling;}h.remove(x,true);return T1;}function R1(K1){var S1,T1;var U1=K1.commonAncestorContainer;K1=y1(K1,H1,t);if(I1.split){S1=E1(K1,t);T1=E1(K1);if(S1!=T1){if(/^(TR|TH|TD)$/.test(S1.nodeName)&&S1.firstChild){if(S1.nodeName=="TR"){S1=S1.firstChild.firstChild||S1;}else{S1=S1.firstChild||S1;}}if(U1&&/^T(HEAD|BODY|FOOT|R)$/.test(U1.nodeName)&&U(T1)&&T1.firstChild){T1=T1.firstChild||T1;}if(h.isChildOf(S1,T1)&&!k(T1)&&!U(S1)&&!U(T1)){S1=x1(S1,'span',{id:'_start','data-mce-type':'bookmark'});P1(S1);S1=Q1(t);return;}S1=x1(S1,'span',{id:'_start','data-mce-type':'bookmark'});T1=x1(T1,'span',{id:'_end','data-mce-type':'bookmark'});P1(S1);P1(T1);S1=Q1(t);T1=Q1();}else{S1=T1=P1(S1);}K1.startContainer=S1.parentNode?S1.parentNode:S1;K1.startOffset=o(S1);K1.endContainer=T1.parentNode?T1.parentNode:T1;K1.endOffset=o(T1)+1;}r.walk(K1,function(V1){L(V1,function(x){M1(x);if(x.nodeType===1&&f.dom.getStyle(x,'text-decoration')==='underline'&&x.parentNode&&c1(x.parentNode)==='underline'){A1({'deep':false,'exact':true,'inline':'span','styles':{'textDecoration':'underline'}},null,x);}});});}if(x){if(x.nodeType){K1=h.createRng();K1.setStartBefore(x);K1.setEndAfter(x);R1(K1);}else{R1(x);}return;}if(w(s.getNode())==="false"){x=s.getNode();for(var i=0,l=H1.length;i<l;i++){if(H1[i].ceFalseOverride){if(A1(H1[i],e,x,x)){break;}}}return;}if(!s.isCollapsed()||!I1.inline||h.select('td[data-mce-selected],th[data-mce-selected]').length){J1=s.getBookmark();R1(s.getRng(t));s.moveToBookmark(J1);if(I1.inline&&i1(n,e,s.getStart())){G1(s.getRng(true));}f.nodeChanged();}else{F1('remove',n,e,y);}}function g1(n,e,i){var l=$(n);if(i1(n,e,i)&&(!('toggle'in l[0])||l[0].toggle)){f1(n,e,i);}else{e1(n,e,i);}}function h1(n,e,l,x){var y=$(e),H1,i,I1;function J1(n,H1,K1){var L1,M1,N1=H1[K1],i;if(H1.onmatch){return H1.onmatch(n,H1,K1);}if(N1){if(N1.length===v){for(L1 in N1){if(N1.hasOwnProperty(L1)){if(K1==='attributes'){M1=h.getAttrib(n,L1);}else{M1=t1(n,L1);}if(x&&!M1&&!H1.exact){return;}if((!x||H1.exact)&&!o1(M1,u1(v1(N1[L1],l),L1))){return;}}}}else{for(i=0;i<N1.length;i++){if(K1==='attributes'?h.getAttrib(n,N1[i]):t1(n,N1[i])){return H1;}}}}return H1;}if(y&&n){for(i=0;i<y.length;i++){H1=y[i];if(n1(n,H1)&&J1(n,H1,'attributes')&&J1(n,H1,'styles')){if((I1=H1.classes)){for(i=0;i<I1.length;i++){if(!h.hasClass(n,I1[i])){return;}}}return H1;}}}}function i1(n,e,i){var l;function x(i){var y=h.getRoot();if(i===y){return false;}i=h.getParent(i,function(i){if(b1(i,n)){return true;}return i.parentNode===y||!!h1(i,n,e,true);});return h1(i,n,e);}if(i){return x(i);}i=s.getNode();if(x(i)){return t;}l=s.getStart();if(l!=i){if(x(l)){return t;}}return p;}function j1(n,e){var l,x=[],y={};l=s.getStart();h.getParent(l,function(H1){var i,I1;for(i=0;i<n.length;i++){I1=n[i];if(!y[I1]&&h1(H1,I1,e)){y[I1]=true;x.push(I1);}}},h.getRoot());return x;}function k1(n){var e=$(n),l,y,i,x,H1;if(e){l=s.getStart();y=W(l);for(x=e.length-1;x>=0;x--){H1=e[x].selector;if(!H1||e[x].defaultBlock){return t;}for(i=y.length-1;i>=0;i--){if(h.is(y[i],H1)){return t;}}}}return p;}function l1(g,i,l){var n;if(!u){u={};n={};f.on('NodeChange',function(e){var x=W(e.element),y={};x=d.grep(x,function(H1){return H1.nodeType==1&&!H1.getAttribute('data-mce-bogus');});L(u,function(H1,I1){L(x,function(J1){if(h1(J1,I1,{},H1.similar)){if(!n[I1]){L(H1,function(i){i(true,{node:J1,format:I1,parents:x});});n[I1]=H1;}y[I1]=H1;return false;}if(b1(J1,I1)){return false;}});});L(n,function(H1,I1){if(!y[I1]){delete n[I1];L(H1,function(i){i(false,{node:e.element,format:I1,parents:x});});}});});}L(g.split(','),function(e){if(!u[e]){u[e]=[];u[e].similar=l;}u[e].push(i);});return this;}function m1(e){return P.getCssText(f,e);}Q(this,{get:$,register:_,unregister:a1,apply:e1,remove:f1,toggle:g1,match:i1,matchAll:j1,matchNode:h1,canApply:k1,formatChanged:l1,getCssText:m1});Y();Z();f.on('BeforeGetContent',function(e){if(J&&e.format!='raw'){J();}});f.on('mouseup keydown',function(e){if(G){G(e);}});function n1(n,e){if(o1(n,e.inline)){return t;}if(o1(n,e.block)){return t;}if(e.selector){return n.nodeType==1&&h.is(n,e.selector);}}function o1(e,i){e=e||'';i=i||'';e=''+(e.nodeName||e);i=''+(i.nodeName||i);return e.toLowerCase()==i.toLowerCase();}function p1(n,e,i){L(n.childNodes,function(n){if(q1(n)){if(e(n)){i(n);}if(n.hasChildNodes()){p1(n,e,i);}}});}function q1(n){return n.nodeType==1&&!K(n)&&!w1(n)&&!X(n);}function r1(n){return c.curry(function(n,e){return!!(e&&t1(e,n));},n);}function s1(n,e){return c.curry(function(n,e,i){h.setStyle(i,n,e);},n,e);}function t1(n,e){return u1(h.getStyle(n,e),e);}function u1(e,n){if(n=='color'||n=='backgroundColor'){e=h.toHex(e);}if(n=='fontWeight'&&e==700){e='bold';}if(n=='fontFamily'){e=e.replace(/[\'\"]/g,'').replace(/,\s+/g,',');}return''+e;}function v1(e,i){if(typeof e!="string"){e=e(i);}else if(i){e=e.replace(/%(\w+)/g,function(l,n){return i[n]||l;});}return e;}function w1(n){return n&&n.nodeType===3&&/^([\t \r\n]+|)$/.test(n.nodeValue);}function x1(n,e,i){var l=h.create(e,i);n.parentNode.insertBefore(l,n);l.appendChild(n);return l;}function y1(e,l,f1){var n,x,H1,I1=e.startContainer,J1=e.startOffset,K1=e.endContainer,L1=e.endOffset;function M1(i){var y,S1,T1,U1,V1;y=S1=i?I1:K1;U1=i?'previousSibling':'nextSibling';V1=h.getRoot();function W1(X1){return X1.nodeName=="BR"&&X1.getAttribute('data-mce-bogus')&&!X1.nextSibling;}if(y.nodeType==3&&!w1(y)){if(i?J1>0:L1<y.nodeValue.length){return y;}}while(true){if(!l[0].block_expand&&k(S1)){return S1;}for(T1=S1[U1];T1;T1=T1[U1]){if(!K(T1)&&!w1(T1)&&!W1(T1)){return S1;}}if(S1==V1||S1.parentNode==V1){y=S1;break;}S1=S1.parentNode;}return y;}function N1(i,y){if(y===v){y=i.nodeType===3?i.length:i.childNodes.length;}while(i&&i.hasChildNodes()){i=i.childNodes[y];if(i){y=i.nodeType===3?i.length:i.childNodes.length;}}return{node:i,offset:y};}if(I1.nodeType==1&&I1.hasChildNodes()){n=I1.childNodes.length-1;I1=I1.childNodes[J1>n?n:J1];if(I1.nodeType==3){J1=0;}}if(K1.nodeType==1&&K1.hasChildNodes()){n=K1.childNodes.length-1;K1=K1.childNodes[L1>n?n:L1-1];if(K1.nodeType==3){L1=K1.nodeValue.length;}}function O1(i){var y=i;while(y){if(y.nodeType===1&&w(y)){return w(y)==="false"?y:i;}y=y.parentNode;}return i;}function P1(i,y,S1){var T1,U1,V1,W1;function X1(U1,y){var V1,Y1,Z1=U1.nodeValue;if(typeof y=="undefined"){y=S1?Z1.length:0;}if(S1){V1=Z1.lastIndexOf(' ',y);Y1=Z1.lastIndexOf('\u00a0',y);V1=V1>Y1?V1:Y1;if(V1!==-1&&!f1){V1++;}}else{V1=Z1.indexOf(' ',y);Y1=Z1.indexOf('\u00a0',y);V1=V1!==-1&&(Y1===-1||V1<Y1)?V1:Y1;}return V1;}if(i.nodeType===3){V1=X1(i,y);if(V1!==-1){return{container:i,offset:V1};}W1=i;}T1=new T(i,h.getParent(i,k)||f.getBody());while((U1=T1[S1?'prev':'next']())){if(U1.nodeType===3){W1=U1;V1=X1(U1);if(V1!==-1){return{container:U1,offset:V1};}}else if(k(U1)){break;}}if(W1){if(S1){y=0;}else{y=W1.length;}return{container:W1,offset:y};}}function Q1(S1,T1){var U1,i,y,V1;if(S1.nodeType==3&&S1.nodeValue.length===0&&S1[T1]){S1=S1[T1];}U1=W(S1);for(i=0;i<U1.length;i++){for(y=0;y<l.length;y++){V1=l[y];if("collapsed"in V1&&V1.collapsed!==e.collapsed){continue;}if(h.is(U1[i],V1.selector)){return U1[i];}}}return S1;}function R1(i,y){var S1,T1=h.getRoot();if(!l[0].wrapper){S1=h.getParent(i,l[0].block,T1);}if(!S1){S1=h.getParent(i.nodeType==3?i.parentNode:i,function(S1){return S1!=T1&&S(S1);});}if(S1&&l[0].wrapper){S1=W(S1,'ul,ol').reverse()[0]||S1;}if(!S1){S1=i;while(S1[y]&&!k(S1[y])){S1=S1[y];if(o1(S1,'br')){break;}}}return S1||i;}I1=O1(I1);K1=O1(K1);if(K(I1.parentNode)||K(I1)){I1=K(I1)?I1:I1.parentNode;I1=I1.nextSibling||I1;if(I1.nodeType==3){J1=0;}}if(K(K1.parentNode)||K(K1)){K1=K(K1)?K1:K1.parentNode;K1=K1.previousSibling||K1;if(K1.nodeType==3){L1=K1.length;}}if(l[0].inline){if(e.collapsed){H1=P1(I1,J1,true);if(H1){I1=H1.container;J1=H1.offset;}H1=P1(K1,L1);if(H1){K1=H1.container;L1=H1.offset;}}x=N1(K1,L1);if(x.node){while(x.node&&x.offset===0&&x.node.previousSibling){x=N1(x.node.previousSibling);}if(x.node&&x.offset>0&&x.node.nodeType===3&&x.node.nodeValue.charAt(x.offset-1)===' '){if(x.offset>1){K1=x.node;K1.splitText(x.offset-1);}}}}if(l[0].inline||l[0].block_expand){if(!l[0].inline||(I1.nodeType!=3||J1===0)){I1=M1(true);}if(!l[0].inline||(K1.nodeType!=3||L1===K1.nodeValue.length)){K1=M1();}}if(l[0].selector&&l[0].expand!==p&&!l[0].inline){I1=Q1(I1,'previousSibling');K1=Q1(K1,'nextSibling');}if(l[0].block||l[0].selector){I1=R1(I1,'previousSibling');K1=R1(K1,'nextSibling');if(l[0].block){if(!k(I1)){I1=M1(true);}if(!k(K1)){K1=M1();}}}if(I1.nodeType==1){J1=o(I1);I1=I1.parentNode;}if(K1.nodeType==1){L1=o(K1)+1;K1=K1.parentNode;}return{startContainer:I1,startOffset:J1,endContainer:K1,endOffset:L1};}function z1(n,e){return e.links&&n.tagName=='A';}function A1(e,l,n,x){var i,y,H1;if(!n1(n,e)&&!z1(n,e)){return p;}if(e.remove!='all'){L(e.styles,function(J1,K1){J1=u1(v1(J1,l),K1);if(typeof K1==='number'){K1=J1;x=0;}if(e.remove_similar||(!x||o1(t1(x,K1),J1))){h.setStyle(n,K1,'');}H1=1;});if(H1&&h.getAttrib(n,'style')===''){n.removeAttribute('style');n.removeAttribute('data-mce-style');}L(e.attributes,function(J1,K1){var L1;J1=v1(J1,l);if(typeof K1==='number'){K1=J1;x=0;}if(!x||o1(h.getAttrib(x,K1),J1)){if(K1=='class'){J1=h.getAttrib(n,K1);if(J1){L1='';L(J1.split(/\s+/),function(M1){if(/mce\-\w+/.test(M1)){L1+=(L1?' ':'')+M1;}});if(L1){h.setAttrib(n,K1,L1);return;}}}if(K1=="class"){n.removeAttribute('className');}if(M.test(K1)){n.removeAttribute('data-mce-'+K1);}n.removeAttribute(K1);}});L(e.classes,function(J1){J1=v1(J1,l);if(!x||h.hasClass(x,J1)){h.removeClass(n,J1);}});y=h.getAttribs(n);for(i=0;i<y.length;i++){var I1=y[i].nodeName;if(I1.indexOf('_')!==0&&I1.indexOf('data-')!==0){return p;}}}if(e.remove!='none'){B1(n,e);return t;}}function B1(n,e){var i=n.parentNode,l;function x(n,y,H1){n=C1(n,y,H1);return!n||(n.nodeName=='BR'||k(n));}if(e.block){if(!m){if(k(n)&&!k(i)){if(!x(n,p)&&!x(n.firstChild,t,1)){n.insertBefore(h.create('br'),n.firstChild);}if(!x(n,t)&&!x(n.lastChild,p,1)){n.appendChild(h.create('br'));}}}else{if(i==h.getRoot()){if(!e.list_block||!o1(n,e.list_block)){L(N(n.childNodes),function(n){if(j(m,n.nodeName.toLowerCase())){if(!l){l=x1(n,m);h.setAttribs(l,f.settings.forced_root_block_attrs);}else{l.appendChild(n);}}else{l=0;}});}}}}if(e.selector&&e.inline&&!o1(e.inline,n)){return;}h.remove(n,1);}function C1(n,e,i){if(n){e=e?'nextSibling':'previousSibling';for(n=i?n:n[e];n;n=n[e]){if(n.nodeType==1||!w1(n)){return n;}}}}function D1(e,n){var i,l,x=new b(h);function y(H1,I1){for(i=H1;i;i=i[I1]){if(i.nodeType==3&&i.nodeValue.length!==0){return H1;}if(i.nodeType==1&&!K(i)){return i;}}return H1;}if(e&&n){e=y(e,'previousSibling');n=y(n,'nextSibling');if(x.compare(e,n)){for(i=e.nextSibling;i&&i!=n;){l=i;i=i.nextSibling;e.appendChild(l);}h.remove(n);L(N(n.childNodes),function(H1){e.appendChild(H1);});return e;}}return n;}function E1(e,i){var l,n,x;l=e[i?'startContainer':'endContainer'];n=e[i?'startOffset':'endOffset'];if(l.nodeType==1){x=l.childNodes.length-1;if(!i&&n){n--;}l=l.childNodes[n>x?x:n];}if(l.nodeType===3&&i&&n>=l.nodeValue.length){l=new T(l,f.getBody()).next()||l;}if(l.nodeType===3&&!i&&n===0){l=new T(l,f.getBody()).prev()||l;}return l;}function F1(l,n,x,y){var H1='_mce_caret',I1=f.settings.caret_debug;function J1(e){var i=h.create('span',{id:H1,'data-mce-bogus':true,style:I1?'color:red':''});if(e){i.appendChild(f.getDoc().createTextNode(I));}return i;}function K1(e,i){while(e){if((e.nodeType===3&&e.nodeValue!==I)||e.childNodes.length>1){return false;}if(i&&e.nodeType===1){i.push(e);}e=e.firstChild;}return true;}function L1(e){while(e){if(e.id===H1){return e;}e=e.parentNode;}}function M1(e){var i;if(e){i=new T(e,e);for(e=i.current();e;e=i.next()){if(e.nodeType===3){return e;}}}}function N1(e,i){var R1,S1;if(!e){e=L1(s.getStart());if(!e){while((e=h.get(H1))){N1(e,false);}}}else{S1=s.getRng(true);if(K1(e)){if(i!==false){S1.setStartBefore(e);S1.setEndBefore(e);}h.remove(e);}else{R1=M1(e);if(R1.nodeValue.charAt(0)===I){R1.deleteData(0,1);if(S1.startContainer==R1&&S1.startOffset>0){S1.setStart(R1,S1.startOffset-1);}if(S1.endContainer==R1&&S1.endOffset>0){S1.setEnd(R1,S1.endOffset-1);}}h.remove(e,1);}s.setRng(S1);}}function O1(){var e,i,R1,S1,T1,U1,V1;e=s.getRng(true);S1=e.startOffset;U1=e.startContainer;V1=U1.nodeValue;i=L1(s.getStart());if(i){R1=M1(i);}var W1=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(V1&&S1>0&&S1<V1.length&&W1.test(V1.charAt(S1))&&W1.test(V1.charAt(S1-1))){T1=s.getBookmark();e.collapse(true);e=y1(e,$(n));e=r.split(e);e1(n,x,e);s.moveToBookmark(T1);}else{if(!i||R1.nodeValue!==I){i=J1(true);R1=i.firstChild;e.insertNode(i);S1=1;e1(n,x,i);}else{e1(n,x,i);}s.setCursorLocation(R1,S1);}}function P1(){var e=s.getRng(true),R1,S1,T1,U1,V1,W1,X1=[],i,Y1;R1=e.startContainer;S1=e.startOffset;V1=R1;if(R1.nodeType==3){if(S1!=R1.nodeValue.length){U1=true;}V1=V1.parentNode;}while(V1){if(h1(V1,n,x,y)){W1=V1;break;}if(V1.nextSibling){U1=true;}X1.push(V1);V1=V1.parentNode;}if(!W1){return;}if(U1){T1=s.getBookmark();e.collapse(true);e=y1(e,$(n),true);e=r.split(e);f1(n,x,e);s.moveToBookmark(T1);}else{Y1=J1();V1=Y1;for(i=X1.length-1;i>=0;i--){V1.appendChild(h.clone(X1[i],false));V1=V1.firstChild;}V1.appendChild(h.doc.createTextNode(I));V1=V1.firstChild;var Z1=h.getParent(W1,S);if(Z1&&h.isEmpty(Z1)){W1.parentNode.replaceChild(Y1,W1);}else{h.insertAfter(Y1,W1);}s.setCursorLocation(V1,1);if(h.isEmpty(W1)){h.remove(W1);}}}function Q1(){var e;e=L1(s.getStart());if(e&&!h.isEmpty(e)){O(e,function(i){if(i.nodeType==1&&i.id!==H1&&!h.isEmpty(i)){h.setAttrib(i,'data-mce-bogus',null);}},'childNodes');}}if(!f._hasCaretEvents){J=function(){var e=[],i;if(K1(L1(s.getStart()),e)){i=e.length;while(i--){h.setAttrib(e[i],'data-mce-bogus','1');}}};G=function(e){var i=e.keyCode;N1();if(i==8&&s.isCollapsed()&&s.getStart().innerHTML==I){N1(L1(s.getStart()));}if(i==37||i==39){N1(L1(s.getStart()));}Q1();};f.on('SetContent',function(e){if(e.selection){Q1();}});f._hasCaretEvents=true;}if(l=="apply"){O1();}else{P1();}}function G1(e){var i=e.startContainer,l=e.startOffset,n,x,y,H1,I1;if(e.startContainer==e.endContainer){if(V(e.startContainer.childNodes[e.startOffset])){return;}}if(i.nodeType==3&&l>=i.nodeValue.length){l=o(i);i=i.parentNode;n=true;}if(i.nodeType==1){H1=i.childNodes;i=H1[Math.min(l,H1.length-1)];x=new T(i,h.getParent(i,h.isBlock));if(l>H1.length-1||n){x.next();}for(y=x.current();y;y=x.next()){if(y.nodeType==3&&!w1(y)){I1=h.create('a',{'data-mce-bogus':'all'},I);y.parentNode.insertBefore(I1,y);e.setStart(y,0);s.setRng(e);h.remove(I1);return;}}}}};});C("tinymce/undo/Diff",[],function(){var K=0,I=1,a=2;var b=function(l,r){var s=l.length+r.length+2;var v=new Array(s);var u=new Array(s);var c=function(d,i,j){return{start:d,end:i,diag:j};};var e=function(d,k,m,n,h){var o=g(d,k,m,n);if(o===null||o.start===k&&o.diag===k-n||o.end===d&&o.diag===d-m){var i=d;var j=m;while(i<k||j<n){if(i<k&&j<n&&l[i]===r[j]){h.push([K,l[i]]);++i;++j;}else{if(k-d>n-m){h.push([a,l[i]]);++i;}else{h.push([I,r[j]]);++j;}}}}else{e(d,o.start,m,o.start-o.diag,h);for(var p=o.start;p<o.end;++p){h.push([K,l[p]]);}e(o.end,k,o.end-o.diag,n,h);}};var f=function(d,i,j,k){var m=d;while(m-i<k&&m<j&&l[m]===r[m-i]){++m;}return c(d,m,i);};var g=function(j,o,p,t){var m=o-j;var n=t-p;if(m===0||n===0){return null;}var w=m-n;var G=n+m;var H=(G%2===0?G:G+1)/2;v[1+H]=j;u[1+H]=o+1;for(var d=0;d<=H;++d){for(var k=-d;k<=d;k+=2){var i=k+H;if(k===-d||k!=d&&v[i-1]<v[i+1]){v[i]=v[i+1];}else{v[i]=v[i-1]+1;}var x=v[i];var y=x-j+p-k;while(x<o&&y<t&&l[x]===r[y]){v[i]=++x;++y;}if(w%2!=0&&w-d<=k&&k<=w+d){if(u[i-w]<=v[i]){return f(u[i-w],k+j-p,o,t);}}}for(k=w-d;k<=w+d;k+=2){i=k+H-w;if(k===w-d||k!=w+d&&u[i+1]<=u[i-1]){u[i]=u[i+1]-1;}else{u[i]=u[i-1];}x=u[i]-1;y=x-j+p-k;while(x>=j&&y>=p&&l[x]===r[y]){u[i]=x--;y--;}if(w%2===0&&-d<=k&&k<=d){if(u[i]<=v[i+w]){return f(u[i],k+j-p,o,t);}}}}};var h=[];e(0,l.length,0,r.length,h);return h;};return{KEEP:K,DELETE:a,INSERT:I,diff:b};});C("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(a,b,c){var g=function(h){if(h.nodeType===1){return h.outerHTML;}else if(h.nodeType===3){return b.encodeRaw(h.data,false);}else if(h.nodeType===8){return'<!--'+h.data+'-->';}return'';};var d=function(h){var j,n,k;k=document.createElement("div");j=document.createDocumentFragment();if(h){k.innerHTML=h;}while((n=k.firstChild)){j.appendChild(n);}return j;};var i=function(h,j,k){var l=d(j);if(h.hasChildNodes()&&k<h.childNodes.length){var t=h.childNodes[k];t.parentNode.insertBefore(l,t);}else{h.appendChild(l);}};var r=function(h,j){if(h.hasChildNodes()&&j<h.childNodes.length){var t=h.childNodes[j];t.parentNode.removeChild(t);}};var e=function(h,j){var k=0;a.each(h,function(l){if(l[0]===c.KEEP){k++;}else if(l[0]===c.INSERT){i(j,l[1],k);k++;}else if(l[0]===c.DELETE){r(j,k);}});};var f=function(h){return a.map(h.childNodes,g);};var w=function(h,j){var k=a.map(j.childNodes,g);e(c.diff(k,h),j);return j;};return{read:f,write:w};});C("tinymce/undo/Levels",["tinymce/util/Arr","tinymce/undo/Fragments"],function(a,b){var h=function(j){return j.indexOf('</iframe>')!==-1;};var c=function(j){return{type:'fragmented',fragments:j,content:'',bookmark:null,beforeBookmark:null};};var d=function(j){return{type:'complete',fragments:null,content:j,bookmark:null,beforeBookmark:null};};var e=function(j){var k,l,t;k=b.read(j.getBody());t=a.map(k,function(m){return j.serializer.trimContent(m);});l=t.join('');return h(l)?c(t):d(l);};var f=function(j,l,k){if(l.type==='fragmented'){b.write(l.fragments,j.getBody());}else{j.setContent(l.content,{format:'raw'});}j.selection.moveToBookmark(k?l.beforeBookmark:l.bookmark);};var g=function(l){return l.type==='fragmented'?l.fragments.join(''):l.content;};var i=function(l,j){return g(l)===g(j);};return{createFragmentedLevel:c,createCompleteLevel:d,createFromEditor:e,applyToEditor:f,isEq:i};});C("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],function(V,T,L){return function(a){var s=this,b=0,d=[],c,f,l=0;function g(e){a.setDirty(e);}function h(e){s.typing=false;s.add({},e);}function j(){if(s.typing){s.typing=false;s.add();}}a.on('init',function(){s.add();});a.on('BeforeExecCommand',function(e){var i=e.command;if(i!=='Undo'&&i!=='Redo'&&i!=='mceRepaint'){j();s.beforeChange();}});a.on('ExecCommand',function(e){var i=e.command;if(i!=='Undo'&&i!=='Redo'&&i!=='mceRepaint'){h(e);}});a.on('ObjectResizeStart Cut',function(){s.beforeChange();});a.on('SaveContent ObjectResized blur',h);a.on('DragEnd',h);a.on('KeyUp',function(e){var k=e.keyCode;if(e.isDefaultPrevented()){return;}if((k>=33&&k<=36)||(k>=37&&k<=40)||k===45||e.ctrlKey){h();a.nodeChanged();}if(k===46||k===8){a.nodeChanged();}if(f&&s.typing){if(!a.isDirty()){g(d[0]&&!L.isEq(L.createFromEditor(a),d[0]));if(a.isDirty()){a.fire('change',{level:d[0],lastLevel:null});}}a.fire('TypingUndo');f=false;a.nodeChanged();}});a.on('KeyDown',function(e){var k=e.keyCode;if(e.isDefaultPrevented()){return;}if((k>=33&&k<=36)||(k>=37&&k<=40)||k===45){if(s.typing){h(e);}return;}var m=(e.ctrlKey&&!e.altKey)||e.metaKey;if((k<16||k>20)&&k!==224&&k!==91&&!s.typing&&!m){s.beforeChange();s.typing=true;s.add({},e);f=true;}});a.on('MouseDown',function(e){if(s.typing){h(e);}});a.addShortcut('meta+z','','Undo');a.addShortcut('meta+y,meta+shift+z','','Redo');a.on('AddUndo Undo Redo ClearUndos',function(e){if(!e.isDefaultPrevented()){a.nodeChanged();}});s={data:d,typing:false,beforeChange:function(){if(!l){c=a.selection.getBookmark(2,true);}},add:function(e,k){var i,m=a.settings,n,o;o=L.createFromEditor(a);e=e||{};e=T.extend(e,o);if(l||a.removed){return null;}n=d[b];if(a.fire('BeforeAddUndo',{level:e,lastLevel:n,originalEvent:k}).isDefaultPrevented()){return null;}if(n&&L.isEq(n,e)){return null;}if(d[b]){d[b].beforeBookmark=c;}if(m.custom_undo_redo_levels){if(d.length>m.custom_undo_redo_levels){for(i=0;i<d.length-1;i++){d[i]=d[i+1];}d.length--;b=d.length;}}e.bookmark=a.selection.getBookmark(2,true);if(b<d.length-1){d.length=b+1;}d.push(e);b=d.length-1;var p={level:e,lastLevel:n,originalEvent:k};a.fire('AddUndo',p);if(b>0){g(true);a.fire('change',p);}return e;},undo:function(){var e;if(s.typing){s.add();s.typing=false;}if(b>0){e=d[--b];L.applyToEditor(a,e,true);g(true);a.fire('undo',{level:e});}return e;},redo:function(){var e;if(b<d.length-1){e=d[++b];L.applyToEditor(a,e,false);g(true);a.fire('redo',{level:e});}return e;},clear:function(){d=[];b=0;s.typing=false;s.data=d;a.fire('ClearUndos');},hasUndo:function(){return b>0||(s.typing&&d[0]&&!L.isEq(L.createFromEditor(a),d[0]));},hasRedo:function(){return b<d.length-1&&!s.typing;},transact:function(e){j();s.beforeChange();try{l++;e();}finally{l--;}return s.add();},extra:function(e,i){var k,m;if(s.transact(e)){m=d[b].bookmark;k=d[b-1];L.applyToEditor(a,k,true);if(s.transact(i)){d[b-1].beforeBookmark=m;}}}};return s;};});C("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function(T,R,a,b){var c=b.ie&&b.ie<11;return function(e){var d=e.dom,s=e.selection,f=e.settings;var u=e.undoManager,g=e.schema,n=g.getNonEmptyElements(),m=g.getMoveCaretBeforeOnEnterElements();function h(j){var r,t,k,l,o,p,v,w,x,y,G,H,I,J,K;function L(i){return i&&d.isBlock(i)&&!/^(TD|TH|CAPTION|FORM)$/.test(i.nodeName)&&!/^(fixed|absolute)/i.test(i.style.position)&&d.getContentEditable(i)!=="true";}function M(i){return i&&/^(TD|TH|CAPTION)$/.test(i.nodeName);}function N(i){var b1;if(d.isBlock(i)){b1=s.getRng();i.appendChild(d.create('span',null,'\u00a0'));s.select(i);i.lastChild.outerHTML='';s.setRng(b1);}}function O(b1){var c1=b1,d1=[],i;if(!c1){return;}while((c1=c1.firstChild)){if(d.isBlock(c1)){return;}if(c1.nodeType==1&&!n[c1.nodeName.toLowerCase()]){d1.push(c1);}}i=d1.length;while(i--){c1=d1[i];if(!c1.hasChildNodes()||(c1.firstChild==c1.lastChild&&c1.firstChild.nodeValue==='')){d.remove(c1);}else{if(c1.nodeName=="A"&&(c1.innerText||c1.textContent)===' '){d.remove(c1);}}}}function P(i){var b1,c1,r,d1=i,e1;function f1(c1){while(c1){if(c1.nodeType==1||(c1.nodeType==3&&c1.data&&/[\r\n\s]/.test(c1.data))){return c1;}c1=c1.nextSibling;}}if(!i){return;}if(b.ie&&b.ie<9&&p&&p.firstChild){if(p.firstChild==p.lastChild&&p.firstChild.tagName=='BR'){d.remove(p.firstChild);}}if(/^(LI|DT|DD)$/.test(i.nodeName)){var g1=f1(i.firstChild);if(g1&&/^(UL|OL|DL)$/.test(g1.nodeName)){i.insertBefore(d.doc.createTextNode('\u00a0'),i.firstChild);}}r=d.createRng();if(!b.ie){i.normalize();}if(i.hasChildNodes()){b1=new T(i,i);while((c1=b1.current())){if(c1.nodeType==3){r.setStart(c1,0);r.setEnd(c1,0);break;}if(m[c1.nodeName.toLowerCase()]){r.setStartBefore(c1);r.setEndBefore(c1);break;}d1=c1;c1=b1.next();}if(!c1){r.setStart(d1,0);r.setEnd(d1,0);}}else{if(i.nodeName=='BR'){if(i.nextSibling&&d.isBlock(i.nextSibling)){if(!v||v<9){e1=d.create('br');i.parentNode.insertBefore(e1,i);}r.setStartBefore(i);r.setEndBefore(i);}else{r.setStartAfter(i);r.setEndAfter(i);}}else{r.setStart(i,0);r.setEnd(i,0);}}s.setRng(r);d.remove(e1);s.scrollIntoView(i);}function Q(i){var b1=f.forced_root_block;if(b1&&b1.toLowerCase()===i.tagName.toLowerCase()){d.setAttribs(i,f.forced_root_block_attrs);}}function S(i){i.innerHTML=!c?'<br data-mce-bogus="1">':'';}function U(i){var b1=l,c1,d1,e1,f1=g.getTextInlineElements();if(i||H=="TABLE"){c1=d.create(i||J);Q(c1);}else{c1=p.cloneNode(false);}e1=c1;if(f.keep_styles!==false){do{if(f1[b1.nodeName]){if(b1.id=='_mce_caret'){continue;}d1=b1.cloneNode(false);d.setAttrib(d1,'id','');if(c1.hasChildNodes()){d1.appendChild(c1.firstChild);c1.appendChild(d1);}else{e1=d1;c1.appendChild(d1);}}}while((b1=b1.parentNode)&&b1!=k);}if(!c){e1.innerHTML='<br data-mce-bogus="1">';}return c1;}function V(i){var b1,c1,d1;if(l.nodeType==3&&(i?o>0:o<l.nodeValue.length)){return false;}if(l.parentNode==p&&K&&!i){return true;}if(i&&l.nodeType==1&&l==p.firstChild){return true;}if(l.nodeName==="TABLE"||(l.previousSibling&&l.previousSibling.nodeName=="TABLE")){return(K&&!i)||(!K&&i);}b1=new T(l,p);if(l.nodeType==3){if(i&&o===0){b1.prev();}else if(!i&&o==l.nodeValue.length){b1.next();}}while((c1=b1.current())){if(c1.nodeType===1){if(!c1.getAttribute('data-mce-bogus')){d1=c1.nodeName.toLowerCase();if(n[d1]&&d1!=='br'){return false;}}}else if(c1.nodeType===3&&!/^[ \t\r\n]*$/.test(c1.nodeValue)){return false;}if(i){b1.prev();}else{b1.next();}}return true;}function W(l,o){var x,p,i,b1,c1,d1,e1=J||'P';p=d.getParent(l,d.isBlock);if(!p||!L(p)){p=p||k;if(p==e.getBody()||M(p)){d1=p.nodeName.toLowerCase();}else{d1=p.parentNode.nodeName.toLowerCase();}if(!p.hasChildNodes()){x=d.create(e1);Q(x);p.appendChild(x);r.setStart(x,0);r.setEnd(x,0);return x;}b1=l;while(b1.parentNode!=p){b1=b1.parentNode;}while(b1&&!d.isBlock(b1)){i=b1;b1=b1.previousSibling;}if(i&&g.isValidChild(d1,e1.toLowerCase())){x=d.create(e1);Q(x);i.parentNode.insertBefore(x,i);b1=i;while(b1&&!d.isBlock(b1)){c1=b1.nextSibling;x.appendChild(b1);b1=c1;}r.setStart(l,o);r.setEnd(l,o);}}return l;}function X(){function i(d1){var e1=G[d1?'firstChild':'lastChild'];while(e1){if(e1.nodeType==1){break;}e1=e1[d1?'nextSibling':'previousSibling'];}return e1===p;}function b1(){var d1=G.parentNode;if(/^(LI|DT|DD)$/.test(d1.nodeName)){return d1;}return G;}if(G==e.getBody()){return;}var c1=G.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(c1)){J='LI';}x=J?U(J):d.create('BR');if(i(true)&&i()){if(c1=='LI'){d.insertAfter(x,b1());}else{d.replace(x,G);}}else if(i(true)){if(c1=='LI'){d.insertAfter(x,b1());x.appendChild(d.doc.createTextNode(' '));x.appendChild(G);}else{G.parentNode.insertBefore(x,G);}}else if(i()){d.insertAfter(x,b1());N(x);}else{G=b1();t=r.cloneRange();t.setStartAfter(p);t.setEndAfter(G);y=t.extractContents();if(J=='LI'&&y.firstChild.nodeName=='LI'){x=y.firstChild;d.insertAfter(y,G);}else{d.insertAfter(y,G);d.insertAfter(x,G);}}d.remove(p);P(x);u.add();}function Y(){e.execCommand("InsertLineBreak",false,j);}function Z(i){do{if(i.nodeType===3){i.nodeValue=i.nodeValue.replace(/^[\r\n]+/,'');}i=i.firstChild;}while(i);}function $(i){var b1=d.getRoot(),c1,k;c1=i;while(c1!==b1&&d.getContentEditable(c1)!=="false"){if(d.getContentEditable(c1)==="true"){k=c1;}c1=c1.parentNode;}return c1!==b1?k:b1;}function _(i){var b1;if(!c){i.normalize();b1=i.lastChild;if(!b1||(/^(left|right)$/gi.test(d.getStyle(b1,'float',true)))){d.add(i,'br');}}}function a1(){if(/^(H[1-6]|PRE|FIGURE)$/.test(H)&&I!='HGROUP'){x=U(J);}else{x=U();}if(f.end_container_on_empty_block&&L(G)&&d.isEmpty(p)){x=d.split(G,p);}else{d.insertAfter(x,p);}P(x);}r=s.getRng(true);if(j.isDefaultPrevented()){return;}if(!r.collapsed){e.execCommand('Delete');return;}new R(d).normalize(r);l=r.startContainer;o=r.startOffset;J=(f.force_p_newlines?'p':'')||f.forced_root_block;J=J?J.toUpperCase():'';v=d.doc.documentMode;w=j.shiftKey;if(l.nodeType==1&&l.hasChildNodes()){K=o>l.childNodes.length-1;l=l.childNodes[Math.min(o,l.childNodes.length-1)]||l;if(K&&l.nodeType==3){o=l.nodeValue.length;}else{o=0;}}k=$(l);if(!k){return;}u.beforeChange();if(!d.isBlock(k)&&k!=d.getRoot()){if(!J||w){Y();}return;}if((J&&!w)||(!J&&w)){l=W(l,o);}p=d.getParent(l,d.isBlock);G=p?d.getParent(p.parentNode,d.isBlock):null;H=p?p.nodeName.toUpperCase():'';I=G?G.nodeName.toUpperCase():'';if(I=='LI'&&!j.ctrlKey){p=G;H=I;}if(e.undoManager.typing){e.undoManager.typing=false;e.undoManager.add();}if(/^(LI|DT|DD)$/.test(H)){if(!J&&w){Y();return;}if(d.isEmpty(p)){X();return;}}if(H=='PRE'&&f.br_in_pre!==false){if(!w){Y();return;}}else{if((!J&&!w&&H!='LI')||(J&&w)){Y();return;}}if(J&&p===e.getBody()){return;}J=J||'P';if(a.isCaretContainerBlock(p)){x=a.showCaretContainerBlock(p);if(d.isEmpty(p)){S(p);}P(x);}else if(V()){a1();}else if(V(true)){x=p.parentNode.insertBefore(U(),p);N(x);P(p);}else{t=r.cloneRange();t.setEndAfter(p);y=t.extractContents();Z(y);x=y.firstChild;d.insertAfter(y,p);O(x);_(p);if(d.isEmpty(p)){S(p);}x.normalize();if(d.isEmpty(x)){d.remove(x);a1();}else{P(x);}}d.setAttrib(x,'id','');e.fire('NewBlock',{newBlock:x});u.typing=false;u.add();}e.on('keydown',function(i){if(i.keyCode==13){if(h(i)!==false){i.preventDefault();}}});};});C("tinymce/ForceBlocks",[],function(){return function(e){var s=e.settings,d=e.dom,a=e.selection;var b=e.schema,c=b.getBlockElements();function f(){var n=a.getStart(),r=e.getBody(),g;var h,i,j,k,l;var t,o=-0xFFFFFF,w,m;var p,u,v;v=s.forced_root_block;if(!n||n.nodeType!==1||!v){return;}while(n&&n!=r){if(c[n.nodeName]){return;}n=n.parentNode;}g=a.getRng();if(g.setStart){h=g.startContainer;i=g.startOffset;j=g.endContainer;k=g.endOffset;try{m=e.getDoc().activeElement===r;}catch(x){}}else{if(g.item){n=g.item(0);g=e.getDoc().body.createTextRange();g.moveToElementText(n);}m=g.parentElement().ownerDocument===e.getDoc();p=g.duplicate();p.collapse(true);i=p.move('character',o)*-1;if(!p.collapsed){p=g.duplicate();p.collapse(false);k=(p.move('character',o)*-1)-i;}}n=r.firstChild;u=r.nodeName.toLowerCase();while(n){if(((n.nodeType===3||(n.nodeType==1&&!c[n.nodeName])))&&b.isValidChild(u,v.toLowerCase())){if(n.nodeType===3&&n.nodeValue.length===0){t=n;n=n.nextSibling;d.remove(t);continue;}if(!l){l=d.create(v,e.settings.forced_root_block_attrs);n.parentNode.insertBefore(l,n);w=true;}t=n;n=n.nextSibling;l.appendChild(t);}else{l=null;n=n.nextSibling;}}if(w&&m){if(g.setStart){g.setStart(h,i);g.setEnd(j,k);a.setRng(g);}else{try{g=e.getDoc().body.createTextRange();g.moveToElementText(r);g.collapse(true);g.moveStart('character',i);if(k>0){g.moveEnd('character',k);}g.select();}catch(x){}}e.nodeChanged();}}if(s.forced_root_block){e.on('NodeChange',f);}};});C("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(a,T,N,b,c,d){var i=N.isContentEditableTrue,e=N.isContentEditableFalse,f=N.matchStyleValues('display','block table table-cell table-caption'),g=c.isCaretContainer,h=c.isCaretContainerBlock,j=a.curry,k=N.isElement,l=d.isCaretCandidate;function m(K){return K>0;}function n(K){return K<0;}function s(K,L){var M;while((M=K(L))){if(!h(M)){return M;}}return null;}function o(K,L,M,O,P){var Q=new T(K,O);if(n(L)){if(e(K)||h(K)){K=s(Q.prev,true);if(M(K)){return K;}}while((K=s(Q.prev,P))){if(M(K)){return K;}}}if(m(L)){if(e(K)||h(K)){K=s(Q.next,true);if(M(K)){return K;}}while((K=s(Q.next,P))){if(M(K)){return K;}}}return null;}function p(K,L){for(K=K.parentNode;K&&K!=L;K=K.parentNode){if(i(K)){return K;}}return L;}function r(K,L){while(K&&K!=L){if(f(K)){return K;}K=K.parentNode;}return null;}function t(K,L,M){return r(K.container(),M)==r(L.container(),M);}function u(K,L,M){return p(K.container(),M)==p(L.container(),M);}function v(K,L){var M,O;if(!L){return null;}M=L.container();O=L.offset();if(!k(M)){return null;}return M.childNodes[O+K];}function w(G,K){var L=K.ownerDocument.createRange();if(G){L.setStartBefore(K);L.setEndBefore(K);}else{L.setStartAfter(K);L.setEndAfter(K);}return L;}function x(K,L,M){return r(L,K)==r(M,K);}function y(K,L,M){var O,P;if(K){P='previousSibling';}else{P='nextSibling';}while(M&&M!=L){O=M[P];if(g(O)){O=O[P];}if(e(O)){if(x(L,O,M)){return O;}break;}if(l(O)){break;}M=M.parentNode;}return null;}var G=j(w,true);var H=j(w,false);function I(K,L,M){var O,P,Q,R;var S=j(y,true,L);var U=j(y,false,L);P=M.startContainer;Q=M.startOffset;if(c.isCaretContainerBlock(P)){if(!k(P)){P=P.parentNode;}R=P.getAttribute('data-mce-caret');if(R=='before'){O=P.nextSibling;if(e(O)){return G(O);}}if(R=='after'){O=P.previousSibling;if(e(O)){return H(O);}}}if(!M.collapsed){return M;}if(N.isText(P)){if(g(P)){if(K===1){O=U(P);if(O){return G(O);}O=S(P);if(O){return H(O);}}if(K===-1){O=S(P);if(O){return H(O);}O=U(P);if(O){return G(O);}}return M;}if(c.endsWithCaretContainer(P)&&Q>=P.data.length-1){if(K===1){O=U(P);if(O){return G(O);}}return M;}if(c.startsWithCaretContainer(P)&&Q<=1){if(K===-1){O=S(P);if(O){return H(O);}}return M;}if(Q===P.data.length){O=U(P);if(O){return G(O);}return M;}if(Q===0){O=S(P);if(O){return H(O);}return M;}}return M;}function J(K,L){return e(v(K,L));}return{isForwards:m,isBackwards:n,findNode:o,getEditingHost:p,getParentBlock:r,isInSameBlock:t,isInSameEditingHost:u,isBeforeContentEditableFalse:j(J,0),isAfterContentEditableFalse:j(J,-1),normalizeRange:I};});C("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(N,a,b,c,d,e){var i=N.isContentEditableFalse,f=N.isText,g=N.isElement,h=N.isBr,j=c.isForwards,k=c.isBackwards,l=a.isCaretCandidate,m=a.isAtomic,n=a.isEditableCaretCandidate;function o(u,v){var w=[];while(u&&u!=v){w.push(u);u=u.parentNode;}return w;}function p(u,v){if(u.hasChildNodes()&&v<u.childNodes.length){return u.childNodes[v];}return null;}function r(u,v){if(j(u)){if(l(v.previousSibling)&&!f(v.previousSibling)){return b.before(v);}if(f(v)){return b(v,0);}}if(k(u)){if(l(v.nextSibling)&&!f(v.nextSibling)){return b.after(v);}if(f(v)){return b(v,v.data.length);}}if(k(u)){if(h(v)){return b.before(v);}return b.after(v);}return b.before(v);}function s(u,v){var w;if(!N.isBr(u)){return false;}w=t(1,b.after(u),v);if(!w){return false;}return!c.isInSameBlock(b.before(u),b.before(w),v);}function t(u,v,w){var x,y,G,H,I,J,K;if(!g(w)||!v){return null;}K=v;x=K.container();y=K.offset();if(f(x)){if(k(u)&&y>0){return b(x,--y);}if(j(u)&&y<x.length){return b(x,++y);}G=x;}else{if(k(u)&&y>0){H=p(x,y-1);if(l(H)){if(!m(H)){I=c.findNode(H,u,n,H);if(I){if(f(I)){return b(I,I.data.length);}return b.after(I);}}if(f(H)){return b(H,H.data.length);}return b.before(H);}}if(j(u)&&y<x.childNodes.length){H=p(x,y);if(l(H)){if(s(H,w)){return t(u,b.after(H),w);}if(!m(H)){I=c.findNode(H,u,n,H);if(I){if(f(I)){return b(I,0);}return b.before(I);}}if(f(H)){return b(H,0);}return b.after(H);}}G=K.getNode();}if((j(u)&&K.isAtEnd())||(k(u)&&K.isAtStart())){G=c.findNode(G,u,e.constant(true),w,true);if(n(G)){return r(u,G);}}H=c.findNode(G,u,n,w);J=d.last(d.filter(o(x,w),i));if(J&&(!H||!J.contains(H))){if(j(u)){K=b.after(J);}else{K=b.before(J);}return K;}if(H){return r(u,H);}return null;}return function(u){return{next:function(v){return t(1,v,u);},prev:function(v){return t(-1,v,u);}};};});C("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(T,a,b){var i=function(r){var s=r.firstChild;var u=r.lastChild;if(s&&s.name==='meta'){s=s.next;}if(u&&u.attr('id')==='mce_marker'){u=u.prev;}if(!s||s!==u){return false;}return s.name==='ul'||s.name==='ol';};var c=function(r){var s=r.firstChild;var u=r.lastChild;if(s&&s.nodeName==='META'){s.parentNode.removeChild(s);}if(u&&u.id==='mce_marker'){u.parentNode.removeChild(u);}return r;};var t=function(r,s,u){var v=s.serialize(u);var w=r.createFragment(v);return c(w);};var l=function(r){return T.grep(r.childNodes,function(s){return s.nodeName==='LI';});};var d=function(r){return!r.firstChild;};var e=function(r){return r.length>0&&d(r[r.length-1])?r.slice(0,-1):r;};var g=function(r,s){var u=r.getParent(s,r.isBlock);return u&&u.nodeName==='LI'?u:null;};var f=function(r,s){return!!g(r,s);};var h=function(r,s){var u=s.cloneRange();var v=s.cloneRange();u.setStartBefore(r);v.setEndAfter(r);return[u.cloneContents(),v.cloneContents()];};var j=function(r,s){var u=b.before(r);var v=new a(s);var w=v.next(u);return w?w.toRange():null;};var k=function(r,s){var u=b.after(r);var v=new a(s);var w=v.prev(u);return w?w.toRange():null;};var m=function(r,s,u,v){var w=h(r,v);var x=r.parentNode;x.insertBefore(w[0],r);T.each(s,function(y){x.insertBefore(y,r);});x.insertBefore(w[1],r);x.removeChild(r);return k(s[s.length-1],u);};var n=function(r,s,u){var v=r.parentNode;T.each(s,function(w){v.insertBefore(w,r);});return j(r,u);};var o=function(r,s,u,v){v.insertAfter(s.reverse(),r);return k(s[0],u);};var p=function(s,r,u,v){var w=t(r,s,v);var x=g(r,u.startContainer);var y=e(l(w.firstChild));var G=1,H=2;var I=r.getRoot();var J=function(K){var L=b.fromRangeStart(u);var M=new a(r.getRoot());var N=K===G?M.prev(L):M.next(L);return N?g(r,N.getNode())!==x:true;};if(J(G)){return n(x,y,I);}else if(J(H)){return o(x,y,I,r);}return m(x,y,I,u);};return{isListFragment:i,insertAtCaret:p,isParentBlockLi:f,trimListItems:e,listItems:l};});C("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(a,T,S,b,c,d,N,I){var i=N.matchNodeNames('td th');var v=function(g,h,j){if(j.getAttribute('data-mce-bogus')==='all'){j.parentNode.insertBefore(g.dom.createFragment(h),j);}else{var n=j.firstChild;var k=j.lastChild;if(!n||(n===k&&n.nodeName==='BR')){g.dom.setHTML(j,h);}else{g.selection.setContent(h);}}};var e=function(g,h,j){var k,s,l,r,m,n;var o,t,u,w,x,y;var G=g.schema.getTextInlineElements();var H=g.selection,J=g.dom;function K(Y){var t,Z,$;t=H.getRng(true);Z=t.startContainer;$=t.startOffset;function _(a1){return Z[a1]&&Z[a1].nodeType==3;}if(Z.nodeType==3){if($>0){Y=Y.replace(/^&nbsp;/,' ');}else if(!_('previousSibling')){Y=Y.replace(/^ /,'&nbsp;');}if($<Z.length){Y=Y.replace(/&nbsp;(<br>|)$/,' ');}else if(!_('nextSibling')){Y=Y.replace(/(&nbsp;| )(<br>|)$/,'&nbsp;');}}return Y;}function L(){var t,Y,Z;t=H.getRng(true);Y=t.startContainer;Z=t.startOffset;if(Y.nodeType==3&&t.collapsed){if(Y.data[Z]==='\u00a0'){Y.deleteData(Z,1);if(!/[\u00a0| ]$/.test(h)){h+=' ';}}else if(Y.data[Z-1]==='\u00a0'){Y.deleteData(Z-1,1);if(!/[\u00a0| ]$/.test(h)){h=' '+h;}}}}function M(){if(y){var Y=g.getBody(),Z=new d(J);T.each(J.select('*[data-mce-fragment]'),function(u){for(var $=u.parentNode;$&&$!=Y;$=$.parentNode){if(G[u.nodeName.toLowerCase()]&&Z.compare($,u)){J.remove(u,true);}}});}}function O(m){var u=m;while((u=u.walk())){if(u.type===1){u.attr('data-mce-fragment','1');}}}function P(Y){T.each(Y.getElementsByTagName('*'),function(Y){Y.removeAttribute('data-mce-fragment');});}function Q(u){return!!u.getAttribute('data-mce-fragment');}function R(u){return u&&!g.schema.getShortEndedElements()[u.nodeName];}function U(o){var Y,Z,$;function _(u){var b1=g.getBody();for(;u&&u!==b1;u=u.parentNode){if(g.dom.getContentEditable(u)==='false'){return u;}}return null;}if(!o){return;}H.scrollIntoView(o);Y=_(o);if(Y){J.remove(o);H.select(Y);return;}t=J.createRng();u=o.previousSibling;if(u&&u.nodeType==3){t.setStart(u,u.nodeValue.length);if(!a.ie){w=o.nextSibling;if(w&&w.nodeType==3){u.appendData(w.data);w.parentNode.removeChild(w);}}}else{t.setStartBefore(o);t.setEndBefore(o);}function a1(t){var b1=c.fromRangeStart(t);var c1=new b(g.getBody());b1=c1.next(b1);if(b1){return b1.toRange();}}Z=J.getParent(o,J.isBlock);J.remove(o);if(Z&&J.isEmpty(Z)){g.$(Z).empty();t.setStart(Z,0);t.setEnd(Z,0);if(!i(Z)&&!Q(Z)&&($=a1(t))){t=$;J.remove(Z);}else{J.add(Z,J.create('br',{'data-mce-bogus':'1'}));}}H.setRng(t);}if(/^ | $/.test(h)){h=K(h);}k=g.parser;y=j.merge;s=new S({validate:g.settings.validate},g.schema);x='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';n={content:h,format:'html',selection:true};g.fire('BeforeSetContent',n);h=n.content;if(h.indexOf('{$caret}')==-1){h+='{$caret}';}h=h.replace(/\{\$caret\}/,x);t=H.getRng();var V=t.startContainer||(t.parentElement?t.parentElement():null);var W=g.getBody();if(V===W&&H.isCollapsed()){if(J.isBlock(W.firstChild)&&R(W.firstChild)&&J.isEmpty(W.firstChild)){t=J.createRng();t.setStart(W.firstChild,0);t.setEnd(W.firstChild,0);H.setRng(t);}}if(!H.isCollapsed()){g.selection.setRng(g.selection.getRng());g.getDoc().execCommand('Delete',false,null);L();}l=H.getNode();var X={context:l.nodeName.toLowerCase(),data:j.data};m=k.parse(h,X);if(j.paste===true&&I.isListFragment(m)&&I.isParentBlockLi(J,l)){t=I.insertAtCaret(s,J,g.selection.getRng(true),m);g.selection.setRng(t);g.fire('SetContent',n);return;}O(m);u=m.lastChild;if(u.attr('id')=='mce_marker'){o=u;for(u=u.prev;u;u=u.walk(true)){if(u.type==3||!J.isBlock(u.name)){if(g.schema.isValidChild(u.parent.name,'span')){u.parent.insert(o,u,u.name==='br');}break;}}}g._selectionOverrides.showBlockCaretContainer(l);if(!X.invalid){h=s.serialize(m);v(g,h,l);}else{H.setContent(x);l=H.getNode();r=g.getBody();if(l.nodeType==9){l=u=r;}else{u=l;}while(u!==r){l=u;u=u.parentNode;}h=l==r?r.innerHTML:J.getOuterHTML(l);h=s.serialize(k.parse(h.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(m);})));if(l==r){J.setHTML(r,h);}else{J.setOuterHTML(l,h);}}M();U(J.get('mce_marker'));P(g.getBody());g.fire('SetContent',n);g.addVisual();};var p=function(g){var h;if(typeof g!=='string'){h=T.extend({paste:g.paste,data:{paste:g.paste}},g);return{content:g.content,details:h};}return{content:g,details:{}};};var f=function(g,h){var r=p(h);e(g,r.content,r.details);};return{insertAtCaret:f};});C("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent","tinymce/dom/NodeType"],function(a,T,R,b,I,N){var e=T.each,c=T.extend;var m=T.map,i=T.inArray,d=T.explode;var f=a.ie&&a.ie<11;var g=true,h=false;return function(j){var k,s,l,n={state:{},exec:{},value:{}},o=j.settings,r;j.on('PreInit',function(){k=j.dom;s=j.selection;o=j.settings;l=j.formatter;});function t(Q,S,U,V){var W,X,Y=0;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(Q)&&(!V||!V.skip_focus)){j.focus();}V=j.fire('BeforeExecCommand',{command:Q,ui:S,value:U});if(V.isDefaultPrevented()){return false;}X=Q.toLowerCase();if((W=n.exec[X])){W(X,S,U);j.fire('ExecCommand',{command:Q,ui:S,value:U});return true;}e(j.plugins,function(p){if(p.execCommand&&p.execCommand(Q,S,U)){j.fire('ExecCommand',{command:Q,ui:S,value:U});Y=true;return false;}});if(Y){return Y;}if(j.theme&&j.theme.execCommand&&j.theme.execCommand(Q,S,U)){j.fire('ExecCommand',{command:Q,ui:S,value:U});return true;}try{Y=j.getDoc().execCommand(Q,S,U);}catch(Z){}if(Y){j.fire('ExecCommand',{command:Q,ui:S,value:U});return true;}return false;}function u(p){var Q;if(j.quirks.isHidden()){return;}p=p.toLowerCase();if((Q=n.state[p])){return Q(p);}try{return j.getDoc().queryCommandState(p);}catch(S){}return false;}function v(p){var Q;if(j.quirks.isHidden()){return;}p=p.toLowerCase();if((Q=n.value[p])){return Q(p);}try{return j.getDoc().queryCommandValue(p);}catch(S){}}function w(p,Q){Q=Q||'exec';e(p,function(S,U){e(U.toLowerCase().split(','),function(U){n[Q][U]=S;});});}function x(p,Q,S){p=p.toLowerCase();n.exec[p]=function(p,U,V,W){return Q.call(S||j,U,V,W);};}function y(p){p=p.toLowerCase();if(n.exec[p]){return true;}try{return j.getDoc().queryCommandSupported(p);}catch(Q){}return false;}function G(p,Q,S){p=p.toLowerCase();n.state[p]=function(){return Q.call(S||j);};}function H(p,Q,S){p=p.toLowerCase();n.value[p]=function(){return Q.call(S||j);};}function J(p){p=p.toLowerCase();return!!n.exec[p];}c(this,{execCommand:t,queryCommandState:u,queryCommandValue:v,queryCommandSupported:y,addCommands:w,addCommand:x,addQueryStateHandler:G,addQueryValueHandler:H,hasCustomCommand:J});function K(p,Q,S){if(Q===z){Q=h;}if(S===z){S=null;}return j.getDoc().execCommand(p,Q,S);}function L(p){return l.match(p);}function M(p,Q){l.toggle(p,Q?{value:Q}:z);j.nodeChanged();}function O(p){r=s.getBookmark(p);}function P(){s.moveToBookmark(r);}w({'mceResetDesignMode,mceBeginUndoLevel':function(){},'mceEndUndoLevel,mceAddUndoLevel':function(){j.undoManager.add();},'Cut,Copy,Paste':function(p){var Q=j.getDoc(),S;try{K(p);}catch(U){S=g;}if(p==='paste'&&!Q.queryCommandEnabled(p)){S=true;}if(S||!Q.queryCommandSupported(p)){var V=j.translate("Your browser doesn't support direct access to the clipboard. "+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(a.mac){V=V.replace(/Ctrl\+/g,'\u2318+');}j.notificationManager.open({text:V,type:'error'});}},unlink:function(){if(s.isCollapsed()){var p=j.dom.getParent(j.selection.getStart(),'a');if(p){j.dom.remove(p,true);}return;}l.remove("link");},'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone':function(p){var Q=p.substring(7);if(Q=='full'){Q='justify';}e('left,center,right,justify'.split(','),function(S){if(Q!=S){l.remove('align'+S);}});if(Q!='none'){M('align'+Q);}},'InsertUnorderedList,InsertOrderedList':function(p){var Q,S;K(p);Q=k.getParent(s.getNode(),'ol,ul');if(Q){S=Q.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(S.nodeName)){O();k.split(S,Q);P();}}},'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(p){M(p);},'ForeColor,HiliteColor,FontName':function(p,Q,S){M(p,S);},FontSize:function(p,Q,S){var U,V;if(S>=1&&S<=7){V=d(o.font_size_style_values);U=d(o.font_size_classes);if(U){S=U[S-1]||S;}else{S=V[S-1]||S;}}M(p,S);},RemoveFormat:function(p){l.remove(p);},mceBlockQuote:function(){M('blockquote');},FormatBlock:function(p,Q,S){return M(S||'p');},mceCleanup:function(){var r=s.getBookmark();j.setContent(j.getContent({cleanup:g}),{cleanup:g});s.moveToBookmark(r);},mceRemoveNode:function(p,Q,S){var U=S||s.getNode();if(U!=j.getBody()){O();j.dom.remove(U,g);P();}},mceSelectNodeDepth:function(p,Q,S){var U=0;k.getParent(s.getNode(),function(V){if(V.nodeType==1&&U++==S){s.select(V);return h;}},j.getBody());},mceSelectNode:function(p,Q,S){s.select(S);},mceInsertContent:function(p,Q,S){I.insertAtCaret(j,S);},mceInsertRawHTML:function(p,Q,S){s.setContent('tiny_mce_marker');j.setContent(j.getContent().replace(/tiny_mce_marker/g,function(){return S;}));},mceToggleFormat:function(p,Q,S){M(S);},mceSetContent:function(p,Q,S){j.setContent(S);},'Indent,Outdent':function(p){var Q,S,U;Q=o.indentation;S=/[a-z%]+$/i.exec(Q);Q=parseInt(Q,10);if(!u('InsertUnorderedList')&&!u('InsertOrderedList')){if(!o.forced_root_block&&!k.getParent(s.getNode(),k.isBlock)){l.apply('div');}e(s.getSelectedBlocks(),function(V){if(k.getContentEditable(V)==="false"){return;}if(V.nodeName!=="LI"){var W=j.getParam('indent_use_margin',false)?'margin':'padding';W=V.nodeName==='TABLE'?'margin':W;W+=k.getStyle(V,'direction',true)=='rtl'?'Right':'Left';if(p=='outdent'){U=Math.max(0,parseInt(V.style[W]||0,10)-Q);k.setStyle(V,W,U?U+S:'');}else{U=(parseInt(V.style[W]||0,10)+Q)+S;k.setStyle(V,W,U);}}});}else{K(p);}},mceRepaint:function(){},InsertHorizontalRule:function(){j.execCommand('mceInsertContent',false,'<hr />');},mceToggleVisualAid:function(){j.hasVisual=!j.hasVisual;j.addVisual();},mceReplaceContent:function(p,Q,S){j.execCommand('mceInsertContent',false,S.replace(/\{\$selection\}/g,s.getContent({format:'text'})));},mceInsertLink:function(p,Q,S){var U;if(typeof S=='string'){S={href:S};}U=k.getParent(s.getNode(),'a');S.href=S.href.replace(' ','%20');if(!U||!S.href){l.remove('link');}if(S.href){l.apply('link',S,U);}},selectAll:function(){var p=k.getRoot(),Q;if(s.getRng().setStart){var S=k.getParent(s.getStart(),N.isContentEditableTrue);if(S){Q=k.createRng();Q.selectNodeContents(S);s.setRng(Q);}}else{Q=s.getRng();if(!Q.item){Q.moveToElementText(p);Q.select();}}},"delete":function(){K("Delete");var p=j.getBody();if(k.isEmpty(p)){j.setContent('');if(p.firstChild&&k.isBlock(p.firstChild)){j.selection.setCursorLocation(p.firstChild,0);}else{j.selection.setCursorLocation(p,0);}}},mceNewDocument:function(){j.setContent('');},InsertLineBreak:function(p,Q,S){var U=S;var V,W,X;var Y=s.getRng(true);new R(k).normalize(Y);var Z=Y.startOffset;var $=Y.startContainer;if($.nodeType==1&&$.hasChildNodes()){var _=Z>$.childNodes.length-1;$=$.childNodes[Math.min(Z,$.childNodes.length-1)]||$;if(_&&$.nodeType==3){Z=$.nodeValue.length;}else{Z=0;}}var a1=k.getParent($,k.isBlock);var b1=a1?a1.nodeName.toUpperCase():'';var c1=a1?k.getParent(a1.parentNode,k.isBlock):null;var d1=c1?c1.nodeName.toUpperCase():'';var e1=U&&U.ctrlKey;if(d1=='LI'&&!e1){a1=c1;b1=d1;}function f1(){var h1=new b($,a1),i1;var j1=j.schema.getNonEmptyElements();while((i1=h1.next())){if(j1[i1.nodeName.toLowerCase()]||i1.length>0){return true;}}}if($&&$.nodeType==3&&Z>=$.nodeValue.length){if(!f&&!f1()){V=k.create('br');Y.insertNode(V);Y.setStartAfter(V);Y.setEndAfter(V);W=true;}}V=k.create('br');Y.insertNode(V);var g1=k.doc.documentMode;if(f&&b1=='PRE'&&(!g1||g1<8)){V.parentNode.insertBefore(k.doc.createTextNode('\r'),V);}X=k.create('span',{},'&nbsp;');V.parentNode.insertBefore(X,V);s.scrollIntoView(X);k.remove(X);if(!W){Y.setStartAfter(V);Y.setEndAfter(V);}else{Y.setStartBefore(V);Y.setEndBefore(V);}s.setRng(Y);j.undoManager.add();return g;}});w({'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull':function(p){var Q='align'+p.substring(7);var S=s.isCollapsed()?[k.getParent(s.getNode(),k.isBlock)]:s.getSelectedBlocks();var U=m(S,function(V){return!!l.matchNode(V,Q);});return i(U,g)!==-1;},'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(p){return L(p);},mceBlockQuote:function(){return L('blockquote');},Outdent:function(){var p;if(o.inline_styles){if((p=k.getParent(s.getStart(),k.isBlock))&&parseInt(p.style.paddingLeft,10)>0){return g;}if((p=k.getParent(s.getEnd(),k.isBlock))&&parseInt(p.style.paddingLeft,10)>0){return g;}}return(u('InsertUnorderedList')||u('InsertOrderedList')||(!o.inline_styles&&!!k.getParent(s.getNode(),'BLOCKQUOTE')));},'InsertUnorderedList,InsertOrderedList':function(p){var Q=k.getParent(s.getNode(),'ul,ol');return Q&&(p==='insertunorderedlist'&&Q.tagName==='UL'||p==='insertorderedlist'&&Q.tagName==='OL');}},'state');w({'FontSize,FontName':function(p){var Q=0,S;if((S=k.getParent(s.getNode(),'span'))){if(p=='fontsize'){Q=S.style.fontSize;}else{Q=S.style.fontFamily.replace(/, /g,',').replace(/[\'\"]/g,'').toLowerCase();}}return Q;}},'value');w({Undo:function(){j.undoManager.undo();},Redo:function(){j.undoManager.redo();}});};});C("tinymce/util/URI",["tinymce/util/Tools"],function(T){var e=T.each,t=T.trim;var a="source protocol authority userInfo user password host port relative path directory file query anchor".split(' ');var b={'ftp':21,'http':80,'https':443,'mailto':25};function U(u,s){var c=this,d,f;u=t(u);s=c.settings=s||{};d=s.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(u)||/^\s*#/.test(u)){c.source=u;return;}var g=u.indexOf('//')===0;if(u.indexOf('/')===0&&!g){u=(d?d.protocol||'http':'http')+'://mce_host'+u;}if(!/^[\w\-]*:?\/\//.test(u)){f=s.base_uri?s.base_uri.path:new U(location.href).directory;if(s.base_uri.protocol===""){u='//mce_host'+c.toAbsPath(f,u);}else{u=/([^#?]*)([#?]?.*)/.exec(u);u=((d&&d.protocol)||'http')+'://mce_host'+c.toAbsPath(f,u[1])+u[2];}}u=u.replace(/@@/g,'(mce_at)');u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(u);e(a,function(v,i){var p=u[i];if(p){p=p.replace(/\(mce_at\)/g,'@@');}c[v]=p;});if(d){if(!c.protocol){c.protocol=d.protocol;}if(!c.userInfo){c.userInfo=d.userInfo;}if(!c.port&&c.host==='mce_host'){c.port=d.port;}if(!c.host||c.host==='mce_host'){c.host=d.host;}c.source='';}if(g){c.protocol='';}}U.prototype={setPath:function(p){var s=this;p=/^(.*?)\/?(\w+)?$/.exec(p);s.path=p[0];s.directory=p[1];s.file=p[2];s.source='';s.getURI();},toRelative:function(u){var s=this,o;if(u==="./"){return u;}u=new U(u,{base_uri:s});if((u.host!='mce_host'&&s.host!=u.host&&u.host)||s.port!=u.port||(s.protocol!=u.protocol&&u.protocol!=="")){return u.getURI();}var c=s.getURI(),d=u.getURI();if(c==d||(c.charAt(c.length-1)=="/"&&c.substr(0,c.length-1)==d)){return c;}o=s.toRelPath(s.path,u.path);if(u.query){o+='?'+u.query;}if(u.anchor){o+='#'+u.anchor;}return o;},toAbsolute:function(u,n){u=new U(u,{base_uri:this});return u.getURI(n&&this.isSameOrigin(u));},isSameOrigin:function(u){if(this.host==u.host&&this.protocol==u.protocol){if(this.port==u.port){return true;}var d=b[this.protocol];if(d&&((this.port||d)==(u.port||d))){return true;}}return false;},toRelPath:function(c,p){var d,f=0,o='',i,l;c=c.substring(0,c.lastIndexOf('/'));c=c.split('/');d=p.split('/');if(c.length>=d.length){for(i=0,l=c.length;i<l;i++){if(i>=d.length||c[i]!=d[i]){f=i+1;break;}}}if(c.length<d.length){for(i=0,l=d.length;i<l;i++){if(i>=c.length||c[i]!=d[i]){f=i+1;break;}}}if(f===1){return p;}for(i=0,l=c.length-(f-1);i<l;i++){o+="../";}for(i=f-1,l=d.length;i<l;i++){if(i!=f-1){o+="/"+d[i];}else{o+=d[i];}}return o;},toAbsPath:function(c,p){var i,n=0,o=[],d,f;d=/\/$/.test(p)?'/':'';c=c.split('/');p=p.split('/');e(c,function(k){if(k){o.push(k);}});c=o;for(i=p.length-1,o=[];i>=0;i--){if(p[i].length===0||p[i]==="."){continue;}if(p[i]==='..'){n++;continue;}if(n>0){n--;continue;}o.push(p[i]);}i=c.length-n;if(i<=0){f=o.reverse().join('/');}else{f=c.slice(0,i).join('/')+'/'+o.reverse().join('/');}if(f.indexOf('/')!==0){f='/'+f;}if(d&&f.lastIndexOf('/')!==f.length-1){f+=d;}return f;},getURI:function(n){var s,c=this;if(!c.source||n){s='';if(!n){if(c.protocol){s+=c.protocol+'://';}else{s+='//';}if(c.userInfo){s+=c.userInfo+'@';}if(c.host){s+=c.host;}if(c.port){s+=':'+c.port;}}if(c.path){s+=c.path;}if(c.query){s+='?'+c.query;}if(c.anchor){s+='#'+c.anchor;}c.source=s;}return c.source;}};U.parseDataUri=function(u){var c,m;u=decodeURIComponent(u).split(',');m=/data:([^;]+)/.exec(u[0]);if(m){c=m[1];}return{type:c,data:u[1]};};U.getDocumentBaseUrl=function(l){var c;if(l.protocol.indexOf('http')!==0&&l.protocol!=='file:'){c=l.href;}else{c=l.protocol+'//'+l.host+l.pathname;}if(/^[^:]+:\/\/\/?[^\/]+\//.test(c)){c=c.replace(/[\?#].*$/,'').replace(/[\/\\][^\/]+$/,'');if(!/[\/\\]$/.test(c)){c+='/';}}return c;};return U;});C("tinymce/util/Class",["tinymce/util/Tools"],function(T){var e=T.each,a=T.extend;var b,c;function d(){}d.extend=b=function(p){var s=this,_=s.prototype,f,n,m;function d(){var i,j,k,s=this;if(!c){if(s.init){s.init.apply(s,arguments);}j=s.Mixins;if(j){i=j.length;while(i--){k=j[i];if(k.init){k.init.apply(s,arguments);}}}}}function g(){return this;}function h(n,i){return function(){var s=this,t=s._super,r;s._super=_[n];r=i.apply(s,arguments);s._super=t;return r;};}c=true;f=new s();c=false;if(p.Mixins){e(p.Mixins,function(i){for(var n in i){if(n!=="init"){p[n]=i[n];}}});if(_.Mixins){p.Mixins=_.Mixins.concat(p.Mixins);}}if(p.Methods){e(p.Methods.split(','),function(n){p[n]=g;});}if(p.Properties){e(p.Properties.split(','),function(n){var i='_'+n;p[n]=function(v){var s=this,u;if(v!==u){s[i]=v;return s;}return s[i];};});}if(p.Statics){e(p.Statics,function(i,n){d[n]=i;});}if(p.Defaults&&_.Defaults){p.Defaults=a({},_.Defaults,p.Defaults);}for(n in p){m=p[n];if(typeof m=="function"&&_[n]){f[n]=h(n,m);}else{f[n]=m;}}d.prototype=f;d.constructor=d;d.extend=b;return d;};return d;});C("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(T){var n=T.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange "+"mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover "+"draggesture dragdrop drop drag submit "+"compositionstart compositionend compositionupdate touchstart touchmove touchend",' ');function a(s){var b=this,c,d={},t;function r(){return false;}function e(){return true;}s=s||{};c=s.scope||b;t=s.toggleEvent||r;function f(k,m){var p,i,l,u;k=k.toLowerCase();m=m||{};m.type=k;if(!m.target){m.target=c;}if(!m.preventDefault){m.preventDefault=function(){m.isDefaultPrevented=e;};m.stopPropagation=function(){m.isPropagationStopped=e;};m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=e;};m.isDefaultPrevented=r;m.isPropagationStopped=r;m.isImmediatePropagationStopped=r;}if(s.beforeFire){s.beforeFire(m);}p=d[k];if(p){for(i=0,l=p.length;i<l;i++){u=p[i];if(u.once){g(k,u.func);}if(m.isImmediatePropagationStopped()){m.stopPropagation();return m;}if(u.func.call(c,m)===false){m.preventDefault();return m;}}}return m;}function o(k,l,p,m){var u,v,i;if(l===false){l=r;}if(l){l={func:l};if(m){T.extend(l,m);}v=k.toLowerCase().split(' ');i=v.length;while(i--){k=v[i];u=d[k];if(!u){u=d[k]=[];t(k,true);}if(p){u.unshift(l);}else{u.push(l);}}}return b;}function g(k,l){var i,m,p,u,v;if(k){u=k.toLowerCase().split(' ');i=u.length;while(i--){k=u[i];m=d[k];if(!k){for(p in d){t(p,false);delete d[p];}return b;}if(m){if(!l){m.length=0;}else{v=m.length;while(v--){if(m[v].func===l){m=m.slice(0,v).concat(m.slice(v+1));d[k]=m;}}}if(!m.length){t(k,false);delete d[k];}}}}else{for(k in d){t(k,false);}d={};}return b;}function h(i,k,p){return o(i,k,p,{once:true});}function j(i){i=i.toLowerCase();return!(!d[i]||d[i].length===0);}b.fire=f;b.on=o;b.off=g;b.once=h;b.has=j;}a.isNative=function(b){return!!n[b.toLowerCase()];};return a;});C("tinymce/data/Binding",[],function(){function a(s){this.create=s.create;}a.create=function(m,n){return new a({create:function(o,b){var c;function f(e){o.set(b,e.value);}function d(e){m.set(n,e.value);}o.on('change:'+b,d);m.on('change:'+n,f);c=o._bindings;if(!c){c=o._bindings=[];o.on('destroy',function(){var i=c.length;while(i--){c[i]();}});}c.push(function(){m.off('change:'+n,f);});return m.get(n);}});};return a;});C("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(a){function g(o){if(!o._eventDispatcher){o._eventDispatcher=new a({scope:o,toggleEvent:function(n,s){if(a.isNative(n)&&o.toggleNativeEvent){o.toggleNativeEvent(n,s);}}});}return o._eventDispatcher;}return{fire:function(n,b,c){var s=this;if(s.removed&&n!=="remove"){return b;}b=g(s).fire(n,b,c);if(c!==false&&s.parent){var p=s.parent();while(p&&!b.isPropagationStopped()){p.fire(n,b,false);p=p.parent();}}return b;},on:function(n,c,p){return g(this).on(n,c,p);},off:function(n,c){return g(this).off(n,c);},once:function(n,c){return g(this).once(n,c);},hasEventListeners:function(n){return g(this).has(n);}};});C("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(c,O,d,T){function i(n){return n.nodeType>0;}function e(a,b){var k,f;if(a===b){return true;}if(a===null||b===null){return a===b;}if(typeof a!=="object"||typeof b!=="object"){return a===b;}if(T.isArray(b)){if(a.length!==b.length){return false;}k=a.length;while(k--){if(!e(a[k],b[k])){return false;}}}if(i(a)||i(b)){return a===b;}f={};for(k in b){if(!e(a[k],b[k])){return false;}f[k]=true;}for(k in a){if(!f[k]&&!e(a[k],b[k])){return false;}}return true;}return d.extend({Mixins:[O],init:function(a){var n,v;a=a||{};for(n in a){v=a[n];if(v instanceof c){a[n]=v.create(this,n);}}this.data=a;},set:function(n,v){var k,a,o=this.data[n];if(v instanceof c){v=v.create(this,n);}if(typeof n==="object"){for(k in n){this.set(k,n[k]);}return this;}if(!e(o,v)){this.data[n]=v;a={target:this,name:n,value:v,oldValue:o};this.fire('change:'+n,a);this.fire('change',a);}return this;},get:function(n){return this.data[n];},has:function(n){return n in this.data;},bind:function(n){return c.create(this,n);},destroy:function(){this.fire('destroy');}});});C("tinymce/ui/Selector",["tinymce/util/Class"],function(a){"use strict";function u(d){var f=[],i=d.length,g;while(i--){g=d[i];if(!g.__checked){f.push(g);g.__checked=1;}}i=f.length;while(i--){delete f[i].__checked;}return f;}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,w=/^\s*|\s*$/g,b;var S=a.extend({init:function(s){var m=this.match;function d(n){if(n){n=n.toLowerCase();return function(i){return n==='*'||i.type===n;};}}function f(i){if(i){return function(l){return l._name===i;};}}function g(l){if(l){l=l.split('.');return function(n){var i=l.length;while(i--){if(!n.classes.contains(l[i])){return false;}}return true;};}}function h(n,i,l){if(n){return function(o){var v=o[n]?o[n]():'';return!i?!!l:i==="="?v===l:i==="*="?v.indexOf(l)>=0:i==="~="?(" "+v+" ").indexOf(" "+l+" ")>=0:i==="!="?v!=l:i==="^="?v.indexOf(l)===0:i==="$="?v.substr(v.length-l.length)===l:false;};}}function j(n){var i;if(n){n=/(?:not\((.+)\))|(.+)/i.exec(n);if(!n[1]){n=n[2];return function(l,o,r){return n==='first'?o===0:n==='last'?o===r-1:n==='even'?o%2===0:n==='odd'?o%2===1:l[n]?l[n]():false;};}i=p(n[1],[]);return function(l){return!m(l,i);};}}function k(s,i,l){var n;function o(r){if(r){i.push(r);}}n=e.exec(s.replace(w,''));o(d(n[1]));o(f(n[2]));o(g(n[3]));o(h(n[4],n[5],n[6]));o(j(n[7]));i.pseudo=!!n[7];i.direct=l;return i;}function p(s,l){var n=[],o,r,i;do{c.exec("");r=c.exec(s);if(r){s=r[3];n.push(r[1]);if(r[2]){o=r[3];break;}}}while(r);if(o){p(o,l);}s=[];for(i=0;i<n.length;i++){if(n[i]!='>'){s.push(k(n[i],[],n[i-1]==='>'));}}l.push(s);return l;}this._selectors=p(s,[]);},match:function(d,s){var i,l,f,g,h,j,k,m,n,o,p,r,t;s=s||this._selectors;for(i=0,l=s.length;i<l;i++){h=s[i];g=h.length;t=d;r=0;for(f=g-1;f>=0;f--){m=h[f];while(t){if(m.pseudo){p=t.parent().items();n=o=p.length;while(n--){if(p[n]===t){break;}}}for(j=0,k=m.length;j<k;j++){if(!m[j](t,n,o)){j=k+1;break;}}if(j===k){r++;break;}else{if(f===g-1){break;}}t=t.parent();}}if(r===g){return true;}}return false;},find:function(d){var m=[],i,l,s=this._selectors;function f(g,h,j){var i,l,k,n,o,p=h[j];for(i=0,l=g.length;i<l;i++){o=g[i];for(k=0,n=p.length;k<n;k++){if(!p[k](o,i,l)){k=n+1;break;}}if(k===n){if(j==h.length-1){m.push(o);}else{if(o.items){f(o.items(),h,j+1);}}}else if(p.direct){return;}if(o.items){f(o.items(),h,j);}}}if(d.items){for(i=0,l=s.length;i<l;i++){f(d.items(),s[i],0);}if(l>1){m=u(m);}}if(!b){b=S.Collection;}return new b(m);}});return S;});C("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(T,S,a){"use strict";var b,p,c=Array.prototype.push,s=Array.prototype.slice;p={length:0,init:function(i){if(i){this.add(i);}},add:function(i){var d=this;if(!T.isArray(i)){if(i instanceof b){d.add(i.toArray());}else{c.call(d,i);}}else{c.apply(d,i);}return d;},set:function(d){var e=this,l=e.length,i;e.length=0;e.add(d);for(i=e.length;i<l;i++){delete e[i];}return e;},filter:function(d){var e=this,i,l,m=[],f,g;if(typeof d==="string"){d=new S(d);g=function(f){return d.match(f);};}else{g=d;}for(i=0,l=e.length;i<l;i++){f=e[i];if(g(f)){m.push(f);}}return new b(m);},slice:function(){return new b(s.apply(this,arguments));},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1);},each:function(d){T.each(this,d);return this;},toArray:function(){return T.toArray(this);},indexOf:function(d){var e=this,i=e.length;while(i--){if(e[i]===d){break;}}return i;},reverse:function(){return new b(T.toArray(this).reverse());},hasClass:function(d){return this[0]?this[0].classes.contains(d):false;},prop:function(n,v){var d=this,u,i;if(v!==u){d.each(function(i){if(i[n]){i[n](v);}});return d;}i=d[0];if(i&&i[n]){return i[n]();}},exec:function(n){var d=this,e=T.toArray(arguments).slice(1);d.each(function(i){if(i[n]){i[n].apply(i,e);}});return d;},remove:function(){var i=this.length;while(i--){this[i].remove();}return this;},addClass:function(d){return this.each(function(i){i.classes.add(d);});},removeClass:function(d){return this.each(function(i){i.classes.remove(d);});}};T.each('fire on off show hide append prepend before after reflow'.split(' '),function(n){p[n]=function(){var d=T.toArray(arguments);this.each(function(e){if(n in e){e[n].apply(e,d);}});return this;};});T.each('text name disabled active selected checked visible parent value data'.split(' '),function(n){p[n]=function(v){return this.prop(n,v);};});b=a.extend(p);S.Collection=b;return b;});C("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(a,T,b){"use strict";var c=0;var f={id:function(){return'mceu_'+(c++);},create:function(n,d,e){var g=document.createElement(n);b.DOM.setAttribs(g,d);if(typeof e==='string'){g.innerHTML=e;}else{T.each(e,function(h){if(h.nodeType){g.appendChild(h);}});}return g;},createFragment:function(h){return b.DOM.createFragment(h);},getWindowSize:function(){return b.DOM.getViewPort();},getSize:function(e){var w,h;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();w=Math.max(r.width||(r.right-r.left),e.offsetWidth);h=Math.max(r.height||(r.bottom-r.bottom),e.offsetHeight);}else{w=e.offsetWidth;h=e.offsetHeight;}return{width:w,height:h};},getPos:function(e,r){return b.DOM.getPos(e,r||f.getContainer());},getContainer:function(){return a.container?a.container:document.body;},getViewPort:function(w){return b.DOM.getViewPort(w);},get:function(i){return document.getElementById(i);},addClass:function(e,d){return b.DOM.addClass(e,d);},removeClass:function(e,d){return b.DOM.removeClass(e,d);},hasClass:function(e,d){return b.DOM.hasClass(e,d);},toggleClass:function(e,d,s){return b.DOM.toggleClass(e,d,s);},css:function(e,n,v){return b.DOM.setStyle(e,n,v);},getRuntimeStyle:function(e,n){return b.DOM.getStyle(e,n,true);},on:function(t,n,d,s){return b.DOM.bind(t,n,d,s);},off:function(t,n,d){return b.DOM.unbind(t,n,d);},fire:function(t,n,d){return b.DOM.fire(t,n,d);},innerHtml:function(e,h){b.DOM.setHTML(e,h);}};return f;});C("tinymce/ui/BoxUtils",[],function(){"use strict";return{parseBox:function(v){var l,r=10;if(!v){return;}if(typeof v==="number"){v=v||0;return{top:v,left:v,bottom:v,right:v};}v=v.split(' ');l=v.length;if(l===1){v[1]=v[2]=v[3]=v[0];}else if(l===2){v[2]=v[0];v[3]=v[1];}else if(l===3){v[3]=v[1];}return{top:parseInt(v[0],r)||0,right:parseInt(v[1],r)||0,bottom:parseInt(v[2],r)||0,left:parseInt(v[3],r)||0};},measureBox:function(e,p){function g(n){var d=document.defaultView;if(d){n=n.replace(/[A-Z]/g,function(a){return'-'+a;});return d.getComputedStyle(e,null).getPropertyValue(n);}return e.currentStyle[n];}function b(n){var v=parseFloat(g(n),10);return isNaN(v)?0:v;}return{top:b(p+"TopWidth"),right:b(p+"RightWidth"),bottom:b(p+"BottomWidth"),left:b(p+"LeftWidth")};}};});C("tinymce/ui/ClassList",["tinymce/util/Tools"],function(T){"use strict";function n(){}function a(o){this.cls=[];this.cls._map={};this.onchange=o||n;this.prefix='';}T.extend(a.prototype,{add:function(c){if(c&&!this.contains(c)){this.cls._map[c]=true;this.cls.push(c);this._change();}return this;},remove:function(c){if(this.contains(c)){for(var i=0;i<this.cls.length;i++){if(this.cls[i]===c){break;}}this.cls.splice(i,1);delete this.cls._map[c];this._change();}return this;},toggle:function(c,s){var b=this.contains(c);if(b!==s){if(b){this.remove(c);}else{this.add(c);}this._change();}return this;},contains:function(c){return!!this.cls._map[c];},_change:function(){delete this.clsValue;this.onchange.call(this);}});a.prototype.toString=function(){var v;if(this.clsValue){return this.clsValue;}v='';for(var i=0;i<this.cls.length;i++){if(i>0){v+=' ';}v+=this.prefix+this.cls[i];}return v;};return a;});C("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(a){var d={},b;return{add:function(c){var p=c.parent();if(p){if(!p._layout||p._layout.isNative()){return;}if(!d[p._id]){d[p._id]=p;}if(!b){b=true;a.requestAnimationFrame(function(){var i,c;b=false;for(i in d){c=d[i];if(c.state.get('rendered')){c.reflow();}}d={};},document.body);}}},remove:function(c){if(d[c._id]){delete d[c._id];}}};});C("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(a,T,b,O,c,d,$,f,g,R){"use strict";var h="onmousewheel"in document;var j=false;var k="mce-";var m,n=0;var p={Statics:{classPrefix:k},isRtl:function(){return m.rtl;},classPrefix:k,init:function(s){var e=this,l,t;function u(l){var i;l=l.split(' ');for(i=0;i<l.length;i++){e.classes.add(l[i]);}}e.settings=s=T.extend({},e.Defaults,s);e._id=s.id||('mceu_'+(n++));e._aria={role:s.role};e._elmCache={};e.$=$;e.state=new O({visible:true,active:false,disabled:false,value:''});e.data=new O(s.data);e.classes=new g(function(){if(e.state.get('rendered')){e.getEl().className=this.toString();}});e.classes.prefix=e.classPrefix;l=s.classes;if(l){if(e.Defaults){t=e.Defaults.classes;if(t&&l!=t){u(t);}}u(l);}T.each('title text name visible disabled active value'.split(' '),function(i){if(i in s){e[i](s[i]);}});e.on('click',function(){if(e.disabled()){return false;}});e.settings=s;e.borderBox=f.parseBox(s.border);e.paddingBox=f.parseBox(s.padding);e.marginBox=f.parseBox(s.margin);if(s.hidden){e.hide();}},Properties:'parent,name',getContainerElm:function(){return d.getContainer();},getParentCtrl:function(e){var i,l=this.getRoot().controlIdLookup;while(e&&l){i=l[e.id];if(i){break;}e=e.parentNode;}return i;},initLayoutRect:function(){var s=this,e=s.settings,i,l;var t=s.getEl(),w,u,v,x,y;var G,H,I;i=s.borderBox=s.borderBox||f.measureBox(t,'border');s.paddingBox=s.paddingBox||f.measureBox(t,'padding');s.marginBox=s.marginBox||f.measureBox(t,'margin');I=d.getSize(t);G=e.minWidth;H=e.minHeight;v=G||I.width;x=H||I.height;w=e.width;u=e.height;y=e.autoResize;y=typeof y!="undefined"?y:!w&&!u;w=w||v;u=u||x;var J=i.left+i.right;var K=i.top+i.bottom;var L=e.maxWidth||0xFFFF;var M=e.maxHeight||0xFFFF;s._layoutRect=l={x:e.x||0,y:e.y||0,w:w,h:u,deltaW:J,deltaH:K,contentW:w-J,contentH:u-K,innerW:w-J,innerH:u-K,startMinWidth:G||0,startMinHeight:H||0,minW:Math.min(v,L),minH:Math.min(x,M),maxW:L,maxH:M,autoResize:y,scrollW:0};s._lastLayoutRect={};return l;},layoutRect:function(e){var s=this,i=s._layoutRect,l,t,u,v,w,x;if(!i){i=s.initLayoutRect();}if(e){u=i.deltaW;v=i.deltaH;if(e.x!==w){i.x=e.x;}if(e.y!==w){i.y=e.y;}if(e.minW!==w){i.minW=e.minW;}if(e.minH!==w){i.minH=e.minH;}t=e.w;if(t!==w){t=t<i.minW?i.minW:t;t=t>i.maxW?i.maxW:t;i.w=t;i.innerW=t-u;}t=e.h;if(t!==w){t=t<i.minH?i.minH:t;t=t>i.maxH?i.maxH:t;i.h=t;i.innerH=t-v;}t=e.innerW;if(t!==w){t=t<i.minW-u?i.minW-u:t;t=t>i.maxW-u?i.maxW-u:t;i.innerW=t;i.w=t+u;}t=e.innerH;if(t!==w){t=t<i.minH-v?i.minH-v:t;t=t>i.maxH-v?i.maxH-v:t;i.innerH=t;i.h=t+v;}if(e.contentW!==w){i.contentW=e.contentW;}if(e.contentH!==w){i.contentH=e.contentH;}l=s._lastLayoutRect;if(l.x!==i.x||l.y!==i.y||l.w!==i.w||l.h!==i.h){x=m.repaintControls;if(x){if(x.map&&!x.map[s._id]){x.push(s);x.map[s._id]=true;}}l.x=i.x;l.y=i.y;l.w=i.w;l.h=i.h;}return s;}return i;},repaint:function(){var s=this,e,i,l,t,u;var v,w,x,y,G;y=!document.createRange?Math.round:function(G){return G;};e=s.getEl().style;t=s._layoutRect;x=s._lastRepaintRect||{};u=s.borderBox;v=u.left+u.right;w=u.top+u.bottom;if(t.x!==x.x){e.left=y(t.x)+'px';x.x=t.x;}if(t.y!==x.y){e.top=y(t.y)+'px';x.y=t.y;}if(t.w!==x.w){G=y(t.w-v);e.width=(G>=0?G:0)+'px';x.w=t.w;}if(t.h!==x.h){G=y(t.h-w);e.height=(G>=0?G:0)+'px';x.h=t.h;}if(s._hasBody&&t.innerW!==x.innerW){G=y(t.innerW);l=s.getEl('body');if(l){i=l.style;i.width=(G>=0?G:0)+'px';}x.innerW=t.innerW;}if(s._hasBody&&t.innerH!==x.innerH){G=y(t.innerH);l=l||s.getEl('body');if(l){i=i||l.style;i.height=(G>=0?G:0)+'px';}x.innerH=t.innerH;}s._lastRepaintRect=x;s.fire('repaint',{},false);},updateLayoutRect:function(){var s=this;s.parent()._lastRect=null;d.css(s.getEl(),{width:'',height:''});s._layoutRect=s._lastRepaintRect=s._lastLayoutRect=null;s.initLayoutRect();},on:function(i,l){var s=this;function t(i){var l,u;if(typeof i!='string'){return i;}return function(e){if(!l){s.parentsAndSelf().each(function(v){var w=v.settings.callbacks;if(w&&(l=w[i])){u=v;return false;}});}if(!l){e.action=i;this.fire('execute',e);return;}return l.call(u,e);};}o(s).on(i,t(l));return s;},off:function(e,i){o(this).off(e,i);return this;},fire:function(e,i,l){var s=this;i=i||{};if(!i.control){i.control=s;}i=o(s).fire(e,i);if(l!==false&&s.parent){var t=s.parent();while(t&&!i.isPropagationStopped()){t.fire(e,i,false);t=t.parent();}}return i;},hasEventListeners:function(e){return o(this).has(e);},parents:function(s){var e=this,i,l=new c();for(i=e.parent();i;i=i.parent()){l.add(i);}if(s){l=l.filter(s);}return l;},parentsAndSelf:function(s){return new c(this).add(this.parents(s));},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1];},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1];},innerHtml:function(e){this.$el.html(e);return this;},getEl:function(s){var i=s?this._id+'-'+s:this._id;if(!this._elmCache[i]){this._elmCache[i]=$('#'+i)[0];}return this._elmCache[i];},show:function(){return this.visible(true);},hide:function(){return this.visible(false);},focus:function(){try{this.getEl().focus();}catch(e){}return this;},blur:function(){this.getEl().blur();return this;},aria:function(e,v){var s=this,i=s.getEl(s.ariaTarget);if(typeof v==="undefined"){return s._aria[e];}s._aria[e]=v;if(s.state.get('rendered')){i.setAttribute(e=='role'?e:'aria-'+e,v);}return s;},encode:function(t,e){if(e!==false){t=this.translate(t);}return(t||'').replace(/[&<>"]/g,function(i){return'&#'+i.charCodeAt(0)+';';});},translate:function(t){return m.translate?m.translate(t):t;},before:function(i){var s=this,e=s.parent();if(e){e.insert(i,e.items().indexOf(s),true);}return s;},after:function(i){var s=this,e=s.parent();if(e){e.insert(i,e.items().indexOf(s));}return s;},remove:function(){var s=this,e=s.getEl(),l=s.parent(),t,i;if(s.items){var u=s.items().toArray();i=u.length;while(i--){u[i].remove();}}if(l&&l.items){t=[];l.items().each(function(w){if(w!==s){t.push(w);}});l.items().set(t);l._lastRect=null;}if(s._eventsRoot&&s._eventsRoot==s){$(e).off();}var v=s.getRoot().controlIdLookup;if(v){delete v[s._id];}if(e&&e.parentNode){e.parentNode.removeChild(e);}s.state.set('rendered',false);s.state.destroy();s.fire('remove');return s;},renderBefore:function(e){$(e).before(this.renderHtml());this.postRender();return this;},renderTo:function(e){$(e||this.getContainerElm()).append(this.renderHtml());this.postRender();return this;},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>';},postRender:function(){var s=this,i=s.settings,l,t,u,v,w;s.$el=$(s.getEl());s.state.set('rendered',true);for(v in i){if(v.indexOf("on")===0){s.on(v.substr(2),i[v]);}}if(s._eventsRoot){for(u=s.parent();!w&&u;u=u.parent()){w=u._eventsRoot;}if(w){for(v in w._nativeEvents){s._nativeEvents[v]=true;}}}r(s);if(i.style){l=s.getEl();if(l){l.setAttribute('style',i.style);l.style.cssText=i.style;}}if(s.settings.border){t=s.borderBox;s.$el.css({'border-top-width':t.top,'border-right-width':t.right,'border-bottom-width':t.bottom,'border-left-width':t.left});}var x=s.getRoot();if(!x.controlIdLookup){x.controlIdLookup={};}x.controlIdLookup[s._id]=s;for(var y in s._aria){s.aria(y,s._aria[y]);}if(s.state.get('visible')===false){s.getEl().style.display='none';}s.bindStates();s.state.on('change:visible',function(e){var G=e.value,H;if(s.state.get('rendered')){s.getEl().style.display=G===false?'none':'';s.getEl().getBoundingClientRect();}H=s.parent();if(H){H._lastRect=null;}s.fire(G?'show':'hide');R.add(s);});s.fire('postrender',{},false);},bindStates:function(){},scrollIntoView:function(e){function i(l,H){var x,y,I=l;x=y=0;while(I&&I!=H&&I.nodeType){x+=I.offsetLeft||0;y+=I.offsetTop||0;I=I.offsetParent;}return{x:x,y:y};}var l=this.getEl(),s=l.parentNode;var x,y,w,t,u,v;var G=i(l,s);x=G.x;y=G.y;w=l.offsetWidth;t=l.offsetHeight;u=s.clientWidth;v=s.clientHeight;if(e=="end"){x-=u-w;y-=v-t;}else if(e=="center"){x-=(u/2)-(w/2);y-=(v/2)-(t/2);}s.scrollLeft=x;s.scrollTop=y;return this;},getRoot:function(){var e=this,l,s=[];while(e){if(e.rootControl){l=e.rootControl;break;}s.push(e);l=e;e=e.parent();}if(!l){l=this;}var i=s.length;while(i--){s[i].rootControl=l;}return l;},reflow:function(){R.remove(this);var e=this.parent();if(e._layout&&!e._layout.isNative()){e.reflow();}return this;}};T.each('text title visible disabled active value'.split(' '),function(e){p[e]=function(v){if(arguments.length===0){return this.state.get(e);}if(typeof v!="undefined"){this.state.set(e,v);}return this;};});m=a.extend(p);function o(e){if(!e._eventDispatcher){e._eventDispatcher=new b({scope:e,toggleEvent:function(i,s){if(s&&b.isNative(i)){if(!e._nativeEvents){e._nativeEvents={};}e._nativeEvents[i]=true;if(e.state.get('rendered')){r(e);}}}});}return e._eventDispatcher;}function r(s){var i,l,t,u,v,w;function x(e){var J=s.getParentCtrl(e.target);if(J){J.fire(e.type,e);}}function y(){var e=u._lastHoverCtrl;if(e){e.fire("mouseleave",{target:e.getEl()});e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()});});u._lastHoverCtrl=null;}}function G(e){var J=s.getParentCtrl(e.target),K=u._lastHoverCtrl,L=0,i,t,M;if(J!==K){u._lastHoverCtrl=J;t=J.parents().toArray().reverse();t.push(J);if(K){M=K.parents().toArray().reverse();M.push(K);for(L=0;L<M.length;L++){if(t[L]!==M[L]){break;}}for(i=M.length-1;i>=L;i--){K=M[i];K.fire("mouseleave",{target:K.getEl()});}}for(i=L;i<t.length;i++){J=t[i];J.fire("mouseenter",{target:J.getEl()});}}}function H(e){e.preventDefault();if(e.type=="mousewheel"){e.deltaY=-1/40*e.wheelDelta;if(e.wheelDeltaX){e.deltaX=-1/40*e.wheelDeltaX;}}else{e.deltaX=0;e.deltaY=e.detail;}e=s.fire("wheel",e);}v=s._nativeEvents;if(v){t=s.parents().toArray();t.unshift(s);for(i=0,l=t.length;!u&&i<l;i++){u=t[i]._eventsRoot;}if(!u){u=t[t.length-1]||s;}s._eventsRoot=u;for(l=i,i=0;i<l;i++){t[i]._eventsRoot=u;}var I=u._delegates;if(!I){I=u._delegates={};}for(w in v){if(!v){return false;}if(w==="wheel"&&!j){if(h){$(s.getEl()).on("mousewheel",H);}else{$(s.getEl()).on("DOMMouseScroll",H);}continue;}if(w==="mouseenter"||w==="mouseleave"){if(!u._hasMouseEnter){$(u.getEl()).on("mouseleave",y).on("mouseover",G);u._hasMouseEnter=1;}}else if(!I[w]){$(u.getEl()).on(w,x);I[w]=true;}v[w]=false;}}}return m;});C("tinymce/ui/Factory",[],function(){"use strict";var t={},n;return{add:function(a,b){t[a.toLowerCase()]=b;},has:function(a){return!!t[a.toLowerCase()];},create:function(a,s){var b,c,d;if(!n){d=tinymce.ui;for(c in d){t[c.toLowerCase()]=d[c];}n=true;}if(typeof a=='string'){s=s||{};s.type=a;}else{s=a;a=s.type;}a=a.toLowerCase();b=t[a];if(!b){throw new Error("Could not find control by type: "+a);}b=new b(s);b.type=a;return b;}};});C("tinymce/ui/KeyboardNavigation",[],function(){"use strict";return function(s){var r=s.root,f,a;function b(e){return e&&e.nodeType===1;}try{f=document.activeElement;}catch(c){f=document.body;}a=r.getParentCtrl(f);function g(e){e=e||f;if(b(e)){return e.getAttribute('role');}return null;}function d(e){var i,H=e||f;while((H=H.parentNode)){if((i=g(H))){return i;}}}function h(e){var i=f;if(b(i)){return i.getAttribute('aria-'+e);}}function j(e){var i=e.tagName.toUpperCase();return i=="INPUT"||i=="TEXTAREA"||i=="SELECT";}function k(e){if(j(e)&&!e.hidden){return true;}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(g(e))){return true;}return false;}function l(e){var H=[];function I(e){if(e.nodeType!=1||e.style.display=='none'||e.disabled){return;}if(k(e)){H.push(e);}for(var i=0;i<e.childNodes.length;i++){I(e.childNodes[i]);}}I(e||r.getEl());return H;}function m(e){var H,I;e=e||a;I=e.parents().toArray();I.unshift(e);for(var i=0;i<I.length;i++){H=I[i];if(H.settings.ariaRoot){break;}}return H;}function n(e){var i=m(e);var H=l(i.getEl());if(i.settings.ariaRemember&&"lastAriaIndex"in i){o(i.lastAriaIndex,H);}else{o(0,H);}}function o(i,e){if(i<0){i=e.length-1;}else if(i>=e.length){i=0;}if(e[i]){e[i].focus();}return i;}function p(e,H){var I=-1,J=m();H=H||l(J.getEl());for(var i=0;i<H.length;i++){if(H[i]===f){I=i;}}I+=e;J.lastAriaIndex=o(I,H);}function t(){var e=d();if(e=="tablist"){p(-1,l(f.parentNode));}else if(a.parent().submenu){y();}else{p(-1);}}function u(){var e=g(),i=d();if(i=="tablist"){p(1,l(f.parentNode));}else if(e=="menuitem"&&i=="menu"&&h('haspopup')){G();}else{p(1);}}function v(){p(-1);}function w(){var e=g(),i=d();if(e=="menuitem"&&i=="menubar"){G();}else if(e=="button"&&h('haspopup')){G({key:'down'});}else{p(1);}}function x(e){var i=d();if(i=="tablist"){var H=l(a.getEl('body'))[0];if(H){H.focus();}}else{p(e.shiftKey?-1:1);}}function y(){a.fire('cancel');}function G(e){e=e||{};a.fire('click',{target:f,aria:e});}r.on('keydown',function(e){function i(e,H){if(j(f)){return;}if(g(f)==='slider'){return;}if(H(e)!==false){e.preventDefault();}}if(e.isDefaultPrevented()){return;}switch(e.keyCode){case 37:i(e,t);break;case 39:i(e,u);break;case 38:i(e,v);break;case 40:i(e,w);break;case 27:y();break;case 14:case 13:case 32:i(e,G);break;case 9:if(x(e)!==false){e.preventDefault();}break;}});r.on('focusin',function(e){f=e.target;a=e.control;});return{focusFirst:n};};});C("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(a,b,S,c,K,T,$,d,R){"use strict";var s={};return a.extend({init:function(e){var f=this;f._super(e);e=f.settings;if(e.fixed){f.state.set('fixed',true);}f._items=new b();if(f.isRtl()){f.classes.add('rtl');}f.bodyClasses=new d(function(){if(f.state.get('rendered')){f.getEl('body').className=this.toString();}});f.bodyClasses.prefix=f.classPrefix;f.classes.add('container');f.bodyClasses.add('container-body');if(e.containerCls){f.classes.add(e.containerCls);}f._layout=c.create((e.layout||'')+'layout');if(f.settings.items){f.add(f.settings.items);}else{f.add(f.render());}f._hasBody=true;},items:function(){return this._items;},find:function(e){e=s[e]=s[e]||new S(e);return e.find(this);},add:function(i){var e=this;e.items().add(e.create(i)).parent(e);return e;},focus:function(k){var e=this,f,g,i;if(k){g=e.keyboardNav||e.parents().eq(-1)[0].keyboardNav;if(g){g.focusFirst(e);return;}}i=e.find('*');if(e.statusbar){i.add(e.statusbar.items());}i.each(function(h){if(h.settings.autofocus){f=null;return false;}if(h.canFocus){f=f||h;}});if(f){f.focus();}return e;},replace:function(o,n){var e,f=this.items(),i=f.length;while(i--){if(f[i]===o){f[i]=n;break;}}if(i>=0){e=n.getEl();if(e){e.parentNode.removeChild(e);}e=o.getEl();if(e){e.parentNode.removeChild(e);}}n.parent(this);},create:function(i){var e=this,f,g=[];if(!T.isArray(i)){i=[i];}T.each(i,function(h){if(h){if(!(h instanceof a)){if(typeof h=="string"){h={type:h};}f=T.extend({},e.settings.defaults,h);h.type=f.type=f.type||h.type||e.settings.defaultType||(f.defaults?f.defaults.type:null);h=c.create(f);}g.push(h);}});return g;},renderNew:function(){var e=this;e.items().each(function(f,i){var g;f.parent(e);if(!f.state.get('rendered')){g=e.getEl('body');if(g.hasChildNodes()&&i<=g.childNodes.length-1){$(g.childNodes[i]).before(f.renderHtml());}else{$(g).append(f.renderHtml());}f.postRender();R.add(f);}});e._layout.applyClasses(e.items().filter(':visible'));e._lastRect=null;return e;},append:function(i){return this.add(i).renderNew();},prepend:function(i){var e=this;e.items().set(e.create(i).concat(e.items().toArray()));return e.renderNew();},insert:function(i,e,f){var g=this,h,j,k;i=g.create(i);h=g.items();if(!f&&e<h.length-1){e+=1;}if(e>=0&&e<h.length){j=h.slice(0,e).toArray();k=h.slice(e).toArray();h.set(j.concat(i,k));}return g.renderNew();},fromJSON:function(e){var f=this;for(var n in e){f.find('#'+n).value(e[n]);}return f;},toJSON:function(){var e=this,f={};e.find('*').each(function(g){var n=g.name(),v=g.value();if(n&&typeof v!="undefined"){f[n]=v;}});return f;},renderHtml:function(){var e=this,l=e._layout,r=this.settings.role;e.preRender();l.preRender(e);return('<div id="'+e._id+'" class="'+e.classes+'"'+(r?' role="'+this.settings.role+'"':'')+'>'+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||'')+l.renderHtml(e)+'</div>'+'</div>');},postRender:function(){var e=this,f;e.items().exec('postRender');e._super();e._layout.postRender(e);e.state.set('rendered',true);if(e.settings.style){e.$el.css(e.settings.style);}if(e.settings.border){f=e.borderBox;e.$el.css({'border-top-width':f.top,'border-right-width':f.right,'border-bottom-width':f.bottom,'border-left-width':f.left});}if(!e.parent()){e.keyboardNav=new K({root:e});}return e;},initLayoutRect:function(){var e=this,l=e._super();e._layout.recalc(e);return l;},recalc:function(){var e=this,r=e._layoutRect,l=e._lastRect;if(!l||l.w!=r.w||l.h!=r.h){e._layout.recalc(e);r=e.layoutRect();e._lastRect={x:r.x,y:r.y,w:r.w,h:r.h};return true;}},reflow:function(){var i;R.remove(this);if(this.visible()){a.repaintControls=[];a.repaintControls.map={};this.recalc();i=a.repaintControls.length;while(i--){a.repaintControls[i].repaint();}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint();}a.repaintControls=[];}return this;}});});C("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function($){"use strict";function g(d){var a,b,s,c;var o,e,f,h,m=Math.max;a=d.documentElement;b=d.body;s=m(a.scrollWidth,b.scrollWidth);c=m(a.clientWidth,b.clientWidth);o=m(a.offsetWidth,b.offsetWidth);e=m(a.scrollHeight,b.scrollHeight);f=m(a.clientHeight,b.clientHeight);h=m(a.offsetHeight,b.offsetHeight);return{width:s<o?c:s,height:e<h?f:e};}function u(e){var k,i;if(e.changedTouches){k="screenX screenY pageX pageY clientX clientY".split(' ');for(i=0;i<k.length;i++){e[k[i]]=e.changedTouches[0][k[i]];}}}return function(i,s){var a,d=s.document||document,b,c,f,h,j,k;s=s||{};function l(){return d.getElementById(s.handle||i);}c=function(e){var m=g(d),n,o;u(e);e.preventDefault();b=e.button;n=l();j=e.screenX;k=e.screenY;if(window.getComputedStyle){o=window.getComputedStyle(n,null).getPropertyValue("cursor");}else{o=n.runtimeStyle.cursor;}a=$('<div></div>').css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:0x7FFFFFFF,opacity:0.0001,cursor:o}).appendTo(d.body);$(d).on('mousemove touchmove',h).on('mouseup touchend',f);s.start(e);};h=function(e){u(e);if(e.button!==b){return f(e);}e.deltaX=e.screenX-j;e.deltaY=e.screenY-k;e.preventDefault();s.drag(e);};f=function(e){u(e);$(d).off('mousemove touchmove',h).off('mouseup touchend',f);a.remove();if(s.stop){s.stop(e);}};this.destroy=function(){$(l()).off();};$(l()).on('mousedown touchstart',c);};});C("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function($,a){"use strict";return{init:function(){var s=this;s.on('repaint',s.renderScroll);},renderScroll:function(){var s=this,m=2;function r(){var h,c,d;function e(f,p,g,i,j,k){var l,n,o;var t,u,v,w;var x,y;n=s.getEl('scroll'+f);if(n){x=p.toLowerCase();y=g.toLowerCase();$(s.getEl('absend')).css(x,s.layoutRect()[i]-1);if(!j){$(n).css('display','none');return;}$(n).css('display','block');l=s.getEl('body');o=s.getEl('scroll'+f+"t");t=l["client"+g]-(m*2);t-=h&&c?n["client"+k]:0;u=l["scroll"+g];v=t/u;w={};w[x]=l["offset"+p]+m;w[y]=t;$(n).css(w);w={};w[x]=l["scroll"+p]*v;w[y]=t*v;$(o).css(w);}}d=s.getEl('body');h=d.scrollWidth>d.clientWidth;c=d.scrollHeight>d.clientHeight;e("h","Left","Width","contentW",h,"Height");e("v","Top","Height","contentH",c,"Width");}function b(){function c(d,p,f,g,h){var i,j=s._id+'-scroll'+d,k=s.classPrefix;$(s.getEl()).append('<div id="'+j+'" class="'+k+'scrollbar '+k+'scrollbar-'+d+'">'+'<div id="'+j+'t" class="'+k+'scrollbar-thumb"></div>'+'</div>');s.draghelper=new a(j+'t',{start:function(){i=s.getEl('body')["scroll"+p];$('#'+j).addClass(k+'active');},drag:function(e){var l,n,o,t,u=s.layoutRect();n=u.contentW>u.innerW;o=u.contentH>u.innerH;t=s.getEl('body')["client"+f]-(m*2);t-=n&&o?s.getEl('scroll'+d)["client"+h]:0;l=t/s.getEl('body')["scroll"+f];s.getEl('body')["scroll"+p]=i+(e["delta"+g]/l);},stop:function(){$('#'+j).removeClass(k+'active');}});}s.classes.add('scroll');c("v","Top","Height","Y","Width");c("h","Left","Width","X","Height");}if(s.settings.autoScroll){if(!s._hasScroll){s._hasScroll=true;b();s.on('wheel',function(e){var c=s.getEl('body');c.scrollLeft+=(e.deltaX||0)*10;c.scrollTop+=e.deltaY*10;r();});$(s.getEl('body')).on("scroll",r);}r();}}};});C("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(a,S){"use strict";return a.extend({Defaults:{layout:'fit',containerCls:'panel'},Mixins:[S],renderHtml:function(){var s=this,l=s._layout,i=s.settings.html;s.preRender();l.preRender(s);if(typeof i=="undefined"){i=('<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+l.renderHtml(s)+'</div>');}else{if(typeof i=='function'){i=i.call(s);}s._hasBody=false;}return('<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1" role="group">'+(s._preBodyHtml||'')+i+'</div>');}});});C("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(a){"use strict";function c(b,t,r){var d,p,x,y,s,e,f,g,v,h;v=a.getViewPort();p=a.getPos(t);x=p.x;y=p.y;if(b.state.get('fixed')&&a.getRuntimeStyle(document.body,'position')=='static'){x-=v.x;y-=v.y;}d=b.getEl();h=a.getSize(d);s=h.width;e=h.height;h=a.getSize(t);f=h.width;g=h.height;r=(r||'').split('');if(r[0]==='b'){y+=g;}if(r[1]==='r'){x+=f;}if(r[0]==='c'){y+=Math.round(g/2);}if(r[1]==='c'){x+=Math.round(f/2);}if(r[3]==='b'){y-=e;}if(r[4]==='r'){x-=s;}if(r[3]==='c'){y-=Math.round(e/2);}if(r[4]==='c'){x-=Math.round(s/2);}return{x:x,y:y,w:s,h:e};}return{testMoveRel:function(e,r){var v=a.getViewPort();for(var i=0;i<r.length;i++){var p=c(this,e,r[i]);if(this.state.get('fixed')){if(p.x>0&&p.x+p.w<v.w&&p.y>0&&p.y+p.h<v.h){return r[i];}}else{if(p.x>v.x&&p.x+p.w<v.w+v.x&&p.y>v.y&&p.y+p.h<v.h+v.y){return r[i];}}}return r[0];},moveRel:function(e,r){if(typeof r!='string'){r=this.testMoveRel(e,r);}var p=c(this,e,r);return this.moveTo(p.x,p.y);},moveBy:function(d,b){var s=this,r=s.layoutRect();s.moveTo(r.x+d,r.y+b);return s;},moveTo:function(x,y){var s=this;function b(d,m,e){if(d<0){return 0;}if(d+e>m){d=m-e;return d<0?0:d;}return d;}if(s.settings.constrainToViewport){var v=a.getViewPort(window);var l=s.layoutRect();x=b(x,v.w+v.x,l.w);y=b(y,v.h+v.y,l.h);}if(s.state.get('rendered')){s.layoutRect({x:x,y:y}).repaint();}else{s.settings.x=x;s.settings.y=y;}s.fire('move',{x:x,y:y});return s;}};});C("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(a){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow();},resizeTo:function(w,h){if(w<=1||h<=1){var r=a.getWindowSize();w=w<=1?w*r.w:w;h=h<=1?h*r.h:h;}this._layoutRect.autoResize=false;return this.layoutRect({minW:w,minH:h,w:w,h:h}).reflow();},resizeBy:function(d,b){var s=this,r=s.layoutRect();return s.resizeTo(r.w+d,r.h+b);}};});C("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(P,M,R,a,$,b){"use strict";var d,c,w,v=[];var f=[],h;function g(e,p){while(e){if(e==p){return true;}e=e.parent();}}function s(e){var i=v.length;while(i--){var p=v[i],t=p.getParentCtrl(e.target);if(p.settings.autohide){if(t){if(g(t,p)||p.parent()===t){continue;}}e=p.fire('autohide',{target:e.target});if(!e.isDefaultPrevented()){p.hide();}}}}function j(){if(!d){d=function(e){if(e.button==2){return;}s(e);};$(document).on('click touchstart',d);}}function k(){if(!c){c=function(){var i;i=v.length;while(i--){r(v[i]);}};$(window).on('scroll',c);}}function l(){if(!w){var e=document.documentElement,i=e.clientWidth,p=e.clientHeight;w=function(){if(!document.all||i!=e.clientWidth||p!=e.clientHeight){i=e.clientWidth;p=e.clientHeight;n.hideAll();}};$(window).on('resize',w);}}function r(p){var e=a.getViewPort().y;function t(u,x){var y;for(var i=0;i<v.length;i++){if(v[i]!=p){y=v[i].parent();while(y&&(y=y.parent())){if(y==p){v[i].fixed(u).moveBy(0,x).repaint();}}}}}if(p.settings.autofix){if(!p.state.get('fixed')){p._autoFixY=p.layoutRect().y;if(p._autoFixY<e){p.fixed(true).layoutRect({y:0}).repaint();t(true,e-p._autoFixY);}}else{if(p._autoFixY>e){p.fixed(false).layoutRect({y:p._autoFixY}).repaint();t(false,p._autoFixY-e);}}}}function m(e,p){var i,t=n.zIndex||0xFFFF,u;if(e){f.push(p);}else{i=f.length;while(i--){if(f[i]===p){f.splice(i,1);}}}if(f.length){for(i=0;i<f.length;i++){if(f[i].modal){t++;u=f[i];}f[i].getEl().style.zIndex=t;f[i].zIndex=t;t++;}}var x=$('#'+p.classPrefix+'modal-block',p.getContainerElm())[0];if(u){$(x).css('z-index',u.zIndex-1);}else if(x){x.parentNode.removeChild(x);h=false;}n.currentZIndex=t;}var n=P.extend({Mixins:[M,R],init:function(i){var p=this;p._super(i);p._eventsRoot=p;p.classes.add('floatpanel');if(i.autohide){j();l();v.push(p);}if(i.autofix){k();p.on('move',function(){r(this);});}p.on('postrender show',function(e){if(e.control==p){var t,u=p.classPrefix;if(p.modal&&!h){t=$('#'+u+'modal-block',p.getContainerElm());if(!t[0]){t=$('<div id="'+u+'modal-block" class="'+u+'reset '+u+'fade"></div>').appendTo(p.getContainerElm());}b.setTimeout(function(){t.addClass(u+'in');$(p.getEl()).addClass(u+'in');});h=true;}m(true,p);}});p.on('show',function(){p.parents().each(function(e){if(e.state.get('fixed')){p.fixed(true);return false;}});});if(i.popover){p._preBodyHtml='<div class="'+p.classPrefix+'arrow"></div>';p.classes.add('popover').add('bottom').add(p.isRtl()?'end':'start');}p.aria('label',i.ariaLabel);p.aria('labelledby',p._id);p.aria('describedby',p.describedBy||p._id+'-none');},fixed:function(e){var i=this;if(i.state.get('fixed')!=e){if(i.state.get('rendered')){var p=a.getViewPort();if(e){i.layoutRect().y-=p.y;}else{i.layoutRect().y+=p.y;}}i.classes.toggle('fixed',e);i.state.set('fixed',e);}return i;},show:function(){var e=this,i,p=e._super();i=v.length;while(i--){if(v[i]===e){break;}}if(i===-1){v.push(e);}return p;},hide:function(){o(this);m(false,this);return this._super();},hideAll:function(){n.hideAll();},close:function(){var e=this;if(!e.fire('close').isDefaultPrevented()){e.remove();m(false,e);}return e;},remove:function(){o(this);this._super();},postRender:function(){var e=this;if(e.settings.bodyRole){this.getEl('body').setAttribute('role',e.settings.bodyRole);}return e._super();}});n.hideAll=function(){var i=v.length;while(i--){var p=v[i];if(p&&p.settings.autohide){p.hide();v.splice(i,1);}}};function o(p){var i;i=v.length;while(i--){if(v[i]===p){v.splice(i,1);}}i=f.length;while(i--){if(f[i]===p){f.splice(i,1);}}}return n;});C("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(a,P,b,$,c,d,f,g){"use strict";var j=[],o='';function t(s){var n='width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0',v=$("meta[name=viewport]")[0],e;if(f.overrideViewPort===false){return;}if(!v){v=document.createElement('meta');v.setAttribute('name','viewport');document.getElementsByTagName('head')[0].appendChild(v);}e=v.getAttribute('content');if(e&&typeof o!='undefined'){o=e;}v.setAttribute('content',s?n:o);}function k(e,s){if(l()&&s===false){$([document.documentElement,document.body]).removeClass(e+'fullscreen');}}function l(){for(var i=0;i<j.length;i++){if(j[i]._fullscreen){return true;}}return false;}function m(){if(!f.desktop){var e={w:window.innerWidth,h:window.innerHeight};g.setInterval(function(){var w=window.innerWidth,h=window.innerHeight;if(e.w!=w||e.h!=h){e={w:w,h:h};$(window).trigger('resize');}},100);}function r(){var i,h=b.getWindowSize(),n;for(i=0;i<j.length;i++){n=j[i].layoutRect();j[i].moveTo(j[i].settings.x||Math.max(0,h.w/2-n.w/2),j[i].settings.y||Math.max(0,h.h/2-n.h/2));}}$(window).on('resize',r);}var W=a.extend({modal:true,Defaults:{border:1,layout:'flex',containerCls:'panel',role:'dialog',callbacks:{submit:function(){this.fire('submit',{data:this.toJSON()});},close:function(){this.close();}}},init:function(s){var h=this;h._super(s);if(h.isRtl()){h.classes.add('rtl');}h.classes.add('window');h.bodyClasses.add('window-body');h.state.set('fixed',true);if(s.buttons){h.statusbar=new P({layout:'flex',border:'1 0 0 0',spacing:3,padding:10,align:'center',pack:h.isRtl()?'start':'end',defaults:{type:'button'},items:s.buttons});h.statusbar.classes.add('foot');h.statusbar.parent(h);}h.on('click',function(e){var i=h.classPrefix+'close';if(b.hasClass(e.target,i)||b.hasClass(e.target.parentNode,i)){h.close();}});h.on('cancel',function(){h.close();});h.aria('describedby',h.describedBy||h._id+'-none');h.aria('label',s.title);h._fullscreen=false;},recalc:function(){var s=this,e=s.statusbar,h,w,x,n;if(s._fullscreen){s.layoutRect(b.getWindowSize());s.layoutRect().contentH=s.layoutRect().innerH;}s._super();h=s.layoutRect();if(s.settings.title&&!s._fullscreen){w=h.headerW;if(w>h.w){x=h.x-Math.max(0,w/2);s.layoutRect({w:w,x:x});n=true;}}if(e){e.layoutRect({w:s.layoutRect().innerW}).recalc();w=e.layoutRect().minW+h.deltaW;if(w>h.w){x=h.x-Math.max(0,w-h.w);s.layoutRect({w:w,x:x});n=true;}}if(n){s.recalc();}},initLayoutRect:function(){var s=this,e=s._super(),h=0,i;if(s.settings.title&&!s._fullscreen){i=s.getEl('head');var n=b.getSize(i);e.headerW=n.width;e.headerH=n.height;h+=e.headerH;}if(s.statusbar){h+=s.statusbar.layoutRect().h;}e.deltaH+=h;e.minH+=h;e.h+=h;var r=b.getWindowSize();e.x=s.settings.x||Math.max(0,r.w/2-e.w/2);e.y=s.settings.y||Math.max(0,r.h/2-e.h/2);return e;},renderHtml:function(){var s=this,e=s._layout,i=s._id,p=s.classPrefix;var h=s.settings,n='',r='',u=h.html;s.preRender();e.preRender(s);if(h.title){n=('<div id="'+i+'-head" class="'+p+'window-head">'+'<div id="'+i+'-title" class="'+p+'title">'+s.encode(h.title)+'</div>'+'<div id="'+i+'-dragh" class="'+p+'dragh"></div>'+'<button type="button" class="'+p+'close" aria-hidden="true">'+'<i class="mce-ico mce-i-remove"></i>'+'</button>'+'</div>');}if(h.url){u='<iframe src="'+h.url+'" tabindex="-1"></iframe>';}if(typeof u=="undefined"){u=e.renderHtml(s);}if(s.statusbar){r=s.statusbar.renderHtml();}return('<div id="'+i+'" class="'+s.classes+'" hidefocus="1">'+'<div class="'+s.classPrefix+'reset" role="application">'+n+'<div id="'+i+'-body" class="'+s.bodyClasses+'">'+u+'</div>'+r+'</div>'+'</div>');},fullscreen:function(s){var e=this,h=document.documentElement,i,p=e.classPrefix,n;if(s!=e._fullscreen){$(window).on('resize',function(){var u;if(e._fullscreen){if(!i){u=new Date().getTime();var r=b.getWindowSize();e.moveTo(0,0).resizeTo(r.w,r.h);if((new Date().getTime())-u>50){i=true;}}else{if(!e._timer){e._timer=g.setTimeout(function(){var r=b.getWindowSize();e.moveTo(0,0).resizeTo(r.w,r.h);e._timer=0;},50);}}}});n=e.layoutRect();e._fullscreen=s;if(!s){e.borderBox=d.parseBox(e.settings.border);e.getEl('head').style.display='';n.deltaH+=n.headerH;$([h,document.body]).removeClass(p+'fullscreen');e.classes.remove('fullscreen');e.moveTo(e._initial.x,e._initial.y).resizeTo(e._initial.w,e._initial.h);}else{e._initial={x:n.x,y:n.y,w:n.w,h:n.h};e.borderBox=d.parseBox('0');e.getEl('head').style.display='none';n.deltaH-=n.headerH+2;$([h,document.body]).addClass(p+'fullscreen');e.classes.add('fullscreen');var r=b.getWindowSize();e.moveTo(0,0).resizeTo(r.w,r.h);}}return e.reflow();},postRender:function(){var s=this,h;setTimeout(function(){s.classes.add('in');s.fire('open');},0);s._super();if(s.statusbar){s.statusbar.postRender();}s.focus();this.dragHelper=new c(s._id+'-dragh',{start:function(){h={x:s.layoutRect().x,y:s.layoutRect().y};},drag:function(e){s.moveTo(h.x+e.deltaX,h.y+e.deltaY);}});s.on('submit',function(e){if(!e.isDefaultPrevented()){s.close();}});j.push(s);t(true);},submit:function(){return this.fire('submit',{data:this.toJSON()});},remove:function(){var s=this,i;s.dragHelper.destroy();s._super();if(s.statusbar){this.statusbar.remove();}k(s.classPrefix,false);i=j.length;while(i--){if(j[i]===s){j.splice(i,1);}}t(j.length>0);},getContentWindow:function(){var i=this.getEl().getElementsByTagName('iframe')[0];return i?i.contentWindow:null;}});m();return W;});C("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(W){"use strict";var M=W.extend({init:function(s){s={border:1,padding:20,layout:'flex',pack:"center",align:"center",containerCls:'panel',autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(s);},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(s){var b,c=s.callback||function(){};function a(t,d,p){return{type:"button",text:t,subtype:p?'primary':'',onClick:function(e){e.control.parents()[1].close();c(d);}};}switch(s.buttons){case M.OK_CANCEL:b=[a('Ok',true,true),a('Cancel',false)];break;case M.YES_NO:case M.YES_NO_CANCEL:b=[a('Yes',1,true),a('No',0)];if(s.buttons==M.YES_NO_CANCEL){b.push(a('Cancel',-1));}break;default:b=[a('Ok',true,true)];break;}return new W({padding:20,x:s.x,y:s.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:b,title:s.title,role:'alertdialog',items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:s.text},onPostRender:function(){this.aria('describedby',this.items()[0]._id);},onClose:s.onClose,onCancel:function(){c(false);}}).renderTo(document.body).reflow();},alert:function(s,c){if(typeof s=="string"){s={text:s};}s.callback=c;return M.msgBox(s);},confirm:function(s,c){if(typeof s=="string"){s={text:s};}s.callback=c;s.buttons=M.OK_CANCEL;return M.msgBox(s);}}});return M;});C("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(W,M){return function(e){var s=this,w=[];function g(){if(w.length){return w[w.length-1];}}function f(b){e.fire('OpenWindow',{win:b});}function a(b){e.fire('CloseWindow',{win:b});}s.windows=w;e.on('remove',function(){var i=w.length;while(i--){w[i].close();}});s.open=function(b,p){var c;e.editorManager.setActive(e);b.title=b.title||' ';b.url=b.url||b.file;if(b.url){b.width=parseInt(b.width||320,10);b.height=parseInt(b.height||240,10);}if(b.body){b.items={defaults:b.defaults,type:b.bodyType||'form',items:b.body,data:b.data,callbacks:b.commands};}if(!b.url&&!b.buttons){b.buttons=[{text:'Ok',subtype:'primary',onclick:function(){c.find('form')[0].submit();}},{text:'Cancel',onclick:function(){c.close();}}];}c=new W(b);w.push(c);c.on('close',function(){var i=w.length;while(i--){if(w[i]===c){w.splice(i,1);}}if(!w.length){e.focus();}a(c);});if(b.data){c.on('postRender',function(){this.find('*').each(function(d){var n=d.name();if(n in b.data){d.value(b.data[n]);}});});}c.features=b||{};c.params=p||{};if(w.length===1){e.nodeChanged();}c=c.renderTo().reflow();f(c);return c;};s.alert=function(m,c,b){var d;d=M.alert(m,function(){if(c){c.call(b||this);}else{e.focus();}});d.on('close',function(){a(d);});f(d);};s.confirm=function(m,c,b){var d;d=M.confirm(m,function(h){c.call(b||this,h);});d.on('close',function(){a(d);});f(d);};s.close=function(){if(g()){g().close();}};s.getParams=function(){return g()?g().params:null;};s.setParams=function(p){if(g()){g().params=p;}};s.getWindows=function(){return w;};};});C("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(a,M){return a.extend({Mixins:[M],Defaults:{classes:'widget tooltip tooltip-n'},renderHtml:function(){var s=this,p=s.classPrefix;return('<div id="'+s._id+'" class="'+s.classes+'" role="presentation">'+'<div class="'+p+'tooltip-arrow"></div>'+'<div class="'+p+'tooltip-inner">'+s.encode(s.state.get('text'))+'</div>'+'</div>');},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.getEl().lastChild.innerHTML=s.encode(e.value);});return s._super();},repaint:function(){var s=this,b,r;b=s.getEl().style;r=s._layoutRect;b.left=r.x+'px';b.top=r.y+'px';b.zIndex=0xFFFF+0xFFFF;}});});C("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(a,T){"use strict";var t;var W=a.extend({init:function(s){var b=this;b._super(s);s=b.settings;b.canFocus=true;if(s.tooltip&&W.tooltips!==false){b.on('mouseenter',function(e){var t=b.tooltip().moveTo(-0xFFFF);if(e.control==b){var r=t.text(s.tooltip).show().testMoveRel(b.getEl(),['bc-tc','bc-tl','bc-tr']);t.classes.toggle('tooltip-n',r=='bc-tc');t.classes.toggle('tooltip-nw',r=='bc-tl');t.classes.toggle('tooltip-ne',r=='bc-tr');t.moveRel(b.getEl(),r);}else{t.hide();}});b.on('mouseleave mousedown click',function(){b.tooltip().hide();});}b.aria('label',s.ariaLabel||s.tooltip);},tooltip:function(){if(!t){t=new T({type:'tooltip'});t.renderTo();}return t;},postRender:function(){var s=this,b=s.settings;s._super();if(!s.parent()&&(b.width||b.height)){s.initLayoutRect();s.repaint();}if(b.autofocus){s.focus();}},bindStates:function(){var s=this;function d(c){s.aria('disabled',c);s.classes.toggle('disabled',c);}function b(c){s.aria('pressed',c);s.classes.toggle('active',c);}s.state.on('change:disabled',function(e){d(e.value);});s.state.on('change:active',function(e){b(e.value);});if(s.state.get('disabled')){d(true);}if(s.state.get('active')){b(true);}return s._super();},remove:function(){this._super();if(t){t.remove();t=null;}}});return W;});C("tinymce/ui/Progress",["tinymce/ui/Widget"],function(W){"use strict";return W.extend({Defaults:{value:0},init:function(s){var a=this;a._super(s);a.classes.add('progress');if(!a.settings.filter){a.settings.filter=function(v){return Math.round(v);};}},renderHtml:function(){var s=this,i=s._id,p=this.classPrefix;return('<div id="'+i+'" class="'+s.classes+'">'+'<div class="'+p+'bar-container">'+'<div class="'+p+'bar"></div>'+'</div>'+'<div class="'+p+'text">0%</div>'+'</div>');},postRender:function(){var s=this;s._super();s.value(s.settings.value);return s;},bindStates:function(){var s=this;function a(v){v=s.settings.filter(v);s.getEl().lastChild.innerHTML=v+'%';s.getEl().firstChild.firstChild.style.width=v+'%';}s.state.on('change:value',function(e){a(e.value);});a(s.state.get('value'));return s._super();}});});C("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(a,M,P,b){return a.extend({Mixins:[M],Defaults:{classes:'widget notification'},init:function(s){var c=this;c._super(s);if(s.text){c.text(s.text);}if(s.icon){c.icon=s.icon;}if(s.color){c.color=s.color;}if(s.type){c.classes.add('notification-'+s.type);}if(s.timeout&&(s.timeout<0||s.timeout>0)&&!s.closeButton){c.closeButton=false;}else{c.classes.add('has-close');c.closeButton=true;}if(s.progressBar){c.progressBar=new P();}c.on('click',function(e){if(e.target.className.indexOf(c.classPrefix+'close')!=-1){c.close();}});},renderHtml:function(){var s=this,p=s.classPrefix,i='',c='',d='',n='';if(s.icon){i='<i class="'+p+'ico'+' '+p+'i-'+s.icon+'"></i>';}if(s.color){n=' style="background-color: '+s.color+'"';}if(s.closeButton){c='<button type="button" class="'+p+'close" aria-hidden="true">\u00d7</button>';}if(s.progressBar){d=s.progressBar.renderHtml();}return('<div id="'+s._id+'" class="'+s.classes+'"'+n+' role="presentation">'+i+'<div class="'+p+'notification-inner">'+s.state.get('text')+'</div>'+d+c+'</div>');},postRender:function(){var s=this;b.setTimeout(function(){s.$el.addClass(s.classPrefix+'in');});return s._super();},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.getEl().childNodes[1].innerHTML=e.value;});if(s.progressBar){s.progressBar.bindStates();}return s._super();},close:function(){var s=this;if(!s.fire('close').isDefaultPrevented()){s.remove();}return s;},repaint:function(){var s=this,c,r;c=s.getEl().style;r=s._layoutRect;c.left=r.x+'px';c.top=r.y+'px';c.zIndex=0xFFFF-1;}});});C("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],function(N,c,T){return function(e){var s=this,n=[];function g(){if(n.length){return n[n.length-1];}}s.notifications=n;function r(){c.requestAnimationFrame(function(){p();d();});}function p(){for(var i=0;i<n.length;i++){n[i].moveTo(0,0);}}function d(){if(n.length>0){var a=n.slice(0,1)[0];var b=e.inline?e.getElement():e.getContentAreaContainer();a.moveRel(b,'tc-tc');if(n.length>1){for(var i=1;i<n.length;i++){n[i].moveRel(n[i-1].getEl(),'bc-tc');}}}}e.on('remove',function(){var i=n.length;while(i--){n[i].close();}});e.on('ResizeEditor',d);e.on('ResizeWindow',r);s.open=function(a){if(e.removed){return;}var b;e.editorManager.setActive(e);var k=f(n,a);if(k===null){b=new N(a);n.push(b);if(a.timeout>0){b.timer=setTimeout(function(){b.close();},a.timeout);}b.on('close',function(){var i=n.length;if(b.timer){e.getWin().clearTimeout(b.timer);}while(i--){if(n[i]===b){n.splice(i,1);}}d();});b.renderTo();d();}else{b=k;}return b;};s.close=function(){if(g()){g().close();}};s.getNotifications=function(){return n;};e.on('SkinLoaded',function(){var a=e.settings.service_message;if(a){e.notificationManager.open({text:a,type:'warning',timeout:0,icon:''});}});function f(a,b){if(!j(b)){return null;}var i=T.grep(a,function(k){return h(b,k);});return i.length===0?null:i[0];}function h(a,b){return a.type===b.settings.type&&a.text===b.settings.text;}function j(a){return!a.progressBar&&!a.timeout;}};});C("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(a){function c(r,t,n){var p=[];for(;t&&t!=r;t=t.parentNode){p.push(a.nodeIndex(t,n));}return p;}function E(r,p){var i,n,b;for(n=r,i=p.length-1;i>=0;i--){b=n.childNodes;if(p[i]>b.length-1){return null;}n=b[p[i]];}return n;}return{create:c,resolve:E};});C("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(V,R,T,N,a,b,c,d,f,g,h,k){return function(l){var m=d.each,$=l.$;var n=V.BACKSPACE,o=V.DELETE,p=l.dom,s=l.selection,r=l.settings,t=l.parser,u=l.serializer;var v=c.gecko,w=c.ie,G=c.webkit;var H='data:text/mce-internal,';var I=w?'Text':'URL';function J(e,i){try{l.getDoc().execCommand(e,false,i);}catch(j){}}function K(){var e=l.getDoc().documentMode;return e?e:6;}function L(e){return e.isDefaultPrevented();}function M(e){var i,j;if(e.dataTransfer){if(l.selection.isCollapsed()&&e.target.tagName=='IMG'){s.select(e.target);}i=l.selection.getContent();if(i.length>0){j=H+escape(l.id)+','+escape(i);e.dataTransfer.setData(I,j);}}}function O(e){var i;if(e.dataTransfer){i=e.dataTransfer.getData(I);if(i&&i.indexOf(H)>=0){i=i.substr(H.length).split(',');return{id:unescape(i[0]),html:unescape(i[1])};}}return null;}function P(e){if(l.queryCommandSupported('mceInsertClipboardContent')){l.execCommand('mceInsertClipboardContent',false,{content:e});}else{l.execCommand('mceInsertContent',false,e);}}function Q(){var i=l.getDoc(),p=l.dom,s=l.selection;var j=window.MutationObserver,x,y;if(!j){x=true;j=function(){var I1=[],J1;function K1(e){var J1=e.relatedNode||e.target;I1.push({target:J1,addedNodes:[J1]});}function L1(e){var J1=e.relatedNode||e.target;I1.push({target:J1,attributeName:e.attrName});}this.observe=function(e){J1=e;J1.addEventListener('DOMSubtreeModified',K1,false);J1.addEventListener('DOMNodeInsertedIntoDocument',K1,false);J1.addEventListener('DOMNodeInserted',K1,false);J1.addEventListener('DOMAttrModified',L1,false);};this.disconnect=function(){J1.removeEventListener('DOMSubtreeModified',K1,false);J1.removeEventListener('DOMNodeInsertedIntoDocument',K1,false);J1.removeEventListener('DOMNodeInserted',K1,false);J1.removeEventListener('DOMAttrModified',L1,false);};this.takeRecords=function(){return I1;};};}function z1(e){var I1=p.schema.getBlockElements(),J1=l.getBody();if(e.nodeName!='BR'){return false;}for(;e!=J1&&!I1[e.nodeName];e=e.parentNode){if(e.nextSibling){return false;}}return true;}function A1(e,I1){var J1;for(J1=e.nextSibling;J1&&J1!=I1;J1=J1.nextSibling){if(J1.nodeType==3&&$.trim(J1.data).length===0){continue;}if(J1!==I1){return false;}}return J1===I1;}function B1(e,I1,J1){var K1,L1,M1;if(!p.isChildOf(e,l.getBody())){return;}M1=p.schema.getNonEmptyElements();K1=new T(J1||e,e);while((L1=K1[I1?'next':'prev']())){if(M1[L1.nodeName]&&!z1(L1)){return L1;}if(L1.nodeType==3&&L1.data.length>0){return L1;}}}function C1(e){var I1,J1,K1,L1,M1;if(e.collapsed){return;}I1=p.getParent(R.getNode(e.startContainer,e.startOffset),p.isBlock);J1=p.getParent(R.getNode(e.endContainer,e.endOffset),p.isBlock);M1=l.schema.getTextBlockElements();if(I1==J1){return;}if(!M1[I1.nodeName]||!M1[J1.nodeName]){return;}if(p.getContentEditable(I1)==="false"||p.getContentEditable(J1)==="false"){return;}e.deleteContents();K1=B1(I1,false);L1=B1(J1,true);if(!p.isEmpty(J1)){$(I1).append(J1.childNodes);}$(J1).remove();if(K1){if(K1.nodeType==1){if(K1.nodeName=="BR"){e.setStartBefore(K1);e.setEndBefore(K1);}else{e.setStartAfter(K1);e.setEndAfter(K1);}}else{e.setStart(K1,K1.data.length);e.setEnd(K1,K1.data.length);}}else if(L1){if(L1.nodeType==1){e.setStartBefore(L1);e.setEndBefore(L1);}else{e.setStart(L1,0);e.setEnd(L1,0);}}s.setRng(e);return true;}function D1(e,I1){var J1,K1,L1,M1,N1,O1;if(!e.collapsed){return e;}N1=e.startContainer;O1=e.startOffset;if(N1.nodeType==3){if(I1){if(O1<N1.data.length){return e;}}else{if(O1>0){return e;}}}J1=R.getNode(N1,O1);L1=p.getParent(J1,p.isBlock);K1=B1(l.getBody(),I1,J1);M1=p.getParent(K1,p.isBlock);var P1=N1.nodeType===1&&O1>N1.childNodes.length-1;if(!J1||!K1){return e;}if(M1&&L1!=M1){if(!I1){if(!A1(M1,L1)){return e;}if(K1.nodeType==1){if(K1.nodeName=="BR"){e.setStartBefore(K1);}else{e.setStartAfter(K1);}}else{e.setStart(K1,K1.data.length);}if(J1.nodeType==1){if(P1){e.setEndAfter(J1);}else{e.setEndBefore(J1);}}else{e.setEndBefore(J1);}}else{if(!A1(L1,M1)){return e;}if(J1.nodeType==1){if(J1.nodeName=="BR"){e.setStartBefore(J1);}else{e.setStartAfter(J1);}}else{e.setStart(J1,J1.data.length);}if(K1.nodeType==1){e.setEnd(K1,0);}else{e.setEndBefore(K1);}}}return e;}function E1(e){var I1=s.getRng();I1=D1(I1,e);if(C1(I1)){return true;}}function F1(e,I1){var J1,K1,L1,M1,N1,O1,P1,br,R1;function S1(K1,Q1){R1=$(Q1).parents().filter(function(U1,Q1){return!!l.schema.getTextInlineElements()[Q1.nodeName];});L1=K1.cloneNode(false);R1=d.map(R1,function(U1){U1=U1.cloneNode(false);if(L1.hasChildNodes()){U1.appendChild(L1.firstChild);L1.appendChild(U1);}else{L1.appendChild(U1);}L1.appendChild(U1);return U1;});if(R1.length){br=p.create('br');R1[0].appendChild(br);p.replace(L1,K1);I1.setStartBefore(br);I1.setEndBefore(br);l.selection.setRng(I1);return br;}return null;}function T1(Q1){return Q1&&l.schema.getTextBlockElements()[Q1.tagName];}if(!I1.collapsed){return;}O1=I1.startContainer;P1=I1.startOffset;K1=p.getParent(O1,p.isBlock);if(!T1(K1)){return;}if(O1.nodeType==1){O1=O1.childNodes[P1];if(O1&&O1.tagName!='BR'){return;}if(e){N1=K1.nextSibling;}else{N1=K1.previousSibling;}if(p.isEmpty(K1)&&T1(N1)&&p.isEmpty(N1)){if(S1(K1,O1)){p.remove(N1);return true;}}}else if(O1.nodeType==3){J1=N.create(K1,O1);M1=K1.cloneNode(true);O1=N.resolve(M1,J1);if(e){if(P1>=O1.data.length){return;}O1.deleteData(P1,1);}else{if(P1<=0){return;}O1.deleteData(P1-1,1);}if(p.isEmpty(M1)){return S1(K1,O1);}}}function G1(e){var I1,J1,K1;if(E1(e)){return;}d.each(l.getBody().getElementsByTagName('*'),function(L1){if(L1.tagName=='SPAN'){L1.setAttribute('mce-data-marked',1);}if(!L1.hasAttribute('data-mce-style')&&L1.hasAttribute('style')){l.dom.setAttrib(L1,'style',l.dom.getAttrib(L1,'style'));}});I1=new j(function(){});I1.observe(l.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:['style']});l.getDoc().execCommand(e?'ForwardDelete':'Delete',false,null);J1=l.selection.getRng();K1=J1.startContainer.parentNode;d.each(I1.takeRecords(),function(L1){if(!p.isChildOf(L1.target,l.getBody())){return;}if(L1.attributeName=="style"){var M1=L1.target.getAttribute('data-mce-style');if(M1){L1.target.setAttribute("style",M1);}else{L1.target.removeAttribute("style");}}d.each(L1.addedNodes,function(N1){if(N1.nodeName=="SPAN"&&!N1.getAttribute('mce-data-marked')){var O1,P1;if(N1==K1){O1=J1.startOffset;P1=N1.firstChild;}p.remove(N1,true);if(P1){J1.setStart(P1,O1);J1.setEnd(P1,O1);l.selection.setRng(J1);}}});});I1.disconnect();d.each(l.dom.select('span[mce-data-marked]'),function(L1){L1.removeAttribute('mce-data-marked');});}function H1(e){l.undoManager.transact(function(){G1(e);});}l.on('keydown',function(e){var I1=e.keyCode==o,J1=e.ctrlKey||e.metaKey;if(!L(e)&&(I1||e.keyCode==n)){var K1=l.selection.getRng(),L1=K1.startContainer,M1=K1.startOffset;if(I1&&e.shiftKey){return;}if(F1(I1,K1)){e.preventDefault();return;}if(!J1&&K1.collapsed&&L1.nodeType==3){if(I1?M1<L1.data.length:M1>0){return;}}e.preventDefault();if(J1){l.selection.getSel().modify("extend",I1?"forward":"backward",e.metaKey?"lineboundary":"word");}G1(I1);}});l.on('keypress',function(e){if(!L(e)&&!s.isCollapsed()&&e.charCode>31&&!V.metaKeyPressed(e)){var I1,J1,K1,L1,M1,N1;I1=l.selection.getRng();N1=String.fromCharCode(e.charCode);e.preventDefault();J1=$(I1.startContainer).parents().filter(function(O1,P1){return!!l.schema.getTextInlineElements()[P1.nodeName];});G1(true);J1=J1.filter(function(O1,P1){return!$.contains(l.getBody(),P1);});if(J1.length){K1=p.createFragment();J1.each(function(O1,P1){P1=P1.cloneNode(false);if(K1.hasChildNodes()){P1.appendChild(K1.firstChild);K1.appendChild(P1);}else{M1=P1;K1.appendChild(P1);}K1.appendChild(P1);});M1.appendChild(l.getDoc().createTextNode(N1));L1=p.getParent(I1.startContainer,p.isBlock);if(p.isEmpty(L1)){$(L1).empty().append(K1);}else{I1.insertNode(K1);}I1.setStart(M1.firstChild,1);I1.setEnd(M1.firstChild,1);l.selection.setRng(I1);}else{l.selection.setContent(N1);}}});l.addCommand('Delete',function(){G1();});l.addCommand('ForwardDelete',function(){G1(true);});if(x){return;}l.on('dragstart',function(e){y=s.getRng();M(e);});l.on('drop',function(e){if(!L(e)){var I1=O(e);if(I1){e.preventDefault();f.setEditorTimeout(l,function(){var J1=R.getCaretRangeFromPoint(e.x,e.y,i);if(y){s.setRng(y);y=null;H1();}s.setRng(J1);P(I1.html);});}}});l.on('cut',function(e){if(!L(e)&&e.clipboardData&&!l.selection.isCollapsed()){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData('text/html',l.selection.getContent());e.clipboardData.setData('text/plain',l.selection.getContent({format:'text'}));f.setEditorTimeout(l,function(){H1(true);});}});}function S(){function i(e){var x=p.create("body");var y=e.cloneContents();x.appendChild(y);return s.serializer.serialize(x,{format:'html'});}function j(e){if(!e.setStart){if(e.item){return false;}var x=e.duplicate();x.moveToElementText(l.getBody());return R.compareRanges(e,x);}var s=i(e);var y=p.createRng();y.selectNode(l.getBody());var z1=i(y);return s===z1;}l.on('keydown',function(e){var x=e.keyCode,y,z1;if(!L(e)&&(x==o||x==n)){y=l.selection.isCollapsed();z1=l.getBody();if(y&&!p.isEmpty(z1)){return;}if(!y&&!j(l.selection.getRng())){return;}e.preventDefault();l.setContent('');if(z1.firstChild&&p.isBlock(z1.firstChild)){l.selection.setCursorLocation(z1.firstChild,0);}else{l.selection.setCursorLocation(z1,0);}l.nodeChanged();}});}function U(){l.shortcuts.add('meta+a',null,'SelectAll');}function W(){if(!l.settings.content_editable){p.bind(l.getDoc(),'mousedown mouseup',function(e){var i;if(e.target==l.getDoc().documentElement){i=s.getRng();l.getBody().focus();if(e.type=='mousedown'){if(g.isCaretContainer(i.startContainer)){return;}s.placeCaretAt(e.clientX,e.clientY);}else{s.setRng(i);}}});}}function X(){l.on('keydown',function(e){if(!L(e)&&e.keyCode===n){if(!l.getBody().getElementsByTagName('hr').length){return;}if(s.isCollapsed()&&s.getRng(true).startOffset===0){var i=s.getNode();var j=i.previousSibling;if(i.nodeName=='HR'){p.remove(i);e.preventDefault();return;}if(j&&j.nodeName&&j.nodeName.toLowerCase()==="hr"){p.remove(j);e.preventDefault();}}}});}function Y(){if(!window.Range.prototype.getClientRects){l.on('mousedown',function(e){if(!L(e)&&e.target.nodeName==="HTML"){var i=l.getBody();i.blur();f.setEditorTimeout(l,function(){i.focus();});}});}}function Z(){l.on('click',function(e){var i=e.target;if(/^(IMG|HR)$/.test(i.nodeName)&&p.getContentEditableParent(i)!=="false"){e.preventDefault();s.select(i);l.nodeChanged();}if(i.nodeName=='A'&&p.hasClass(i,'mce-item-anchor')){e.preventDefault();s.select(i);}});}function _(){function i(){var e=p.getAttribs(s.getStart().cloneNode(false));return function(){var x=s.getStart();if(x!==l.getBody()){p.setAttrib(x,"style",null);m(e,function(y){x.setAttributeNode(y.cloneNode(true));});}};}function j(){return!s.isCollapsed()&&p.getParent(s.getStart(),p.isBlock)!=p.getParent(s.getEnd(),p.isBlock);}l.on('keypress',function(e){var x;if(!L(e)&&(e.keyCode==8||e.keyCode==46)&&j()){x=i();l.getDoc().execCommand('delete',false,null);x();e.preventDefault();return false;}});p.bind(l.getDoc(),'cut',function(e){var x;if(!L(e)&&j()){x=i();f.setEditorTimeout(l,function(){x();});}});}function a1(){document.body.setAttribute("role","application");}function b1(){l.on('keydown',function(e){if(!L(e)&&e.keyCode===n){if(s.isCollapsed()&&s.getRng(true).startOffset===0){var i=s.getNode().previousSibling;if(i&&i.nodeName&&i.nodeName.toLowerCase()==="table"){e.preventDefault();return false;}}}});}function c1(){if(K()>7){return;}J('RespectVisibilityInDesign',true);l.contentStyles.push('.mceHideBrInPre pre br {display: none}');p.addClass(l.getBody(),'mceHideBrInPre');t.addNodeFilter('pre',function(e){var i=e.length,x,j,y,z1;while(i--){x=e[i].getAll('br');j=x.length;while(j--){y=x[j];z1=y.prev;if(z1&&z1.type===3&&z1.value.charAt(z1.value-1)!='\n'){z1.value+='\n';}else{y.parent.insert(new a('#text',3),y,true).value='\n';}}}});u.addNodeFilter('pre',function(e){var i=e.length,x,j,y,z1;while(i--){x=e[i].getAll('br');j=x.length;while(j--){y=x[j];z1=y.prev;if(z1&&z1.type==3){z1.value=z1.value.replace(/\r?\n$/,'');}}}});}function d1(){p.bind(l.getBody(),'mouseup',function(){var e,i=s.getNode();if(i.nodeName=='IMG'){if((e=p.getStyle(i,'width'))){p.setAttrib(i,'width',e.replace(/[^0-9%]+/g,''));p.setStyle(i,'width','');}if((e=p.getStyle(i,'height'))){p.setAttrib(i,'height',e.replace(/[^0-9%]+/g,''));p.setStyle(i,'height','');}}});}function e1(){l.on('keydown',function(e){var i,j,x,y,z1;if(L(e)||e.keyCode!=V.BACKSPACE){return;}i=s.getRng();j=i.startContainer;x=i.startOffset;y=p.getRoot();z1=j;if(!i.collapsed||x!==0){return;}while(z1&&z1.parentNode&&z1.parentNode.firstChild==z1&&z1.parentNode!=y){z1=z1.parentNode;}if(z1.tagName==='BLOCKQUOTE'){l.formatter.toggle('blockquote',null,z1);i=p.createRng();i.setStart(j,0);i.setEnd(j,0);s.setRng(i);}});}function f1(){function e(){w1();J("StyleWithCSS",false);J("enableInlineTableEditing",false);if(!r.object_resizing){J("enableObjectResizing",false);}}if(!r.readonly){l.on('BeforeExecCommand MouseDown',e);}}function g1(){function i(){m(p.select('a'),function(e){var j=e.parentNode,x=p.getRoot();if(j.lastChild===e){while(j&&!p.isBlock(j)){if(j.parentNode.lastChild!==j||j===x){return;}j=j.parentNode;}p.add(j,'br',{'data-mce-bogus':1});}});}l.on('SetContent ExecCommand',function(e){if(e.type=="setcontent"||e.command==='mceInsertLink'){i();}});}function h1(){if(r.forced_root_block){l.on('init',function(){J('DefaultParagraphSeparator',r.forced_root_block);});}}function i1(){l.on('keydown',function(e){var i;if(!L(e)&&e.keyCode==n){i=l.getDoc().selection.createRange();if(i&&i.item){e.preventDefault();l.undoManager.beforeChange();p.remove(i.item(0));l.undoManager.add();}}});}function j1(){var e;if(K()>=10){e='';m('p div h1 h2 h3 h4 h5 h6'.split(' '),function(j,i){e+=(i>0?',':'')+j+':empty';});l.contentStyles.push(e+'{padding-right: 1px !important}');}}function k1(){if(K()<9){t.addNodeFilter('noscript',function(e){var i=e.length,j,x;while(i--){j=e[i];x=j.firstChild;if(x){j.attr('data-mce-innertext',x.value);}}});u.addNodeFilter('noscript',function(e){var i=e.length,j,x,y;while(i--){j=e[i];x=e[i].firstChild;if(x){x.value=b.decode(x.value);}else{y=j.attributes.map['data-mce-innertext'];if(y){j.attr('data-mce-innertext',null);x=new a('#text',3);x.value=y;x.raw=true;j.append(x);}}}});}}function l1(){var i=p.doc,j=i.body,z1,A1,B1;function C1(x,y){var e=j.createTextRange();try{e.moveToPoint(x,y);}catch(ex){e=null;}return e;}function D1(e){var x;if(e.button){x=C1(e.x,e.y);if(x){if(x.compareEndPoints('StartToStart',A1)>0){x.setEndPoint('StartToStart',A1);}else{x.setEndPoint('EndToEnd',A1);}x.select();}}else{E1();}}function E1(){var e=i.selection.createRange();if(A1&&!e.item&&e.compareEndPoints('StartToEnd',e)===0){A1.select();}p.unbind(i,'mouseup',E1);p.unbind(i,'mousemove',D1);A1=z1=0;}i.documentElement.unselectable=true;p.bind(i,'mousedown contextmenu',function(e){if(e.target.nodeName==='HTML'){if(z1){E1();}B1=i.documentElement;if(B1.scrollHeight>B1.clientHeight){return;}z1=1;A1=C1(e.x,e.y);if(A1){p.bind(i,'mouseup',E1);p.bind(i,'mousemove',D1);p.getRoot().focus();A1.select();}}});}function m1(){l.on('keyup focusin mouseup',function(e){if(e.keyCode!=65||!V.metaKeyPressed(e)){s.normalize();}},true);}function n1(){l.contentStyles.push('img:-moz-broken {'+'-moz-force-broken-image-icon:1;'+'min-width:24px;'+'min-height:24px'+'}');}function o1(){if(!l.inline){l.on('keydown',function(){if(document.activeElement==document.body){l.getWin().focus();}});}}function p1(){if(!l.inline){l.contentStyles.push('body {min-height: 150px}');l.on('click',function(e){var i;if(e.target.nodeName=='HTML'){if(c.ie>11){l.getBody().focus();return;}i=l.selection.getRng();l.getBody().focus();l.selection.setRng(i);l.selection.normalize();l.nodeChanged();}});}}function q1(){if(c.mac){l.on('keydown',function(e){if(V.metaKeyPressed(e)&&!e.shiftKey&&(e.keyCode==37||e.keyCode==39)){e.preventDefault();l.selection.getSel().modify('move',e.keyCode==37?'backward':'forward','lineboundary');}});}}function r1(){J("AutoUrlDetect",false);}function s1(){l.on('click',function(e){var i=e.target;do{if(i.tagName==='A'){e.preventDefault();return;}}while((i=i.parentNode));});l.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');}function t1(){l.on('init',function(){l.dom.bind(l.getBody(),'submit',function(e){e.preventDefault();});});}function u1(){t.addNodeFilter('br',function(e){var i=e.length;while(i--){if(e[i].attr('class')=='Apple-interchange-newline'){e[i].remove();}}});}function v1(){l.on('dragstart',function(e){M(e);});l.on('drop',function(e){if(!L(e)){var i=O(e);if(i&&i.id!=l.id){e.preventDefault();var j=R.getCaretRangeFromPoint(e.x,e.y,l.getDoc());s.setRng(j);P(i.html);}}});}function w1(){}function x1(){var e;if(!v){return 0;}e=l.selection.getSel();return(!e||!e.rangeCount||e.rangeCount===0);}function y1(){function i(l){var e=new k(l.getBody());var j=l.selection.getRng();var x=h.fromRangeStart(j);var y=h.fromRangeEnd(j);var z1=e.prev(x);var A1=e.next(y);return!l.selection.isCollapsed()&&(!z1||(z1.isAtStart()&&x.isEqual(z1)))&&(!A1||(A1.isAtEnd()&&x.isEqual(A1)));}l.on('keypress',function(e){if(!L(e)&&!s.isCollapsed()&&e.charCode>31&&!V.metaKeyPressed(e)){if(i(l)){e.preventDefault();l.setContent(String.fromCharCode(e.charCode));l.selection.select(l.getBody(),true);l.selection.collapse(false);l.nodeChanged();}}});l.on('keydown',function(e){var j=e.keyCode;if(!L(e)&&(j==o||j==n)){if(i(l)){e.preventDefault();l.setContent('');l.nodeChanged();}}});}e1();S();if(!c.windowsPhone){m1();}if(G){y1();Q();W();Z();h1();t1();b1();u1();if(c.iOS){o1();p1();s1();}else{U();}}if(w&&c.ie<11){X();a1();c1();d1();i1();j1();k1();l1();}if(c.ie>=11){p1();b1();}if(c.ie){U();r1();v1();}if(v){y1();X();Y();_();f1();g1();n1();q1();b1();}return{refreshContentEditable:w1,isHidden:x1};};});C("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(O,a,T){var b=a.DOM,c;function g(e,h){if(h=='selectionchange'){return e.getDoc();}if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(h)){return e.getDoc().documentElement;}if(e.settings.event_root){if(!e.eventRoot){e.eventRoot=b.select(e.settings.event_root)[0];}return e.eventRoot;}return e.getBody();}function d(h,j){var k=g(h,j),l;function m(h){return!h.hidden&&!h.readonly;}if(!h.delegates){h.delegates={};}if(h.delegates[j]){return;}if(h.settings.event_root){if(!c){c={};h.editorManager.on('removeEditor',function(){var n;if(!h.editorManager.activeEditor){if(c){for(n in c){h.dom.unbind(g(h,n));}c=null;}}});}if(c[j]){return;}l=function(e){var t=e.target,n=h.editorManager.editors,i=n.length;while(i--){var o=n[i].getBody();if(o===t||b.isChildOf(t,o)){if(m(n[i])){n[i].fire(j,e);}}}};c[j]=l;b.bind(k,j,l);}else{l=function(e){if(m(h)){h.fire(j,e);}};b.bind(k,j,l);h.delegates[j]=l;}}var f={bindPendingEventDelegates:function(){var s=this;T.each(s._pendingNativeEvents,function(n){d(s,n);});},toggleNativeEvent:function(n,s){var e=this;if(n=="focus"||n=="blur"){return;}if(s){if(e.initialized){d(e,n);}else{if(!e._pendingNativeEvents){e._pendingNativeEvents=[n];}else{e._pendingNativeEvents.push(n);}}}else if(e.initialized){e.dom.unbind(g(e,n),n,e.delegates[n]);delete e.delegates[n];}},unbindAllNativeEvents:function(){var s=this,n;if(s.delegates){for(n in s.delegates){s.dom.unbind(g(s,n),n,s.delegates[n]);}delete s.delegates;}if(!s.inline){s.getBody().onload=null;s.dom.unbind(s.getWin());s.dom.unbind(s.getDoc());}s.dom.unbind(s.getBody());s.dom.unbind(s.getContainer());}};f=T.extend({},O,f);return f;});C("tinymce/Mode",[],function(){function s(e,b,d){try{e.getDoc().execCommand(b,false,d);}catch(f){}}function c(b){var d,h;d=b.getBody();h=function(e){if(b.dom.getParents(e.target,'a').length>0){e.preventDefault();}};b.dom.bind(d,'click',h);return{unbind:function(){b.dom.unbind(d,'click',h);}};}function t(e,b){if(e._clickBlocker){e._clickBlocker.unbind();e._clickBlocker=null;}if(b){e._clickBlocker=c(e);e.selection.controlSelection.hideResizeRect();e.readonly=true;e.getBody().contentEditable=false;}else{e.readonly=false;e.getBody().contentEditable=true;s(e,"StyleWithCSS",false);s(e,"enableInlineTableEditing",false);s(e,"enableObjectResizing",false);e.focus();e.nodeChanged();}}function a(e,m){var b=e.readonly?'readonly':'design';if(m==b){return;}if(e.initialized){t(e,m=='readonly');}else{e.on('init',function(){t(e,m=='readonly');});}e.fire('SwitchMode',{mode:m});}return{setMode:a};});C("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(T,a){var b=T.each,c=T.explode;var k={"f9":120,"f10":121,"f11":122};var m=T.makeMap('alt,ctrl,shift,meta,access');return function(d){var s=this,f={},p=[];function g(e){var o,r,t={};b(c(e,'+'),function(v){if(v in m){t[v]=true;}else{if(/^[0-9]{2,}$/.test(v)){t.keyCode=parseInt(v,10);}else{t.charCode=v.charCodeAt(0);t.keyCode=k[v]||v.toUpperCase().charCodeAt(0);}}});o=[t.keyCode];for(r in m){if(t[r]){o.push(r);}else{t[r]=false;}}t.id=o.join(',');if(t.access){t.alt=true;if(a.mac){t.ctrl=true;}else{t.shift=true;}}if(t.meta){if(a.mac){t.meta=true;}else{t.ctrl=true;t.meta=false;}}return t;}function h(e,o,r,t){var f;f=T.map(c(e,'>'),g);f[f.length-1]=T.extend(f[f.length-1],{func:r,scope:t||d});return T.extend(f[0],{desc:d.translate(o),subpatterns:f.slice(1)});}function i(e){return e.altKey||e.ctrlKey||e.metaKey;}function j(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123;}function l(e,o){if(!o){return false;}if(o.ctrl!=e.ctrlKey||o.meta!=e.metaKey){return false;}if(o.alt!=e.altKey||o.shift!=e.shiftKey){return false;}if(e.keyCode==o.keyCode||(e.charCode&&e.charCode==o.charCode)){e.preventDefault();return true;}return false;}function n(e){return e.func?e.func.call(e.scope):null;}d.on('keyup keypress keydown',function(e){if((i(e)||j(e))&&!e.isDefaultPrevented()){b(f,function(o){if(l(e,o)){p=o.subpatterns.slice(0);if(e.type=="keydown"){n(o);}return true;}});if(l(e,p[0])){if(p.length===1){if(e.type=="keydown"){n(p[0]);}}p.shift();}}});s.add=function(e,o,r,t){var u;u=r;if(typeof r==='string'){r=function(){d.execCommand(u,false,null);};}else if(T.isArray(u)){r=function(){d.execCommand(u[0],u[1],u[2]);};}b(c(T.trim(e.toLowerCase())),function(e){var v=h(e,o,r,t);f[v.id]=v;});return true;};s.remove=function(e){var o=h(e);if(f[o.id]){delete f[o.id];return true;}return false;};};});C("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(P,T,a){return function(u,s){var p={};function f(e){var o,t;t={'image/jpeg':'jpg','image/jpg':'jpg','image/gif':'gif','image/png':'png'};o=t[e.blob().type.toLowerCase()]||'dat';return e.filename()+'.'+o;}function b(e,o){if(e){return e.replace(/\/$/,'')+'/'+o.replace(/^\//,'');}return o;}function c(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:a.constant(f(e))};}function d(o,t,v,w){var x,y;x=new XMLHttpRequest();x.open('POST',s.url);x.withCredentials=s.credentials;x.upload.onprogress=function(e){w(e.loaded/e.total*100);};x.onerror=function(){v("Image upload failed due to a XHR Transport error. Code: "+x.status);};x.onload=function(){var e;if(x.status!=200){v("HTTP Error: "+x.status);return;}e=JSON.parse(x.responseText);if(!e||typeof e.location!="string"){v("Invalid JSON: "+x.responseText);return;}t(b(s.basePath,e.location));};y=new FormData();y.append('file',o.blob(),o.filename());x.send(y);}function n(){return new P(function(E){E([]);});}function h(e,o){return{url:o,blobInfo:e,status:true};}function g(e,o){return{url:'',blobInfo:e,status:false,error:o};}function r(e,o){T.each(p[e],function(E){E(o);});delete p[e];}function i(e,o,t){u.markPending(e.blobUri());return new P(function(E){var v,w;var x=function(){};try{var y=function(){if(v){v.close();w=x;}};var G=function(J){y();u.markUploaded(e.blobUri(),J);r(e.blobUri(),h(e,J));E(h(e,J));};var H=function(J){y();u.removeFailed(e.blobUri());r(e.blobUri(),g(e,J));E(g(e,J));};w=function(J){if(J<0||J>100){return;}if(!v){v=t();}v.progressBar.value(J);};o(c(e),G,H,w);}catch(I){E(g(e,I.message));}});}function j(e){return e===d;}function k(e){var o=e.blobUri();return new P(function(E){p[o]=p[o]||[];p[o].push(E);});}function l(e,o){e=T.grep(e,function(t){return!u.isUploaded(t.blobUri());});return P.all(T.map(e,function(t){return u.isPending(t.blobUri())?k(t):i(t,s.handler,o);}));}function m(e,o){return(!s.url&&j(s.handler))?n():l(e,o);}s=T.extend({credentials:false,handler:d},s);return{upload:m};};});C("tinymce/file/Conversions",["tinymce/util/Promise"],function(P){function b(c){return new P(function(E){var x=new XMLHttpRequest();x.open('GET',c,true);x.responseType='blob';x.onload=function(){if(this.status==200){E(this.response);}};x.send();});}function p(c){var t,m;c=decodeURIComponent(c).split(',');m=/data:([^;]+)/.exec(c[0]);if(m){t=m[1];}return{type:t,data:c[1]};}function d(c){return new P(function(E){var s,f,i;c=p(c);try{s=atob(c.data);}catch(e){E(new Blob([]));return;}f=new Uint8Array(s.length);for(i=0;i<f.length;i++){f[i]=s.charCodeAt(i);}E(new Blob([f],{type:c.type}));});}function u(c){if(c.indexOf('blob:')===0){return b(c);}if(c.indexOf('data:')===0){return d(c);}return null;}function a(c){return new P(function(E){var r=new FileReader();r.onloadend=function(){E(r.result);};r.readAsDataURL(c);});}return{uriToBlob:u,blobToDataUri:a,parseDataUri:p};});C("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(P,a,b,c,d){var e=0;var u=function(p){return(p||'blobid')+(e++);};return function(f,g){var h={};function i(j,p){var k,l;function m(n,E){var o,r;if(n.src.indexOf('blob:')===0){r=g.getByUri(n.src);if(r){E({image:n,blobInfo:r});}else{c.uriToBlob(n.src).then(function(s){c.blobToDataUri(s).then(function(t){o=c.parseDataUri(t).data;r=g.create(u(),s,o);g.add(r);E({image:n,blobInfo:r});});});}return;}o=c.parseDataUri(n.src).data;r=g.findFirst(function(s){return s.base64()===o;});if(r){E({image:n,blobInfo:r});}else{c.uriToBlob(n.src).then(function(s){r=g.create(u(),s,o);g.add(r);E({image:n,blobInfo:r});});}}if(!p){p=b.constant(true);}k=a.filter(j.getElementsByTagName('img'),function(n){var s=n.src;if(!d.fileApi){return false;}if(n.hasAttribute('data-mce-bogus')){return false;}if(n.hasAttribute('data-mce-placeholder')){return false;}if(!s||s==d.transparentSrc){return false;}if(s.indexOf('blob:')===0){return!f.isUploaded(s);}if(s.indexOf('data:')===0){return p(n);}return false;});l=a.map(k,function(n){var o;if(h[n.src]){return new P(function(E){h[n.src].then(function(r){E({image:n,blobInfo:r.blobInfo});});});}o=new P(function(E){m(n,E);}).then(function(r){delete h[r.image.src];return r;})['catch'](function(r){delete h[n.src];return r;});h[n.src]=o;return o;});return P.all(l);}return{findAll:i};};});C("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(a,b){return function(){var c=[],d=b.constant;function e(k,l,m,n){return{id:d(k),filename:d(n||k),blob:d(l),base64:d(m),blobUri:d(URL.createObjectURL(l))};}function f(k){if(!g(k.id())){c.push(k);}}function g(k){return h(function(l){return l.id()===k;});}function h(p){return a.filter(c,p)[0];}function i(k){return h(function(l){return l.blobUri()==k;});}function r(k){c=a.filter(c,function(l){if(l.blobUri()===k){URL.revokeObjectURL(l.blobUri());return false;}return true;});}function j(){a.each(c,function(k){URL.revokeObjectURL(k.blobUri());});c=[];}return{create:e,add:f,get:g,getByUri:i,findFirst:h,removeByUri:r,destroy:j};};});C("tinymce/file/UploadStatus",[],function(){return function(){var P=1,U=2;var b={};function c(s,f){return{status:s,resultUri:f};}function h(f){return f in b;}function g(f){var j=b[f];return j?j.resultUri:null;}function i(f){return h(f)?b[f].status===P:false;}function a(f){return h(f)?b[f].status===U:false;}function m(f){b[f]=c(P,null);}function d(f,j){b[f]=c(U,j);}function r(f){delete b[f];}function e(){b={};}return{hasBlobUri:h,getResultUri:g,isPending:i,isUploaded:a,markPending:m,markUploaded:d,removeFailed:r,destroy:e};};});C("tinymce/ErrorReporter",["tinymce/AddOnManager"],function(a){var P=a.PluginManager;var r=function(t,s){for(var n in P.urls){var m=P.urls[n]+'/plugin'+s+'.js';if(m===t){return n;}}return null;};var p=function(e,f){var g=r(f,e.suffix);return g?'Failed to load plugin: '+g+' from url '+f:'Failed to load plugin url: '+f;};var d=function(e,m){e.notificationManager.open({type:'error',text:m});};var b=function(e,m){if(e._skinLoaded){d(e,m);}else{e.on('SkinLoaded',function(){d(e,m);});}};var u=function(e,m){b(e,'Failed to upload image: '+m);};var c=function(e,f){b(e,p(e,f));};return{pluginLoadError:c,uploadError:u};});C("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus","tinymce/ErrorReporter"],function(a,U,I,b,c,d){return function(f){var g=new b(),u,i,s=f.settings;var h=new c();function j(e){return function(G){if(f.selection){return e(G);}return[];};}function k(){return'?'+(new Date()).getTime();}function r(e,G,H){var J=0;do{J=e.indexOf(G,J);if(J!==-1){e=e.substring(0,J)+H+e.substr(J+G.length);J+=H.length-G.length+1;}}while(J!==-1);return e;}function l(e,G,H){e=r(e,'src="'+G+'"','src="'+H+'"');e=r(e,'data-mce-src="'+G+'"','data-mce-src="'+H+'"');return e;}function m(e,G){a.each(f.undoManager.data,function(H){if(H.type==='fragmented'){H.fragments=a.map(H.fragments,function(J){return l(J,e,G);});}else{H.content=l(H.content,e,G);}});}function o(){return f.notificationManager.open({text:f.translate('Image uploading...'),type:'info',timeout:-1,progressBar:true});}function n(e,G){g.removeByUri(e.src);m(e.src,G);f.$(e).attr({src:s.images_reuse_filename?G+k():G,'data-mce-src':f.convertURL(G,'src')});}function p(e){if(!u){u=new U(h,{url:s.images_upload_url,basePath:s.images_upload_base_path,credentials:s.images_upload_credentials,handler:s.images_upload_handler});}return w().then(j(function(G){var H;H=a.map(G,function(J){return J.blobInfo;});return u.upload(H,o).then(j(function(J){J=a.map(J,function(K,L){var M=G[L].image;if(K.status&&f.settings.images_replace_blob_uris!==false){n(M,K.url);}else if(K.error){d.uploadError(f,K.error);}return{element:M,status:K.status};});if(e){e(J);}return J;}));}));}function t(e){if(s.automatic_uploads!==false){return p(e);}}function v(e){return s.images_dataimg_filter?s.images_dataimg_filter(e):true;}function w(){if(!i){i=new I(h,g);}return i.findAll(f.getBody(),v).then(j(function(e){a.each(e,function(G){m(G.image.src,G.blobInfo.blobUri());G.image.src=G.blobInfo.blobUri();G.image.removeAttribute('data-mce-src');});return e;}));}function x(){g.destroy();h.destroy();i=u=null;}function y(e){return e.replace(/src="(blob:[^"]+)"/g,function(G,H){var J=h.getResultUri(H);if(J){return'src="'+J+'"';}var K=g.getByUri(H);if(!K){K=a.reduce(f.editorManager.editors,function(L,f){return L||f.editorUpload.blobCache.getByUri(H);},null);}if(K){return'src="data:'+K.blob().type+';base64,'+K.base64()+'"';}return G;});}f.on('setContent',function(){if(f.settings.automatic_uploads!==false){t();}else{w();}});f.on('RawSaveContent',function(e){e.content=y(e.content);});f.on('getContent',function(e){if(e.source_view||e.format=='raw'){return;}e.content=y(e.content);});f.on('PostRender',function(){f.parser.addNodeFilter('img',function(e){a.each(e,function(G){var H=G.attr('src');if(g.getByUri(H)){return;}var J=h.getResultUri(H);if(J){G.attr('src',J);}});});});return{blobCache:g,uploadImages:p,uploadImagesAuto:t,scanForImages:w,destroy:x};};});C("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(a,b,N,R,$,c,d){var e=N.isContentEditableFalse;return function(r,f){var g,h,j;function k(i,p){var u=c.collapse(i.getBoundingClientRect(),p),v,w,x,y,G;if(r.tagName=='BODY'){v=r.ownerDocument.documentElement;w=r.scrollLeft||v.scrollLeft;x=r.scrollTop||v.scrollTop;}else{G=r.getBoundingClientRect();w=r.scrollLeft-G.left;x=r.scrollTop-G.top;}u.left+=w;u.right+=w;u.top+=x;u.bottom+=x;u.width=1;y=i.offsetWidth-i.clientWidth;if(y>0){if(p){y*=-1;}u.left+=y;u.right+=y;}return u;}function t(){var p,u,v,i,w;p=$('*[contentEditable=false]',r);for(i=0;i<p.length;i++){u=p[i];v=u.previousSibling;if(a.endsWithCaretContainer(v)){w=v.data;if(w.length==1){v.parentNode.removeChild(v);}else{v.deleteData(w.length-1,1);}}v=u.nextSibling;if(a.startsWithCaretContainer(v)){w=v.data;if(w.length==1){v.parentNode.removeChild(v);}else{v.deleteData(0,1);}}}return null;}function s(i,p){var u,v;l();if(f(p)){j=a.insertBlock('p',p,i);u=k(p,i);$(j).css('top',u.top);h=$('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(r);if(i){h.addClass('mce-visual-caret-before');}m();v=p.ownerDocument.createRange();v.setStart(j,0);v.setEnd(j,0);}else{j=a.insertInline(p,i);v=p.ownerDocument.createRange();if(e(j.nextSibling)){v.setStart(j,0);v.setEnd(j,0);}else{v.setStart(j,1);v.setEnd(j,1);}return v;}return v;}function l(){t();if(j){a.remove(j);j=null;}if(h){h.remove();h=null;}clearInterval(g);}function m(){g=d.setInterval(function(){$('div.mce-visual-caret',r).toggleClass('mce-visual-caret-hidden');},500);}function n(){d.clearInterval(g);}function o(){return('.mce-visual-caret {'+'position: absolute;'+'background-color: black;'+'background-color: currentcolor;'+'}'+'.mce-visual-caret-hidden {'+'display: none;'+'}'+'*[data-mce-caret] {'+'position: absolute;'+'left: -1000px;'+'right: auto;'+'top: 0;'+'margin: 0;'+'padding: 0;'+'}');}return{show:s,hide:l,getCss:o,destroy:n};};});C("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(a,N,b){function g(n){function t(c){return a.map(c,function(d){d=b.clone(d);d.node=n;return d;});}if(a.isArray(n)){return a.reduce(n,function(c,n){return c.concat(g(n));},[]);}if(N.isElement(n)){return t(n.getClientRects());}if(N.isText(n)){var r=n.ownerDocument.createRange();r.setStart(n,0);r.setEnd(n,n.data.length);return t(r.getClientRects());}}return{getClientRects:g};});C("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(a,b,c,d,e,f,g,h){var j=a.curry;function k(i,r,o,s){while((s=e.findNode(s,i,d.isEditableCaretCandidate,r))){if(o(s)){return;}}}function w(o,r,s,t,v,x){var y=0,G,H=[],I;function J(G){var i,K,L;L=c.getClientRects(G);if(o==-1){L=L.reverse();}for(i=0;i<L.length;i++){K=L[i];if(s(K,I)){continue;}if(H.length>0&&r(K,b.last(H))){y++;}K.line=y;if(v(K)){return true;}H.push(K);}}I=b.last(x.getClientRects());if(!I){return H;}G=x.getNode();J(G);k(o,t,J,G);return H;}function l(i,o){return o.line>i;}function m(i,o){return o.line===i;}var u=j(w,-1,h.isAbove,h.isBelow);var n=j(w,1,h.isBelow,h.isAbove);function p(i,r,o,s){var t=new f(r),v,x,y,G,H=[],I=0,J,K;function L(G){if(i==1){return b.last(G.getClientRects());}return b.last(G.getClientRects());}if(i==1){v=t.next;x=h.isBelow;y=h.isAbove;G=g.after(s);}else{v=t.prev;x=h.isAbove;y=h.isBelow;G=g.before(s);}K=L(G);do{if(!G.isVisible()){continue;}J=L(G);if(y(J,K)){continue;}if(H.length>0&&x(J,b.last(H))){I++;}J=h.clone(J);J.position=G;J.line=I;if(o(J)){return H;}H.push(J);}while((G=v(G)));return H;}return{upUntil:u,downUntil:n,positionsUntil:p,isAboveLine:j(l),isLine:j(m)};});C("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(a,b,N,c,d,e,f){var i=N.isContentEditableFalse,g=e.findNode,h=a.curry;function j(r,s){return Math.abs(r.left-s);}function k(r,s){return Math.abs(r.right-s);}function l(r,s){function t(s,u){return s>=u.left&&s<=u.right;}return b.reduce(r,function(u,v){var x,y;x=Math.min(j(u,s),k(u,s));y=Math.min(j(v,s),k(v,s));if(t(s,v)){return v;}if(t(s,u)){return u;}if(y==x&&i(v.node)){return v;}if(y<x){return v;}return u;});}function w(r,s,t,u){while((u=g(u,r,f.isEditableCaretCandidate,s))){if(t(u)){return;}}}function m(r,t){var s=[];function u(v,x){var y;y=b.filter(c.getClientRects(x),function(G){return!v(G,t);});s=s.concat(y);return y.length===0;}s.push(t);w(-1,r,h(u,d.isAbove),t.node);w(1,r,h(u,d.isBelow),t.node);return s;}function n(r){return b.filter(b.toArray(r.getElementsByTagName('*')),i);}function o(r,s){return{node:r.node,before:j(r,s)<k(r,s)};}function p(r,s,t){var u,v;u=c.getClientRects(n(r));u=b.filter(u,function(x){return t>=x.top&&t<=x.bottom;});v=l(u,s);if(v){v=l(m(r,v),s);if(v&&i(v.node)){return o(v,s);}}return null;}return{findClosestClientRect:l,findLineNodeRects:m,closestCaret:p};});C("tinymce/dom/MousePosition",[],function(){var g=function(h){var i,j,w,k;k=h.getBoundingClientRect();i=h.ownerDocument;j=i.documentElement;w=i.defaultView;return{top:k.top+w.pageYOffset-j.clientTop,left:k.left+w.pageXOffset-j.clientLeft};};var a=function(h){return h.inline?g(h.getBody()):{left:0,top:0};};var b=function(h){var i=h.getBody();return h.inline?{left:i.scrollLeft,top:i.scrollTop}:{left:0,top:0};};var c=function(h){var i=h.getBody(),j=h.getDoc().documentElement;var k={left:i.scrollLeft,top:i.scrollTop};var l={left:i.scrollLeft||j.scrollLeft,top:i.scrollTop||j.scrollTop};return h.inline?k:l;};var d=function(h,i){if(i.target.ownerDocument!==h.getDoc()){var j=g(h.getContentAreaContainer());var s=c(h);return{left:i.pageX-j.left+s.left,top:i.pageY-j.top+s.top};}return{left:i.pageX,top:i.pageY};};var e=function(h,s,m){return{pageX:(m.left-h.left)+s.left,pageY:(m.top-h.top)+s.top};};var f=function(h,i){return e(a(h),b(h),d(h,i));};return{calc:f};});C("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(N,a,b,c,d,M){var i=N.isContentEditableFalse,f=N.isContentEditableTrue;var g=function(e,I){return i(I)&&I!==e;};var h=function(e,I,J){if(I===J||e.dom.isChildOf(I,J)){return false;}if(i(I)){return false;}return true;};var j=function(e){var I=e.cloneNode(true);I.removeAttribute('data-mce-selected');return I;};var k=function(e,I,J,K){var L=I.cloneNode(true);e.dom.setStyles(L,{width:J,height:K});e.dom.setAttrib(L,'data-mce-selected',null);var O=e.dom.create('div',{'class':'mce-drag-container','data-mce-bogus':'all',unselectable:'on',contenteditable:'false'});e.dom.setStyles(O,{position:'absolute',opacity:0.5,overflow:'hidden',border:0,padding:0,margin:0,width:J,height:K});e.dom.setStyles(L,{margin:0,boxSizing:'border-box'});O.appendChild(L);return O;};var l=function(e,I){if(e.parentNode!==I){I.appendChild(e);}};var m=function(e,I,J,K,L,O){var P=0,Q=0;e.style.left=I.pageX+'px';e.style.top=I.pageY+'px';if(I.pageX+J>L){P=(I.pageX+J)-L;}if(I.pageY+K>O){Q=(I.pageY+K)-O;}e.style.width=(J-P)+'px';e.style.height=(K-Q)+'px';};var r=function(e){if(e&&e.parentNode){e.parentNode.removeChild(e);}};var n=function(e){return e.button===0;};var o=function(e){return e.element;};var p=function(e,I){return{pageX:I.pageX-e.relX,pageY:I.pageY+5};};var s=function(I,J){return function(e){if(n(e)){var K=a.find(J.dom.getParents(e.target),b.or(i,f));if(g(J.getBody(),K)){var L=J.dom.getPos(K);var O=J.getBody();var P=J.getDoc().documentElement;I.element=K;I.screenX=e.screenX;I.screenY=e.screenY;I.maxX=(J.inline?O.scrollWidth:P.offsetWidth)-2;I.maxY=(J.inline?O.scrollHeight:P.offsetHeight)-2;I.relX=e.pageX-L.x;I.relY=e.pageY-L.y;I.width=K.offsetWidth;I.height=K.offsetHeight;I.ghost=k(J,K,I.width,I.height);}}};};var t=function(I,J){var K=c.throttle(function(e,L){J._selectionOverrides.hideFakeCaret();J.selection.placeCaretAt(e,L);},0);return function(e){var L=Math.max(Math.abs(e.screenX-I.screenX),Math.abs(e.screenY-I.screenY));if(o(I)&&!I.dragging&&L>10){var O=J.fire('dragstart',{target:I.element});if(O.isDefaultPrevented()){return;}I.dragging=true;J.focus();}if(I.dragging){var P=p(I,M.calc(J,e));l(I.ghost,J.getBody());m(I.ghost,P,I.width,I.height,I.maxX,I.maxY);K(e.clientX,e.clientY);}};};var u=function(e){var I=e.getSel().getRangeAt(0);var J=I.startContainer;return J.nodeType===3?J.parentNode:J;};var v=function(I,J){return function(e){if(I.dragging){if(h(J,u(J.selection),I.element)){var K=j(I.element);var L=J.fire('drop',{targetClone:K,clientX:e.clientX,clientY:e.clientY});if(!L.isDefaultPrevented()){K=L.targetClone;J.undoManager.transact(function(){r(I.element);J.insertContent(J.dom.getOuterHTML(K));J._selectionOverrides.hideFakeCaret();});}}}x(I);};};var w=function(e,I){return function(){x(e);if(e.dragging){I.fire('dragend');}};};var x=function(e){e.dragging=false;e.element=null;r(e.ghost);};var y=function(e){var I={},J,K,L,O,P,Q;J=d.DOM;Q=document;K=s(I,e);L=t(I,e);O=v(I,e);P=w(I,e);e.on('mousedown',K);e.on('mousemove',L);e.on('mouseup',O);J.bind(Q,'mousemove',L);J.bind(Q,'mouseup',P);e.on('remove',function(){J.unbind(Q,'mousemove',L);J.unbind(Q,'mouseup',P);});};var G=function(I){I.on('drop',function(e){var J=typeof e.clientX!=='undefined'?I.getDoc().elementFromPoint(e.clientX,e.clientY):null;if(i(J)||i(I.dom.getContentEditableParent(J))){e.preventDefault();}});};var H=function(e){y(e);G(e);};return{init:H};});C("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(a,b,c,d,f,g,L,h,N,R,i,V,j,k,l,m){var n=j.curry,o=N.isContentEditableTrue,p=N.isContentEditableFalse,r=N.isElement,s=f.isAfterContentEditableFalse,t=f.isBeforeContentEditableFalse,u=R.getSelectedNode;function v(w,e){while((e=w(e))){if(e.isVisible()){return e;}}return e;}function S(w){var x=w.getBody(),y=new b(x);var G=n(v,y.next);var H=n(v,y.prev),I=new g(w.getBody(),P),J='sel-'+w.dom.uniqueId(),K,$=w.$;function M(e){return w.dom.hasClass(e,'mce-offscreen-selection');}function O(){var e=w.dom.get(J);return e?e.getElementsByTagName('*')[0]:e;}function P(e){return w.dom.isBlock(e);}function Q(e){if(e){w.selection.setRng(e);}}function T(){return w.selection.getRng();}function U(e,x1){w.selection.scrollIntoView(e,x1);}function W(x1,y1,z1){var e;e=w.fire('ShowCaret',{target:y1,direction:x1,before:z1});if(e.isDefaultPrevented()){return null;}U(y1,x1===-1);return I.show(z1,y1);}function X(x1){var e;e=w.fire('BeforeObjectSelected',{target:x1});if(e.isDefaultPrevented()){return null;}return Y(x1);}function Y(e){var x1=e.ownerDocument.createRange();x1.selectNode(e);return x1;}function Z(e,x1){var y1=f.isInSameBlock(e,x1);if(!y1&&N.isBr(e.getNode())){return true;}return y1;}function _(e,x1){x1=f.normalizeRange(e,x,x1);if(e==-1){return c.fromRangeStart(x1);}return c.fromRangeEnd(x1);}function a1(e){return d.isCaretContainerBlock(e.startContainer);}function b1(e,x1,y1,z1){var A1,B1,C1,D1;if(!z1.collapsed){A1=u(z1);if(p(A1)){return W(e,A1,e==-1);}}D1=a1(z1);B1=_(e,z1);if(y1(B1)){return X(B1.getNode(e==-1));}B1=x1(B1);if(!B1){if(D1){return z1;}return null;}if(y1(B1)){return W(e,B1.getNode(e==-1),e==1);}C1=x1(B1);if(y1(C1)){if(Z(B1,C1)){return W(e,C1.getNode(e==-1),e==1);}}if(D1){return j1(B1.toRange());}return null;}function c1(e,x1,y1){var z1,A1,B1,C1,D1,E1,F1,G1,H1;H1=u(y1);z1=_(e,y1);A1=x1(x,L.isAboveLine(1),z1);B1=k.filter(A1,L.isLine(1));D1=k.last(z1.getClientRects());if(t(z1)){H1=z1.getNode();}if(s(z1)){H1=z1.getNode(true);}if(!D1){return null;}E1=D1.left;C1=h.findClosestClientRect(B1,E1);if(C1){if(p(C1.node)){F1=Math.abs(E1-C1.left);G1=Math.abs(E1-C1.right);return W(e,C1.node,F1<G1);}}if(H1){var I1=L.positionsUntil(e,x,L.isAboveLine(1),H1);C1=h.findClosestClientRect(k.filter(I1,L.isLine(1)),E1);if(C1){return j1(C1.position.toRange());}C1=k.last(k.filter(I1,L.isLine(0)));if(C1){return j1(C1.position.toRange());}}}function d1(e,x1){var y1,z1,A1;function B1(){var C1=w.dom.create(w.settings.forced_root_block);if(!a.ie||a.ie>=11){C1.innerHTML='<br data-mce-bogus="1">';}return C1;}if(x1.collapsed&&w.settings.forced_root_block){y1=w.dom.getParent(x1.startContainer,'PRE');if(!y1){return;}if(e==1){z1=G(c.fromRangeStart(x1));}else{z1=H(c.fromRangeStart(x1));}if(!z1){A1=B1();if(e==1){w.$(y1).after(A1);}else{w.$(y1).before(A1);}w.selection.select(A1,true);w.selection.collapse();}}}function e1(e,x1,y1,z1){var A1;A1=b1(e,x1,y1,z1);if(A1){return A1;}A1=d1(e,z1);if(A1){return A1;}return null;}function f1(e,x1,y1){var z1;z1=c1(e,x1,y1);if(z1){return z1;}z1=d1(e,y1);if(z1){return z1;}return null;}function g1(){return $('*[data-mce-caret]')[0];}function h1(e){if(e.hasAttribute('data-mce-caret')){d.showCaretContainerBlock(e);Q(T());U(e[0]);}}function i1(e){var x1,y1;e=f.normalizeRange(1,x,e);x1=c.fromRangeStart(e);if(p(x1.getNode())){return W(1,x1.getNode(),!x1.isAtEnd());}if(p(x1.getNode(true))){return W(1,x1.getNode(true),false);}y1=w.dom.getParent(x1.getNode(),j.or(p,o));if(p(y1)){return W(1,y1,false);}return null;}function j1(e){var x1;if(!e||!e.collapsed){return e;}x1=i1(e);if(x1){return x1;}return e;}function k1(e){var x1,y1,z1,A1;if(!p(e)){return null;}if(p(e.previousSibling)){z1=e.previousSibling;}y1=H(c.before(e));if(!y1){x1=G(c.after(e));}if(x1&&r(x1.getNode())){A1=x1.getNode();}d.remove(e.previousSibling);d.remove(e.nextSibling);w.dom.remove(e);if(w.dom.isEmpty(w.getBody())){w.setContent('');w.focus();return;}if(z1){return c.after(z1).toRange();}if(A1){return c.before(A1).toRange();}if(y1){return y1.toRange();}if(x1){return x1.toRange();}return null;}function l1(e){var x1=w.schema.getTextBlockElements();return e.nodeName in x1;}function m1(e){return w.dom.isEmpty(e);}function n1(e,x1,y1){var z1=w.dom,A1,B1,C1,D1;A1=z1.getParent(x1.getNode(),z1.isBlock);B1=z1.getParent(y1.getNode(),z1.isBlock);if(e===-1){D1=y1.getNode(true);if(s(y1)&&P(D1)){if(l1(A1)){if(m1(A1)){z1.remove(A1);}return c.after(D1).toRange();}return k1(y1.getNode(true));}}else{D1=x1.getNode();if(t(x1)&&P(D1)){if(l1(B1)){if(m1(B1)){z1.remove(B1);}return c.before(D1).toRange();}return k1(x1.getNode());}}if(A1===B1||!l1(A1)||!l1(B1)){return null;}while((C1=A1.firstChild)){B1.appendChild(C1);}w.dom.remove(A1);return y1.toRange();}function o1(e,x1,y1,z1){var A1,B1,C1,D1;if(!z1.collapsed){A1=u(z1);if(p(A1)){return j1(k1(A1));}}B1=_(e,z1);if(y1(B1)&&d.isCaretContainerBlock(z1.startContainer)){D1=e==-1?y.prev(B1):y.next(B1);return D1?j1(D1.toRange()):z1;}if(x1(B1)){return j1(k1(B1.getNode(e==-1)));}C1=e==-1?y.prev(B1):y.next(B1);if(x1(C1)){if(e===-1){return n1(e,B1,C1);}return n1(e,C1,B1);}}function p1(){var x1=n(e1,1,G,t);var y1=n(e1,-1,H,s);var z1=n(o1,1,t,s);var A1=n(o1,-1,s,t);var up=n(f1,-1,L.upUntil);var C1=n(f1,1,L.downUntil);function D1(e,B1){if(e.isDefaultPrevented()===false){var O1=B1(T());if(O1){e.preventDefault();Q(O1);}}}function E1(e){var B1=w.getBody();while(e&&e!=B1){if(o(e)||p(e)){return e;}e=e.parentNode;}return null;}function F1(e,B1,O1){if(O1.collapsed){return false;}return k.reduce(O1.getClientRects(),function(P1,Q1){return P1||i.containsXY(Q1,e,B1);},false);}w.on('mouseup',function(){var e=T();if(e.collapsed){Q(i1(e));}});w.on('click',function(e){var B1;B1=E1(e.target);if(B1){if(p(B1)){e.preventDefault();w.focus();}if(o(B1)){if(w.dom.isChildOf(B1,w.selection.getNode())){u1();}}}});w.on('blur NewBlock',function(){u1();w1();});function G1(w){var B1=false;w.on('touchstart',function(){B1=false;});w.on('touchmove',function(){B1=true;});w.on('touchend',function(e){var O1=E1(e.target);if(p(O1)){if(!B1){e.preventDefault();t1(X(O1));}}});}var H1=function(e){var y=new b(e);if(!e.firstChild){return false;}var B1=c.before(e.firstChild);var O1=y.next(B1);return O1&&!t(O1)&&!s(O1);};var I1=function(e,B1){var O1=w.dom.getParent(e,w.dom.isBlock);var P1=w.dom.getParent(B1,w.dom.isBlock);return O1===P1;};var J1=function(e){if(e.keyCode>=112&&e.keyCode<=123){return false;}return true;};var K1=function(e,B1){var O1=w.dom.getParent(e,w.dom.isBlock);var P1=w.dom.getParent(B1,w.dom.isBlock);return O1&&!I1(O1,P1)&&H1(O1);};G1(w);w.on('mousedown',function(e){var B1;B1=E1(e.target);if(B1){if(p(B1)){e.preventDefault();t1(X(B1));}else{if(!F1(e.clientX,e.clientY,w.selection.getRng())){w.selection.placeCaretAt(e.clientX,e.clientY);}}}else{u1();w1();var O1=h.closestCaret(x,e.clientX,e.clientY);if(O1){if(!K1(e.target,O1.node)){e.preventDefault();w.getBody().focus();Q(W(1,O1.node,O1.before));}}}});w.on('keydown',function(e){if(V.modifierPressed(e)){return;}switch(e.keyCode){case V.RIGHT:D1(e,x1);break;case V.DOWN:D1(e,C1);break;case V.LEFT:D1(e,y1);break;case V.UP:D1(e,up);break;case V.DELETE:D1(e,z1);break;case V.BACKSPACE:D1(e,A1);break;default:if(p(w.selection.getNode())&&J1(e)){e.preventDefault();}break;}});function L1(){var e,B1=E1(w.selection.getNode());if(o(B1)&&P(B1)&&w.dom.isEmpty(B1)){e=w.dom.create('br',{"data-mce-bogus":"1"});w.$(B1).empty().append(e);w.selection.setRng(c.before(e).toRange());}}function M1(e){var B1=g1();if(!B1){return;}if(e.type=='compositionstart'){e.preventDefault();e.stopPropagation();h1(B1);return;}if(d.hasContent(B1)){h1(B1);}}function N1(e){var B1;switch(e.keyCode){case V.DELETE:B1=L1();break;case V.BACKSPACE:B1=L1();break;}if(B1){e.preventDefault();}}w.on('keyup compositionstart',function(e){M1(e);N1(e);},true);w.on('cut',function(){var e=w.selection.getNode();if(p(e)){l.setEditorTimeout(w,function(){Q(j1(k1(e)));});}});w.on('getSelectionRange',function(e){var B1=e.range;if(K){if(!K.parentNode){K=null;return;}B1=B1.cloneRange();B1.selectNode(K);e.range=B1;}});w.on('setSelectionRange',function(e){var B1;B1=t1(e.range);if(B1){e.range=B1;}});w.on('AfterSetSelectionRange',function(e){var B1=e.range;if(!s1(B1)){w1();}if(!M(B1.startContainer.parentNode)){u1();}});w.on('focus',function(){l.setEditorTimeout(w,function(){w.selection.setRng(j1(w.selection.getRng()));},0);});w.on('copy',function(e){var B1=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!a.ie){var O1=O();if(O1){e.preventDefault();B1.clearData();B1.setData('text/html',O1.outerHTML);B1.setData('text/plain',O1.outerText);}}});m.init(w);}function q1(){var e=w.contentStyles,x1='.mce-content-body';e.push(I.getCss());e.push(x1+' .mce-offscreen-selection {'+'position: absolute;'+'left: -9999999999px;'+'max-width: 1000000px;'+'}'+x1+' *[contentEditable=false] {'+'cursor: default;'+'}'+x1+' *[contentEditable=true] {'+'cursor: text;'+'}');}function r1(e){return(d.isCaretContainer(e)||d.startsWithCaretContainer(e)||d.endsWithCaretContainer(e));}function s1(e){return r1(e.startContainer)||r1(e.endContainer);}function t1(x1){var y1,$=w.$,z1=w.dom,A1,B1,C1,D1,E1,e,F1,G1,H1;if(!x1){return null;}if(x1.collapsed){if(!s1(x1)){F1=_(1,x1);if(p(F1.getNode())){return W(1,F1.getNode(),!F1.isAtEnd());}if(p(F1.getNode(true))){return W(1,F1.getNode(true),false);}}return null;}C1=x1.startContainer;D1=x1.startOffset;E1=x1.endOffset;if(C1.nodeType==3&&D1==0&&p(C1.parentNode)){C1=C1.parentNode;D1=z1.nodeIndex(C1);C1=C1.parentNode;}if(C1.nodeType!=1){return null;}if(E1==D1+1){y1=C1.childNodes[D1];}if(!p(y1)){return null;}G1=H1=y1.cloneNode(true);e=w.fire('ObjectSelected',{target:y1,targetClone:G1});if(e.isDefaultPrevented()){return null;}G1=e.targetClone;A1=$('#'+J);if(A1.length===0){A1=$('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr('id',J);A1.appendTo(w.getBody());}x1=w.dom.createRng();if(G1===H1&&a.ie){A1.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(G1);x1.setStartAfter(A1[0].firstChild.firstChild);x1.setEndAfter(G1);}else{A1.empty().append('\u00a0').append(G1).append('\u00a0');x1.setStart(A1[0].firstChild,1);x1.setEnd(A1[0].lastChild,0);}A1.css({top:z1.getPos(y1,w.getBody()).y});A1[0].focus();B1=w.selection.getSel();B1.removeAllRanges();B1.addRange(x1);w.$('*[data-mce-selected]').removeAttr('data-mce-selected');y1.setAttribute('data-mce-selected',1);K=y1;w1();return x1;}function u1(){if(K){K.removeAttribute('data-mce-selected');w.$('#'+J).remove();K=null;}}function v1(){I.destroy();K=null;}function w1(){I.hide();}if(a.ceFalse){p1();q1();}return{showBlockCaretContainer:h1,hideFakeCaret:w1,destroy:v1};}return S;});C("tinymce/util/Uuid",[],function(){var c=0;var s=function(){var r=function(){return Math.round(Math.random()*0xFFFFFFFF).toString(36);};var n=new Date().getTime();return's'+n.toString(36)+r()+r()+r();};var u=function(p){return p+(c++)+s();};return{uuid:u};});C("tinymce/ui/Sidebar",[],function(){var a=function(e,n,s){var b=e.sidebars?e.sidebars:[];b.push({name:n,settings:s});e.sidebars=b;};return{add:a};});C("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid","tinymce/ui/Sidebar","tinymce/ErrorReporter"],function(c,d,f,N,g,j,S,k,l,U,m,p,r,s,t,v,W,x,y,G,Q,H,T,I,J,M,K,L,O,P,R,V){var X=c.DOM,Y=f.ThemeManager,Z=f.PluginManager;var $=T.extend,_=T.each,a1=T.explode;var b1=T.inArray,c1=T.trim,E=T.resolve;var d1=v.Event;var e1=H.gecko,ie=H.ie;function g1(i,a,e){var b=this,h,n,o;h=b.documentBaseUrl=e.documentBaseURL;n=e.baseURI;o=e.defaultSettings;a=$({id:i,theme:'modern',delta_width:0,delta_height:0,popup_css:'',plugins:'',document_base_url:h,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:'<!DOCTYPE html>',visual:true,font_size_style_values:'xx-small,x-small,small,medium,large,x-large,xx-large',font_size_legacy_values:'xx-small,small,medium,large,x-large,xx-large,300%',forced_root_block:'p',hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:'30px',inline_styles:true,convert_fonts_to_spans:true,indent:'simple',indent_before:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',indent_after:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',validate:true,entity_encoding:'named',url_converter:b.convertURL,url_converter_scope:b,ie7_compat:true},o,a);if(o&&o.external_plugins&&a.external_plugins){a.external_plugins=$({},o.external_plugins,a.external_plugins);}b.settings=a;f.language=a.language||'en';f.languageLoad=a.language_load;f.baseURL=e.baseURL;b.id=a.id=i;b.setDirty(false);b.plugins={};b.documentBaseURI=new s(a.document_base_url||h,{base_uri:n});b.baseURI=n;b.contentCSS=[];b.contentStyles=[];b.shortcuts=new K(b);b.loadedCSS={};b.editorCommands=new r(b);b.suffix=e.suffix;b.editorManager=e;b.inline=a.inline;b.settings.content_editable=b.inline;if(a.cache_suffix){H.cacheSuffix=a.cache_suffix.replace(/^[\?\&]+/,'');}if(a.override_viewport===false){H.overrideViewPort=false;}e.fire('SetupEditor',b);b.execCallback('setup',b);b.$=d.overrideDefaults(function(){return{context:b.inline?b.getBody():b.getDoc(),element:b.getBody()};});}g1.prototype={render:function(){var a=this,b=a.settings,i=a.id,h=a.suffix;function n(){X.unbind(window,'ready',n);a.render();}if(!d1.domLoaded){X.bind(window,'ready',n);return;}if(!a.getElement()){return;}if(!H.contentEditable){return;}if(!b.inline){a.orgVisibility=a.getElement().style.visibility;a.getElement().style.visibility='hidden';}else{a.inline=true;}var o=a.getElement().form||X.getParent(i,'form');if(o){a.formElement=o;if(b.hidden_input&&!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)){X.insertAfter(X.create('input',{type:'hidden',name:i}),i);a.hasHiddenInput=true;}a.formEventDelegate=function(e){a.fire(e.type,e);};X.bind(o,'submit reset',a.formEventDelegate);a.on('reset',function(){a.setContent(a.startContent,{format:'raw'});});if(b.submit_patch&&!o.submit.nodeType&&!o.submit.length&&!o._mceOldSubmit){o._mceOldSubmit=o.submit;o.submit=function(){a.editorManager.triggerSave();a.setDirty(false);return o._mceOldSubmit(o);};}}a.windowManager=new W(a);a.notificationManager=new x(a);if(b.encoding=='xml'){a.on('GetContent',function(e){if(e.save){e.content=X.encode(e.content);}});}if(b.add_form_submit_trigger){a.on('submit',function(){if(a.initialized){a.save();}});}if(b.add_unload_trigger){a._beforeUnload=function(){if(a.initialized&&!a.destroyed&&!a.isHidden()){a.save({format:'raw',no_events:true,set_dirty:false});}};a.editorManager.on('BeforeUnload',a._beforeUnload);}function u(){var e=t.ScriptLoader;if(b.language&&b.language!='en'&&!b.language_url){b.language_url=a.editorManager.baseURL+'/langs/'+b.language+'.js';}if(b.language_url){e.add(b.language_url);}if(b.theme&&typeof b.theme!="function"&&b.theme.charAt(0)!='-'&&!Y.urls[b.theme]){var w=b.theme_url;if(w){w=a.documentBaseURI.toAbsolute(w);}else{w='themes/'+b.theme+'/theme'+h+'.js';}Y.load(b.theme,w);}if(T.isArray(b.plugins)){b.plugins=b.plugins.join(' ');}_(b.external_plugins,function(f1,h1){Z.load(h1,f1);b.plugins+=' '+h1;});_(b.plugins.split(/[ ,]/),function(f1){f1=c1(f1);if(f1&&!Z.urls[f1]){if(f1.charAt(0)=='-'){f1=f1.substr(1,f1.length);var h1=Z.dependencies(f1);_(h1,function(i1){var j1={prefix:'plugins/',resource:i1,suffix:'/plugin'+h+'.js'};i1=Z.createUrl(j1,i1);Z.load(i1.resource,i1);});}else{Z.load(f1,{prefix:'plugins/',resource:f1,suffix:'/plugin'+h+'.js'});}}});e.loadQueue(function(){if(!a.removed){a.init();}},a,function(f1){V.pluginLoadError(a,f1[0]);if(!a.removed){a.init();}});}a.editorManager.add(a);u();},init:function(){var a=this,b=a.settings,f1=a.getElement();var w,h,h1,n,o,i1,j1,k1,l1,re,i,n1=[];a.rtl=b.rtl_ui||a.editorManager.i18n.rtl;a.editorManager.i18n.setCode(b.language);b.aria_label=b.aria_label||X.getAttrib(f1,'aria-label',a.getLang('aria.rich_text_area'));a.fire('ScriptsLoaded');if(b.theme){if(typeof b.theme!="function"){b.theme=b.theme.replace(/-/,'');i1=Y.get(b.theme);a.theme=new i1(a,Y.urls[b.theme]);if(a.theme.init){a.theme.init(a,Y.urls[b.theme]||a.documentBaseUrl.replace(/\/$/,''),a.$);}}else{a.theme=b.theme;}}function o1(u){var m1=Z.get(u),s1,t1;s1=Z.urls[u]||a.documentBaseUrl.replace(/\/$/,'');u=c1(u);if(m1&&b1(n1,u)===-1){_(Z.dependencies(u),function(u1){o1(u1);});if(a.plugins[u]){return;}t1=new m1(a,s1,a.$);a.plugins[u]=t1;if(t1.init){t1.init(a,s1);n1.push(u);}}}_(b.plugins.replace(/\-/g,'').split(/[ ,]/),o1);if(b.render_ui&&a.theme){a.orgDisplay=f1.style.display;if(typeof b.theme!="function"){w=b.width||f1.style.width||f1.offsetWidth;h=b.height||f1.style.height||f1.offsetHeight;h1=b.min_height||100;re=/^[0-9\.]+(|px)$/i;if(re.test(''+w)){w=Math.max(parseInt(w,10),100);}if(re.test(''+h)){h=Math.max(parseInt(h,10),h1);}o=a.theme.renderUI({targetNode:f1,width:w,height:h,deltaWidth:b.delta_width,deltaHeight:b.delta_height});if(!b.content_editable){h=(o.iframeHeight||h)+(typeof h=='number'?(o.deltaHeight||0):'');if(h<h1){h=h1;}}}else{o=b.theme(a,f1);if(o.editorContainer.nodeType){o.editorContainer.id=o.editorContainer.id||a.id+"_parent";}if(o.iframeContainer.nodeType){o.iframeContainer.id=o.iframeContainer.id||a.id+"_iframecontainer";}h=o.iframeHeight||f1.offsetHeight;}a.editorContainer=o.editorContainer;}if(b.content_css){_(a1(b.content_css),function(u){a.contentCSS.push(a.documentBaseURI.toAbsolute(u));});}if(b.content_style){a.contentStyles.push(b.content_style);}if(b.content_editable){f1=n=o=null;return a.initContentBody();}a.iframeHTML=b.doctype+'<html><head>';if(b.document_base_url!=a.documentBaseUrl){a.iframeHTML+='<base href="'+a.documentBaseURI.getURI()+'" />';}if(!H.caretAfter&&b.ie7_compat){a.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />';}a.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!/#$/.test(document.location.href)){for(i=0;i<a.contentCSS.length;i++){var p1=a.contentCSS[i];a.iframeHTML+=('<link type="text/css" '+'rel="stylesheet" '+'href="'+T._addCacheSuffix(p1)+'" />');a.loadedCSS[p1]=true;}}k1=b.body_id||'tinymce';if(k1.indexOf('=')!=-1){k1=a.getParam('body_id','','hash');k1=k1[a.id]||k1;}l1=b.body_class||'';if(l1.indexOf('=')!=-1){l1=a.getParam('body_class','','hash');l1=l1[a.id]||'';}if(b.content_security_policy){a.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+b.content_security_policy+'" />';}a.iframeHTML+='</head><body id="'+k1+'" class="mce-content-body '+l1+'" data-id="'+a.id+'"><br></body></html>';var q1='javascript:(function(){'+'document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+a.id+'");document.write(ed.iframeHTML);'+'document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname){if(H.ie&&H.ie<12){j1=q1;}}var r1=X.create('iframe',{id:a.id+"_ifr",frameBorder:'0',allowTransparency:"true",title:a.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. "+"Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:'100%',height:h,display:'block'}});r1.onload=function(){r1.onload=null;a.fire("load");};X.setAttrib(r1,"src",j1||'javascript:""');a.contentAreaContainer=o.iframeContainer;a.iframeElement=r1;n=X.add(o.iframeContainer,r1);if(ie){try{a.getDoc();}catch(e){n.src=j1=q1;}}if(o.editorContainer){X.get(o.editorContainer).style.display=a.orgDisplay;a.hidden=X.isHidden(o.editorContainer);}a.getElement().style.display='none';X.setAttrib(a.id,'aria-hidden',true);if(!j1){a.initContentBody();}f1=n=o=null;},initContentBody:function(a){var b=this,h=b.settings,n=b.getElement(),o=b.getDoc(),u,w;if(!h.inline){b.getElement().style.visibility=b.orgVisibility;}if(!a&&!h.content_editable){o.open();o.write(b.iframeHTML);o.close();}if(h.content_editable){b.on('remove',function(){var e=this.getBody();X.removeClass(e,'mce-content-body');X.removeClass(e,'mce-edit-focus');X.setAttrib(e,'contentEditable',null);});X.addClass(n,'mce-content-body');b.contentDocument=o=h.content_document||document;b.contentWindow=h.content_window||window;b.bodyElement=n;h.content_document=h.content_window=null;h.root_name=n.nodeName.toLowerCase();}u=b.getBody();u.disabled=true;b.readonly=h.readonly;if(!b.readonly){if(b.inline&&X.getStyle(u,'position',true)=='static'){u.style.position='relative';}u.contentEditable=b.getParam('content_editable_state',true);}u.disabled=false;b.editorUpload=new L(b);b.schema=new y(h);b.dom=new c(o,{keep_values:true,url_converter:b.convertURL,url_converter_scope:b,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:true,root_element:b.inline?b.getBody():null,collect:h.content_editable,schema:b.schema,onSetAttrib:function(e){b.fire('SetAttrib',e);}});b.parser=new G(h,b.schema);b.parser.addAttributeFilter('src,href,style,tabindex',function(e,f1){var i=e.length,h1,i1=b.dom,j1,k1;while(i--){h1=e[i];j1=h1.attr(f1);k1='data-mce-'+f1;if(!h1.attributes.map[k1]){if(j1.indexOf('data:')===0||j1.indexOf('blob:')===0){continue;}if(f1==="style"){j1=i1.serializeStyle(i1.parseStyle(j1),h1.name);if(!j1.length){j1=null;}h1.attr(k1,j1);h1.attr(f1,j1);}else if(f1==="tabindex"){h1.attr(k1,j1);h1.attr(f1,null);}else{h1.attr(k1,b.convertURL(j1,f1,h1.name));}}}});b.parser.addNodeFilter('script',function(e){var i=e.length,f1,h1;while(i--){f1=e[i];h1=f1.attr('type')||'no/type';if(h1.indexOf('mce-')!==0){f1.attr('type','mce-'+h1);}}});b.parser.addNodeFilter('#cdata',function(e){var i=e.length,f1;while(i--){f1=e[i];f1.type=8;f1.name='#comment';f1.value='[CDATA['+f1.value+']]';}});b.parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div',function(e){var i=e.length,f1,h1=b.schema.getNonEmptyElements();while(i--){f1=e[i];if(f1.isEmpty(h1)&&f1.getAll('br').length===0){f1.append(new g('br',1)).shortEnded=true;}}});b.serializer=new j(h,b);b.selection=new k(b.dom,b.getWin(),b.serializer,b);b.formatter=new l(b);b.undoManager=new U(b);b.forceBlocks=new p(b);b.enterKey=new m(b);b._nodeChangeDispatcher=new N(b);b._selectionOverrides=new O(b);b.fire('PreInit');if(!h.browser_spellcheck&&!h.gecko_spellcheck){o.body.spellcheck=false;X.setAttrib(u,"spellcheck","false");}b.quirks=new Q(b);b.fire('PostRender');if(h.directionality){u.dir=h.directionality;}if(h.nowrap){u.style.whiteSpace="nowrap";}if(h.protect){b.on('BeforeSetContent',function(e){_(h.protect,function(i){e.content=e.content.replace(i,function(f1){return'<!--mce:protected '+escape(f1)+'-->';});});});}b.on('SetContent',function(){b.addVisual(b.getBody());});if(h.padd_empty_editor){b.on('PostProcess',function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,'');});}b.load({initial:true,format:'html'});b.startContent=b.getContent({format:'raw'});b.initialized=true;b.bindPendingEventDelegates();b.fire('init');b.focus(true);b.nodeChanged({initial:true});b.execCallback('init_instance_callback',b);b.on('compositionstart compositionend',function(e){b.composing=e.type==='compositionstart';});if(b.contentStyles.length>0){w='';_(b.contentStyles,function(e){w+=e+"\r\n";});b.dom.addStyle(w);}_(b.contentCSS,function(e){if(!b.loadedCSS[e]){b.dom.loadCSS(e);b.loadedCSS[e]=true;}});if(h.auto_focus){I.setEditorTimeout(b,function(){var e;if(h.auto_focus===true){e=b;}else{e=b.editorManager.get(h.auto_focus);}if(!e.destroyed){e.focus();}},100);}n=o=u=null;},focus:function(a){var b=this,e=b.selection,h=b.settings.content_editable,i;var n,o=b.getDoc(),u=b.getBody(),w;function f1(h1){return b.dom.getParent(h1,function(h1){return b.dom.getContentEditable(h1)==="true";});}if(!a){i=e.getRng();if(i.item){n=i.item(0);}b.quirks.refreshContentEditable();w=f1(e.getNode());if(b.$.contains(u,w)){w.focus();e.normalize();b.editorManager.setActive(b);return;}if(!h){if(!H.opera){b.getBody().focus();}b.getWin().focus();}if(e1||h){if(u.setActive){try{u.setActive();}catch(ex){u.focus();}}else{u.focus();}if(h){e.normalize();}}if(n&&n.ownerDocument==o){i=o.body.createControlRange();i.addElement(n);i.select();}}b.editorManager.setActive(b);},execCallback:function(n){var a=this,b=a.settings[n],e;if(!b){return;}if(a.callbackLookup&&(e=a.callbackLookup[n])){b=e.func;e=e.scope;}if(typeof b==='string'){e=b.replace(/\.\w+$/,'');e=e?E(e):0;b=E(b);a.callbackLookup=a.callbackLookup||{};a.callbackLookup[n]={func:b,scope:e};}return b.apply(e||a,Array.prototype.slice.call(arguments,1));},translate:function(e){var h=this.settings.language||'en',i=this.editorManager.i18n;if(!e){return'';}e=i.data[h+'.'+e]||e.replace(/\{\#([^\}]+)\}/g,function(a,b){return i.data[h+'.'+b]||'{#'+b+'}';});return this.editorManager.translate(e);},getLang:function(n,a){return(this.editorManager.i18n.data[(this.settings.language||'en')+'.'+n]||(a!==z?a:'{#'+n+'}'));},getParam:function(n,a,b){var e=n in this.settings?this.settings[n]:a,o;if(b==='hash'){o={};if(typeof e==='string'){_(e.indexOf('=')>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(','),function(e){e=e.split('=');if(e.length>1){o[c1(e[0])]=c1(e[1]);}else{o[c1(e[0])]=c1(e);}});}else{o=e;}return o;}return e;},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a);},addButton:function(n,a){var b=this;if(a.cmd){a.onclick=function(){b.execCommand(a.cmd);};}if(!a.text&&!a.icon){a.icon=n;}b.buttons=b.buttons||{};a.tooltip=a.tooltip||a.title;b.buttons[n]=a;},addSidebar:function(n,a){return R.add(this,n,a);},addMenuItem:function(n,a){var b=this;if(a.cmd){a.onclick=function(){b.execCommand(a.cmd);};}b.menuItems=b.menuItems||{};b.menuItems[n]=a;},addContextToolbar:function(a,i){var b=this,e;b.contextToolbars=b.contextToolbars||[];if(typeof a=="string"){e=a;a=function(h){return b.dom.is(h,e);};}b.contextToolbars.push({id:P.uuid('mcet'),predicate:a,items:i});},addCommand:function(n,a,b){this.editorCommands.addCommand(n,a,b);},addQueryStateHandler:function(n,a,b){this.editorCommands.addQueryStateHandler(n,a,b);},addQueryValueHandler:function(n,a,b){this.editorCommands.addQueryValueHandler(n,a,b);},addShortcut:function(a,b,e,h){this.shortcuts.add(a,b,e,h);},execCommand:function(a,u,b,e){return this.editorCommands.execCommand(a,u,b,e);},queryCommandState:function(a){return this.editorCommands.queryCommandState(a);},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a);},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a);},show:function(){var a=this;if(a.hidden){a.hidden=false;if(a.inline){a.getBody().contentEditable=true;}else{X.show(a.getContainer());X.hide(a.id);}a.load();a.fire('show');}},hide:function(){var a=this,b=a.getDoc();if(!a.hidden){if(ie&&b&&!a.inline){b.execCommand('SelectAll');}a.save();if(a.inline){a.getBody().contentEditable=false;if(a==a.editorManager.focusedEditor){a.editorManager.focusedEditor=null;}}else{X.hide(a.getContainer());X.setStyle(a.id,'display',a.orgDisplay);}a.hidden=true;a.fire('hide');}},isHidden:function(){return!!this.hidden;},setProgressState:function(a,b){this.fire('ProgressState',{state:a,time:b});},load:function(a){var b=this,e=b.getElement(),h;if(e){a=a||{};a.load=true;h=b.setContent(e.value!==z?e.value:e.innerHTML,a);a.element=e;if(!a.no_events){b.fire('LoadContent',a);}a.element=e=null;return h;}},save:function(a){var b=this,e=b.getElement(),h,i;if(!e||!b.initialized){return;}a=a||{};a.save=true;a.element=e;h=a.content=b.getContent(a);if(!a.no_events){b.fire('SaveContent',a);}if(a.format=='raw'){b.fire('RawSaveContent',a);}h=a.content;if(!/TEXTAREA|INPUT/i.test(e.nodeName)){if(!b.inline){e.innerHTML=h;}if((i=X.getParent(b.id,'form'))){_(i.elements,function(e){if(e.name==b.id){e.value=h;return false;}});}}else{e.value=h;}a.element=e=null;if(a.set_dirty!==false){b.setDirty(false);}return h;},setContent:function(a,b){var e=this,h=e.getBody(),i,n;b=b||{};b.format=b.format||'html';b.set=true;b.content=a;if(!b.no_events){e.fire('BeforeSetContent',b);}a=b.content;if(a.length===0||/^\s+$/.test(a)){n=ie&&ie<11?'':'<br data-mce-bogus="1">';if(h.nodeName=='TABLE'){a='<tr><td>'+n+'</td></tr>';}else if(/^(UL|OL)$/.test(h.nodeName)){a='<li>'+n+'</li>';}i=e.settings.forced_root_block;if(i&&e.schema.isValidChild(h.nodeName.toLowerCase(),i.toLowerCase())){a=n;a=e.dom.createHTML(i,e.settings.forced_root_block_attrs,a);}else if(!ie&&!a){a='<br data-mce-bogus="1">';}e.dom.setHTML(h,a);e.fire('SetContent',b);}else{if(b.format!=='raw'){a=new S({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:true}));}b.content=c1(a);e.dom.setHTML(h,b.content);if(!b.no_events){e.fire('SetContent',b);}}return b.content;},getContent:function(a){var b=this,e,h=b.getBody();a=a||{};a.format=a.format||'html';a.get=true;a.getInner=true;if(!a.no_events){b.fire('BeforeGetContent',a);}if(a.format=='raw'){e=T.trim(b.serializer.getTrimmedContent());}else if(a.format=='text'){e=h.innerText||h.textContent;}else{e=b.serializer.serialize(h,a);}if(a.format!='text'){a.content=c1(e);}else{a.content=e;}if(!a.no_events){b.fire('GetContent',a);}return a.content;},insertContent:function(a,b){if(b){a=$({content:a},b);}this.execCommand('mceInsertContent',false,a);},isDirty:function(){return!this.isNotDirty;},setDirty:function(a){var o=!this.isNotDirty;this.isNotDirty=!a;if(a&&a!=o){this.fire('dirty');}},setMode:function(a){M.setMode(this,a);},getContainer:function(){var a=this;if(!a.container){a.container=X.get(a.editorContainer||a.id+'_parent');}return a.container;},getContentAreaContainer:function(){return this.contentAreaContainer;},getElement:function(){if(!this.targetElm){this.targetElm=X.get(this.id);}return this.targetElm;},getWin:function(){var a=this,e;if(!a.contentWindow){e=a.iframeElement;if(e){a.contentWindow=e.contentWindow;}}return a.contentWindow;},getDoc:function(){var a=this,w;if(!a.contentDocument){w=a.getWin();if(w){a.contentDocument=w.document;}}return a.contentDocument;},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null);},convertURL:function(u,n,e){var a=this,b=a.settings;if(b.urlconverter_callback){return a.execCallback('urlconverter_callback',u,e,true,n);}if(!b.convert_urls||(e&&e.nodeName=='LINK')||u.indexOf('file:')===0||u.length===0){return u;}if(b.relative_urls){return a.documentBaseURI.toRelative(u);}u=a.documentBaseURI.toAbsolute(u,b.remove_script_host);return u;},addVisual:function(e){var a=this,b=a.settings,h=a.dom,i;e=e||a.getBody();if(a.hasVisual===z){a.hasVisual=b.visual;}_(h.select('table,a',e),function(e){var n;switch(e.nodeName){case'TABLE':i=b.visual_table_class||'mce-item-table';n=h.getAttrib(e,'border');if((!n||n=='0')&&a.hasVisual){h.addClass(e,i);}else{h.removeClass(e,i);}return;case'A':if(!h.getAttrib(e,'href',false)){n=h.getAttrib(e,'name')||e.id;i=b.visual_anchor_class||'mce-item-anchor';if(n&&a.hasVisual){h.addClass(e,i);}else{h.removeClass(e,i);}}return;}});a.fire('VisualAid',{element:e,hasVisual:a.hasVisual});},remove:function(){var a=this;if(!a.removed){a.save();a.removed=1;a.unbindAllNativeEvents();if(a.hasHiddenInput){X.remove(a.getElement().nextSibling);}if(!a.inline){if(ie&&ie<10){a.getDoc().execCommand('SelectAll',false,null);}X.setStyle(a.id,'display',a.orgDisplay);a.getBody().onload=null;}a.fire('remove');a.editorManager.remove(a);X.remove(a.getContainer());a._selectionOverrides.destroy();a.editorUpload.destroy();a.destroy();}},destroy:function(a){var b=this,e;if(b.destroyed){return;}if(!a&&!b.removed){b.remove();return;}if(!a){b.editorManager.off('beforeunload',b._beforeUnload);if(b.theme&&b.theme.destroy){b.theme.destroy();}b.selection.destroy();b.dom.destroy();}e=b.formElement;if(e){if(e._mceOldSubmit){e.submit=e._mceOldSubmit;e._mceOldSubmit=null;}X.unbind(e,'submit reset',b.formEventDelegate);}b.contentAreaContainer=b.formElement=b.container=b.editorContainer=null;b.bodyElement=b.contentDocument=b.contentWindow=null;b.iframeElement=b.targetElm=null;if(b.selection){b.selection=b.selection.win=b.selection.dom=b.selection.dom.doc=null;}b.destroyed=1;},uploadImages:function(a){return this.editorUpload.uploadImages(a);},_scanForImages:function(){return this.editorUpload.scanForImages();}};$(g1.prototype,J);return g1;});C("tinymce/util/I18n",["tinymce/util/Tools"],function(T){"use strict";var d={},c="en";return{setCode:function(n){if(n){c=n;this.rtl=this.data[n]?this.data[n]._dir==='rtl':false;}},getCode:function(){return c;},rtl:false,add:function(c,i){var l=d[c];if(!l){d[c]=l={};}for(var n in i){l[n]=i[n];}this.setCode(c);},translate:function(t){var l=d[c]||{};function a(o){if(T.is(o,'function')){return Object.prototype.toString.call(o);}return!i(o)?''+o:'';}function i(t){return t===''||t===null||T.is(t,'undefined');}function g(t){t=a(t);return T.hasOwn(l,t)?a(l[t]):t;}if(i(t)){return'';}if(T.is(t,'object')&&T.hasOwn(t,'raw')){return a(t.raw);}if(T.is(t,'array')){var v=t.slice(1);t=g(t[0]).replace(/\{([0-9]+)\}/g,function($,b){return T.hasOwn(v,b)?a(v[b]):$;});}return g(t).replace(/{context:\w+}$/,'');},data:d};});C("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(a,b,c){var s,d,f,g=a.DOM;var i=function(e,j){var k=e?e.settings.custom_ui_selector:'';var p=g.getParent(j,function(j){return(h.isEditorUIElement(j)||(k?e.dom.is(j,k):false));});return p!==null;};function h(j){function k(){try{return document.activeElement;}catch(e){return document.body;}}function l(e,n){if(n&&n.startContainer){if(!e.isChildOf(n.startContainer,e.getRoot())||!e.isChildOf(n.endContainer,e.getRoot())){return;}return{startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};}return n;}function m(e,n){var o;if(n.startContainer){o=e.getDoc().createRange();o.setStart(n.startContainer,n.startOffset);o.setEnd(n.endContainer,n.endOffset);}else{o=n;}return o;}function r(e){var n=e.editor;n.on('init',function(){if(n.inline||c.ie){if("onbeforedeactivate"in document&&c.ie<9){n.dom.bind(n.getBody(),'beforedeactivate',function(e){if(e.target!=n.getBody()){return;}try{n.lastRng=n.selection.getRng();}catch(o){}});}else{n.on('nodechange mouseup keyup',function(e){var o=k();if(e.type=='nodechange'&&e.selectionChange){return;}if(o&&o.id==n.id+'_ifr'){o=n.getBody();}if(n.dom.isChildOf(o,n.getBody())){n.lastRng=n.selection.getRng();}});}if(c.webkit&&!s){s=function(){var o=j.activeEditor;if(o&&o.selection){var p=o.selection.getRng();if(p&&!p.collapsed){n.lastRng=p;}}};g.bind(document,'selectionchange',s);}}});n.on('setcontent',function(){n.lastRng=null;});n.on('mousedown',function(){n.selection.lastFocusBookmark=null;});n.on('focusin',function(){var o=j.focusedEditor,p;if(n.selection.lastFocusBookmark){p=m(n,n.selection.lastFocusBookmark);n.selection.lastFocusBookmark=null;n.selection.setRng(p);}if(o!=n){if(o){o.fire('blur',{focusedEditor:n});}j.setActive(n);j.focusedEditor=n;n.fire('focus',{blurredEditor:o});n.focus(true);}n.lastRng=null;});n.on('focusout',function(){b.setEditorTimeout(n,function(){var o=j.focusedEditor;if(!i(n,k())&&o==n){n.fire('blur',{focusedEditor:null});j.focusedEditor=null;if(n.selection){n.selection.lastFocusBookmark=null;}}});});if(!d){d=function(e){var o=j.activeEditor,t;t=e.target;if(o&&t.ownerDocument==document){if(o.selection&&t!=o.getBody()){o.selection.lastFocusBookmark=l(o.dom,o.lastRng);}if(t!=document.body&&!i(o,t)&&j.focusedEditor==o){o.fire('blur',{focusedEditor:null});j.focusedEditor=null;}}};g.bind(document,'focusin',d);}if(n.inline&&!f){f=function(e){var o=j.activeEditor,p=o.dom;if(o.inline&&p&&!p.isChildOf(e.target,o.getBody())){var t=o.selection.getRng();if(!t.collapsed){o.lastRng=t;}}};g.bind(document,'mouseup',f);}}function u(e){if(j.focusedEditor==e.editor){j.focusedEditor=null;}if(!j.activeEditor){g.unbind(document,'selectionchange',s);g.unbind(document,'focusin',d);g.unbind(document,'mouseup',f);s=d=f=null;}}j.on('AddEditor',r);j.on('RemoveEditor',u);}h.isEditorUIElement=function(e){return e.className.toString().indexOf('mce-')!==-1;};h._isUIElement=i;return h;});C("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager","tinymce/AddOnManager"],function(a,$,b,U,c,T,P,O,I,d,g){var h=b.DOM;var j=T.explode,k=T.each,m=T.extend;var n=0,o,p,r=false;function s(e){k(p.editors,function(f){if(e.type==='scroll'){f.fire('ScrollWindow',e);}else{f.fire('ResizeWindow',e);}});}function t(e,f){if(f!==r){if(f){$(window).on('resize scroll',s);}else{$(window).off('resize scroll',s);}r=f;}}function u(e){var f=p.editors,l;delete f[e.id];for(var i=0;i<f.length;i++){if(f[i]==e){f.splice(i,1);l=true;break;}}if(p.activeEditor==e){p.activeEditor=f[0];}if(p.focusedEditor==e){p.focusedEditor=null;}return l;}function v(e){if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){u(e);e.unbindAllNativeEvents();e.destroy(true);e.removed=true;e=null;}return e;}p={$:$,majorVersion:'4',minorVersion:'5.7',releaseDate:'2017-04-25',editors:[],i18n:I,activeEditor:null,setup:function(){var e=this,f,l,w="",x,y;l=U.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(l)){l=l.replace(/[\?#].*$/,'').replace(/[\/\\][^\/]+$/,'');if(!/[\/\\]$/.test(l)){l+='/';}}x=window.tinymce||window.tinyMCEPreInit;if(x){f=x.base||x.baseURL;w=x.suffix;}else{var G=document.getElementsByTagName('script');for(var i=0;i<G.length;i++){y=G[i].src;var H=y.substring(y.lastIndexOf('/'));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){if(H.indexOf('.min')!=-1){w='.min';}f=y.substring(0,y.lastIndexOf('/'));break;}}if(!f&&document.currentScript){y=document.currentScript.src;if(y.indexOf('.min')!=-1){w='.min';}f=y.substring(0,y.lastIndexOf('/'));}}e.baseURL=new U(l).toAbsolute(f);e.documentBaseURL=l;e.baseURI=new U(e.baseURL);e.suffix=w;e.focusManager=new d(e);},overrideDefaults:function(e){var f,i;f=e.base_url;if(f){this.baseURL=new U(this.documentBaseURL).toAbsolute(f.replace(/\/+$/,''));this.baseURI=new U(this.baseURL);}i=e.suffix;if(e.suffix){this.suffix=i;}this.defaultSettings=e;var l=e.plugin_base_urls;for(var w in l){g.PluginManager.urls[w]=l[w];}},init:function(i){var w=this,x,y;y=T.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track '+'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu',' ');function G(i,e){return i.inline&&e.tagName.toLowerCase()in y;}function H(e,f){if(window.console&&!window.test){window.console.log(e,f);}}function J(e){var f=e.id;if(!f){f=e.name;if(f&&!h.get(f)){f=e.name;}else{f=h.uniqueId();}e.setAttribute('id',f);}return f;}function K(e){var f=i[e];if(!f){return;}return f.apply(w,Array.prototype.slice.call(arguments,2));}function L(e,f){return f.constructor===RegExp?f.test(e.className):h.hasClass(e,f);}function M(i){var l,R=[];if(i.types){k(i.types,function(e){R=R.concat(h.select(e.selector));});return R;}else if(i.selector){return h.select(i.selector);}else if(i.target){return[i.target];}switch(i.mode){case"exact":l=i.elements||'';if(l.length>0){k(j(l),function(S){var V;if((V=h.get(S))){R.push(V);}else{k(document.forms,function(f){k(f.elements,function(e){if(e.name===S){S='mce_editor_'+n++;h.setAttrib(e,'id',S);R.push(e);}});});}});}break;case"textareas":case"specific_textareas":k(h.select('textarea'),function(e){if(i.editor_deselector&&L(e,i.editor_deselector)){return;}if(!i.editor_selector||L(e,i.editor_selector)){R.push(e);}});break;}return R;}var N=function(e){x=e;};function Q(){var e=0,f=[],l;function R(S,i,V){var W=new a(S,i,w);f.push(W);W.on('init',function(){if(++e===l.length){N(f);}});W.targetElm=W.targetElm||V;W.render();}h.unbind(window,'ready',Q);K('onpageload');l=$.unique(M(i));if(i.types){k(i.types,function(S){T.each(l,function(V){if(h.is(V,S.selector)){R(J(V),m({},i,S),V);return false;}return true;});});return;}T.each(l,function(S){v(w.get(S.id));});l=T.grep(l,function(S){return!w.get(S.id);});k(l,function(S){if(G(i,S)){H('Could not initialize inline editor on invalid inline target element',S);}else{R(J(S),i,S);}});}w.settings=i;h.bind(window,'ready',Q);return new P(function(E){if(x){E(x);}else{N=function(e){E(e);};}});},get:function(i){if(!arguments.length){return this.editors;}return i in this.editors?this.editors[i]:null;},add:function(e){var f=this,i=f.editors;i[e.id]=e;i.push(e);t(i,true);f.activeEditor=e;f.fire('AddEditor',{editor:e});if(!o){o=function(){f.fire('BeforeUnload');};h.bind(window,'beforeunload',o);}return e;},createEditor:function(i,e){return this.add(new a(i,e,this));},remove:function(e){var f=this,i,l=f.editors,w;if(!e){for(i=l.length-1;i>=0;i--){f.remove(l[i]);}return;}if(typeof e=="string"){e=e.selector||e;k(h.select(e),function(x){w=l[x.id];if(w){f.remove(w);}});return;}w=e;if(!l[w.id]){return null;}if(u(w)){f.fire('RemoveEditor',{editor:w});}if(!l.length){h.unbind(window,'beforeunload',o);}w.remove();t(l,l.length>0);return w;},execCommand:function(e,f,i){var l=this,w=l.get(i);switch(e){case"mceAddEditor":if(!l.get(i)){new a(i,l.settings,l).render();}return true;case"mceRemoveEditor":if(w){w.remove();}return true;case'mceToggleEditor':if(!w){l.execCommand('mceAddEditor',0,i);return true;}if(w.isHidden()){w.show();}else{w.hide();}return true;}if(l.activeEditor){return l.activeEditor.execCommand(e,f,i);}return false;},triggerSave:function(){k(this.editors,function(e){e.save();});},addI18n:function(e,i){I.add(e,i);},translate:function(e){return I.translate(e);},setActive:function(e){var f=this.activeEditor;if(this.activeEditor!=e){if(f){f.fire('deactivate',{relatedTarget:e});}e.fire('activate',{relatedTarget:f});}this.activeEditor=e;}};m(p,O);p.setup();window.tinymce=window.tinyMCE=p;return p;});C("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(a,T){var b=T.each,c=T.explode;a.on('AddEditor',function(e){var d=e.editor;d.on('preInit',function(){var f,g,h,s=d.settings;function r(n,j){b(j,function(v,k){if(v){h.setStyle(n,k,v);}});h.rename(n,'span');}function i(e){h=d.dom;if(s.convert_fonts_to_spans){b(h.select('font,u,strike',e.node),function(n){f[n.nodeName.toLowerCase()](h,n);});}}if(s.inline_styles){g=c(s.font_size_legacy_values);f={font:function(h,n){r(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:g[parseInt(n.size,10)-1]});},u:function(h,n){if(d.settings.schema==="html4"){r(n,{textDecoration:'underline'});}},strike:function(h,n){r(n,{textDecoration:'line-through'});}};d.on('PreProcess SetContent',i);}});});});C("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(O,T){var X={send:function(s){var x,c=0;function r(){if(!s.async||x.readyState==4||c++>10000){if(s.success&&c<10000&&x.status==200){s.success.call(s.success_scope,''+x.responseText,x,s);}else if(s.error){s.error.call(s.error_scope,c>10000?'TIMED_OUT':'GENERAL',x,s);}x=null;}else{setTimeout(r,10);}}s.scope=s.scope||this;s.success_scope=s.success_scope||s.scope;s.error_scope=s.error_scope||s.scope;s.async=s.async===false?false:true;s.data=s.data||'';X.fire('beforeInitialize',{settings:s});x=new XMLHttpRequest();if(x){if(x.overrideMimeType){x.overrideMimeType(s.content_type);}x.open(s.type||(s.data?'POST':'GET'),s.url,s.async);if(s.crossDomain){x.withCredentials=true;}if(s.content_type){x.setRequestHeader('Content-Type',s.content_type);}if(s.requestheaders){T.each(s.requestheaders,function(h){x.setRequestHeader(h.key,h.value);});}x.setRequestHeader('X-Requested-With','XMLHttpRequest');x=X.fire('beforeSend',{xhr:x,settings:s}).xhr;x.send(s.data);if(!s.async){return r();}setTimeout(r,10);}}};T.extend(X,O);return X;});C("tinymce/util/JSON",[],function(){function s(o,c){var i,v,t,n;c=c||'"';if(o===null){return'null';}t=typeof o;if(t=='string'){v='\bb\tt\nn\ff\rr\""\'\'\\\\';return c+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){if(c==='"'&&a==="'"){return a;}i=v.indexOf(b);if(i+1){return'\\'+v.charAt(i+1);}a=b.charCodeAt().toString(16);return'\\u'+'0000'.substring(a.length)+a;})+c;}if(t=='object'){if(o.hasOwnProperty&&Object.prototype.toString.call(o)==='[object Array]'){for(i=0,v='[';i<o.length;i++){v+=(i>0?',':'')+s(o[i],c);}return v+']';}v='{';for(n in o){if(o.hasOwnProperty(n)){v+=typeof o[n]!='function'?(v.length>1?','+c:c)+n+c+':'+s(o[n],c):'';}}return v+'}';}return''+o;}return{serialize:s,parse:function(t){try{return window[String.fromCharCode(101)+'val']('('+t+')');}catch(e){}}};});C("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(J,X,T){var e=T.extend;function a(s){this.settings=e({},s);this.count=0;}a.sendRPC=function(o){return new a().send(o);};a.prototype={send:function(b){var d=b.error,s=b.success;b=e(this.settings,b);b.success=function(c,x){c=J.parse(c);if(typeof c=='undefined'){c={error:'JSON Parse error.'};}if(c.error){d.call(b.error_scope||b.scope,c.error,x);}else{s.call(b.success_scope||b.scope,c.result);}};b.error=function(t,x){if(d){d.call(b.error_scope||b.scope,t,x);}};b.data=J.serialize({id:b.id||'c'+(this.count++),method:b.method,params:b.params});b.content_type='application/json';X.send(b);}};return a;});C("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(a){return{callbacks:{},count:0,send:function(s){var b=this,d=a.DOM,c=s.count!==z?s.count:b.count;var i='tinymce_jsonp_'+c;b.callbacks[c]=function(j){d.remove(i);delete b.callbacks[c];s.callback(j);};d.add(d.doc.body,'script',{id:i,src:s.url,type:'text/javascript'});b.count++;}};});C("tinymce/util/LocalStorage",[],function(){var L,s,i,k,u,h;try{if(window.localStorage){return localStorage;}}catch(e){}u="tinymce";s=document.documentElement;h=!!s.addBehavior;if(h){s.addBehavior('#default#userData');}function a(){k=[];for(var c in i){k.push(c);}L.length=k.length;}function l(){var c,d,v,p=0;i={};if(!h){return;}function n(f){var v,g;g=f!==z?p+f:d.indexOf(',',p);if(g===-1||g>d.length){return null;}v=d.substring(p,g);p=g+1;return v;}s.load(u);d=s.getAttribute(u)||'';do{var o=n();if(o===null){break;}c=n(parseInt(o,32)||0);if(c!==null){o=n();if(o===null){break;}v=n(parseInt(o,32)||0);if(c){i[c]=v;}}}while(c!==null);a();}function b(){var v,d='';if(!h){return;}for(var c in i){v=i[c];d+=(d?',':'')+c.length.toString(32)+','+c+','+v.length.toString(32)+','+v;}s.setAttribute(u,d);try{s.save(u);}catch(e){}a();}L={key:function(c){return k[c];},getItem:function(c){return c in i?i[c]:null;},setItem:function(c,v){i[c]=""+v;b();},removeItem:function(c){delete i[c];b();},clear:function(){i={};b();}};l();return L;});C("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(a,b,S,c,T,d){var t=window.tinymce;t.DOM=a.DOM;t.ScriptLoader=S.ScriptLoader;t.PluginManager=c.PluginManager;t.ThemeManager=c.ThemeManager;t.dom=t.dom||{};t.dom.Event=b.Event;T.each('trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix'.split(' '),function(k){t[k]=T[k];});T.each('isOpera isWebKit isIE isGecko isMac'.split(' '),function(n){t[n]=d[n.substr(2).toLowerCase()];});return{};});C("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(a,T){"use strict";return a.extend({Defaults:{firstControlClass:'first',lastControlClass:'last'},init:function(s){this.settings=T.extend({},this.Defaults,s);},preRender:function(c){c.bodyClasses.add(this.settings.containerClass);},applyClasses:function(i){var s=this,b=s.settings,f,l,c,d;f=b.firstControlClass;l=b.lastControlClass;i.each(function(e){e.classes.remove(f).remove(l).add(b.controlClass);if(e.visible()){if(!c){c=e;}d=e;}});if(c){c.classes.add(f);}if(d){d.classes.add(l);}},renderHtml:function(c){var s=this,h='';s.applyClasses(c.items());c.items().each(function(i){h+=i.renderHtml();});return h;},recalc:function(){},postRender:function(){},isNative:function(){return false;}});});C("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(L){"use strict";return L.extend({Defaults:{containerClass:'abs-layout',controlClass:'abs-layout-item'},recalc:function(c){c.items().filter(':visible').each(function(a){var s=a.settings;a.layoutRect({x:s.x,y:s.y,w:s.w,h:s.h});if(a.recalc){a.recalc();}});},renderHtml:function(c){return'<div id="'+c._id+'-absend" class="'+c.classPrefix+'abs-end"></div>'+this._super(c);}});});C("tinymce/ui/Button",["tinymce/ui/Widget"],function(W){"use strict";return W.extend({Defaults:{classes:"widget btn",role:"button"},init:function(s){var a=this,b;a._super(s);s=a.settings;b=a.settings.size;a.on('click mousedown',function(e){e.preventDefault();});a.on('touchstart',function(e){a.fire('click',e);e.preventDefault();});if(s.subtype){a.classes.add(s.subtype);}if(b){a.classes.add('btn-'+b);}if(s.icon){a.icon(s.icon);}},icon:function(i){if(!arguments.length){return this.state.get('icon');}this.state.set('icon',i);return this;},repaint:function(){var b=this.getEl().firstChild,a;if(b){a=b.style;a.width=a.height="100%";}this._super();},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix;var a=s.state.get('icon'),b,t=s.state.get('text'),c='';b=s.settings.image;if(b){a='none';if(typeof b!="string"){b=window.getSelection?b[0]:b[1];}b=' style="background-image: url(\''+b+'\')"';}else{b='';}if(t){s.classes.add('btn-has-text');c='<span class="'+p+'txt">'+s.encode(t)+'</span>';}a=a?p+'ico '+p+'i-'+a:'';return('<div id="'+i+'" class="'+s.classes+'" tabindex="-1" aria-labelledby="'+i+'">'+'<button role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+'></i>':'')+c+'</button>'+'</div>');},bindStates:function(){var s=this,$=s.$,t=s.classPrefix+'txt';function a(b){var c=$('span.'+t,s.getEl());if(b){if(!c[0]){$('button:first',s.getEl()).append('<span class="'+t+'"></span>');c=$('span.'+t,s.getEl());}c.html(s.encode(b));}else{c.remove();}s.classes.toggle('btn-has-text',!!b);}s.state.on('change:text',function(e){a(e.value);});s.state.on('change:icon',function(e){var i=e.value,p=s.classPrefix;s.settings.icon=i;i=i?p+'ico '+p+'i-'+s.settings.icon:'';var b=s.getEl().firstChild,c=b.getElementsByTagName('i')[0];if(i){if(!c||c!=b.firstChild){c=document.createElement('i');b.insertBefore(c,b.firstChild);}c.className=i;}else if(c){b.removeChild(c);}a(s.state.get('text'));});return s._super();}});});C("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(a){"use strict";return a.extend({Defaults:{defaultType:'button',role:'group'},renderHtml:function(){var s=this,l=s._layout;s.classes.add('btn-group');s.preRender();l.preRender(s);return('<div id="'+s._id+'" class="'+s.classes+'">'+'<div id="'+s._id+'-body">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</div>');}});});C("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(W){"use strict";return W.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(s){var a=this;a._super(s);a.on('click mousedown',function(e){e.preventDefault();});a.on('click',function(e){e.preventDefault();if(!a.disabled()){a.checked(!a.checked());}});a.checked(a.settings.checked);},checked:function(s){if(!arguments.length){return this.state.get('checked');}this.state.set('checked',s);return this;},value:function(s){if(!arguments.length){return this.checked();}return this.checked(s);},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix;return('<div id="'+i+'" class="'+s.classes+'" unselectable="on" aria-labelledby="'+i+'-al" tabindex="-1">'+'<i class="'+p+'ico '+p+'i-checkbox"></i>'+'<span id="'+i+'-al" class="'+p+'label">'+s.encode(s.state.get('text'))+'</span>'+'</div>');},bindStates:function(){var s=this;function c(a){s.classes.toggle("checked",a);s.aria('checked',a);}s.state.on('change:text',function(e){s.getEl('al').firstChild.data=s.translate(e.value);});s.state.on('change:checked change:value',function(e){s.fire('change');c(e.value);});s.state.on('change:icon',function(e){var i=e.value,p=s.classPrefix;if(typeof i=='undefined'){return s.settings.icon;}s.settings.icon=i;i=i?p+'ico '+p+'i-'+s.settings.icon:'';var b=s.getEl().firstChild,a=b.getElementsByTagName('i')[0];if(i){if(!a||a!=b.firstChild){a=document.createElement('i');b.insertBefore(a,b.firstChild);}a.className=i;}else if(a){b.removeChild(a);}});if(s.state.get('checked')){c(true);}return s._super();}});});C("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/VK","tinymce/util/Tools"],function(W,a,b,$,V,T){"use strict";return W.extend({init:function(s){var c=this;c._super(s);s=c.settings;c.classes.add('combobox');c.subinput=true;c.ariaTarget='inp';s.menu=s.menu||s.values;if(s.menu){s.icon='caret';}c.on('click',function(e){var d=e.target,r=c.getEl();if(!$.contains(r,d)&&d!=r){return;}while(d&&d!=r){if(d.id&&d.id.indexOf('-open')!=-1){c.fire('action');if(s.menu){c.showMenu();if(e.aria){c.menu.items()[0].focus();}}}d=d.parentNode;}});c.on('keydown',function(e){var r;if(e.keyCode==13&&e.target.nodeName==='INPUT'){e.preventDefault();c.parents().reverse().each(function(d){if(d.toJSON){r=d;return false;}});c.fire('submit',{data:r.toJSON()});}});c.on('keyup',function(e){if(e.target.nodeName=="INPUT"){var o=c.state.get('value');var n=e.target.value;if(n!==o){c.state.set('value',n);c.fire('autocomplete',e);}}});c.on('mouseover',function(e){var t=c.tooltip().moveTo(-0xFFFF);if(c.statusLevel()&&e.target.className.indexOf(c.classPrefix+'status')!==-1){var d=c.statusMessage()||'Ok';var r=t.text(d).show().testMoveRel(e.target,['bc-tc','bc-tl','bc-tr']);t.classes.toggle('tooltip-n',r=='bc-tc');t.classes.toggle('tooltip-nw',r=='bc-tl');t.classes.toggle('tooltip-ne',r=='bc-tr');t.moveRel(e.target,r);}});},statusLevel:function(v){if(arguments.length>0){this.state.set('statusLevel',v);}return this.state.get('statusLevel');},statusMessage:function(v){if(arguments.length>0){this.state.set('statusMessage',v);}return this.state.get('statusMessage');},showMenu:function(){var s=this,c=s.settings,m;if(!s.menu){m=c.menu||[];if(m.length){m={type:'menu',items:m};}else{m.type=m.type||'menu';}s.menu=a.create(m).parent(s).renderTo(s.getContainerElm());s.fire('createmenu');s.menu.reflow();s.menu.on('cancel',function(e){if(e.control===s.menu){s.focus();}});s.menu.on('show hide',function(e){e.control.items().each(function(d){d.active(d.value()==s.value());});}).fire('show');s.menu.on('select',function(e){s.value(e.control.value());});s.on('focusin',function(e){if(e.target.tagName.toUpperCase()=='INPUT'){s.menu.hide();}});s.aria('expanded',true);}s.menu.show();s.menu.layoutRect({w:s.layoutRect().w});s.menu.moveRel(s.getEl(),s.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl']);},focus:function(){this.getEl('inp').focus();},repaint:function(){var s=this,e=s.getEl(),o=s.getEl('open'),r=s.layoutRect();var w,l,i=0,c=e.firstChild;if(s.statusLevel()&&s.statusLevel()!=='none'){i=(parseInt(b.getRuntimeStyle(c,'padding-right'),10)-parseInt(b.getRuntimeStyle(c,'padding-left'),10));}if(o){w=r.w-b.getSize(o).width-10;}else{w=r.w-10;}var d=document;if(d.all&&(!d.documentMode||d.documentMode<=8)){l=(s.layoutRect().h-2)+'px';}$(c).css({width:w-i,lineHeight:l});s._super();return s;},postRender:function(){var s=this;$(this.getEl('inp')).on('change',function(e){s.state.set('value',e.target.value);s.fire('change',e);});return s._super();},renderHtml:function(){var s=this,i=s._id,c=s.settings,p=s.classPrefix;var v=s.state.get('value')||'';var d,t,o='',e='',f='';if("spellcheck"in c){e+=' spellcheck="'+c.spellcheck+'"';}if(c.maxLength){e+=' maxlength="'+c.maxLength+'"';}if(c.size){e+=' size="'+c.size+'"';}if(c.subtype){e+=' type="'+c.subtype+'"';}f='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>';if(s.disabled()){e+=' disabled="disabled"';}d=c.icon;if(d&&d!='caret'){d=p+'ico '+p+'i-'+c.icon;}t=s.state.get('text');if(d||t){o=('<div id="'+i+'-open" class="'+p+'btn '+p+'open" tabIndex="-1" role="button">'+'<button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+(d!='caret'?'<i class="'+d+'"></i>':'<i class="'+p+'caret"></i>')+(t?(d?' ':'')+t:'')+'</button>'+'</div>');s.classes.add('has-open');}return('<div id="'+i+'" class="'+s.classes+'">'+'<input id="'+i+'-inp" class="'+p+'textbox" value="'+s.encode(v,false)+'" hidefocus="1"'+e+' placeholder="'+s.encode(c.placeholder)+'" />'+f+o+'</div>');},value:function(v){if(arguments.length){this.state.set('value',v);return this;}if(this.state.get('rendered')){this.state.set('value',this.getEl('inp').value);}return this.state.get('value');},showAutoComplete:function(i,t){var s=this;if(i.length===0){s.hideMenu();return;}var c=function(v,d){return function(){s.fire('selectitem',{title:d,value:v});};};if(s.menu){s.menu.items().remove();}else{s.menu=a.create({type:'menu',classes:'combobox-menu',layout:'flow'}).parent(s).renderTo();}T.each(i,function(d){s.menu.add({text:d.title,url:d.previewUrl,match:t,classes:'menu-item-ellipsis',onclick:c(d.value,d.title)});});s.menu.renderNew();s.hideMenu();s.menu.on('cancel',function(e){if(e.control.parent()===s.menu){e.stopPropagation();s.focus();s.hideMenu();}});s.menu.on('select',function(){s.focus();});var m=s.layoutRect().w;s.menu.layoutRect({w:m,minW:0,maxW:m});s.menu.reflow();s.menu.show();s.menu.moveRel(s.getEl(),s.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl']);},hideMenu:function(){if(this.menu){this.menu.hide();}},bindStates:function(){var s=this;s.state.on('change:value',function(e){if(s.getEl('inp').value!=e.value){s.getEl('inp').value=e.value;}});s.state.on('change:disabled',function(e){s.getEl('inp').disabled=e.value;});s.state.on('change:statusLevel',function(e){var c=s.getEl('status');var p=s.classPrefix,v=e.value;b.css(c,'display',v==='none'?'none':'');b.toggleClass(c,p+'i-checkmark',v==='ok');b.toggleClass(c,p+'i-warning',v==='warn');b.toggleClass(c,p+'i-error',v==='error');s.classes.toggle('has-status',v!=='none');s.repaint();});b.on(s.getEl('status'),'mouseleave',function(){s.tooltip().hide();});s.on('cancel',function(e){if(s.menu&&s.menu.visible()){e.stopPropagation();s.hideMenu();}});var f=function(i,m){if(m&&m.items().length>0){m.items().eq(i)[0].focus();}};s.on('keydown',function(e){var k=e.keyCode;if(e.target.nodeName==='INPUT'){if(k===V.DOWN){e.preventDefault();s.fire('autocomplete');f(0,s.menu);}else if(k===V.UP){e.preventDefault();f(-1,s.menu);}}});return s._super();},remove:function(){$(this.getEl('inp')).off();if(this.menu){this.menu.remove();}this._super();}});});C("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(a){"use strict";return a.extend({init:function(s){var b=this;s.spellcheck=false;if(s.onaction){s.icon='none';}b._super(s);b.classes.add('colorbox');b.on('change keyup postrender',function(){b.repaintColor(b.value());});},repaintColor:function(v){var o=this.getEl('open');var e=o?o.getElementsByTagName('i')[0]:null;if(e){try{e.style.background=v;}catch(b){}}},bindStates:function(){var s=this;s.state.on('change:value',function(e){if(s.state.get('rendered')){s.repaintColor(e.value);}});return s._super();}});});C("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(a,b){"use strict";return a.extend({showPanel:function(){var s=this,c=s.settings;s.active(true);if(!s.panel){var p=c.panel;if(p.type){p={layout:'grid',items:p};}p.role=p.role||'dialog';p.popover=true;p.autohide=true;p.ariaRoot=true;s.panel=new b(p).on('hide',function(){s.active(false);}).on('cancel',function(e){e.stopPropagation();s.focus();s.hidePanel();}).parent(s).renderTo(s.getContainerElm());s.panel.fire('show');s.panel.reflow();}else{s.panel.show();}s.panel.moveRel(s.getEl(),c.popoverAlign||(s.isRtl()?['bc-tr','bc-tc']:['bc-tl','bc-tc']));},hidePanel:function(){var s=this;if(s.panel){s.panel.hide();}},postRender:function(){var s=this;s.aria('haspopup',true);s.on('click',function(e){if(e.control===s){if(s.panel&&s.panel.visible()){s.hidePanel();}else{s.showPanel();s.panel.focus(!!e.aria);}}});return s._super();},remove:function(){if(this.panel){this.panel.remove();this.panel=null;}return this._super();}});});C("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(P,a){"use strict";var b=a.DOM;return P.extend({init:function(s){this._super(s);this.classes.add('colorbutton');},color:function(c){if(c){this._color=c;this.getEl('preview').style.backgroundColor=c;return this;}return this._color;},resetColor:function(){this._color=null;this.getEl('preview').style.backgroundColor=null;return this;},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix,t=s.state.get('text');var c=s.settings.icon?p+'ico '+p+'i-'+s.settings.icon:'';var d=s.settings.image?' style="background-image: url(\''+s.settings.image+'\')"':'',e='';if(t){s.classes.add('btn-has-text');e='<span class="'+p+'txt">'+s.encode(t)+'</span>';}return('<div id="'+i+'" class="'+s.classes+'" role="button" tabindex="-1" aria-haspopup="true">'+'<button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(c?'<i class="'+c+'"'+d+'></i>':'')+'<span id="'+i+'-preview" class="'+p+'preview"></span>'+e+'</button>'+'<button type="button" class="'+p+'open" hidefocus="1" tabindex="-1">'+' <i class="'+p+'caret"></i>'+'</button>'+'</div>');},postRender:function(){var s=this,o=s.settings.onclick;s.on('click',function(e){if(e.aria&&e.aria.key=='down'){return;}if(e.control==s&&!b.getParent(e.target,'.'+s.classPrefix+'open')){e.stopImmediatePropagation();o.call(s,e);}});delete s.settings.onclick;return s._super();}});});C("tinymce/util/Color",[],function(){var m=Math.min,a=Math.max,c=Math.round;function e(f){var i=this,r=0,g=0,b=0;function j(r,g,b){var h,s,v,d,o,u;h=0;s=0;v=0;r=r/255;g=g/255;b=b/255;o=m(r,m(g,b));u=a(r,a(g,b));if(o==u){v=o;return{h:0,s:0,v:v*100};}d=(r==o)?g-b:((b==o)?r-g:b-r);h=(r==o)?3:((b==o)?1:5);h=60*(h-d/(u-o));s=(u-o)/u;v=u;return{h:c(h),s:c(s*100),v:c(v*100)};}function k(h,s,d){var o,u,x,v;h=(parseInt(h,10)||0)%360;s=parseInt(s,10)/100;d=parseInt(d,10)/100;s=a(0,m(s,1));d=a(0,m(d,1));if(s===0){r=g=b=c(255*d);return;}o=h/60;u=d*s;x=u*(1-Math.abs(o%2-1));v=d-u;switch(Math.floor(o)){case 0:r=u;g=x;b=0;break;case 1:r=x;g=u;b=0;break;case 2:r=0;g=u;b=x;break;case 3:r=0;g=x;b=u;break;case 4:r=x;g=0;b=u;break;case 5:r=u;g=0;b=x;break;default:r=g=b=0;}r=c(255*(r+v));g=c(255*(g+v));b=c(255*(b+v));}function t(){function h(v){v=parseInt(v,10).toString(16);return v.length>1?v:'0'+v;}return'#'+h(r)+h(g)+h(b);}function l(){return{r:r,g:g,b:b};}function n(){return j(r,g,b);}function p(f){var d;if(typeof f=='object'){if("r"in f){r=f.r;g=f.g;b=f.b;}else if("v"in f){k(f.h,f.s,f.v);}}else{if((d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(f))){r=parseInt(d[1],10);g=parseInt(d[2],10);b=parseInt(d[3],10);}else if((d=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(f))){r=parseInt(d[1],16);g=parseInt(d[2],16);b=parseInt(d[3],16);}else if((d=/#([0-F])([0-F])([0-F])/gi.exec(f))){r=parseInt(d[1]+d[1],16);g=parseInt(d[2]+d[2],16);b=parseInt(d[3]+d[3],16);}}r=r<0?0:(r>255?255:r);g=g<0?0:(g>255?255:g);b=b<0?0:(b>255?255:b);return i;}if(f){p(f);}i.toRgb=l;i.toHsv=n;i.toHex=t;i.parse=p;}return e;});C("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(W,a,b,c){"use strict";return W.extend({Defaults:{classes:"widget colorpicker"},init:function(s){this._super(s);},postRender:function(){var s=this,d=s.color(),h,f,g,i,j;f=s.getEl('h');g=s.getEl('hp');i=s.getEl('sv');j=s.getEl('svp');function k(e,n){var p=b.getPos(e),x,y;x=n.pageX-p.x;y=n.pageY-p.y;x=Math.max(0,Math.min(x/e.clientWidth,1));y=Math.max(0,Math.min(y/e.clientHeight,1));return{x:x,y:y};}function u(h,e){var n=(360-h.h)/360;b.css(g,{top:(n*100)+'%'});if(!e){b.css(j,{left:h.s+'%',top:(100-h.v)+'%'});}i.style.background=new c({s:100,v:100,h:h.h}).toHex();s.color().parse({s:h.s,v:h.v,h:h.h});}function l(e){var p;p=k(i,e);h.s=p.x*100;h.v=(1-p.y)*100;u(h);s.fire('change');}function m(e){var p;p=k(f,e);h=d.toHsv();h.h=(1-p.y)*360;u(h,true);s.fire('change');}s._repaint=function(){h=d.toHsv();u(h);};s._super();s._svdraghelper=new a(s._id+'-sv',{start:l,drag:l});s._hdraghelper=new a(s._id+'-h',{start:m,drag:m});s._repaint();},rgb:function(){return this.color().toRgb();},value:function(v){var s=this;if(arguments.length){s.color().parse(v);if(s._rendered){s._repaint();}}else{return s.color().toHex();}},color:function(){if(!this._color){this._color=new c();}return this._color;},renderHtml:function(){var s=this,d=s._id,p=s.classPrefix,h;var e='#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';function g(){var i,l,j='',k,m;k='filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';m=e.split(',');for(i=0,l=m.length-1;i<l;i++){j+=('<div class="'+p+'colorpicker-h-chunk" style="'+'height:'+(100/l)+'%;'+k+m[i]+',endColorstr='+m[i+1]+');'+'-ms-'+k+m[i]+',endColorstr='+m[i+1]+')'+'"></div>');}return j;}var f=('background: -ms-linear-gradient(top,'+e+');'+'background: linear-gradient(to bottom,'+e+');');h=('<div id="'+d+'-h" class="'+p+'colorpicker-h" style="'+f+'">'+g()+'<div id="'+d+'-hp" class="'+p+'colorpicker-h-marker"></div>'+'</div>');return('<div id="'+d+'" class="'+s.classes+'">'+'<div id="'+d+'-sv" class="'+p+'colorpicker-sv">'+'<div class="'+p+'colorpicker-overlay1">'+'<div class="'+p+'colorpicker-overlay2">'+'<div id="'+d+'-svp" class="'+p+'colorpicker-selector1">'+'<div class="'+p+'colorpicker-selector2"></div>'+'</div>'+'</div>'+'</div>'+'</div>'+h+'</div>');}});});C("tinymce/ui/Path",["tinymce/ui/Widget"],function(W){"use strict";return W.extend({init:function(s){var a=this;if(!s.delimiter){s.delimiter='\u00BB';}a._super(s);a.classes.add('path');a.canFocus=true;a.on('click',function(e){var i,t=e.target;if((i=t.getAttribute('data-index'))){a.fire('select',{value:a.row()[i],index:i});}});a.row(a.settings.row);},focus:function(){var s=this;s.getEl().firstChild.focus();return s;},row:function(r){if(!arguments.length){return this.state.get('row');}this.state.set('row',r);return this;},renderHtml:function(){var s=this;return('<div id="'+s._id+'" class="'+s.classes+'">'+s._getDataPathHtml(s.state.get('row'))+'</div>');},bindStates:function(){var s=this;s.state.on('change:row',function(e){s.innerHtml(s._getDataPathHtml(e.value));});return s._super();},_getDataPathHtml:function(d){var s=this,p=d||[],i,l,h='',a=s.classPrefix;for(i=0,l=p.length;i<l;i++){h+=((i>0?'<div class="'+a+'divider" aria-hidden="true"> '+s.settings.delimiter+' </div>':'')+'<div role="button" class="'+a+'path-item'+(i==l-1?' '+a+'last':'')+'" data-index="'+i+'" tabindex="-1" id="'+s._id+'-'+i+'" aria-level="'+(i+1)+'">'+p[i].name+'</div>');}if(!h){h='<div class="'+a+'path-item">\u00a0</div>';}return h;}});});C("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(P){return P.extend({postRender:function(){var s=this,a=s.settings.editor;function b(e){if(e.nodeType===1){if(e.nodeName=="BR"||!!e.getAttribute('data-mce-bogus')){return true;}if(e.getAttribute('data-mce-type')==='bookmark'){return true;}}return false;}if(a.settings.elementpath!==false){s.on('select',function(e){a.focus();a.selection.select(this.row()[e.index].element);a.nodeChanged();});a.on('nodeChange',function(e){var o=[],p=e.parents,i=p.length;while(i--){if(p[i].nodeType==1&&!b(p[i])){var c=a.fire('ResolveName',{name:p[i].nodeName.toLowerCase(),target:p[i]});if(!c.isDefaultPrevented()){o.push({name:c.name,element:p[i]});}if(c.isPropagationStopped()){break;}}}s.row(o);});}return s._super();}});});C("tinymce/ui/FormItem",["tinymce/ui/Container"],function(a){"use strict";return a.extend({Defaults:{layout:'flex',align:'center',defaults:{flex:1}},renderHtml:function(){var s=this,l=s._layout,p=s.classPrefix;s.classes.add('formitem');l.preRender(s);return('<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1">'+(s.settings.title?('<div id="'+s._id+'-title" class="'+p+'title">'+s.settings.title+'</div>'):'')+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</div>');}});});C("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(a,b,T){"use strict";return a.extend({Defaults:{containerCls:'form',layout:'flex',direction:'column',align:'stretch',flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit();}}},preRender:function(){var s=this,i=s.items();if(!s.settings.formItemDefaults){s.settings.formItemDefaults={layout:'flex',autoResize:"overflow",defaults:{flex:1}};}i.each(function(c){var f,l=c.settings.label;if(l){f=new b(T.extend({items:{type:'label',id:c._id+'-l',text:l,flex:0,forId:c._id,disabled:c.disabled()}},s.settings.formItemDefaults));f.type='formitem';c.aria('labelledby',c._id+'-l');if(typeof c.settings.flex=="undefined"){c.settings.flex=1;}s.replace(c,f);f.add(c);}});},submit:function(){return this.fire('submit',{data:this.toJSON()});},postRender:function(){var s=this;s._super();s.fromJSON(s.settings.data);},bindStates:function(){var s=this;s._super();function r(){var m=0,l=[],i,c,d;if(s.settings.labelGapCalc===false){return;}if(s.settings.labelGapCalc=="children"){d=s.find('formitem');}else{d=s.items();}d.filter('formitem').each(function(e){var f=e.items()[0],g=f.getEl().clientWidth;m=g>m?g:m;l.push(f);});c=s.settings.labelGap||0;i=l.length;while(i--){l[i].settings.minWidth=m+c;}}s.on('show',r);r();}});});C("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(a){"use strict";return a.extend({Defaults:{containerCls:'fieldset',layout:'flex',direction:'column',align:'stretch',flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var s=this,l=s._layout,p=s.classPrefix;s.preRender();l.preRender(s);return('<fieldset id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1">'+(s.settings.title?('<legend id="'+s._id+'-title" class="'+p+'fieldset-title">'+s.settings.title+'</legend>'):'')+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</fieldset>');}});});C('tinymce/content/LinkTargets',['tinymce/dom/DOMUtils','tinymce/util/Fun','tinymce/util/Arr','tinymce/util/Uuid','tinymce/util/Tools','tinymce/dom/NodeType'],function(a,b,c,U,T,N){var t=T.trim;var d=function(x,y,G,H,I){return{type:x,title:y,url:G,level:H,attach:I};};var i=function(x){while((x=x.parentNode)){var y=x.contentEditable;if(y&&y!=='inherit'){return N.isContentEditableTrue(x);}}return false;};var s=function(x,y){return a.DOM.select(x,y);};var g=function(x){return x.innerText||x.textContent;};var e=function(x){return x.id?x.id:U.uuid('h');};var f=function(x){return x&&x.nodeName==='A'&&(x.id||x.name);};var h=function(x){return f(x)&&k(x);};var j=function(x){return x&&/^(H[1-6])$/.test(x.nodeName);};var k=function(x){return i(x)&&!N.isContentEditableFalse(x);};var l=function(x){return j(x)&&k(x);};var m=function(x){return j(x)?parseInt(x.nodeName.substr(1),10):0;};var n=function(x){var y=e(x);var G=function(){x.id=y;};return d('header',g(x),'#'+y,m(x),G);};var o=function(x){var y=x.id||x.name;var G=g(x);return d('anchor',G?G:'#'+y,'#'+y,0,b.noop);};var p=function(x){return c.map(c.filter(x,l),n);};var r=function(x){return c.map(c.filter(x,h),o);};var u=function(x){var y=s('h1,h2,h3,h4,h5,h6,a:not([href])',x);return y;};var v=function(x){return t(x.title).length>0;};var w=function(x){var y=u(x);return c.filter(p(y).concat(r(y)),v);};return{find:w};});C("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/VK","tinymce/content/LinkTargets"],function(c,T,d,f,V,L){"use strict";var h={};var H=5;var t=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}};};var g=function(a){return T.map(a,t);};var s=function(a,u){return{title:a,value:{title:a,url:u,attach:f.noop}};};var i=function(u,a){var b=d.find(a,function(e){return e.url===u;});return!b;};var j=function(e,a,b){var v=a in e?e[a]:b;return v===false?null:v;};var k=function(e,u,v,w){var x={title:'-'};var y=function(h){var a=d.filter(h[v],function(b){return i(b,u);});return T.map(a,function(b){return{title:b,value:{title:b,url:b,attach:f.noop}};});};var G=function(a){var b=d.filter(u,function(K){return K.type==a;});return g(b);};var I=function(){var I=G('anchor');var a=j(w,'anchor_top','#top');var b=j(w,'anchor_bottom','#bottom');if(a!==null){I.unshift(s('<top>',a));}if(b!==null){I.push(s('<bottom>',b));}return I;};var J=function(K){return d.reduce(K,function(a,b){var M=a.length===0||b.length===0;return M?a.concat(b):a.concat(x,b);},[]);};if(w.typeahead_urls===false){return[];}return v==='file'?J([m(e,y(h)),m(e,G('header')),m(e,I())]):m(e,y(h));};var l=function(u,a){var b=h[a];if(!/^https?/.test(u)){return;}if(b){if(d.indexOf(b,u)===-1){h[a]=b.slice(0,H).concat(u);}}else{h[a]=[u];}};var m=function(a,b){var e=a.toLowerCase();var u=T.grep(b,function(v){return v.title.toLowerCase().indexOf(e)!==-1;});return u.length===1&&u[0].title===a?[]:u;};var n=function(a){var b=a.title;return b.raw?b.raw:b;};var o=function(a,b,u,v){var w=function(e){var x=L.find(u);var y=k(e,x,v,b);a.showAutoComplete(y,e);};a.on('autocomplete',function(){w(a.value());});a.on('selectitem',function(e){var x=e.value;a.value(x.url);var y=n(x);if(v==='image'){a.fire('change',{meta:{alt:y,attach:x.attach}});}else{a.fire('change',{meta:{text:y,attach:x.attach}});}a.focus();});a.on('click',function(e){if(a.value().length===0&&e.target.nodeName==='INPUT'){w('');}});a.on('PostRender',function(){a.getRoot().on('submit',function(e){if(!e.isDefaultPrevented()){l(a.value(),v);}});});};var p=function(a){var b=a.status,e=a.message;if(b==='valid'){return{status:'ok',message:e};}else if(b==='unknown'){return{status:'warn',message:e};}else if(b==='invalid'){return{status:'warn',message:e};}else{return{status:'none',message:''};}};var r=function(a,b,u){var v=b.filepicker_validator_handler;if(v){var w=function(e){if(e.length===0){a.statusLevel('none');return;}v({url:e,type:u},function(x){var y=p(x);a.statusMessage(y.message);a.statusLevel(y.status);});};a.state.on('change:value',function(e){w(e.value);});}};return c.extend({init:function(a){var b=this,e=tinymce.activeEditor,u=e.settings;var v,w,x;var y=a.filetype;a.spellcheck=false;x=u.file_picker_types||u.file_browser_callback_types;if(x){x=T.makeMap(x,/[, ]/);}if(!x||x[y]){w=u.file_picker_callback;if(w&&(!x||x[y])){v=function(){var G=b.fire('beforecall').meta;G=T.extend({filetype:y},G);w.call(e,function(I,G){b.value(I).fire('change',{meta:G});},b.value(),G);};}else{w=u.file_browser_callback;if(w&&(!x||x[y])){v=function(){w(b.getEl('inp').id,b.value(),y,window);};}}}if(v){a.icon='browse';a.onaction=v;}b._super(a);o(b,u,e.getBody(),y);r(b,u,y);}});});C("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(a){"use strict";return a.extend({recalc:function(c){var b=c.layoutRect(),p=c.paddingBox;c.items().filter(':visible').each(function(d){d.layoutRect({x:p.left,y:p.top,w:b.innerW-p.right-p.left,h:b.innerH-p.top-p.bottom});if(d.recalc){d.recalc();}});}});});C("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(a){"use strict";return a.extend({recalc:function(c){var i,l,b,d,e,f,g,p,s,t,h,j;var k,m,n,o,r=[],u,v,w,x,y,G;var H,I,J,K,L,M,N,O;var P,Q,R,S,T,U;var V,W;var X=Math.max,Y=Math.min;b=c.items().filter(':visible');d=c.layoutRect();e=c.paddingBox;f=c.settings;j=c.isRtl()?(f.direction||'row-reversed'):f.direction;g=f.align;p=c.isRtl()?(f.pack||'end'):f.pack;s=f.spacing||0;if(j=="row-reversed"||j=="column-reverse"){b=b.set(b.toArray().reverse());j=j.split('-')[0];}if(j=="column"){J="y";H="h";I="minH";K="maxH";M="innerH";L='top';N="deltaH";O="contentH";T="left";R="w";P="x";Q="innerW";S="minW";U="right";V="deltaW";W="contentW";}else{J="x";H="w";I="minW";K="maxW";M="innerW";L='left';N="deltaW";O="contentW";T="top";R="h";P="y";Q="innerH";S="minH";U="bottom";V="deltaH";W="contentH";}h=d[M]-e[L]-e[L];G=t=0;for(i=0,l=b.length;i<l;i++){k=b[i];m=k.layoutRect();n=k.settings;o=n.flex;h-=(i<l-1?s:0);if(o>0){t+=o;if(m[K]){r.push(k);}m.flex=o;}h-=m[I];u=e[T]+m[S]+e[U];if(u>G){G=u;}}x={};if(h<0){x[I]=d[I]-h+d[N];}else{x[I]=d[M]-h+d[N];}x[S]=G+d[V];x[O]=d[M]-h;x[W]=G;x.minW=Y(x.minW,d.maxW);x.minH=Y(x.minH,d.maxH);x.minW=X(x.minW,d.startMinWidth);x.minH=X(x.minH,d.startMinHeight);if(d.autoResize&&(x.minW!=d.minW||x.minH!=d.minH)){x.w=x.minW;x.h=x.minH;c.layoutRect(x);this.recalc(c);if(c._lastRect===null){var Z=c.parent();if(Z){Z._lastRect=null;Z.recalc();}}return;}w=h/t;for(i=0,l=r.length;i<l;i++){k=r[i];m=k.layoutRect();v=m[K];u=m[I]+m.flex*w;if(u>v){h-=(m[K]-m[I]);t-=m.flex;m.flex=0;m.maxFlexSize=v;}else{m.maxFlexSize=0;}}w=h/t;y=e[L];x={};if(t===0){if(p=="end"){y=h+e[L];}else if(p=="center"){y=Math.round((d[M]/2)-((d[M]-h)/2))+e[L];if(y<0){y=e[L];}}else if(p=="justify"){y=e[L];s=Math.floor(h/(b.length-1));}}x[P]=e[T];for(i=0,l=b.length;i<l;i++){k=b[i];m=k.layoutRect();u=m.maxFlexSize||m[I];if(g==="center"){x[P]=Math.round((d[Q]/2)-(m[R]/2));}else if(g==="stretch"){x[R]=X(m[S]||0,d[Q]-e[T]-e[U]);x[P]=e[T];}else if(g==="end"){x[P]=d[Q]-m[R]-e.top;}if(m.flex>0){u+=m.flex*w;}x[H]=u;x[J]=y;k.layoutRect(x);if(k.recalc){k.recalc();}y+=u+s;}}});});C("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(L){return L.extend({Defaults:{containerClass:'flow-layout',controlClass:'flow-layout-item',endClass:'break'},recalc:function(c){c.items().filter(':visible').each(function(a){if(a.recalc){a.recalc();}});},isNative:function(){return true;}});});C("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(a){var g=function(p,r,e){while(e!==r){if(e.style[p]){return e.style[p];}e=e.parentNode;}return'';};var t=function(f){if(/[0-9.]+px$/.test(f)){return Math.round(parseInt(f,10)*72/96)+'pt';}return f;};var n=function(f){return f.replace(/[\'\"]/g,'').replace(/,\s+/g,',');};var b=function(p,e){return a.DOM.getStyle(e,p,true);};var c=function(r,e){var s=g('fontSize',r,e);return s!==''?s:b('fontSize',e);};var d=function(r,e){var s=g('fontFamily',r,e);var f=s!==''?s:b('fontFamily',e);return f!==z?n(f):'';};return{getFontSize:c,getFontFamily:d,toPt:t};});C("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/util/Arr","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env","tinymce/fmt/FontInfo"],function(a,W,b,T,c,d,f,g,h){var j=T.each;var k=function(e){return c.reduce(e,function(i,m){return i.concat(m);},[]);};f.on('AddEditor',function(e){var i=e.editor;l(i);r(i);s(i);});a.translate=function(t){return f.translate(t);};W.tooltips=!g.iOS;function s(e){if(e.settings.ui_container){g.container=d.DOM.select(e.settings.ui_container)[0];}}function l(e){e.on('ScriptsLoaded',function(){if(e.rtl){a.rtl=true;}});}function r(m){var n;function o(i,N){return function(){var O=this;m.on('nodeChange',function(e){var P=m.formatter;var Q=null;j(e.parents,function(R){j(i,function(S){if(N){if(P.matchNode(R,N,{value:S.value})){Q=S.value;}}else{if(P.matchNode(R,S.value)){Q=S.value;}}if(Q){return false;}});if(Q){return false;}});O.value(Q);});};}function p(i){return function(){var N=this;var O=function(e){return e?e.split(',')[0]:'';};m.on('nodeChange',function(e){var P,Q=null;P=h.getFontFamily(m.getBody(),e.element);j(i,function(R){if(R.value.toLowerCase()===P.toLowerCase()){Q=R.value;}});j(i,function(R){if(!Q&&O(R.value).toLowerCase()===O(P).toLowerCase()){Q=R.value;}});N.value(Q);if(!Q&&P){N.text(O(P));}});};}function t(i){return function(){var N=this;m.on('nodeChange',function(e){var O,P,Q=null;O=h.getFontSize(m.getBody(),e.element);P=h.toPt(O);j(i,function(R){if(R.value===O){Q=O;}else if(R.value===P){Q=P;}});N.value(Q);if(!Q){N.text(P);}});};}function u(e){e=e.replace(/;$/,'').split(';');var i=e.length;while(i--){e[i]=e[i].split('=');}return e;}function v(){var i=0,N=[];var O=[{title:'Headings',items:[{title:'Heading 1',format:'h1'},{title:'Heading 2',format:'h2'},{title:'Heading 3',format:'h3'},{title:'Heading 4',format:'h4'},{title:'Heading 5',format:'h5'},{title:'Heading 6',format:'h6'}]},{title:'Inline',items:[{title:'Bold',icon:'bold',format:'bold'},{title:'Italic',icon:'italic',format:'italic'},{title:'Underline',icon:'underline',format:'underline'},{title:'Strikethrough',icon:'strikethrough',format:'strikethrough'},{title:'Superscript',icon:'superscript',format:'superscript'},{title:'Subscript',icon:'subscript',format:'subscript'},{title:'Code',icon:'code',format:'code'}]},{title:'Blocks',items:[{title:'Paragraph',format:'p'},{title:'Blockquote',format:'blockquote'},{title:'Div',format:'div'},{title:'Pre',format:'pre'}]},{title:'Alignment',items:[{title:'Left',icon:'alignleft',format:'alignleft'},{title:'Center',icon:'aligncenter',format:'aligncenter'},{title:'Right',icon:'alignright',format:'alignright'},{title:'Justify',icon:'alignjustify',format:'alignjustify'}]}];function P(e){var R=[];if(!e){return;}j(e,function(S){var U={text:S.title,icon:S.icon};if(S.items){U.menu=P(S.items);}else{var V=S.format||"custom"+i++;if(!S.format){S.name=V;N.push(S);}U.format=V;U.cmd=S.cmd;}R.push(U);});return R;}function Q(){var e;if(m.settings.style_formats_merge){if(m.settings.style_formats){e=P(O.concat(m.settings.style_formats));}else{e=P(O);}}else{e=P(m.settings.style_formats||O);}return e;}m.on('init',function(){j(N,function(e){m.formatter.register(e.name,e);});});return{type:'menu',items:Q(),onPostRender:function(e){m.fire('renderFormatsMenu',{control:e.control});},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return m.formatter.getCssText(this.settings.format);}},onPostRender:function(){var e=this;e.parent().on('show',function(){var R,S;R=e.settings.format;if(R){e.disabled(!m.formatter.canApply(R));e.active(m.formatter.match(R));}S=e.settings.cmd;if(S){e.active(m.queryCommandState(S));}});},onclick:function(){if(this.settings.format){K(this.settings.format);}if(this.settings.cmd){m.execCommand(this.settings.cmd);}}}};}n=v();function w(e){return function(){var i=this;if(m.formatter){m.formatter.formatChanged(e,function(N){i.active(N);});}else{m.on('init',function(){m.formatter.formatChanged(e,function(N){i.active(N);});});}};}j({bold:'Bold',italic:'Italic',underline:'Underline',strikethrough:'Strikethrough',subscript:'Subscript',superscript:'Superscript'},function(e,i){m.addButton(i,{tooltip:e,onPostRender:w(i),onclick:function(){K(i);}});});j({outdent:['Decrease indent','Outdent'],indent:['Increase indent','Indent'],cut:['Cut','Cut'],copy:['Copy','Copy'],paste:['Paste','Paste'],help:['Help','mceHelp'],selectall:['Select all','SelectAll'],removeformat:['Clear formatting','RemoveFormat'],visualaid:['Visual aids','mceToggleVisualAid'],newdocument:['New document','mceNewDocument']},function(i,e){m.addButton(e,{tooltip:i[0],cmd:i[1]});});j({blockquote:['Blockquote','mceBlockQuote'],subscript:['Subscript','Subscript'],superscript:['Superscript','Superscript'],alignleft:['Align left','JustifyLeft'],aligncenter:['Align center','JustifyCenter'],alignright:['Align right','JustifyRight'],alignjustify:['Justify','JustifyFull'],alignnone:['No alignment','JustifyNone']},function(i,e){m.addButton(e,{tooltip:i[0],cmd:i[1],onPostRender:w(e)});});function x(e){return function(){var i=this;function N(){var O=e=='redo'?'hasRedo':'hasUndo';return m.undoManager?m.undoManager[O]():false;}i.disabled(!N());m.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode',function(){i.disabled(m.readonly||!N());});};}function y(){var i=this;m.on('VisualAid',function(e){i.active(e.hasVisual);});i.active(m.hasVisual);}var G=function(e){var i=e;if(i.length>0&&i[0].text==='-'){i=i.slice(1);}if(i.length>0&&i[i.length-1].text==='-'){i=i.slice(0,i.length-1);}return i;};var H=function(e){var i,N;if(typeof e==='string'){N=e.split(' ');}else if(T.isArray(e)){return k(T.map(e,H));}i=T.grep(N,function(O){return O==='|'||O in m.menuItems;});return T.map(i,function(O){return O==='|'?{text:'-'}:m.menuItems[O];});};var I=function(e){var i=[{text:'-'}];var N=T.grep(m.menuItems,function(O){return O.context===e;});T.each(N,function(O){if(O.separator=='before'){i.push({text:'|'});}if(O.prependToContext){i.unshift(O);}else{i.push(O);}if(O.separator=='after'){i.push({text:'|'});}});return i;};var J=function(e){if(e.insert_button_items){return G(H(e.insert_button_items));}else{return G(I('insert'));}};m.addButton('undo',{tooltip:'Undo',onPostRender:x('undo'),cmd:'undo'});m.addButton('redo',{tooltip:'Redo',onPostRender:x('redo'),cmd:'redo'});m.addMenuItem('newdocument',{text:'New document',icon:'newdocument',cmd:'mceNewDocument'});m.addMenuItem('undo',{text:'Undo',icon:'undo',shortcut:'Meta+Z',onPostRender:x('undo'),cmd:'undo'});m.addMenuItem('redo',{text:'Redo',icon:'redo',shortcut:'Meta+Y',onPostRender:x('redo'),cmd:'redo'});m.addMenuItem('visualaid',{text:'Visual aids',selectable:true,onPostRender:y,cmd:'mceToggleVisualAid'});m.addButton('remove',{tooltip:'Remove',icon:'remove',cmd:'Delete'});m.addButton('insert',{type:'menubutton',icon:'insert',menu:[],oncreatemenu:function(){this.menu.add(J(m.settings));this.menu.renderNew();}});j({cut:['Cut','Cut','Meta+X'],copy:['Copy','Copy','Meta+C'],paste:['Paste','Paste','Meta+V'],selectall:['Select all','SelectAll','Meta+A'],bold:['Bold','Bold','Meta+B'],italic:['Italic','Italic','Meta+I'],underline:['Underline','Underline','Meta+U'],strikethrough:['Strikethrough','Strikethrough'],subscript:['Subscript','Subscript'],superscript:['Superscript','Superscript'],removeformat:['Clear formatting','RemoveFormat']},function(i,e){m.addMenuItem(e,{text:i[0],icon:e,shortcut:i[2],cmd:i[1]});});m.on('mousedown',function(){b.hideAll();});function K(e){if(e.control){e=e.control.value();}if(e){m.execCommand('mceToggleFormat',false,e);}}function L(e){var i=e.length;T.each(e,function(N){if(N.menu){N.hidden=L(N.menu)===0;}var O=N.format;if(O){N.hidden=!m.formatter.canApply(O);}if(N.hidden){i--;}});return i;}function M(e){var i=e.items().length;e.items().each(function(N){if(N.menu){N.visible(M(N.menu)>0);}if(!N.menu&&N.settings.menu){N.visible(L(N.settings.menu)>0);}var O=N.settings.format;if(O){N.visible(m.formatter.canApply(O));}if(!N.visible()){i--;}});return i;}m.addButton('styleselect',{type:'menubutton',text:'Formats',menu:n,onShowMenu:function(){if(m.settings.style_formats_autohide){M(this.menu);}}});m.addButton('formatselect',function(){var i=[],e=u(m.settings.block_formats||'Paragraph=p;'+'Heading 1=h1;'+'Heading 2=h2;'+'Heading 3=h3;'+'Heading 4=h4;'+'Heading 5=h5;'+'Heading 6=h6;'+'Preformatted=pre');j(e,function(N){i.push({text:N[0],value:N[1],textStyle:function(){return m.formatter.getCssText(N[1]);}});});return{type:'listbox',text:e[0][0],values:i,fixedWidth:true,onselect:K,onPostRender:o(i)};});m.addButton('fontselect',function(){var i='Andale Mono=andale mono,monospace;'+'Arial=arial,helvetica,sans-serif;'+'Arial Black=arial black,sans-serif;'+'Book Antiqua=book antiqua,palatino,serif;'+'Comic Sans MS=comic sans ms,sans-serif;'+'Courier New=courier new,courier,monospace;'+'Georgia=georgia,palatino,serif;'+'Helvetica=helvetica,arial,sans-serif;'+'Impact=impact,sans-serif;'+'Symbol=symbol;'+'Tahoma=tahoma,arial,helvetica,sans-serif;'+'Terminal=terminal,monaco,monospace;'+'Times New Roman=times new roman,times,serif;'+'Trebuchet MS=trebuchet ms,geneva,sans-serif;'+'Verdana=verdana,geneva,sans-serif;'+'Webdings=webdings;'+'Wingdings=wingdings,zapf dingbats';var N=[],O=u(m.settings.font_formats||i);j(O,function(e){N.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf('dings')==-1?'font-family:'+e[1]:''});});return{type:'listbox',text:'Font Family',tooltip:'Font Family',values:N,fixedWidth:true,onPostRender:p(N),onselect:function(e){if(e.control.settings.value){m.execCommand('FontName',false,e.control.settings.value);}}};});m.addButton('fontsizeselect',function(){var i=[],N='8pt 10pt 12pt 14pt 18pt 24pt 36pt';var O=m.settings.fontsize_formats||N;j(O.split(' '),function(e){var P=e,Q=e;var R=e.split('=');if(R.length>1){P=R[0];Q=R[1];}i.push({text:P,value:Q});});return{type:'listbox',text:'Font Sizes',tooltip:'Font Sizes',values:i,fixedWidth:true,onPostRender:t(i),onclick:function(e){if(e.control.settings.value){m.execCommand('FontSize',false,e.control.settings.value);}}};});m.addMenuItem('formats',{text:'Formats',menu:n});}});C("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(a){"use strict";return a.extend({recalc:function(c){var s,r,b,i,d,w,h,e,f,g,x,y,p,j,k,l,m,n,o,t,u,v,G,H=[],I=[],J,K,L,M,N,O;s=c.settings;i=c.items().filter(':visible');d=c.layoutRect();b=s.columns||Math.ceil(Math.sqrt(i.length));r=Math.ceil(i.length/b);n=s.spacingH||s.spacing||0;o=s.spacingV||s.spacing||0;t=s.alignH||s.align;u=s.alignV||s.align;l=c.paddingBox;N='reverseRows'in s?s.reverseRows:c.isRtl();if(t&&typeof t=="string"){t=[t];}if(u&&typeof u=="string"){u=[u];}for(x=0;x<b;x++){H.push(0);}for(y=0;y<r;y++){I.push(0);}for(y=0;y<r;y++){for(x=0;x<b;x++){g=i[y*b+x];if(!g){break;}f=g.layoutRect();J=f.minW;K=f.minH;H[x]=J>H[x]?J:H[x];I[y]=K>I[y]?K:I[y];}}L=d.innerW-l.left-l.right;for(v=0,x=0;x<b;x++){v+=H[x]+(x>0?n:0);L-=(x>0?n:0)+H[x];}M=d.innerH-l.top-l.bottom;for(G=0,y=0;y<r;y++){G+=I[y]+(y>0?o:0);M-=(y>0?o:0)+I[y];}v+=l.left+l.right;G+=l.top+l.bottom;e={};e.minW=v+(d.w-d.innerW);e.minH=G+(d.h-d.innerH);e.contentW=e.minW-d.deltaW;e.contentH=e.minH-d.deltaH;e.minW=Math.min(e.minW,d.maxW);e.minH=Math.min(e.minH,d.maxH);e.minW=Math.max(e.minW,d.startMinWidth);e.minH=Math.max(e.minH,d.startMinHeight);if(d.autoResize&&(e.minW!=d.minW||e.minH!=d.minH)){e.w=e.minW;e.h=e.minH;c.layoutRect(e);this.recalc(c);if(c._lastRect===null){var P=c.parent();if(P){P._lastRect=null;P.recalc();}}return;}if(d.autoResize){e=c.layoutRect(e);e.contentW=e.minW-d.deltaW;e.contentH=e.minH-d.deltaH;}var Q;if(s.packV=='start'){Q=0;}else{Q=M>0?Math.floor(M/r):0;}var R=0;var S=s.flexWidths;if(S){for(x=0;x<S.length;x++){R+=S[x];}}else{R=b;}var T=L/R;for(x=0;x<b;x++){H[x]+=S?S[x]*T:T;}j=l.top;for(y=0;y<r;y++){p=l.left;h=I[y]+Q;for(x=0;x<b;x++){if(N){O=y*b+b-1-x;}else{O=y*b+x;}g=i[O];if(!g){break;}k=g.settings;f=g.layoutRect();w=Math.max(H[x],f.startMinWidth);f.x=p;f.y=j;m=k.alignH||(t?(t[x]||t[0]):null);if(m=="center"){f.x=p+(w/2)-(f.w/2);}else if(m=="right"){f.x=p+w-f.w;}else if(m=="stretch"){f.w=w;}m=k.alignV||(u?(u[x]||u[0]):null);if(m=="center"){f.y=j+(h/2)-(f.h/2);}else if(m=="bottom"){f.y=j+h-f.h;}else if(m=="stretch"){f.h=h;}g.layoutRect(f);p+=w+n;if(g.recalc){g.recalc();}}j+=h+o;}}});});C("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(W,a){"use strict";return W.extend({renderHtml:function(){var s=this;s.classes.add('iframe');s.canFocus=false;return('<iframe id="'+s._id+'" class="'+s.classes+'" tabindex="-1" src="'+(s.settings.url||"javascript:''")+'" frameborder="0"></iframe>');},src:function(s){this.getEl().src=s;},html:function(h,c){var s=this,b=this.getEl().contentWindow.document.body;if(!b){a.setTimeout(function(){s.html(h);});}else{b.innerHTML=h;if(c){c();}}return this;}});});C("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(W){"use strict";return W.extend({init:function(s){var a=this;a._super(s);a.classes.add('widget').add('infobox');a.canFocus=false;},severity:function(l){this.classes.remove('error');this.classes.remove('warning');this.classes.remove('success');this.classes.add(l);},help:function(s){this.state.set('help',s);},renderHtml:function(){var s=this,p=s.classPrefix;return('<div id="'+s._id+'" class="'+s.classes+'">'+'<div id="'+s._id+'-body">'+s.encode(s.state.get('text'))+'<button role="button" tabindex="-1">'+'<i class="'+p+'ico '+p+'i-help"></i>'+'</button>'+'</div>'+'</div>');},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.getEl('body').firstChild.data=s.encode(e.value);if(s.state.get('rendered')){s.updateLayoutRect();}});s.state.on('change:help',function(e){s.classes.toggle('has-help',e.value);if(s.state.get('rendered')){s.updateLayoutRect();}});return s._super();}});});C("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(W,a){"use strict";return W.extend({init:function(s){var b=this;b._super(s);b.classes.add('widget').add('label');b.canFocus=false;if(s.multiline){b.classes.add('autoscroll');}if(s.strong){b.classes.add('strong');}},initLayoutRect:function(){var s=this,l=s._super();if(s.settings.multiline){var b=a.getSize(s.getEl());if(b.width>l.maxW){l.minW=l.maxW;s.classes.add('multiline');}s.getEl().style.width=l.minW+'px';l.startMinH=l.h=l.minH=Math.min(l.maxH,a.getSize(s.getEl()).height);}return l;},repaint:function(){var s=this;if(!s.settings.multiline){s.getEl().style.lineHeight=s.layoutRect().h+'px';}return s._super();},severity:function(l){this.classes.remove('error');this.classes.remove('warning');this.classes.remove('success');this.classes.add(l);},renderHtml:function(){var s=this,t,f,b=s.settings.forId;if(!b&&(f=s.settings.forName)){t=s.getRoot().find('#'+f)[0];if(t){b=t._id;}}if(b){return('<label id="'+s._id+'" class="'+s.classes+'"'+(b?' for="'+b+'"':'')+'>'+s.encode(s.state.get('text'))+'</label>');}return('<span id="'+s._id+'" class="'+s.classes+'">'+s.encode(s.state.get('text'))+'</span>');},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.innerHtml(s.encode(e.value));if(s.state.get('rendered')){s.updateLayoutRect();}});return s._super();}});});C("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(a){"use strict";return a.extend({Defaults:{role:'toolbar',layout:'flow'},init:function(s){var b=this;b._super(s);b.classes.add('toolbar');},postRender:function(){var s=this;s.items().each(function(c){c.classes.add('toolbar-item');});return s._super();}});});C("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(T){"use strict";return T.extend({Defaults:{role:'menubar',containerCls:'menubar',ariaRoot:true,defaults:{type:'menubutton'}}});});C("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(a,b,M){"use strict";function i(n,p){while(n){if(p===n){return true;}n=n.parentNode;}return false;}var c=a.extend({init:function(s){var d=this;d._renderOpen=true;d._super(s);s=d.settings;d.classes.add('menubtn');if(s.fixedWidth){d.classes.add('fixed-width');}d.aria('haspopup',true);d.state.set('menu',s.menu||d.render());},showMenu:function(t){var s=this,m;if(s.menu&&s.menu.visible()&&t!==false){return s.hideMenu();}if(!s.menu){m=s.state.get('menu')||[];if(m.length){m={type:'menu',items:m};}else{m.type=m.type||'menu';}if(!m.renderTo){s.menu=b.create(m).parent(s).renderTo();}else{s.menu=m.parent(s).show().renderTo();}s.fire('createmenu');s.menu.reflow();s.menu.on('cancel',function(e){if(e.control.parent()===s.menu){e.stopPropagation();s.focus();s.hideMenu();}});s.menu.on('select',function(){s.focus();});s.menu.on('show hide',function(e){if(e.control==s.menu){s.activeMenu(e.type=='show');}s.aria('expanded',e.type=='show');}).fire('show');}s.menu.show();s.menu.layoutRect({w:s.layoutRect().w});s.menu.moveRel(s.getEl(),s.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl']);s.fire('showmenu');},hideMenu:function(){var s=this;if(s.menu){s.menu.items().each(function(d){if(d.hideMenu){d.hideMenu();}});s.menu.hide();}},activeMenu:function(s){this.classes.toggle('active',s);},renderHtml:function(){var s=this,d=s._id,p=s.classPrefix;var e=s.settings.icon,f,t=s.state.get('text'),g='';f=s.settings.image;if(f){e='none';if(typeof f!="string"){f=window.getSelection?f[0]:f[1];}f=' style="background-image: url(\''+f+'\')"';}else{f='';}if(t){s.classes.add('btn-has-text');g='<span class="'+p+'txt">'+s.encode(t)+'</span>';}e=s.settings.icon?p+'ico '+p+'i-'+e:'';s.aria('role',s.parent()instanceof M?'menuitem':'button');return('<div id="'+d+'" class="'+s.classes+'" tabindex="-1" aria-labelledby="'+d+'">'+'<button id="'+d+'-open" role="presentation" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+f+'></i>':'')+g+' <i class="'+p+'caret"></i>'+'</button>'+'</div>');},postRender:function(){var s=this;s.on('click',function(e){if(e.control===s&&i(e.target,s.getEl())){s.focus();s.showMenu(!e.aria);if(e.aria){s.menu.items().filter(':visible')[0].focus();}}});s.on('mouseenter',function(e){var o=e.control,p=s.parent(),h;if(o&&p&&o instanceof c&&o.parent()==p){p.items().filter('MenuButton').each(function(d){if(d.hideMenu&&d!=o){if(d.menu&&d.menu.visible()){h=true;}d.hideMenu();}});if(h){o.focus();o.showMenu();}}});return s._super();},bindStates:function(){var s=this;s.state.on('change:menu',function(){if(s.menu){s.menu.remove();}s.menu=null;});return s._super();},remove:function(){this._super();if(this.menu){this.menu.remove();}}});return c;});C("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(W,a,b,c){"use strict";return W.extend({Defaults:{border:0,role:'menuitem'},init:function(s){var d=this,t;d._super(s);s=d.settings;d.classes.add('menu-item');if(s.menu){d.classes.add('menu-item-expand');}if(s.preview){d.classes.add('menu-item-preview');}t=d.state.get('text');if(t==='-'||t==='|'){d.classes.add('menu-item-sep');d.aria('role','separator');d.state.set('text','-');}if(s.selectable){d.aria('role','menuitemcheckbox');d.classes.add('menu-item-checkbox');s.icon='selected';}if(!s.preview&&!s.selectable){d.classes.add('menu-item-normal');}d.on('mousedown',function(e){e.preventDefault();});if(s.menu&&!s.ariaHideMenu){d.aria('haspopup',true);}},hasMenus:function(){return!!this.settings.menu;},showMenu:function(){var s=this,d=s.settings,m,p=s.parent();p.items().each(function(e){if(e!==s){e.hideMenu();}});if(d.menu){m=s.menu;if(!m){m=d.menu;if(m.length){m={type:'menu',items:m};}else{m.type=m.type||'menu';}if(p.settings.itemDefaults){m.itemDefaults=p.settings.itemDefaults;}m=s.menu=a.create(m).parent(s).renderTo();m.reflow();m.on('cancel',function(e){e.stopPropagation();s.focus();m.hide();});m.on('show hide',function(e){if(e.control.items){e.control.items().each(function(f){f.active(f.settings.selected);});}}).fire('show');m.on('hide',function(e){if(e.control===m){s.classes.remove('selected');}});m.submenu=true;}else{m.show();}m._parentMenu=p;m.classes.add('menu-sub');var r=m.testMoveRel(s.getEl(),s.isRtl()?['tl-tr','bl-br','tr-tl','br-bl']:['tr-tl','br-bl','tl-tr','bl-br']);m.moveRel(s.getEl(),r);m.rel=r;r='menu-sub-'+r;m.classes.remove(m._lastRel).add(r);m._lastRel=r;s.classes.add('selected');s.aria('expanded',true);}},hideMenu:function(){var s=this;if(s.menu){s.menu.items().each(function(i){if(i.hideMenu){i.hideMenu();}});s.menu.hide();s.aria('expanded',false);}return s;},renderHtml:function(){var s=this,d=s._id,e=s.settings,p=s.classPrefix,t=s.state.get('text');var f=s.settings.icon,g='',h=e.shortcut;var u=s.encode(e.url),j='';function k(h){var i,v,r={};if(b.mac){r={alt:'&#x2325;',ctrl:'&#x2318;',shift:'&#x21E7;',meta:'&#x2318;'};}else{r={meta:'Ctrl'};}h=h.split('+');for(i=0;i<h.length;i++){v=r[h[i].toLowerCase()];if(v){h[i]=v;}}return h.join('+');}function l(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");}function m(t){var i=e.match||'';return i?t.replace(new RegExp(l(i),'gi'),function(i){return'!mce~match['+i+']mce~match!';}):t;}function n(t){return t.replace(new RegExp(l('!mce~match['),'g'),'<b>').replace(new RegExp(l(']mce~match!'),'g'),'</b>');}if(f){s.parent().classes.add('menu-has-icons');}if(e.image){g=' style="background-image: url(\''+e.image+'\')"';}if(h){h=k(h);}f=p+'ico '+p+'i-'+(s.settings.icon||'none');j=(t!=='-'?'<i class="'+f+'"'+g+'></i>\u00a0':'');t=n(s.encode(m(t)));u=n(s.encode(m(u)));return('<div id="'+d+'" class="'+s.classes+'" tabindex="-1">'+j+(t!=='-'?'<span id="'+d+'-text" class="'+p+'text">'+t+'</span>':'')+(h?'<div id="'+d+'-shortcut" class="'+p+'menu-shortcut">'+h+'</div>':'')+(e.menu?'<div class="'+p+'caret"></div>':'')+(u?'<div class="'+p+'menu-item-link">'+u+'</div>':'')+'</div>');},postRender:function(){var s=this,d=s.settings;var t=d.textStyle;if(typeof t=="function"){t=t.call(this);}if(t){var f=s.getEl('text');if(f){f.setAttribute('style',t);}}s.on('mouseenter click',function(e){if(e.control===s){if(!d.menu&&e.type==='click'){s.fire('select');c.requestAnimationFrame(function(){s.parent().hideAll();});}else{s.showMenu();if(e.aria){s.menu.focus(true);}}}});s._super();return s;},hover:function(){var s=this;s.parent().items().each(function(d){d.classes.remove('selected');});s.classes.toggle('selected',true);return s;},active:function(s){if(typeof s!="undefined"){this.aria('checked',s);}return this._super(s);},remove:function(){this._super();if(this.menu){this.menu.remove();}}});});C("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function($,a,b){"use strict";return function(e,i){var s=this,c,d=a.classPrefix,t;s.show=function(f,g){function r(){if(c){$(e).append('<div class="'+d+'throbber'+(i?' '+d+'throbber-inline':'')+'"></div>');if(g){g();}}}s.hide();c=true;if(f){t=b.setTimeout(r,f);}else{r();}return s;};s.hide=function(){var f=e.lastChild;b.clearTimeout(t);if(f&&f.className.indexOf('throbber')!=-1){f.parentNode.removeChild(f);}c=false;return s;};};});C("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(a,M,T,b){"use strict";return a.extend({Defaults:{defaultType:'menuitem',border:1,layout:'stack',role:'application',bodyRole:'menu',ariaRoot:true},init:function(s){var c=this;s.autohide=true;s.constrainToViewport=true;if(typeof s.items==='function'){s.itemsFactory=s.items;s.items=[];}if(s.itemDefaults){var d=s.items,i=d.length;while(i--){d[i]=b.extend({},s.itemDefaults,d[i]);}}c._super(s);c.classes.add('menu');},repaint:function(){this.classes.toggle('menu-align',true);this._super();this.getEl().style.height='';this.getEl('body').style.height='';return this;},cancel:function(){var s=this;s.hideAll();s.fire('select');},load:function(){var s=this,t,f;function h(){if(s.throbber){s.throbber.hide();s.throbber=null;}}f=s.settings.itemsFactory;if(!f){return;}if(!s.throbber){s.throbber=new T(s.getEl('body'),true);if(s.items().length===0){s.throbber.show();s.fire('loading');}else{s.throbber.show(100,function(){s.items().remove();s.fire('loading');});}s.on('hide close',h);}s.requestTime=t=new Date().getTime();s.settings.itemsFactory(function(i){if(i.length===0){s.hide();return;}if(s.requestTime!==t){return;}s.getEl().style.width='';s.getEl('body').style.width='';h();s.items().remove();s.getEl('body').innerHTML='';s.add(i);s.renderNew();s.fire('loaded');});},hideAll:function(){var s=this;this.find('menuitem').exec('hideMenu');return s._super();},preRender:function(){var s=this;s.items().each(function(c){var d=c.settings;if(d.icon||d.image||d.selectable){s._hasIcons=true;return false;}});if(s.settings.itemsFactory){s.on('postrender',function(){if(s.settings.itemsFactory){s.load();}});}return s._super();}});});C("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(M,a){"use strict";return M.extend({init:function(s){var b=this,v,c,d,l;function f(m){for(var i=0;i<m.length;i++){c=m[i].selected||s.value===m[i].value;if(c){d=d||m[i].text;b.state.set('value',m[i].value);return true;}if(m[i].menu){if(f(m[i].menu)){return true;}}}}b._super(s);s=b.settings;b._values=v=s.values;if(v){if(typeof s.value!="undefined"){f(v);}if(!c&&v.length>0){d=v[0].text;b.state.set('value',v[0].value);}b.state.set('menu',v);}b.state.set('text',s.text||d);b.classes.add('listbox');b.on('select',function(e){var g=e.control;if(l){e.lastControl=l;}if(s.multiple){g.active(!g.active());}else{b.value(e.control.value());}l=g;});},bindStates:function(){var s=this;function b(m,v){if(m instanceof a){m.items().each(function(c){if(!c.hasMenus()){c.active(c.value()===v);}});}}function g(m,v){var c;if(!m){return;}for(var i=0;i<m.length;i++){if(m[i].value===v){return m[i];}if(m[i].menu){c=g(m[i].menu,v);if(c){return c;}}}}s.on('show',function(e){b(e.control,s.value());});s.state.on('change:value',function(e){var c=g(s.state.get('menu'),e.value);if(c){s.text(c.text);}else{s.text(s.settings.text);}});return s._super();}});});C("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(a){"use strict";return a.extend({Defaults:{classes:"radio",role:"radio"}});});C("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(W,a){"use strict";return W.extend({renderHtml:function(){var s=this,p=s.classPrefix;s.classes.add('resizehandle');if(s.settings.direction=="both"){s.classes.add('resizehandle-both');}s.canFocus=false;return('<div id="'+s._id+'" class="'+s.classes+'">'+'<i class="'+p+'ico '+p+'i-resize"></i>'+'</div>');},postRender:function(){var s=this;s._super();s.resizeDragHelper=new a(this._id,{start:function(){s.fire('ResizeStart');},drag:function(e){if(s.settings.direction!="both"){e.deltaX=0;}s.fire('Resize',e);},stop:function(){s.fire('ResizeEnd');}});},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy();}return this._super();}});});C("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(W){"use strict";function c(o){var s='';if(o){for(var i=0;i<o.length;i++){s+='<option value="'+o[i]+'">'+o[i]+'</option>';}}return s;}return W.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(s){var a=this;a._super(s);if(a.settings.size){a.size=a.settings.size;}if(a.settings.options){a._options=a.settings.options;}a.on('keydown',function(e){var r;if(e.keyCode==13){e.preventDefault();a.parents().reverse().each(function(b){if(b.toJSON){r=b;return false;}});a.fire('submit',{data:r.toJSON()});}});},options:function(s){if(!arguments.length){return this.state.get('options');}this.state.set('options',s);return this;},renderHtml:function(){var s=this,o,a='';o=c(s._options);if(s.size){a=' size = "'+s.size+'"';}return('<select id="'+s._id+'" class="'+s.classes+'"'+a+'>'+o+'</select>');},bindStates:function(){var s=this;s.state.on('change:options',function(e){s.getEl().innerHTML=c(e.value);});return s._super();}});});C("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(W,a,b){"use strict";function c(v,m,d){if(v<m){v=m;}if(v>d){v=d;}return v;}function s(e,n,v){e.setAttribute('aria-'+n,v);}function u(d,v){var m,e,f,g,h,i;if(d.settings.orientation=="v"){g="top";f="height";e="h";}else{g="left";f="width";e="w";}i=d.getEl('handle');m=(d.layoutRect()[e]||100)-b.getSize(i)[f];h=(m*((v-d._minValue)/(d._maxValue-d._minValue)))+'px';i.style[g]=h;i.style.height=d.layoutRect().h+'px';s(i,'valuenow',v);s(i,'valuetext',''+d.settings.previewFilter(v));s(i,'valuemin',d._minValue);s(i,'valuemax',d._maxValue);}return W.extend({init:function(d){var e=this;if(!d.previewFilter){d.previewFilter=function(v){return Math.round(v*100)/100.0;};}e._super(d);e.classes.add('slider');if(d.orientation=="v"){e.classes.add('vertical');}e._minValue=d.minValue||0;e._maxValue=d.maxValue||100;e._initValue=e.state.get('value');},renderHtml:function(){var d=this,i=d._id,p=d.classPrefix;return('<div id="'+i+'" class="'+d.classes+'">'+'<div id="'+i+'-handle" class="'+p+'slider-handle" role="slider" tabindex="-1"></div>'+'</div>');},reset:function(){this.value(this._initValue).repaint();},postRender:function(){var d=this,m,f,g,h,i,j;function t(e,o,v){return(v+e)/(o-e);}function k(e,o,v){return(v*(o-e))-e;}function l(m,f){function o(e){var v;v=d.value();v=k(m,f,t(m,f,v)+(e*0.05));v=c(v,m,f);d.value(v);d.fire('dragstart',{value:v});d.fire('drag',{value:v});d.fire('dragend',{value:v});}d.on('keydown',function(e){switch(e.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1);break;}});}function n(m,f,o){var p,r,v,w,x;d._dragHelper=new a(d._id,{handle:d._id+"-handle",start:function(e){p=e[g];r=parseInt(d.getEl('handle').style[h],10);v=(d.layoutRect()[j]||100)-b.getSize(o)[i];d.fire('dragstart',{value:x});},drag:function(e){var y=e[g]-p;w=c(r+y,0,v);o.style[h]=w+'px';x=m+(w/v)*(f-m);d.value(x);d.tooltip().text(''+d.settings.previewFilter(x)).show().moveRel(o,'bc tc');d.fire('drag',{value:x});},stop:function(){d.tooltip().hide();d.fire('dragend',{value:x});}});}m=d._minValue;f=d._maxValue;if(d.settings.orientation=="v"){g="screenY";h="top";i="height";j="h";}else{g="screenX";h="left";i="width";j="w";}d._super();l(m,f,d.getEl('handle'));n(m,f,d.getEl('handle'));},repaint:function(){this._super();u(this,this.value());},bindStates:function(){var d=this;d.state.on('change:value',function(e){u(d,e.value);});return d._super();}});});C("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(W){"use strict";return W.extend({renderHtml:function(){var s=this;s.classes.add('spacer');s.canFocus=false;return'<div id="'+s._id+'" class="'+s.classes+'"></div>';}});});C("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(M,a,$){return M.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var s=this,e=s.getEl(),r=s.layoutRect(),m,b;s._super();m=e.firstChild;b=e.lastChild;$(m).css({width:r.w-a.getSize(b).width,height:r.h-2});$(b).css({height:r.h-2});return s;},activeMenu:function(s){var b=this;$(b.getEl().lastChild).toggleClass(b.classPrefix+'active',s);},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix,b;var c=s.state.get('icon'),t=s.state.get('text'),d='';b=s.settings.image;if(b){c='none';if(typeof b!="string"){b=window.getSelection?b[0]:b[1];}b=' style="background-image: url(\''+b+'\')"';}else{b='';}c=s.settings.icon?p+'ico '+p+'i-'+c:'';if(t){s.classes.add('btn-has-text');d='<span class="'+p+'txt">'+s.encode(t)+'</span>';}return('<div id="'+i+'" class="'+s.classes+'" role="button" tabindex="-1">'+'<button type="button" hidefocus="1" tabindex="-1">'+(c?'<i class="'+c+'"'+b+'></i>':'')+d+'</button>'+'<button type="button" class="'+p+'open" hidefocus="1" tabindex="-1">'+(s._menuBtnText?(c?'\u00a0':'')+s._menuBtnText:'')+' <i class="'+p+'caret"></i>'+'</button>'+'</div>');},postRender:function(){var s=this,o=s.settings.onclick;s.on('click',function(e){var n=e.target;if(e.control==this){while(n){if((e.aria&&e.aria.key!='down')||(n.nodeName=='BUTTON'&&n.className.indexOf('open')==-1)){e.stopImmediatePropagation();if(o){o.call(this,e);}return;}n=n.parentNode;}}});delete s.settings.onclick;return s._super();}});});C("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(a){"use strict";return a.extend({Defaults:{containerClass:'stack-layout',controlClass:'stack-layout-item',endClass:'break'},isNative:function(){return true;}});});C("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(P,$,a){"use strict";return P.extend({Defaults:{layout:'absolute',defaults:{type:'panel'}},activateTab:function(b){var c;if(this.activeTabId){c=this.getEl(this.activeTabId);$(c).removeClass(this.classPrefix+'active');c.setAttribute('aria-selected',"false");}this.activeTabId='t'+b;c=this.getEl('t'+b);c.setAttribute('aria-selected',"true");$(c).addClass(this.classPrefix+'active');this.items()[b].show().fire('showtab');this.reflow();this.items().each(function(d,i){if(b!=i){d.hide();}});},renderHtml:function(){var s=this,l=s._layout,t='',p=s.classPrefix;s.preRender();l.preRender(s);s.items().each(function(c,i){var b=s._id+'-t'+i;c.aria('role','tabpanel');c.aria('labelledby',b);t+=('<div id="'+b+'" class="'+p+'tab" '+'unselectable="on" role="tab" aria-controls="'+c._id+'" aria-selected="false" tabIndex="-1">'+s.encode(c.settings.title)+'</div>');});return('<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1">'+'<div id="'+s._id+'-head" class="'+p+'tabs" role="tablist">'+t+'</div>'+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+l.renderHtml(s)+'</div>'+'</div>');},postRender:function(){var s=this;s._super();s.settings.activeTab=s.settings.activeTab||0;s.activateTab(s.settings.activeTab);this.on('click',function(e){var t=e.target.parentNode;if(t&&t.id==s._id+'-head'){var i=t.childNodes.length;while(i--){if(t.childNodes[i]==e.target){s.activateTab(i);}}}});},initLayoutRect:function(){var s=this,r,m,b;m=a.getSize(s.getEl('head')).width;m=m<0?0:m;b=0;s.items().each(function(i){m=Math.max(m,i.layoutRect().minW);b=Math.max(b,i.layoutRect().minH);});s.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=m;c.settings.h=b;c.layoutRect({x:0,y:0,w:m,h:b});});var h=a.getSize(s.getEl('head')).height;s.settings.minWidth=m;s.settings.minHeight=b+h;r=s._super();r.deltaH+=h;r.innerH=r.h-r.deltaH;return r;}});});C("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(W,T,a){return W.extend({init:function(s){var b=this;b._super(s);b.classes.add('textbox');if(s.multiline){b.classes.add('multiline');}else{b.on('keydown',function(e){var r;if(e.keyCode==13){e.preventDefault();b.parents().reverse().each(function(c){if(c.toJSON){r=c;return false;}});b.fire('submit',{data:r.toJSON()});}});b.on('keyup',function(e){b.state.set('value',e.target.value);});}},repaint:function(){var s=this,b,r,c,d,e=0,l;b=s.getEl().style;r=s._layoutRect;l=s._lastRepaintRect||{};var f=document;if(!s.settings.multiline&&f.all&&(!f.documentMode||f.documentMode<=8)){b.lineHeight=(r.h-e)+'px';}c=s.borderBox;d=c.left+c.right+8;e=c.top+c.bottom+(s.settings.multiline?8:0);if(r.x!==l.x){b.left=r.x+'px';l.x=r.x;}if(r.y!==l.y){b.top=r.y+'px';l.y=r.y;}if(r.w!==l.w){b.width=(r.w-d)+'px';l.w=r.w;}if(r.h!==l.h){b.height=(r.h-e)+'px';l.h=r.h;}s._lastRepaintRect=l;s.fire('repaint',{},false);return s;},renderHtml:function(){var s=this,b=s.settings,c,e;c={id:s._id,hidefocus:'1'};T.each(['rows','spellcheck','maxLength','size','readonly','min','max','step','list','pattern','placeholder','required','multiple'],function(n){c[n]=b[n];});if(s.disabled()){c.disabled='disabled';}if(b.subtype){c.type=b.subtype;}e=a.create(b.multiline?'textarea':'input',c);e.value=s.state.get('value');e.className=s.classes;return e.outerHTML;},value:function(v){if(arguments.length){this.state.set('value',v);return this;}if(this.state.get('rendered')){this.state.set('value',this.getEl().value);}return this.state.get('value');},postRender:function(){var s=this;s.getEl().value=s.state.get('value');s._super();s.$el.on('change',function(e){s.state.set('value',e.target.value);s.fire('change',e);});},bindStates:function(){var s=this;s.state.on('change:value',function(e){if(s.getEl().value!=e.value){s.getEl().value=e.value;}});s.state.on('change:disabled',function(e){s.getEl().disabled=e.value;});return s._super();},remove:function(){this.$el.off();this._super();}});});C("tinymce/Register",[],function(){var c=this||window;var t=function(){return c.tinymce;};if(typeof c.define==="function"){if(!c.define.amd){c.define("ephox/tinymce",[],t);}}if(typeof module==='object'){module.exports=window.tinymce;}return{};});F(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"]);})(window);
