tinymce.PluginManager.add('fullscreen',function(a){var f=false,D=tinymce.DOM,i,b,r;var c,d,s;if(a.settings.inline){return;}function g(){var w,h,e=window,l=document;var m=l.body;if(m.offsetWidth){w=m.offsetWidth;h=m.offsetHeight;}if(e.innerWidth&&e.innerHeight){w=e.innerWidth;h=e.innerHeight;}return{w:w,h:h};}function j(){var v=tinymce.DOM.getViewPort();return{x:v.x,y:v.y};}function k(p){scrollTo(p.x,p.y);}function t(){var e=document.body,h=document.documentElement,l;var m,n,o;function p(){D.setStyle(n,'height',g().h-(m.clientHeight-n.clientHeight));}f=!f;m=a.getContainer();l=m.style;n=a.getContentAreaContainer().firstChild;o=n.style;if(f){s=j();i=o.width;b=o.height;o.width=o.height='100%';c=l.width;d=l.height;l.width=l.height='';D.addClass(e,'mce-fullscreen');D.addClass(h,'mce-fullscreen');D.addClass(m,'mce-fullscreen');D.bind(window,'resize',p);p();r=p;}else{o.width=i;o.height=b;if(c){l.width=c;}if(d){l.height=d;}D.removeClass(e,'mce-fullscreen');D.removeClass(h,'mce-fullscreen');D.removeClass(m,'mce-fullscreen');D.unbind(window,'resize',r);k(s);}a.fire('FullscreenStateChanged',{state:f});}a.on('init',function(){a.addShortcut('Ctrl+Shift+F','',t);});a.on('remove',function(){if(r){D.unbind(window,'resize',r);}});a.addCommand('mceFullScreen',t);a.addMenuItem('fullscreen',{text:'Fullscreen',shortcut:'Ctrl+Shift+F',selectable:true,onClick:function(){t();a.focus();},onPostRender:function(){var h=this;a.on('FullscreenStateChanged',function(e){h.active(e.state);});},context:'view'});a.addButton('fullscreen',{tooltip:'Fullscreen',shortcut:'Ctrl+Shift+F',onClick:t,onPostRender:function(){var h=this;a.on('FullscreenStateChanged',function(e){h.active(e.state);});}});return{isFullscreen:function(){return f;}};});
