define('tinymce/inlite/ui/Forms',['global!tinymce.util.Tools','global!tinymce.ui.Factory','global!tinymce.util.Promise','tinymce/inlite/core/Actions','tinymce/inlite/core/UrlType'],function(T,F,P,A,U){var f=function(e){e.find('textbox').eq(0).each(function(g){g.focus();});};var c=function(n,s){var e=F.create(T.extend({type:'form',layout:'flex',direction:'row',padding:5,name:n,spacing:3},s));e.on('show',function(){f(e);});return e;};var t=function(e,s){return s?e.show():e.hide();};var a=function(e,h){return new P(function(r){e.windowManager.confirm('The URL you entered seems to be an external link. Do you want to add the required http:// prefix?',function(g){var o=g===true?'http://'+h:h;r(o);});});};var b=function(e,h){return!U.isAbsolute(h)&&U.isDomainLike(h)?a(e,h):P.resolve(h);};var d=function(g,h){var u=function(){g.focus();A.unlink(g);h();};return c('quicklink',{items:[{type:'button',name:'unlink',icon:'unlink',onclick:u,tooltip:'Remove link'},{type:'textbox',name:'linkurl',placeholder:'Paste or type a link'},{type:'button',icon:'checkmark',subtype:'primary',tooltip:'Ok',onclick:'submit'}],onshow:function(){var e,l='';e=g.dom.getParent(g.selection.getStart(),'a[href]');if(e){l=g.dom.getAttrib(e,'href');}this.fromJSON({linkurl:l});t(this.find('#unlink'),e);},onsubmit:function(e){b(g,e.data.linkurl).then(function(i){A.createLink(g,i);h();});}});};return{createQuickLinkForm:d};});
