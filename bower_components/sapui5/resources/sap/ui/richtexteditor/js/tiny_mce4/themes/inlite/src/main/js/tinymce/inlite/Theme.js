define('tinymce/inlite/Theme',['global!tinymce.ThemeManager','global!tinymce.util.Delay','tinymce/inlite/ui/Panel','tinymce/inlite/ui/Buttons','tinymce/inlite/core/SkinLoader','tinymce/inlite/core/SelectionMatcher','tinymce/inlite/core/ElementMatcher','tinymce/inlite/core/Matcher','tinymce/inlite/alien/Arr','tinymce/inlite/alien/EditorSettings','tinymce/inlite/core/PredicateId'],function(T,D,P,B,S,a,E,M,A,b,c){var g=function(f){var n=f.selection.getNode();var l=f.dom.getParents(n);return l;};var d=function(f,s,l,m){var n=function(p){return f.dom.is(p,s);};return{predicate:n,id:l,items:m};};var e=function(f){var l=f.contextToolbars;return A.flatten([l?l:[],d(f,'img','image','alignleft aligncenter alignright')]);};var h=function(f,l){var m,n,p;n=g(f);p=c.fromContextToolbars(l);m=M.match(f,[E.element(n[0],p),a.textSelection('text'),a.emptyTextBlock(n,'insert'),E.parent(n,p)]);return m&&m.rect?m:null;};var t=function(f,p){var l=function(){var m=e(f);var n=h(f,m);if(n){p.show(f,n.id,n.rect,m);}else{p.hide();}};return function(){if(!f.removed){l();}};};var i=function(p,f){return function(){if(!p.inForm()){f();}};};var j=function(f,p){var l=D.throttle(t(f,p),0);var m=D.throttle(i(p,t(f,p)),0);f.on('blur hide ObjectResizeStart',p.hide);f.on('click',l);f.on('nodeChange mouseup',m);f.on('ResizeEditor ResizeWindow keyup',l);f.on('remove',p.remove);f.shortcuts.add('Alt+F10','',p.focus);};var o=function(f,p){f.shortcuts.remove('meta+k');f.shortcuts.add('meta+k','',function(){var l=e(f);var m=m=M.match(f,[a.textSelection('quicklink')]);if(m){p.show(f,m.id,m.rect,l);}});};var r=function(f,p){S.load(f,function(){j(f,p);o(f,p);});return{};};var k=function(m){throw new Error(m);};T.add('inlite',function(f){var p=new P();B.addToEditor(f,p);var l=function(){return f.inline?r(f,p):k('inlite theme only supports inline mode.');};return{renderUI:l};});return function(){};});
