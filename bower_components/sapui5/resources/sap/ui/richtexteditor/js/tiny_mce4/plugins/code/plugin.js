tinymce.PluginManager.add('code',function(a){function s(){var w=a.windowManager.open({title:"Source code",body:{type:'textbox',name:'code',multiline:true,minWidth:a.getParam("code_dialog_width",600),minHeight:a.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:false,style:'direction: ltr; text-align: left'},onSubmit:function(e){a.focus();a.undoManager.transact(function(){a.setContent(e.data.code);});a.selection.setCursorLocation();a.nodeChanged();}});w.find('#code').value(a.getContent({source_view:true}));}a.addCommand("mceCodeEditor",s);a.addButton('code',{icon:'code',tooltip:'Source code',onclick:s});a.addMenuItem('code',{icon:'code',text:'Source code',context:'tools',onclick:s});});
