(function(){var d={};var r=function(e){var l=c(e);var n=e.split('.');var t=Function('return this;')();for(var i=0;i<n.length-1;++i){if(t[n[i]]===undefined)t[n[i]]={};t=t[n[i]];}t[n[n.length-1]]=l;};var a=function(e){var l=d[e];var n=l.deps;var o=l.defn;var p=n.length;var q=new Array(p);for(var i=0;i<p;++i)q[i]=c(n[i]);var s=o.apply(null,q);if(s===undefined)throw'module ['+e+'] returned undefined';l.instance=s;};var b=function(i,e,l){if(typeof i!=='string')throw'module id must be a string';else if(e===undefined)throw'no dependencies for '+i;else if(l===undefined)throw'no definition function for '+i;d[i]={deps:e,defn:l,instance:undefined};};var c=function(i){var e=d[i];if(e===undefined)throw'module ['+i+'] was undefined';else if(e.instance===undefined)a(i);return e.instance;};var f=function(e,l){var n=e.length;var o=new Array(n);for(var i=0;i<n;++i)o.push(c(e[i]));l.apply(null,l);};var g={};g.bolt={module:{api:{define:b,require:f,demand:c}}};var h=b;var j=f;var k=c;var m=function(i,e){h(i,[],function(){return e;});};m("global!tinymce.PluginManager",tinymce.PluginManager);m("global!tinymce.util.Tools",tinymce.util.Tools);m("global!tinymce.util.VK",tinymce.util.VK);h("tinymce.lists.core.NodeType",[],function(){var i=function(v){return v&&v.nodeType===3;};var e=function(v){return v&&(/^(OL|UL|DL)$/).test(v.nodeName);};var l=function(v){return v&&/^(LI|DT|DD)$/.test(v.nodeName);};var n=function(v){return v&&v.nodeName==='BR';};var o=function(v){return v.parentNode.firstChild===v;};var p=function(v){return v.parentNode.lastChild===v;};var q=function(v,w){return w&&!!v.schema.getTextBlockElements()[w.nodeName];};var s=function(v,w){if(!n(w)){return false;}if(v.isBlock(w.nextSibling)&&!n(w.previousSibling)){return true;}return false;};var t=function(v,w,x){var y=v.isEmpty(w);if(x&&v.select('span[data-mce-type=bookmark]',w).length>0){return false;}return y;};var u=function(v,w){return v.isChildOf(w,v.getRoot());};return{isTextNode:i,isListNode:e,isListItemNode:l,isBr:n,isFirstChild:o,isLastChild:p,isTextBlock:q,isBogusBr:s,isEmpty:t,isChildOfBody:u};});m("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);m("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);h("tinymce.lists.core.Selection",["global!tinymce.util.Tools","tinymce.lists.core.NodeType"],function(T,N){var e=function(i){return T.grep(i.selection.getSelectedBlocks(),function(l){return N.isListItemNode(l);});};return{getSelectedListItems:e};});m("global!tinymce.dom.DOMUtils.DOM",tinymce.dom.DOMUtils.DOM);h("tinymce.lists.core.Range",["global!tinymce.dom.RangeUtils","tinymce.lists.core.NodeType"],function(R,N){var e=function(i,o){var l=R.getNode(i,o);if(N.isListItemNode(i)&&N.isTextNode(l)){var t=o>=i.childNodes.length?l.data.length:0;return{container:l,offset:t};}return{container:i,offset:o};};var n=function(i){var o=i.cloneRange();var l=e(i.startContainer,i.startOffset);o.setStart(l.container,l.offset);var p=e(i.endContainer,i.endOffset);o.setEnd(p.container,p.offset);return o;};return{getNormalizedEndPoint:e,normalizeRange:n};});h("tinymce.lists.core.Bookmark",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Range"],function(D,N,R){var e=function(l){var n={};var s=function(o){var p,q,t;q=l[o?'startContainer':'endContainer'];t=l[o?'startOffset':'endOffset'];if(q.nodeType===1){p=D.create('span',{'data-mce-type':'bookmark'});if(q.hasChildNodes()){t=Math.min(t,q.childNodes.length-1);if(o){q.insertBefore(p,q.childNodes[t]);}else{D.insertAfter(p,q.childNodes[t]);}}else{q.appendChild(p);}q=p;t=0;}n[o?'startContainer':'endContainer']=q;n[o?'startOffset':'endOffset']=t;};s(true);if(!l.collapsed){s();}return n;};var i=function(l){function n(s){var p,q,t;var u=function(p){var t=p.parentNode.firstChild,v=0;while(t){if(t===p){return v;}if(t.nodeType!==1||t.getAttribute('data-mce-type')!=='bookmark'){v++;}t=t.nextSibling;}return-1;};p=t=l[s?'startContainer':'endContainer'];q=l[s?'startOffset':'endOffset'];if(!p){return;}if(p.nodeType===1){q=u(p);p=p.parentNode;D.remove(t);}l[s?'startContainer':'endContainer']=p;l[s?'startOffset':'endOffset']=q;}n(true);n();var o=D.createRng();o.setStart(l.startContainer,l.startOffset);if(l.endContainer){o.setEnd(l.endContainer,l.endOffset);}return R.normalizeRange(o);};return{createBookmark:e,resolveBookmark:i};});h("tinymce.lists.core.NormalizeLists",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.util.Tools","tinymce.lists.core.NodeType"],function(D,T,N){var n=function(i,u){var s,p=u.parentNode;if(p.nodeName==='LI'&&p.firstChild===u){s=p.previousSibling;if(s&&s.nodeName==='LI'){s.appendChild(u);if(N.isEmpty(i,p)){D.remove(p);}}else{D.setStyle(p,'listStyleType','none');}}if(N.isListNode(p)){s=p.previousSibling;if(s&&s.nodeName==='LI'){s.appendChild(u);}}};var e=function(i,l){T.each(T.grep(i.select('ol,ul',l)),function(u){n(i,u);});};return{normalizeList:n,normalizeLists:e};});m("global!tinymce.dom.BookmarkManager",tinymce.dom.BookmarkManager);m("global!tinymce.Env",tinymce.Env);h("tinymce.lists.core.TextBlock",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.Env"],function(D,E){var e=function(i,l,n){var o,t,p=D.createFragment(),q;var s=i.schema.getBlockElements();if(i.settings.forced_root_block){n=n||i.settings.forced_root_block;}if(n){t=D.create(n);if(t.tagName===i.settings.forced_root_block){D.setAttribs(t,i.settings.forced_root_block_attrs);}p.appendChild(t);}if(l){while((o=l.firstChild)){var u=o.nodeName;if(!q&&(u!=='SPAN'||o.getAttribute('data-mce-type')!=='bookmark')){q=true;}if(s[u]){p.appendChild(o);t=null;}else{if(n){if(!t){t=D.create(n);p.appendChild(t);}t.appendChild(o);}else{p.appendChild(o);}}}}if(!i.settings.forced_root_block){p.appendChild(D.create('br'));}else{if(!q&&(!E.ie||E.ie>10)){t.appendChild(D.create('br',{'data-mce-bogus':'1'}));}}return p;};return{createNewTextBlock:e};});h("tinymce.lists.core.SplitList",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.util.Tools","tinymce.lists.core.TextBlock","tinymce.lists.core.NodeType"],function(D,T,e,N){var s=function(i,u,l,n){var t,o,p,q;var v=function(w){T.each(p,function(q){w.parentNode.insertBefore(q,l.parentNode);});D.remove(w);};p=D.select('span[data-mce-type="bookmark"]',u);n=n||e.createNewTextBlock(i,l);t=D.createRng();t.setStartAfter(l);t.setEndAfter(u);o=t.extractContents();for(q=o.firstChild;q;q=q.firstChild){if(q.nodeName==='LI'&&i.dom.isEmpty(q)){D.remove(q);break;}}if(!i.dom.isEmpty(o)){D.insertAfter(o,u);}D.insertAfter(n,u);if(N.isEmpty(i.dom,l.parentNode)){v(l.parentNode);}D.remove(l);if(N.isEmpty(i.dom,u)){D.remove(u);}};return{splitList:s};});h("tinymce.lists.actions.Outdent",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Selection","tinymce.lists.core.SplitList","tinymce.lists.core.NormalizeLists","tinymce.lists.core.TextBlock"],function(D,N,B,S,e,l,T){var n=function(i,q){if(N.isEmpty(i,q)){D.remove(q);}};var o=function(i,q){var u=q.parentNode,s=u.parentNode,t;if(u===i.getBody()){return true;}if(q.nodeName==='DD'){D.rename(q,'DT');return true;}if(N.isFirstChild(q)&&N.isLastChild(q)){if(s.nodeName==="LI"){D.insertAfter(q,s);n(i.dom,s);D.remove(u);}else if(N.isListNode(s)){D.remove(u,true);}else{s.insertBefore(T.createNewTextBlock(i,q),u);D.remove(u);}return true;}else if(N.isFirstChild(q)){if(s.nodeName==="LI"){D.insertAfter(q,s);q.appendChild(u);n(i.dom,s);}else if(N.isListNode(s)){s.insertBefore(q,u);}else{s.insertBefore(T.createNewTextBlock(i,q),u);D.remove(q);}return true;}else if(N.isLastChild(q)){if(s.nodeName==="LI"){D.insertAfter(q,s);}else if(N.isListNode(s)){D.insertAfter(q,u);}else{D.insertAfter(T.createNewTextBlock(i,q),u);D.remove(q);}return true;}if(s.nodeName==='LI'){u=s;t=T.createNewTextBlock(i,q,'LI');}else if(N.isListNode(s)){t=T.createNewTextBlock(i,q,'LI');}else{t=T.createNewTextBlock(i,q);}e.splitList(i,u,q,t);l.normalizeLists(i.dom,u.parentNode);return true;};var p=function(q){var s=S.getSelectedListItems(q);if(s.length){var t=B.createBookmark(q.selection.getRng(true));var i,y,u=q.getBody();i=s.length;while(i--){var v=s[i].parentNode;while(v&&v!==u){y=s.length;while(y--){if(s[y]===v){s.splice(i,1);break;}}v=v.parentNode;}}for(i=0;i<s.length;i++){if(!o(q,s[i])&&i===0){break;}}q.selection.setRng(B.resolveBookmark(t));q.nodeChanged();return true;}};return{outdent:o,outdentSelection:p};});h("tinymce.lists.actions.ToggleList",["global!tinymce.util.Tools","global!tinymce.dom.BookmarkManager","tinymce.lists.core.Selection","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.SplitList","tinymce.lists.core.NormalizeLists","tinymce.lists.actions.Outdent"],function(T,B,S,N,e,i,l,O){var u=function(D,E,F){var G=F['list-style-type']?F['list-style-type']:null;D.setStyle(E,'list-style-type',G);};var s=function(D,E){T.each(E,function(F,G){D.setAttribute(G,F);});};var n=function(D,E,F){s(E,F['list-attributes']);T.each(D.select('li',E),function(G){s(G,F['list-item-attributes']);});};var o=function(D,E,F){u(D,E,F);n(D,E,F);};var p=function(D,E,F){var G,H,I=D.getBody();G=E[F?'startContainer':'endContainer'];H=E[F?'startOffset':'endOffset'];if(G.nodeType===1){G=G.childNodes[Math.min(H,G.childNodes.length-1)]||G;}while(G.parentNode!==I){if(N.isTextBlock(D,G)){return G;}if(/^(TD|TH)$/.test(G.parentNode.nodeName)){return G;}G=G.parentNode;}return G;};var q=function(D,E){var F=[],G=D.getBody(),H=D.dom;var I=p(D,E,true);var J=p(D,E,false);var K,L=[];for(var M=I;M;M=M.nextSibling){L.push(M);if(M===J){break;}}T.each(L,function(M){if(N.isTextBlock(D,M)){F.push(M);K=null;return;}if(H.isBlock(M)||N.isBr(M)){if(N.isBr(M)){H.remove(M);}K=null;return;}var P=M.nextSibling;if(B.isBookmarkNode(M)){if(N.isTextBlock(D,P)||(!P&&M.parentNode===G)){K=null;return;}}if(!K){K=H.create('p');M.parentNode.insertBefore(K,M);F.push(K);}K.appendChild(M);});return F;};var t=function(D,E,F){var G=D.selection.getRng(true),H,I='LI';var J=D.dom;F=F?F:{};if(J.getContentEditable(D.selection.getNode())==="false"){return;}E=E.toUpperCase();if(E==='DL'){I='DT';}H=e.createBookmark(G);T.each(q(D,G),function(K){var L,M;var P=function(Q){var R=J.getStyle(Q,'list-style-type');var U=F?F['list-style-type']:'';U=U===null?'':U;return R===U;};M=K.previousSibling;if(M&&N.isListNode(M)&&M.nodeName===E&&P(M)){L=M;K=J.rename(K,I);M.appendChild(K);}else{L=J.create(E);K.parentNode.insertBefore(L,K);L.appendChild(K);K=J.rename(K,I);}o(J,L,F);A(D.dom,L);});D.selection.setRng(e.resolveBookmark(H));};var v=function(D){var E=e.createBookmark(D.selection.getRng(true)),F=D.getBody();var G=S.getSelectedListItems(D);var H=T.grep(G,function(I){return D.dom.isEmpty(I);});G=T.grep(G,function(I){return!D.dom.isEmpty(I);});T.each(H,function(I){if(N.isEmpty(D.dom,I)){O.outdent(D,I);return;}});T.each(G,function(I){var J,K;if(I.parentNode===D.getBody()){return;}for(J=I;J&&J!==F;J=J.parentNode){if(N.isListNode(J)){K=J;}}i.splitList(D,K,I);l.normalizeLists(D.dom,K.parentNode);});D.selection.setRng(e.resolveBookmark(E));};var w=function(D,E){return D&&E&&N.isListNode(D)&&D.nodeName===E.nodeName;};var x=function(D,E,F){var G=D.getStyle(E,'list-style-type',true);var H=D.getStyle(F,'list-style-type',true);return G===H;};var y=function(D,E){return D.className===E.className;};var z=function(D,E,F){return w(E,F)&&x(D,E,F)&&y(E,F);};var A=function(D,E){var F,G;F=E.nextSibling;if(z(D,E,F)){while((G=F.firstChild)){E.appendChild(G);}D.remove(F);}F=E.previousSibling;if(z(D,E,F)){while((G=F.lastChild)){E.insertBefore(G,E.firstChild);}D.remove(F);}};var C=function(D,E,F){var G=D.dom.getParent(D.selection.getStart(),'OL,UL,DL');F=F?F:{};if(G===D.getBody()){return;}if(G){if(G.nodeName===E){v(D,E);}else{var H=e.createBookmark(D.selection.getRng(true));o(D.dom,G,F);A(D.dom,D.dom.rename(G,E));D.selection.setRng(e.resolveBookmark(H));}}else{t(D,E,F);}};return{toggleList:C,removeList:v,mergeWithAdjacentLists:A};});h("tinymce.lists.core.Delete",["global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils","global!tinymce.util.VK","tinymce.lists.core.Selection","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Range","tinymce.lists.core.NormalizeLists","tinymce.lists.actions.ToggleList"],function(T,R,V,S,N,B,i,l,n){var o=function(e,x,y){var z=x.startContainer,A=x.startOffset;var C,D;if(z.nodeType===3&&(y?A<z.data.length:A>0)){return z;}C=e.schema.getNonEmptyElements();if(z.nodeType===1){z=R.getNode(z,A);}D=new T(z,e.getBody());if(y){if(N.isBogusBr(e.dom,z)){D.next();}}while((z=D[y?'next':'prev2']())){if(z.nodeName==='LI'&&!z.hasChildNodes()){return z;}if(C[z.nodeName]){return z;}if(z.nodeType===3&&z.data.length>0){return z;}}};var p=function(e,x,y){var z,A,C=x.parentNode;if(!N.isChildOfBody(e,x)||!N.isChildOfBody(e,y)){return;}if(N.isListNode(y.lastChild)){A=y.lastChild;}if(C===y.lastChild){if(N.isBr(C.previousSibling)){e.remove(C.previousSibling);}}z=y.lastChild;if(z&&N.isBr(z)&&x.hasChildNodes()){e.remove(z);}if(N.isEmpty(e,y,true)){e.$(y).empty();}if(!N.isEmpty(e,x,true)){while((z=x.firstChild)){y.appendChild(z);}}if(A){y.appendChild(A);}e.remove(x);if(N.isEmpty(e,C)&&C!==e.getRoot()){e.remove(C);}};var q=function(e,x){var y=e.dom,z=e.selection;var A=y.getParent(z.getStart(),'LI'),C,D,E;if(A){C=A.parentNode;if(C===e.getBody()&&N.isEmpty(y,C)){return true;}D=i.normalizeRange(z.getRng(true));E=y.getParent(o(e,D,x),'LI');if(E&&E!==A){var F=B.createBookmark(D);if(x){p(y,E,A);}else{p(y,A,E);}e.selection.setRng(B.resolveBookmark(F));return true;}else if(!E){if(!x&&n.removeList(e,C.nodeName)){return true;}}}return false;};var s=function(e,x){var y=e.dom;var z=y.getParent(e.selection.getStart(),y.isBlock);if(z&&y.isEmpty(z)){var A=i.normalizeRange(e.selection.getRng(true));var C=y.getParent(o(e,A,x),'LI');if(C){e.undoManager.transact(function(){y.remove(z);n.mergeWithAdjacentLists(y,C.parentNode);e.selection.select(C,true);e.selection.collapse(x);});return true;}}return false;};var t=function(e,x){return q(e,x)||s(e,x);};var u=function(e){var x=e.dom.getParent(e.selection.getStart(),'LI,DT,DD');if(x||S.getSelectedListItems(e).length>0){e.undoManager.transact(function(){e.execCommand('Delete');l.normalizeLists(e.dom,e.getBody());});return true;}return false;};var v=function(e,x){return e.selection.isCollapsed()?t(e,x):u(e);};var w=function(x){x.on('keydown',function(e){if(e.keyCode===V.BACKSPACE){if(v(x,false)){e.preventDefault();}}else if(e.keyCode===V.DELETE){if(v(x,true)){e.preventDefault();}}});};return{setup:w,backspaceDelete:v};});h("tinymce.lists.actions.Indent",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Selection"],function(D,N,B,S){var e=function(i,t){var o;if(N.isListNode(i)){while((o=i.firstChild)){t.appendChild(o);}D.remove(i);}};var l=function(i){var s,o,p;if(i.nodeName==='DT'){D.rename(i,'DD');return true;}s=i.previousSibling;if(s&&N.isListNode(s)){s.appendChild(i);return true;}if(s&&s.nodeName==='LI'&&N.isListNode(s.lastChild)){s.lastChild.appendChild(i);e(i.lastChild,s.lastChild);return true;}s=i.nextSibling;if(s&&N.isListNode(s)){s.insertBefore(i,s.firstChild);return true;}s=i.previousSibling;if(s&&s.nodeName==='LI'){o=D.create(i.parentNode.nodeName);p=D.getStyle(i.parentNode,'listStyleType');if(p){D.setStyle(o,'listStyleType',p);}s.appendChild(o);o.appendChild(i);e(i.lastChild,o);return true;}return false;};var n=function(o){var p=S.getSelectedListItems(o);if(p.length){var q=B.createBookmark(o.selection.getRng(true));for(var i=0;i<p.length;i++){if(!l(p[i])&&i===0){break;}}o.selection.setRng(B.resolveBookmark(q));o.nodeChanged();return true;}};return{indentSelection:n};});h("tinymce.lists.Plugin",["global!tinymce.PluginManager","global!tinymce.util.Tools","global!tinymce.util.VK","tinymce.lists.core.NodeType","tinymce.lists.core.Delete","tinymce.lists.actions.Indent","tinymce.lists.actions.Outdent","tinymce.lists.actions.ToggleList"],function(P,T,V,N,D,I,O,n){var q=function(e,l){return function(){var i=e.dom.getParent(e.selection.getStart(),'UL,OL,DL');return i&&i.nodeName===l;};};var s=function(i){i.on('BeforeExecCommand',function(e){var l=e.command.toLowerCase(),u;if(l==="indent"){if(I.indentSelection(i)){u=true;}}else if(l==="outdent"){if(O.outdentSelection(i)){u=true;}}if(u){i.fire('ExecCommand',{command:e.command});e.preventDefault();return true;}});i.addCommand('InsertUnorderedList',function(u,e){n.toggleList(i,'UL',e);});i.addCommand('InsertOrderedList',function(u,e){n.toggleList(i,'OL',e);});i.addCommand('InsertDefinitionList',function(u,e){n.toggleList(i,'DL',e);});};var o=function(e){e.addQueryStateHandler('InsertUnorderedList',q(e,'UL'));e.addQueryStateHandler('InsertOrderedList',q(e,'OL'));e.addQueryStateHandler('InsertDefinitionList',q(e,'DL'));};var p=function(i){i.on('keydown',function(e){if(e.keyCode!==9||V.metaKeyPressed(e)){return;}if(i.dom.getParent(i.selection.getStart(),'LI,DT,DD')){e.preventDefault();if(e.shiftKey){O.outdentSelection(i);}else{I.indentSelection(i);}}});};var t=function(u){var v=function(l){return function(){var i=this;u.on('NodeChange',function(e){var x=T.grep(e.parents,N.isListNode);i.active(x.length>0&&x[0].nodeName===l);});};};var w=function(u,e){var i=u.settings.plugins?u.settings.plugins:'';return T.inArray(i.split(/[ ,]/),e)!==-1;};if(!w(u,'advlist')){u.addButton('numlist',{title:'Numbered list',cmd:'InsertOrderedList',onPostRender:v('OL')});u.addButton('bullist',{title:'Bullet list',cmd:'InsertUnorderedList',onPostRender:v('UL')});}u.addButton('indent',{icon:'indent',title:'Increase indent',cmd:'Indent',onPostRender:function(e){var x=e.control;u.on('nodechange',function(){var y=u.selection.getSelectedBlocks();var z=false;for(var i=0,l=y.length;!z&&i<l;i++){var A=y[i].nodeName;z=(A==='LI'&&N.isFirstChild(y[i])||A==='UL'||A==='OL'||A==='DD');}x.disabled(z);});}});};P.add('lists',function(e){t(e);D.setup(e);e.on('init',function(){s(e);o(e);p(e);});return{backspaceDelete:function(i){D.backspaceDelete(e,i);}};});return function(){};});c('tinymce.lists.Plugin')();})();
